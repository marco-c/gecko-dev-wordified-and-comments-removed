package
org
.
mozilla
.
telemetry
.
ping
;
import
org
.
mozilla
.
telemetry
.
config
.
TelemetryConfiguration
;
import
org
.
mozilla
.
telemetry
.
measurement
.
CreatedTimestampMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
DeviceMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
EventsMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
LocaleMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
OperatingSystemMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
OperatingSystemVersionMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
PocketIdMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
ProcessStartTimestampMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
SequenceMeasurement
;
import
org
.
mozilla
.
telemetry
.
measurement
.
TimezoneOffsetMeasurement
;
public
class
TelemetryPocketEventPingBuilder
extends
TelemetryPingBuilder
{
public
static
final
String
TYPE
=
"
fire
-
tv
-
events
"
;
private
static
final
int
VERSION
=
1
;
private
EventsMeasurement
eventsMeasurement
;
public
TelemetryPocketEventPingBuilder
(
TelemetryConfiguration
configuration
)
{
super
(
configuration
TYPE
VERSION
)
;
addMeasurement
(
new
PocketIdMeasurement
(
configuration
)
)
;
addMeasurement
(
new
ProcessStartTimestampMeasurement
(
configuration
)
)
;
addMeasurement
(
new
SequenceMeasurement
(
configuration
this
)
)
;
addMeasurement
(
new
LocaleMeasurement
(
)
)
;
addMeasurement
(
new
DeviceMeasurement
(
)
)
;
addMeasurement
(
new
OperatingSystemMeasurement
(
)
)
;
addMeasurement
(
new
OperatingSystemVersionMeasurement
(
)
)
;
addMeasurement
(
new
CreatedTimestampMeasurement
(
)
)
;
addMeasurement
(
new
TimezoneOffsetMeasurement
(
)
)
;
addMeasurement
(
eventsMeasurement
=
new
EventsMeasurement
(
configuration
"
pocket
-
events
"
)
)
;
}
Override
protected
boolean
shouldIncludeClientId
(
)
{
return
false
;
}
public
EventsMeasurement
getEventsMeasurement
(
)
{
return
eventsMeasurement
;
}
Override
protected
String
getUploadPath
(
final
String
documentId
)
{
return
String
.
format
(
"
/
submit
/
pocket
/
%
s
/
%
s
/
%
s
"
getType
(
)
VERSION
documentId
)
;
}
}

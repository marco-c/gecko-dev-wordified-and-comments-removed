package
org
.
mozilla
.
telemetry
.
measurement
;
import
org
.
json
.
JSONObject
;
import
org
.
junit
.
Test
;
import
org
.
junit
.
runner
.
RunWith
;
import
org
.
robolectric
.
RobolectricTestRunner
;
import
static
org
.
junit
.
Assert
.
assertEquals
;
import
static
org
.
junit
.
Assert
.
assertNotNull
;
import
static
org
.
junit
.
Assert
.
assertTrue
;
RunWith
(
RobolectricTestRunner
.
class
)
public
class
MetricsMeasurementTest
{
Test
public
void
testFlushingEmptyMeasurement
(
)
{
final
MetricsMeasurement
measurement
=
new
MetricsMeasurement
(
new
JSONObject
(
)
)
;
final
Object
value
=
measurement
.
flush
(
)
;
assertNotNull
(
value
)
;
assertTrue
(
value
instanceof
JSONObject
)
;
final
JSONObject
jsonObject
=
(
JSONObject
)
value
;
assertEquals
(
0
jsonObject
.
length
(
)
)
;
}
}

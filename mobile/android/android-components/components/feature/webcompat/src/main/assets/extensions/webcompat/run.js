"
use
strict
"
;
let
injections
shims
uaOverrides
;
try
{
injections
=
new
Injections
(
AVAILABLE_INJECTIONS
CUSTOM_FUNCTIONS
)
;
injections
.
bootup
(
)
;
}
catch
(
e
)
{
console
.
error
(
"
Injections
failed
to
start
"
e
)
;
injections
=
undefined
;
}
try
{
uaOverrides
=
new
UAOverrides
(
AVAILABLE_UA_OVERRIDES
)
;
uaOverrides
.
bootup
(
)
;
}
catch
(
e
)
{
console
.
error
(
"
UA
overrides
failed
to
start
"
e
)
;
uaOverrides
=
undefined
;
}
try
{
shims
=
new
Shims
(
AVAILABLE_SHIMS
)
;
}
catch
(
e
)
{
console
.
error
(
"
Shims
failed
to
start
"
e
)
;
shims
=
undefined
;
}
try
{
const
aboutCompatBroker
=
new
AboutCompatBroker
(
{
injections
shims
uaOverrides
}
)
;
aboutCompatBroker
.
bootup
(
)
;
}
catch
(
e
)
{
console
.
error
(
"
about
:
compat
broker
failed
to
start
"
e
)
;
}

package
org
.
mozilla
.
telemetry
.
measurement
;
import
android
.
os
.
Build
;
import
android
.
support
.
annotation
.
NonNull
;
import
android
.
support
.
annotation
.
VisibleForTesting
;
public
class
DeviceMeasurement
extends
TelemetryMeasurement
{
private
static
final
String
FIELD_NAME
=
"
device
"
;
public
DeviceMeasurement
(
)
{
super
(
FIELD_NAME
)
;
}
Override
public
Object
flush
(
)
{
return
safeSubstring
(
getManufacturer
(
)
0
12
)
+
'
-
'
+
safeSubstring
(
getModel
(
)
0
19
)
;
}
VisibleForTesting
String
getManufacturer
(
)
{
return
Build
.
MANUFACTURER
;
}
VisibleForTesting
String
getModel
(
)
{
return
Build
.
MODEL
;
}
private
static
String
safeSubstring
(
NonNull
final
String
str
final
int
start
final
int
end
)
{
return
str
.
substring
(
Math
.
max
(
0
start
)
Math
.
min
(
end
str
.
length
(
)
)
)
;
}
}

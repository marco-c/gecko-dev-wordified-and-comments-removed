package
org
.
mozilla
.
telemetry
.
serialize
;
import
org
.
json
.
JSONException
;
import
org
.
json
.
JSONObject
;
import
org
.
mozilla
.
telemetry
.
ping
.
TelemetryPing
;
import
java
.
util
.
Map
;
public
class
JSONPingSerializer
implements
TelemetryPingSerializer
{
Override
public
String
serialize
(
TelemetryPing
ping
)
{
try
{
final
JSONObject
object
=
new
JSONObject
(
)
;
for
(
Map
.
Entry
<
String
Object
>
result
:
ping
.
getMeasurementResults
(
)
.
entrySet
(
)
)
{
object
.
put
(
result
.
getKey
(
)
result
.
getValue
(
)
)
;
}
return
object
.
toString
(
)
;
}
catch
(
JSONException
e
)
{
throw
new
AssertionError
(
"
Can
'
t
serialize
ping
"
e
)
;
}
}
}

browser
.
tabs
.
onCreated
.
addListener
(
tab
=
>
{
let
counter
=
0
;
let
intervalId
=
setInterval
(
(
)
=
>
{
var
message
;
if
(
+
+
counter
<
=
3
)
{
message
=
"
"
+
counter
;
}
else
{
message
=
"
Hi
!
"
;
clearInterval
(
intervalId
)
;
}
browser
.
browserAction
.
setBadgeTextColor
(
{
tabId
:
tab
.
id
color
:
"
#
FFFFFF
"
}
)
;
browser
.
browserAction
.
setBadgeText
(
{
tabId
:
tab
.
id
text
:
message
}
)
;
}
1000
)
;
}
)
;
browser
.
browserAction
.
setBadgeBackgroundColor
(
{
color
:
"
#
AAAAAA
"
}
)
;

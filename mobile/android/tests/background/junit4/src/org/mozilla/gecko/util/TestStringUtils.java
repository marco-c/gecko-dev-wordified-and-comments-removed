package
org
.
mozilla
.
gecko
.
util
;
import
org
.
junit
.
Test
;
import
org
.
junit
.
runner
.
RunWith
;
import
org
.
mozilla
.
gecko
.
background
.
testhelpers
.
TestRunner
;
import
static
org
.
junit
.
Assert
.
assertEquals
;
import
static
org
.
junit
.
Assert
.
assertFalse
;
import
static
org
.
junit
.
Assert
.
assertTrue
;
RunWith
(
TestRunner
.
class
)
public
class
TestStringUtils
{
Test
public
void
testIsHttpOrHttps
(
)
{
assertFalse
(
StringUtils
.
isHttpOrHttps
(
null
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
"
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
lksdjflasuf
"
)
)
;
assertTrue
(
StringUtils
.
isHttpOrHttps
(
"
https
:
/
/
www
.
google
.
com
"
)
)
;
assertTrue
(
StringUtils
.
isHttpOrHttps
(
"
http
:
/
/
www
.
facebook
.
com
"
)
)
;
assertTrue
(
StringUtils
.
isHttpOrHttps
(
"
https
:
/
/
mozilla
.
org
/
en
-
US
/
firefox
/
products
/
"
)
)
;
assertTrue
(
StringUtils
.
isHttpOrHttps
(
"
https
:
/
/
192
.
168
.
0
.
1
"
)
)
;
assertTrue
(
StringUtils
.
isHttpOrHttps
(
"
http
:
/
/
63
.
245
.
215
.
20
/
en
-
US
/
firefox
/
products
"
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
ftp
:
/
/
people
.
mozilla
.
org
"
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
javascript
:
window
.
google
.
com
"
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
tel
:
/
/
1234567890
"
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
google
.
com
"
)
)
;
assertFalse
(
StringUtils
.
isHttpOrHttps
(
"
git
github
.
com
:
mozilla
/
gecko
-
dev
.
git
"
)
)
;
}
Test
public
void
testStripRef
(
)
{
assertEquals
(
StringUtils
.
stripRef
(
null
)
null
)
;
assertEquals
(
StringUtils
.
stripRef
(
"
"
)
"
"
)
;
assertEquals
(
StringUtils
.
stripRef
(
"
?
?
AAABBBCCC
"
)
"
?
?
AAABBBCCC
"
)
;
assertEquals
(
StringUtils
.
stripRef
(
"
https
:
/
/
mozilla
.
org
"
)
"
https
:
/
/
mozilla
.
org
"
)
;
assertEquals
(
StringUtils
.
stripRef
(
"
https
:
/
/
mozilla
.
org
#
BBBB
"
)
"
https
:
/
/
mozilla
.
org
"
)
;
assertEquals
(
StringUtils
.
stripRef
(
"
https
:
/
/
mozilla
.
org
/
#
BBBB
"
)
"
https
:
/
/
mozilla
.
org
/
"
)
;
}
Test
public
void
testIsRTL
(
)
{
assertFalse
(
StringUtils
.
isRTL
(
"
mozilla
.
org
"
)
)
;
assertFalse
(
StringUtils
.
isRTL
(
"
something
.
"
)
)
;
assertTrue
(
StringUtils
.
isRTL
(
"
"
)
)
;
assertTrue
(
StringUtils
.
isRTL
(
"
.
org
"
)
)
;
assertFalse
(
StringUtils
.
isRTL
(
"
\
u200EHello
"
)
)
;
assertFalse
(
StringUtils
.
isRTL
(
"
\
u200E
"
)
)
;
}
Test
public
void
testForceLTR
(
)
{
assertFalse
(
StringUtils
.
isRTL
(
StringUtils
.
forceLTR
(
"
"
)
)
)
;
assertFalse
(
StringUtils
.
isRTL
(
StringUtils
.
forceLTR
(
"
.
org
"
)
)
)
;
final
String
someLtrString
=
"
HelloWorld
"
;
assertEquals
(
someLtrString
StringUtils
.
forceLTR
(
someLtrString
)
)
;
final
String
someRtlString
=
"
"
;
assertEquals
(
4
someRtlString
.
length
(
)
)
;
final
String
forcedLtrString
=
StringUtils
.
forceLTR
(
someRtlString
)
;
assertEquals
(
5
forcedLtrString
.
length
(
)
)
;
final
String
forcedAgainLtrString
=
StringUtils
.
forceLTR
(
forcedLtrString
)
;
assertEquals
(
5
forcedAgainLtrString
.
length
(
)
)
;
}
}

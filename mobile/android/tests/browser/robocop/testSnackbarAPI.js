const
{
classes
:
Cc
interfaces
:
Ci
utils
:
Cu
}
=
Components
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
ChromeUtils
.
defineModuleGetter
(
this
"
Snackbars
"
"
resource
:
/
/
gre
/
modules
/
Snackbars
.
jsm
"
)
;
ChromeUtils
.
defineModuleGetter
(
this
"
EventDispatcher
"
"
resource
:
/
/
gre
/
modules
/
Messaging
.
jsm
"
)
;
add_task
(
function
*
test_snackbar_api
(
)
{
Snackbars
.
show
(
"
This
is
a
Snackbar
"
Snackbars
.
LENGTH_INDEFINITE
{
action
:
{
label
:
"
Click
me
"
callback
:
function
(
)
{
}
}
}
)
;
yield
EventDispatcher
.
instance
.
sendRequestForResult
(
{
type
:
"
Robocop
:
WaitOnUI
"
}
)
;
}
)
;
run_next_test
(
)
;

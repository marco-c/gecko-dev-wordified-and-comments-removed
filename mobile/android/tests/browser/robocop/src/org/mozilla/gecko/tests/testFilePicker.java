package
org
.
mozilla
.
gecko
.
tests
;
import
static
org
.
mozilla
.
gecko
.
tests
.
helpers
.
AssertionHelper
.
fFail
;
import
org
.
mozilla
.
gecko
.
EventDispatcher
;
import
org
.
mozilla
.
gecko
.
util
.
BundleEventListener
;
import
org
.
mozilla
.
gecko
.
util
.
EventCallback
;
import
org
.
mozilla
.
gecko
.
util
.
GeckoBundle
;
public
class
testFilePicker
extends
JavascriptTest
implements
BundleEventListener
{
private
static
final
String
TEST_FILENAME
=
"
/
mnt
/
sdcard
/
my
-
favorite
-
martian
.
png
"
;
public
testFilePicker
(
)
{
super
(
"
testFilePicker
.
js
"
)
;
}
Override
public
void
handleMessage
(
final
String
event
final
GeckoBundle
message
final
EventCallback
callback
)
{
if
(
"
FilePicker
:
Show
"
.
equals
(
event
)
)
{
callback
.
sendSuccess
(
TEST_FILENAME
)
;
}
}
Override
public
void
setUp
(
)
throws
Exception
{
super
.
setUp
(
)
;
EventDispatcher
.
getInstance
(
)
.
registerUiThreadListener
(
this
"
FilePicker
:
Show
"
)
;
}
Override
public
void
tearDown
(
)
throws
Exception
{
super
.
tearDown
(
)
;
EventDispatcher
.
getInstance
(
)
.
unregisterUiThreadListener
(
this
"
FilePicker
:
Show
"
)
;
}
}

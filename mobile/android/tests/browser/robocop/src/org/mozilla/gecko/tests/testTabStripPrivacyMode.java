package
org
.
mozilla
.
gecko
.
tests
;
import
org
.
mozilla
.
gecko
.
Actions
;
import
org
.
mozilla
.
gecko
.
tests
.
helpers
.
DeviceHelper
;
import
org
.
mozilla
.
gecko
.
tests
.
helpers
.
GeckoClickHelper
;
import
org
.
mozilla
.
gecko
.
tests
.
helpers
.
GeckoHelper
;
import
org
.
mozilla
.
gecko
.
tests
.
helpers
.
NavigationHelper
;
import
org
.
mozilla
.
gecko
.
tests
.
helpers
.
WaitHelper
;
public
class
testTabStripPrivacyMode
extends
UITest
{
public
void
testTabStripPrivacyMode
(
)
{
if
(
!
DeviceHelper
.
isTablet
(
)
)
{
return
;
}
GeckoHelper
.
blockForReady
(
)
;
final
String
normalModeUrl
=
mStringHelper
.
ROBOCOP_BIG_LINK_URL
;
NavigationHelper
.
enterAndLoadUrl
(
normalModeUrl
)
;
final
Actions
.
EventExpecter
titleExpecter
=
mActions
.
expectGlobalEvent
(
Actions
.
EventType
.
UI
"
Content
:
DOMTitleChanged
"
)
;
GeckoClickHelper
.
openCentralizedLinkInNewPrivateTab
(
)
;
titleExpecter
.
blockForEvent
(
)
;
titleExpecter
.
unregisterListener
(
)
;
mSolo
.
sleep
(
250
)
;
mTabStrip
.
assertTabCount
(
1
)
;
mToolbar
.
assertTitle
(
normalModeUrl
)
;
}
}

"
use
strict
"
;
const
EXPORTED_SYMBOLS
=
[
"
GeckoViewLoginStorage
"
]
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
const
{
GeckoViewUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
GeckoViewUtils
.
jsm
"
)
;
XPCOMUtils
.
defineLazyModuleGetters
(
this
{
EventDispatcher
:
"
resource
:
/
/
gre
/
modules
/
Messaging
.
jsm
"
}
)
;
const
GeckoViewLoginStorage
=
{
fetchLogins
(
aDomain
)
{
debug
fetchLogins
for
{
aDomain
}
;
return
EventDispatcher
.
instance
.
sendRequestForResult
(
{
type
:
"
GeckoView
:
LoginStorage
:
Fetch
"
domain
:
aDomain
}
)
;
}
}
;
const
{
debug
}
=
GeckoViewUtils
.
initLogging
(
"
GeckoViewLoginStorage
"
)
;

const
{
GeckoViewUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
GeckoViewUtils
.
jsm
"
)
;
const
EXPORTED_SYMBOLS
=
[
"
GeckoViewActorParent
"
]
;
class
GeckoViewActorParent
extends
JSWindowActorParent
{
static
initLogging
(
aModuleName
)
{
const
tag
=
aModuleName
.
replace
(
"
GeckoView
"
"
"
)
;
return
GeckoViewUtils
.
initLogging
(
tag
)
;
}
get
browser
(
)
{
return
this
.
browsingContext
.
top
.
embedderElement
;
}
get
window
(
)
{
return
this
.
browser
.
ownerGlobal
;
}
get
eventDispatcher
(
)
{
return
this
.
window
.
moduleManager
.
eventDispatcher
;
}
receiveMessage
(
aMessage
)
{
this
.
window
.
moduleManager
.
onMessageFromActor
(
this
.
name
aMessage
)
;
}
}

"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
GeckoViewSelectionAction
"
]
;
const
{
GeckoViewModule
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
GeckoViewModule
.
jsm
"
)
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
const
{
Services
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
class
GeckoViewSelectionAction
extends
GeckoViewModule
{
onEnable
(
)
{
debug
onEnable
;
this
.
registerListener
(
[
"
GeckoView
:
ExecuteSelectionAction
"
]
)
;
}
onDisable
(
)
{
debug
onDisable
;
this
.
unregisterListener
(
)
;
}
get
actor
(
)
{
return
this
.
getActor
(
"
SelectionActionDelegate
"
)
;
}
onEvent
(
aEvent
aData
aCallback
)
{
debug
onEvent
:
{
aEvent
}
;
switch
(
aEvent
)
{
case
"
GeckoView
:
ExecuteSelectionAction
"
:
{
this
.
actor
.
executeSelectionAction
(
aData
)
;
}
}
}
}
const
{
debug
warn
}
=
GeckoViewSelectionAction
.
initLogging
(
"
GeckoViewSelectionAction
"
)
;

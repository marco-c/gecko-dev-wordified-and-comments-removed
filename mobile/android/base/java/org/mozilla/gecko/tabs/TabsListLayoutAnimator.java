package
org
.
mozilla
.
gecko
.
tabs
;
import
org
.
mozilla
.
gecko
.
widget
.
DefaultItemAnimatorBase
;
import
android
.
support
.
v4
.
view
.
ViewCompat
;
import
android
.
support
.
v7
.
widget
.
RecyclerView
;
import
android
.
view
.
View
;
class
TabsListLayoutAnimator
extends
DefaultItemAnimatorBase
{
public
TabsListLayoutAnimator
(
int
animationDuration
)
{
setRemoveDuration
(
animationDuration
)
;
setAddDuration
(
animationDuration
)
;
setSupportsChangeAnimations
(
false
)
;
}
Override
protected
boolean
preAnimateRemoveImpl
(
final
RecyclerView
.
ViewHolder
holder
)
{
if
(
holder
.
itemView
.
getAlpha
(
)
<
1
)
{
return
false
;
}
resetAnimation
(
holder
)
;
return
true
;
}
Override
protected
void
animateRemoveImpl
(
final
RecyclerView
.
ViewHolder
holder
)
{
final
View
itemView
=
holder
.
itemView
;
ViewCompat
.
animate
(
itemView
)
.
setDuration
(
getRemoveDuration
(
)
)
.
translationX
(
itemView
.
getWidth
(
)
)
.
alpha
(
0
)
.
setListener
(
new
DefaultRemoveVpaListener
(
holder
)
)
.
start
(
)
;
}
Override
protected
boolean
preAnimateAddImpl
(
RecyclerView
.
ViewHolder
holder
)
{
resetAnimation
(
holder
)
;
final
View
itemView
=
holder
.
itemView
;
itemView
.
setTranslationX
(
itemView
.
getWidth
(
)
)
;
itemView
.
setAlpha
(
0
)
;
return
true
;
}
Override
protected
void
animateAddImpl
(
final
RecyclerView
.
ViewHolder
holder
)
{
final
View
itemView
=
holder
.
itemView
;
ViewCompat
.
animate
(
itemView
)
.
setDuration
(
getAddDuration
(
)
)
.
translationX
(
0
)
.
alpha
(
1
)
.
setListener
(
new
DefaultAddVpaListener
(
holder
)
)
.
start
(
)
;
}
}

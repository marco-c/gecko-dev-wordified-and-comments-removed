package
org
.
mozilla
.
gecko
.
telemetry
.
stores
;
import
android
.
os
.
Parcelable
;
import
android
.
support
.
annotation
.
VisibleForTesting
;
import
org
.
mozilla
.
gecko
.
telemetry
.
TelemetryLocalPing
;
import
org
.
mozilla
.
gecko
.
telemetry
.
TelemetryOutgoingPing
;
import
org
.
mozilla
.
gecko
.
telemetry
.
TelemetryPing
;
import
java
.
io
.
IOException
;
import
java
.
util
.
List
;
import
java
.
util
.
Set
;
public
abstract
class
TelemetryPingStore
implements
Parcelable
{
private
final
String
profileName
;
VisibleForTesting
public
TelemetryPingStore
(
final
String
profileName
)
{
this
.
profileName
=
profileName
;
}
public
String
getProfileName
(
)
{
return
profileName
;
}
public
abstract
List
<
TelemetryPing
>
getAllPings
(
)
;
public
abstract
int
getCount
(
)
;
public
abstract
void
storePing
(
TelemetryPing
ping
)
throws
IOException
;
public
abstract
void
maybePrunePings
(
)
;
public
abstract
void
onUploadAttemptComplete
(
Set
<
String
>
successfulRemoveIDs
)
;
public
abstract
Set
<
String
>
getStoredIDs
(
)
;
}

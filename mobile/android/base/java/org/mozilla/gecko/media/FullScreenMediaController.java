package
org
.
mozilla
.
gecko
.
media
;
import
android
.
content
.
Context
;
import
android
.
graphics
.
Color
;
import
android
.
view
.
View
;
import
android
.
widget
.
ImageButton
;
import
android
.
widget
.
LinearLayout
;
import
android
.
widget
.
MediaController
;
public
class
FullScreenMediaController
extends
MediaController
{
private
FullScreenListener
mFullScreenListener
;
public
FullScreenMediaController
(
Context
ctx
)
{
super
(
ctx
)
;
}
public
void
setFullScreenListener
(
FullScreenListener
listener
)
{
mFullScreenListener
=
listener
;
}
private
void
onFullScreenClicked
(
)
{
if
(
this
.
mFullScreenListener
!
=
null
)
{
mFullScreenListener
.
onFullScreenClicked
(
)
;
}
}
Override
public
void
setAnchorView
(
final
View
view
)
{
super
.
setAnchorView
(
view
)
;
ImageButton
button
=
new
ImageButton
(
getContext
(
)
)
;
button
.
setBackgroundColor
(
Color
.
TRANSPARENT
)
;
button
.
setImageResource
(
android
.
R
.
drawable
.
picture_frame
)
;
button
.
setOnClickListener
(
new
View
.
OnClickListener
(
)
{
Override
public
void
onClick
(
View
v
)
{
FullScreenMediaController
.
this
.
onFullScreenClicked
(
)
;
}
}
)
;
LinearLayout
child
=
(
LinearLayout
)
getChildAt
(
0
)
;
LinearLayout
buttons
=
(
LinearLayout
)
child
.
getChildAt
(
0
)
;
LinearLayout
.
LayoutParams
params
=
new
LinearLayout
.
LayoutParams
(
LayoutParams
.
WRAP_CONTENT
LayoutParams
.
MATCH_PARENT
)
;
buttons
.
addView
(
button
params
)
;
}
public
interface
FullScreenListener
{
void
onFullScreenClicked
(
)
;
}
}

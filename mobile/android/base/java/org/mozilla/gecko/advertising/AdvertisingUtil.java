package
org
.
mozilla
.
gecko
.
advertising
;
import
android
.
content
.
Context
;
import
android
.
util
.
Log
;
import
com
.
google
.
android
.
gms
.
ads
.
identifier
.
AdvertisingIdClient
;
import
org
.
mindrot
.
jbcrypt
.
BCrypt
;
import
org
.
mozilla
.
gecko
.
annotation
.
ReflectionTarget
;
ReflectionTarget
public
class
AdvertisingUtil
{
private
static
final
String
LOG_TAG
=
AdvertisingUtil
.
class
.
getCanonicalName
(
)
;
private
static
final
String
BCRYPT_SALT
=
"
2a
10
ZfglUfcbmTyaBbAQ7SL9OO
"
;
ReflectionTarget
public
static
String
getAdvertisingId
(
Context
caller
)
{
try
{
AdvertisingIdClient
.
Info
info
=
AdvertisingIdClient
.
getAdvertisingIdInfo
(
caller
)
;
String
advertisingId
=
info
.
getId
(
)
;
return
advertisingId
!
=
null
?
BCrypt
.
hashpw
(
advertisingId
BCRYPT_SALT
)
:
null
;
}
catch
(
Throwable
t
)
{
Log
.
e
(
LOG_TAG
"
Error
retrieving
advertising
ID
.
"
+
t
.
getMessage
(
)
)
;
}
return
null
;
}
}

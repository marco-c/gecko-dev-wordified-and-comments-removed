package
org
.
mozilla
.
gecko
.
icons
.
processing
;
import
android
.
support
.
v7
.
graphics
.
Palette
;
import
org
.
mozilla
.
gecko
.
icons
.
IconRequest
;
import
org
.
mozilla
.
gecko
.
icons
.
IconResponse
;
public
class
ColorProcessor
implements
Processor
{
private
static
final
int
DEFAULT_COLOR
=
0
;
Override
public
void
process
(
IconRequest
request
IconResponse
response
)
{
if
(
response
.
hasColor
(
)
)
{
return
;
}
final
Palette
palette
=
Palette
.
from
(
response
.
getBitmap
(
)
)
.
generate
(
)
;
response
.
updateColor
(
palette
.
getVibrantColor
(
DEFAULT_COLOR
)
)
;
}
}

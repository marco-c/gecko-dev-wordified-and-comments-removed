package
org
.
mozilla
.
gecko
;
import
android
.
app
.
Service
;
import
android
.
content
.
Intent
;
import
android
.
os
.
IBinder
;
import
android
.
os
.
Process
;
import
android
.
util
.
Log
;
public
class
FennecKiller
extends
Service
{
private
static
final
String
LOGTAG
=
"
GeckoFennecKiller
"
;
private
static
final
String
BROWSERAPP
=
"
org
.
mozilla
.
gecko
.
BrowserApp
"
;
Override
public
IBinder
onBind
(
Intent
intent
)
{
return
null
;
}
Override
public
void
onTaskRemoved
(
Intent
intent
)
{
if
(
intent
!
=
null
&
&
intent
.
getComponent
(
)
!
=
null
&
&
BROWSERAPP
.
equals
(
intent
.
getComponent
(
)
.
getClassName
(
)
)
)
{
Process
.
killProcess
(
Process
.
myPid
(
)
)
;
}
}
Override
public
int
onStartCommand
(
Intent
intent
int
flags
int
startId
)
{
return
Service
.
START_NOT_STICKY
;
}
}

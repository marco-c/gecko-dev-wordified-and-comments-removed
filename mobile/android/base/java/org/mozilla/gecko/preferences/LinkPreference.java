package
org
.
mozilla
.
gecko
.
preferences
;
import
android
.
content
.
Context
;
import
android
.
content
.
Intent
;
import
android
.
preference
.
Preference
;
import
android
.
util
.
AttributeSet
;
import
org
.
mozilla
.
gecko
.
AppConstants
;
import
org
.
mozilla
.
gecko
.
Tabs
;
class
LinkPreference
extends
Preference
{
private
String
mUrl
;
public
LinkPreference
(
Context
context
AttributeSet
attrs
)
{
super
(
context
attrs
)
;
mUrl
=
attrs
.
getAttributeValue
(
null
"
url
"
)
;
}
public
LinkPreference
(
Context
context
AttributeSet
attrs
int
defStyle
)
{
super
(
context
attrs
defStyle
)
;
mUrl
=
attrs
.
getAttributeValue
(
null
"
url
"
)
;
}
public
void
setUrl
(
String
url
)
{
mUrl
=
url
;
}
Override
protected
void
onClick
(
)
{
if
(
GeckoPreferences
.
PREFS_DEFAULT_BROWSER
.
equals
(
getKey
(
)
)
&
&
AppConstants
.
Versions
.
feature24Plus
)
{
Intent
changeDefaultApps
=
new
Intent
(
"
android
.
settings
.
MANAGE_DEFAULT_APPS_SETTINGS
"
)
;
getContext
(
)
.
startActivity
(
changeDefaultApps
)
;
}
else
{
Tabs
.
getInstance
(
)
.
loadUrlInTab
(
mUrl
)
;
callChangeListener
(
mUrl
)
;
}
}
}

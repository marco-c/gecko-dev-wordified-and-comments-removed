package
org
.
mozilla
.
gecko
.
gcm
;
import
android
.
util
.
Log
;
import
com
.
google
.
android
.
gms
.
iid
.
InstanceIDListenerService
;
import
org
.
mozilla
.
gecko
.
push
.
PushService
;
import
org
.
mozilla
.
gecko
.
util
.
ThreadUtils
;
public
class
GcmInstanceIDListenerService
extends
InstanceIDListenerService
{
Override
public
void
onTokenRefresh
(
)
{
Log
.
d
(
"
GeckoPushGCM
"
"
Token
refresh
request
received
.
Processing
on
background
thread
.
"
)
;
ThreadUtils
.
postToBackgroundThread
(
new
Runnable
(
)
{
Override
public
void
run
(
)
{
PushService
.
getInstance
(
GcmInstanceIDListenerService
.
this
)
.
onRefresh
(
)
;
}
}
)
;
}
}

package
org
.
mozilla
.
gecko
.
mma
;
import
android
.
content
.
Context
;
import
android
.
content
.
res
.
Resources
;
import
android
.
support
.
annotation
.
DrawableRes
;
import
android
.
support
.
annotation
.
NonNull
;
import
com
.
leanplum
.
annotations
.
Variable
;
import
org
.
mozilla
.
gecko
.
R
;
import
org
.
mozilla
.
gecko
.
firstrun
.
FirstrunPanel
;
import
org
.
mozilla
.
gecko
.
util
.
OnboardingResources
;
import
java
.
lang
.
reflect
.
Field
;
public
class
LeanplumVariables
{
private
static
LeanplumVariables
INSTANCE
;
private
static
Resources
appResources
;
private
static
final
String
FIRSTRUN_WELCOME_PANEL_GROUP_NAME
=
"
FirstRun
Welcome
Panel
"
;
private
static
final
String
FIRSTRUN_CUSTOMIZE_PANEL_GROUP_NAME
=
"
FirstRun
Customize
Panel
"
;
private
static
final
String
FIRSTRUN_SYNC_PANEL_GROUP_NAME
=
"
FirstRun
Sync
Panel
"
;
private
static
final
String
FIRSTRUN_SEND_TAB_PANEL_GROUP_NAME
=
"
FirstRun
Send
Tab
Panel
"
;
Variable
(
group
=
FIRSTRUN_WELCOME_PANEL_GROUP_NAME
)
public
static
String
welcomePanelTitle
;
Variable
(
group
=
FIRSTRUN_WELCOME_PANEL_GROUP_NAME
)
public
static
String
welcomePanelMessage
;
Variable
(
group
=
FIRSTRUN_WELCOME_PANEL_GROUP_NAME
)
public
static
String
welcomePanelSubtext
;
DrawableRes
private
static
int
welcomeDrawableId
;
Variable
(
group
=
FIRSTRUN_CUSTOMIZE_PANEL_GROUP_NAME
)
public
static
String
customizePanelTitle
;
Variable
(
group
=
FIRSTRUN_CUSTOMIZE_PANEL_GROUP_NAME
)
public
static
String
customizePanelMessage
;
Variable
(
group
=
FIRSTRUN_CUSTOMIZE_PANEL_GROUP_NAME
)
public
static
String
customizePanelSubtext
;
DrawableRes
private
static
int
customizingDrawableId
;
Variable
(
group
=
FIRSTRUN_SYNC_PANEL_GROUP_NAME
)
public
static
String
syncPanelTitle
;
Variable
(
group
=
FIRSTRUN_SYNC_PANEL_GROUP_NAME
)
public
static
String
syncPanelMessage
;
Variable
(
group
=
FIRSTRUN_SYNC_PANEL_GROUP_NAME
)
public
static
String
syncPanelSubtext
;
DrawableRes
private
static
int
syncDrawableId
;
Variable
(
group
=
FIRSTRUN_SEND_TAB_PANEL_GROUP_NAME
)
public
static
String
sendTabPanelTitle
;
Variable
(
group
=
FIRSTRUN_SEND_TAB_PANEL_GROUP_NAME
)
public
static
String
sendTabPanelMessage
;
Variable
(
group
=
FIRSTRUN_SEND_TAB_PANEL_GROUP_NAME
)
public
static
String
sendTabPanelSubtext
;
DrawableRes
private
static
int
sendTabDrawableId
;
public
static
LeanplumVariables
getInstance
(
Context
appContext
)
{
if
(
INSTANCE
=
=
null
)
{
INSTANCE
=
new
LeanplumVariables
(
appContext
)
;
}
return
INSTANCE
;
}
private
LeanplumVariables
(
NonNull
Context
context
)
{
appResources
=
context
.
getResources
(
)
;
welcomePanelTitle
=
appResources
.
getString
(
R
.
string
.
firstrun_panel_title_welcome
)
;
customizePanelTitle
=
appResources
.
getString
(
R
.
string
.
firstrun_panel_title_customize
)
;
OnboardingResources
onboardingUtil
=
OnboardingResources
.
getInstance
(
context
)
;
syncPanelTitle
=
onboardingUtil
.
getSyncTitle
(
)
;
sendTabPanelTitle
=
appResources
.
getString
(
R
.
string
.
firstrun_sendtab_title
)
;
if
(
onboardingUtil
.
useNewOnboarding
(
)
)
{
welcomePanelMessage
=
onboardingUtil
.
getWelcomeMessage
(
)
;
welcomePanelSubtext
=
onboardingUtil
.
getWelcomeSubtext
(
)
;
welcomeDrawableId
=
R
.
drawable
.
firstrun_welcome2
;
syncPanelMessage
=
FirstrunPanel
.
NO_MESSAGE
;
syncPanelSubtext
=
onboardingUtil
.
getSyncSubtext
(
)
;
syncDrawableId
=
onboardingUtil
.
getSyncImageResId
(
)
;
sendTabPanelMessage
=
FirstrunPanel
.
NO_MESSAGE
;
sendTabPanelSubtext
=
appResources
.
getString
(
R
.
string
.
firstrun_sendtab_message
)
;
sendTabDrawableId
=
R
.
drawable
.
firstrun_sendtab
;
}
else
{
welcomePanelMessage
=
appResources
.
getString
(
R
.
string
.
firstrun_urlbar_message
)
;
welcomePanelSubtext
=
appResources
.
getString
(
R
.
string
.
firstrun_urlbar_subtext
)
;
welcomeDrawableId
=
R
.
drawable
.
firstrun_welcome
;
customizePanelMessage
=
appResources
.
getString
(
R
.
string
.
firstrun_customize_message
)
;
customizePanelSubtext
=
appResources
.
getString
(
R
.
string
.
firstrun_customize_subtext
)
;
customizingDrawableId
=
R
.
drawable
.
firstrun_data
;
syncPanelMessage
=
appResources
.
getString
(
R
.
string
.
firstrun_sync_message
)
;
syncPanelSubtext
=
appResources
.
getString
(
R
.
string
.
firstrun_sync_subtext
)
;
syncDrawableId
=
R
.
drawable
.
firstrun_sync
;
}
}
public
static
int
getWelcomeImage
(
)
{
return
welcomeDrawableId
;
}
public
static
int
getCustomizingImage
(
)
{
return
customizingDrawableId
;
}
public
static
int
getSyncImage
(
)
{
return
syncDrawableId
;
}
public
static
int
getSendTabImage
(
)
{
return
sendTabDrawableId
;
}
}

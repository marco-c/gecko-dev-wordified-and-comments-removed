package
org
.
mozilla
.
gecko
.
widget
;
import
android
.
graphics
.
Rect
;
import
android
.
support
.
v7
.
widget
.
GridLayoutManager
;
import
android
.
support
.
v7
.
widget
.
RecyclerView
;
import
android
.
view
.
View
;
import
org
.
mozilla
.
gecko
.
util
.
ViewUtil
;
public
class
GridSpacingDecoration
extends
RecyclerView
.
ItemDecoration
{
private
final
int
horizontalSpacing
;
private
final
int
verticalPadding
;
public
GridSpacingDecoration
(
int
horizontalSpacing
int
verticalPadding
)
{
this
.
horizontalSpacing
=
horizontalSpacing
;
this
.
verticalPadding
=
verticalPadding
;
}
Override
public
void
getItemOffsets
(
Rect
outRect
View
view
RecyclerView
parent
RecyclerView
.
State
state
)
{
final
int
position
=
parent
.
getChildAdapterPosition
(
view
)
;
if
(
position
=
=
RecyclerView
.
NO_POSITION
)
{
return
;
}
final
GridLayoutManager
layoutManager
=
(
GridLayoutManager
)
parent
.
getLayoutManager
(
)
;
final
int
spanCount
=
layoutManager
.
getSpanCount
(
)
;
final
int
LTRColumn
=
ViewUtil
.
isLayoutRtl
(
parent
)
?
(
spanCount
-
1
)
-
(
position
%
spanCount
)
:
position
%
spanCount
;
final
int
columnLeftOffset
=
(
int
)
(
(
(
float
)
LTRColumn
/
(
float
)
spanCount
)
*
horizontalSpacing
)
;
final
int
columnRightOffset
=
(
int
)
(
(
(
float
)
(
spanCount
-
(
LTRColumn
+
1
)
)
/
(
float
)
spanCount
)
*
horizontalSpacing
)
;
outRect
.
set
(
columnLeftOffset
verticalPadding
columnRightOffset
verticalPadding
)
;
}
}

package
org
.
mozilla
.
gecko
.
util
;
import
android
.
graphics
.
Color
;
public
class
ColorUtil
{
public
static
int
darken
(
final
int
color
final
double
fraction
)
{
int
red
=
Color
.
red
(
color
)
;
int
green
=
Color
.
green
(
color
)
;
int
blue
=
Color
.
blue
(
color
)
;
red
=
darkenColor
(
red
fraction
)
;
green
=
darkenColor
(
green
fraction
)
;
blue
=
darkenColor
(
blue
fraction
)
;
final
int
alpha
=
Color
.
alpha
(
color
)
;
return
Color
.
argb
(
alpha
red
green
blue
)
;
}
public
static
int
getReadableTextColor
(
final
int
backgroundColor
)
{
final
int
greyValue
=
grayscaleFromRGB
(
backgroundColor
)
;
if
(
greyValue
<
186
)
{
return
Color
.
WHITE
;
}
else
{
return
Color
.
BLACK
;
}
}
private
static
int
darkenColor
(
final
int
color
final
double
fraction
)
{
return
(
int
)
Math
.
max
(
color
-
(
color
*
fraction
)
0
)
;
}
private
static
int
grayscaleFromRGB
(
final
int
color
)
{
final
int
red
=
Color
.
red
(
color
)
;
final
int
green
=
Color
.
green
(
color
)
;
final
int
blue
=
Color
.
blue
(
color
)
;
return
(
int
)
(
0
.
299
*
red
+
0
.
587
*
green
+
0
.
114
*
blue
)
;
}
}

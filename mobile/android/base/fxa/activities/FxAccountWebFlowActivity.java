package
org
.
mozilla
.
gecko
.
fxa
.
activities
;
import
android
.
os
.
Bundle
;
import
org
.
mozilla
.
gecko
.
Locales
;
import
org
.
mozilla
.
gecko
.
background
.
common
.
log
.
Logger
;
import
org
.
mozilla
.
gecko
.
fxa
.
FxAccountConstants
;
import
org
.
mozilla
.
gecko
.
fxa
.
authenticator
.
AndroidFxAccount
;
import
org
.
mozilla
.
gecko
.
sync
.
setup
.
activities
.
ActivityUtils
;
public
class
FxAccountWebFlowActivity
extends
FxAccountAbstractActivity
{
protected
static
final
String
LOG_TAG
=
FxAccountWebFlowActivity
.
class
.
getSimpleName
(
)
;
protected
static
final
String
ABOUT_ACCOUNTS
=
"
about
:
accounts
"
;
private
final
String
action
;
private
final
String
extras
;
public
FxAccountWebFlowActivity
(
int
resume
String
action
)
{
this
(
resume
action
null
)
;
}
public
FxAccountWebFlowActivity
(
int
resume
String
action
String
extras
)
{
super
(
resume
)
;
this
.
action
=
action
;
this
.
extras
=
(
extras
!
=
null
)
?
(
"
&
"
+
extras
)
:
"
"
;
}
Override
public
void
onCreate
(
Bundle
icicle
)
{
Logger
.
setThreadLogTag
(
FxAccountConstants
.
GLOBAL_LOG_TAG
)
;
Logger
.
debug
(
LOG_TAG
"
onCreate
(
"
+
icicle
+
"
)
"
)
;
Locales
.
initializeLocale
(
getApplicationContext
(
)
)
;
super
.
onCreate
(
icicle
)
;
}
protected
boolean
redirectIfAppropriate
(
)
{
final
boolean
redirected
=
super
.
redirectIfAppropriate
(
)
;
if
(
redirected
)
{
return
true
;
}
ActivityUtils
.
openURLInFennec
(
getApplicationContext
(
)
ABOUT_ACCOUNTS
+
"
?
action
=
"
+
action
+
extras
)
;
return
true
;
}
Override
public
void
onResume
(
)
{
super
.
onResume
(
)
;
this
.
finish
(
)
;
}
}

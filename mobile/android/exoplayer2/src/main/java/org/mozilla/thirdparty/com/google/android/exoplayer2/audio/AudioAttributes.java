package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
audio
;
import
android
.
annotation
.
TargetApi
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
C
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
.
Util
;
public
final
class
AudioAttributes
{
public
static
final
AudioAttributes
DEFAULT
=
new
Builder
(
)
.
build
(
)
;
public
static
final
class
Builder
{
private
C
.
AudioContentType
int
contentType
;
private
C
.
AudioFlags
int
flags
;
private
C
.
AudioUsage
int
usage
;
private
C
.
AudioAllowedCapturePolicy
int
allowedCapturePolicy
;
public
Builder
(
)
{
contentType
=
C
.
CONTENT_TYPE_UNKNOWN
;
flags
=
0
;
usage
=
C
.
USAGE_MEDIA
;
allowedCapturePolicy
=
C
.
ALLOW_CAPTURE_BY_ALL
;
}
public
Builder
setContentType
(
C
.
AudioContentType
int
contentType
)
{
this
.
contentType
=
contentType
;
return
this
;
}
public
Builder
setFlags
(
C
.
AudioFlags
int
flags
)
{
this
.
flags
=
flags
;
return
this
;
}
public
Builder
setUsage
(
C
.
AudioUsage
int
usage
)
{
this
.
usage
=
usage
;
return
this
;
}
public
Builder
setAllowedCapturePolicy
(
C
.
AudioAllowedCapturePolicy
int
allowedCapturePolicy
)
{
this
.
allowedCapturePolicy
=
allowedCapturePolicy
;
return
this
;
}
public
AudioAttributes
build
(
)
{
return
new
AudioAttributes
(
contentType
flags
usage
allowedCapturePolicy
)
;
}
}
public
final
C
.
AudioContentType
int
contentType
;
public
final
C
.
AudioFlags
int
flags
;
public
final
C
.
AudioUsage
int
usage
;
public
final
C
.
AudioAllowedCapturePolicy
int
allowedCapturePolicy
;
Nullable
private
android
.
media
.
AudioAttributes
audioAttributesV21
;
private
AudioAttributes
(
C
.
AudioContentType
int
contentType
C
.
AudioFlags
int
flags
C
.
AudioUsage
int
usage
C
.
AudioAllowedCapturePolicy
int
allowedCapturePolicy
)
{
this
.
contentType
=
contentType
;
this
.
flags
=
flags
;
this
.
usage
=
usage
;
this
.
allowedCapturePolicy
=
allowedCapturePolicy
;
}
TargetApi
(
21
)
public
android
.
media
.
AudioAttributes
getAudioAttributesV21
(
)
{
if
(
audioAttributesV21
=
=
null
)
{
android
.
media
.
AudioAttributes
.
Builder
builder
=
new
android
.
media
.
AudioAttributes
.
Builder
(
)
.
setContentType
(
contentType
)
.
setFlags
(
flags
)
.
setUsage
(
usage
)
;
if
(
Util
.
SDK_INT
>
=
29
)
{
builder
.
setAllowedCapturePolicy
(
allowedCapturePolicy
)
;
}
audioAttributesV21
=
builder
.
build
(
)
;
}
return
audioAttributesV21
;
}
Override
public
boolean
equals
(
Nullable
Object
obj
)
{
if
(
this
=
=
obj
)
{
return
true
;
}
if
(
obj
=
=
null
|
|
getClass
(
)
!
=
obj
.
getClass
(
)
)
{
return
false
;
}
AudioAttributes
other
=
(
AudioAttributes
)
obj
;
return
this
.
contentType
=
=
other
.
contentType
&
&
this
.
flags
=
=
other
.
flags
&
&
this
.
usage
=
=
other
.
usage
&
&
this
.
allowedCapturePolicy
=
=
other
.
allowedCapturePolicy
;
}
Override
public
int
hashCode
(
)
{
int
result
=
17
;
result
=
31
*
result
+
contentType
;
result
=
31
*
result
+
flags
;
result
=
31
*
result
+
usage
;
result
=
31
*
result
+
allowedCapturePolicy
;
return
result
;
}
}

package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
source
.
hls
.
playlist
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
offline
.
FilteringManifestParser
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
offline
.
StreamKey
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
upstream
.
ParsingLoadable
;
import
java
.
util
.
List
;
public
final
class
FilteringHlsPlaylistParserFactory
implements
HlsPlaylistParserFactory
{
private
final
HlsPlaylistParserFactory
hlsPlaylistParserFactory
;
private
final
List
<
StreamKey
>
streamKeys
;
public
FilteringHlsPlaylistParserFactory
(
HlsPlaylistParserFactory
hlsPlaylistParserFactory
List
<
StreamKey
>
streamKeys
)
{
this
.
hlsPlaylistParserFactory
=
hlsPlaylistParserFactory
;
this
.
streamKeys
=
streamKeys
;
}
Override
public
ParsingLoadable
.
Parser
<
HlsPlaylist
>
createPlaylistParser
(
)
{
return
new
FilteringManifestParser
<
>
(
hlsPlaylistParserFactory
.
createPlaylistParser
(
)
streamKeys
)
;
}
Override
public
ParsingLoadable
.
Parser
<
HlsPlaylist
>
createPlaylistParser
(
HlsMasterPlaylist
masterPlaylist
)
{
return
new
FilteringManifestParser
<
>
(
hlsPlaylistParserFactory
.
createPlaylistParser
(
masterPlaylist
)
streamKeys
)
;
}
}

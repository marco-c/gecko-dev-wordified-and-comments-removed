package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
;
import
android
.
os
.
Looper
;
import
android
.
text
.
TextUtils
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
ExoPlayerLibraryInfo
;
import
org
.
checkerframework
.
checker
.
nullness
.
qual
.
EnsuresNonNull
;
public
final
class
Assertions
{
private
Assertions
(
)
{
}
public
static
void
checkArgument
(
boolean
expression
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
!
expression
)
{
throw
new
IllegalArgumentException
(
)
;
}
}
public
static
void
checkArgument
(
boolean
expression
Object
errorMessage
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
!
expression
)
{
throw
new
IllegalArgumentException
(
String
.
valueOf
(
errorMessage
)
)
;
}
}
public
static
int
checkIndex
(
int
index
int
start
int
limit
)
{
if
(
index
<
start
|
|
index
>
=
limit
)
{
throw
new
IndexOutOfBoundsException
(
)
;
}
return
index
;
}
public
static
void
checkState
(
boolean
expression
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
!
expression
)
{
throw
new
IllegalStateException
(
)
;
}
}
public
static
void
checkState
(
boolean
expression
Object
errorMessage
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
!
expression
)
{
throw
new
IllegalStateException
(
String
.
valueOf
(
errorMessage
)
)
;
}
}
SuppressWarnings
(
{
"
contracts
.
postcondition
.
not
.
satisfied
"
"
return
.
type
.
incompatible
"
}
)
EnsuresNonNull
(
{
"
#
1
"
}
)
public
static
<
T
>
T
checkStateNotNull
(
Nullable
T
reference
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
reference
=
=
null
)
{
throw
new
IllegalStateException
(
)
;
}
return
reference
;
}
SuppressWarnings
(
{
"
contracts
.
postcondition
.
not
.
satisfied
"
"
return
.
type
.
incompatible
"
}
)
EnsuresNonNull
(
{
"
#
1
"
}
)
public
static
<
T
>
T
checkStateNotNull
(
Nullable
T
reference
Object
errorMessage
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
reference
=
=
null
)
{
throw
new
IllegalStateException
(
String
.
valueOf
(
errorMessage
)
)
;
}
return
reference
;
}
SuppressWarnings
(
{
"
contracts
.
postcondition
.
not
.
satisfied
"
"
return
.
type
.
incompatible
"
}
)
EnsuresNonNull
(
{
"
#
1
"
}
)
public
static
<
T
>
T
checkNotNull
(
Nullable
T
reference
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
reference
=
=
null
)
{
throw
new
NullPointerException
(
)
;
}
return
reference
;
}
SuppressWarnings
(
{
"
contracts
.
postcondition
.
not
.
satisfied
"
"
return
.
type
.
incompatible
"
}
)
EnsuresNonNull
(
{
"
#
1
"
}
)
public
static
<
T
>
T
checkNotNull
(
Nullable
T
reference
Object
errorMessage
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
reference
=
=
null
)
{
throw
new
NullPointerException
(
String
.
valueOf
(
errorMessage
)
)
;
}
return
reference
;
}
SuppressWarnings
(
{
"
contracts
.
postcondition
.
not
.
satisfied
"
"
return
.
type
.
incompatible
"
}
)
EnsuresNonNull
(
{
"
#
1
"
}
)
public
static
String
checkNotEmpty
(
Nullable
String
string
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
TextUtils
.
isEmpty
(
string
)
)
{
throw
new
IllegalArgumentException
(
)
;
}
return
string
;
}
SuppressWarnings
(
{
"
contracts
.
postcondition
.
not
.
satisfied
"
"
return
.
type
.
incompatible
"
}
)
EnsuresNonNull
(
{
"
#
1
"
}
)
public
static
String
checkNotEmpty
(
Nullable
String
string
Object
errorMessage
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
TextUtils
.
isEmpty
(
string
)
)
{
throw
new
IllegalArgumentException
(
String
.
valueOf
(
errorMessage
)
)
;
}
return
string
;
}
public
static
void
checkMainThread
(
)
{
if
(
ExoPlayerLibraryInfo
.
ASSERTIONS_ENABLED
&
&
Looper
.
myLooper
(
)
!
=
Looper
.
getMainLooper
(
)
)
{
throw
new
IllegalStateException
(
"
Not
in
applications
main
thread
"
)
;
}
}
}

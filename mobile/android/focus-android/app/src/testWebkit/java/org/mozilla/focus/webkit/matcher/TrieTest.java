package
org
.
mozilla
.
focus
.
webkit
.
matcher
;
import
org
.
junit
.
Test
;
import
org
.
junit
.
runner
.
RunWith
;
import
org
.
mozilla
.
focus
.
webkit
.
matcher
.
Trie
.
WhiteListTrie
;
import
org
.
mozilla
.
focus
.
webkit
.
matcher
.
util
.
FocusString
;
import
org
.
robolectric
.
RobolectricTestRunner
;
import
static
org
.
junit
.
Assert
.
assertEquals
;
import
static
org
.
junit
.
Assert
.
assertNotNull
;
import
static
org
.
junit
.
Assert
.
assertNull
;
RunWith
(
RobolectricTestRunner
.
class
)
public
class
TrieTest
{
Test
public
void
findNode
(
)
throws
Exception
{
final
Trie
trie
=
Trie
.
createRootNode
(
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hello
"
)
)
)
;
final
Trie
putNode
=
trie
.
put
(
FocusString
.
create
(
"
hello
"
)
)
;
final
Trie
foundNode
=
trie
.
findNode
(
FocusString
.
create
(
"
hello
"
)
)
;
assertNotNull
(
putNode
)
;
assertNotNull
(
foundNode
)
;
assertEquals
(
putNode
foundNode
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hell
"
)
)
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hellop
"
)
)
)
;
trie
.
put
(
FocusString
.
create
(
"
hellohello
"
)
)
;
assertNotNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hello
"
)
)
)
;
assertNotNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hellohello
"
)
)
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hell
"
)
)
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
hellop
"
)
)
)
;
trie
.
put
(
FocusString
.
create
(
"
foo
.
com
"
)
.
reverse
(
)
)
;
assertNotNull
(
trie
.
findNode
(
FocusString
.
create
(
"
foo
.
com
"
)
.
reverse
(
)
)
)
;
assertNotNull
(
trie
.
findNode
(
FocusString
.
create
(
"
bar
.
foo
.
com
"
)
.
reverse
(
)
)
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
bar
-
foo
.
com
"
)
.
reverse
(
)
)
)
;
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
oo
.
com
"
)
.
reverse
(
)
)
)
;
}
Test
public
void
testWhiteListTrie
(
)
{
final
WhiteListTrie
trie
;
{
final
Trie
whitelist
=
Trie
.
createRootNode
(
)
;
whitelist
.
put
(
FocusString
.
create
(
"
abc
"
)
)
;
trie
=
WhiteListTrie
.
createRootNode
(
)
;
trie
.
putWhiteList
(
FocusString
.
create
(
"
def
"
)
whitelist
)
;
}
assertNull
(
trie
.
findNode
(
FocusString
.
create
(
"
abc
"
)
)
)
;
final
WhiteListTrie
foundWhitelist
=
(
WhiteListTrie
)
trie
.
findNode
(
FocusString
.
create
(
"
def
"
)
)
;
assertNotNull
(
foundWhitelist
)
;
assertNotNull
(
foundWhitelist
.
whitelist
.
findNode
(
FocusString
.
create
(
"
abc
"
)
)
)
;
}
}

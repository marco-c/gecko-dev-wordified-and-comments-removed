package
org
.
mozilla
.
focus
.
utils
import
android
.
content
.
Context
import
java
.
io
.
File
private
const
val
WEBVIEW_DIRECTORY
=
"
app_webview
"
class
FileUtils
{
companion
object
{
JvmStatic
fun
truncateCacheDirectory
(
context
:
Context
)
:
Boolean
{
val
cacheDirectory
=
context
.
cacheDir
return
cacheDirectory
.
exists
(
)
&
&
deleteContent
(
cacheDirectory
)
}
JvmStatic
fun
deleteWebViewDirectory
(
context
:
Context
)
:
Boolean
{
val
webviewDirectory
=
File
(
context
.
applicationInfo
.
dataDir
WEBVIEW_DIRECTORY
)
return
webviewDirectory
.
deleteRecursively
(
)
}
private
fun
deleteContent
(
directory
:
File
)
=
directory
.
listFiles
(
)
?
.
all
{
it
.
deleteRecursively
(
)
}
?
:
false
}
}

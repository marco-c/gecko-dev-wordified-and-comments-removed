package
org
.
mozilla
.
focus
.
activity
;
import
android
.
app
.
Activity
;
import
android
.
content
.
Intent
;
import
android
.
net
.
Uri
;
import
android
.
os
.
Build
;
import
android
.
os
.
Bundle
;
import
android
.
support
.
annotation
.
Nullable
;
import
android
.
support
.
annotation
.
RequiresApi
;
import
org
.
mozilla
.
focus
.
utils
.
UrlUtils
;
public
class
TextActionActivity
extends
Activity
{
RequiresApi
(
api
=
Build
.
VERSION_CODES
.
M
)
Override
protected
void
onCreate
(
Nullable
Bundle
savedInstanceState
)
{
super
.
onCreate
(
savedInstanceState
)
;
final
String
searchText
=
getIntent
(
)
.
getCharSequenceExtra
(
Intent
.
EXTRA_PROCESS_TEXT
)
.
toString
(
)
;
final
String
searchUrl
=
UrlUtils
.
createSearchUrl
(
this
searchText
)
;
final
Intent
intent
=
new
Intent
(
this
MainActivity
.
class
)
;
intent
.
setAction
(
Intent
.
ACTION_VIEW
)
;
intent
.
putExtra
(
MainActivity
.
EXTRA_TEXT_SELECTION
true
)
;
intent
.
setData
(
Uri
.
parse
(
searchUrl
)
)
;
startActivity
(
intent
)
;
finish
(
)
;
}
}

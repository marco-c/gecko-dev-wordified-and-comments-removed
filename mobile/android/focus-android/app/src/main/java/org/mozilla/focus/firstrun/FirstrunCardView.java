package
org
.
mozilla
.
focus
.
firstrun
;
import
android
.
content
.
Context
;
import
android
.
content
.
res
.
Resources
;
import
android
.
support
.
v7
.
widget
.
CardView
;
import
android
.
util
.
AttributeSet
;
import
org
.
mozilla
.
focus
.
R
;
public
class
FirstrunCardView
extends
CardView
{
private
int
maxWidth
;
private
int
maxHeight
;
public
FirstrunCardView
(
Context
context
)
{
super
(
context
)
;
init
(
)
;
}
public
FirstrunCardView
(
Context
context
AttributeSet
attrs
)
{
super
(
context
attrs
)
;
init
(
)
;
}
public
FirstrunCardView
(
Context
context
AttributeSet
attrs
int
defStyleAttr
)
{
super
(
context
attrs
defStyleAttr
)
;
init
(
)
;
}
private
void
init
(
)
{
final
Resources
resources
=
getResources
(
)
;
maxWidth
=
resources
.
getDimensionPixelSize
(
R
.
dimen
.
firstrun_card_width
)
;
maxHeight
=
resources
.
getDimensionPixelSize
(
R
.
dimen
.
firstrun_card_height
)
;
}
Override
protected
void
onMeasure
(
int
widthMeasureSpec
int
heightMeasureSpec
)
{
final
int
availableWidth
=
MeasureSpec
.
getSize
(
widthMeasureSpec
)
;
final
int
availableHeight
=
MeasureSpec
.
getSize
(
heightMeasureSpec
)
;
final
int
measuredWidth
=
Math
.
min
(
availableWidth
maxWidth
)
;
final
int
measuredHeight
=
Math
.
min
(
availableHeight
maxHeight
)
;
widthMeasureSpec
=
MeasureSpec
.
makeMeasureSpec
(
measuredWidth
MeasureSpec
.
EXACTLY
)
;
heightMeasureSpec
=
MeasureSpec
.
makeMeasureSpec
(
measuredHeight
MeasureSpec
.
EXACTLY
)
;
super
.
onMeasure
(
widthMeasureSpec
heightMeasureSpec
)
;
}
}

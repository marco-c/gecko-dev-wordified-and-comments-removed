package
org
.
mozilla
.
focus
.
utils
;
import
android
.
content
.
Context
;
import
java
.
io
.
File
;
public
class
FileUtils
{
private
static
final
String
WEBVIEW_DIRECTORY
=
"
app_webview
"
;
public
static
boolean
truncateCacheDirectory
(
final
Context
context
)
{
final
File
cacheDirectory
=
context
.
getCacheDir
(
)
;
return
cacheDirectory
.
exists
(
)
&
&
deleteContent
(
cacheDirectory
)
;
}
public
static
boolean
deleteWebViewDirectory
(
final
Context
context
)
{
final
File
webviewDirectory
=
new
File
(
context
.
getApplicationInfo
(
)
.
dataDir
WEBVIEW_DIRECTORY
)
;
return
webviewDirectory
.
exists
(
)
&
&
deleteDirectory
(
webviewDirectory
)
;
}
private
static
boolean
deleteDirectory
(
File
directory
)
{
return
deleteContent
(
directory
)
&
&
directory
.
delete
(
)
;
}
private
static
boolean
deleteContent
(
File
directory
)
{
boolean
success
=
true
;
final
String
[
]
files
=
directory
.
list
(
)
;
if
(
files
=
=
null
)
{
return
false
;
}
for
(
final
String
name
:
files
)
{
final
File
file
=
new
File
(
directory
name
)
;
if
(
file
.
isDirectory
(
)
)
{
success
&
=
deleteDirectory
(
file
)
;
}
else
{
success
&
=
file
.
delete
(
)
;
}
}
return
success
;
}
}

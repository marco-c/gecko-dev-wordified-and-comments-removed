package
org
.
mozilla
.
focus
.
menu
.
browser
;
import
android
.
app
.
PendingIntent
;
import
android
.
content
.
Intent
;
import
android
.
net
.
Uri
;
import
android
.
view
.
View
;
import
org
.
mozilla
.
focus
.
R
;
import
org
.
mozilla
.
focus
.
telemetry
.
TelemetryWrapper
;
class
CustomTabMenuItemViewHolder
extends
MenuItemViewHolder
{
static
final
int
LAYOUT_ID
=
R
.
layout
.
custom_tab_menu_item
;
private
BrowserMenu
menu
;
private
PendingIntent
pendingIntent
;
CustomTabMenuItemViewHolder
(
View
itemView
)
{
super
(
itemView
)
;
}
Override
public
void
setMenu
(
BrowserMenu
menu
)
{
this
.
menu
=
menu
;
}
Override
public
void
onClick
(
View
view
)
{
if
(
menu
!
=
null
)
{
menu
.
dismiss
(
)
;
}
if
(
pendingIntent
=
=
null
)
{
throw
new
IllegalStateException
(
"
No
PendingIntent
set
for
CustomTabMenuItemViewHolder
"
)
;
}
try
{
final
Intent
intent
=
new
Intent
(
)
;
intent
.
setData
(
Uri
.
parse
(
browserFragment
.
getUrl
(
)
)
)
;
pendingIntent
.
send
(
view
.
getContext
(
)
0
intent
)
;
}
catch
(
PendingIntent
.
CanceledException
e
)
{
}
TelemetryWrapper
.
customTabMenuEvent
(
)
;
}
void
bind
(
BrowserMenuAdapter
.
MenuItem
menuItem
)
{
super
.
bind
(
menuItem
)
;
pendingIntent
=
menuItem
.
getPendingIntent
(
)
;
}
}

package
org
.
mozilla
.
focus
.
webkit
.
matcher
.
util
;
import
android
.
support
.
annotation
.
CheckResult
;
public
abstract
class
FocusString
{
protected
final
String
string
;
protected
abstract
boolean
isReversed
(
)
;
private
FocusString
(
final
String
string
)
{
this
.
string
=
string
;
}
public
static
FocusString
create
(
final
String
string
)
{
return
new
ForwardString
(
string
)
;
}
public
int
length
(
)
{
return
string
.
length
(
)
;
}
CheckResult
public
FocusString
reverse
(
)
{
if
(
isReversed
(
)
)
{
return
new
ForwardString
(
string
)
;
}
else
{
return
new
ReverseString
(
string
)
;
}
}
public
abstract
char
charAt
(
final
int
position
)
;
public
abstract
FocusString
substring
(
final
int
startIndex
)
;
private
static
class
ForwardString
extends
FocusString
{
public
ForwardString
(
String
string
)
{
super
(
string
)
;
}
Override
protected
boolean
isReversed
(
)
{
return
false
;
}
Override
public
char
charAt
(
int
position
)
{
return
string
.
charAt
(
position
)
;
}
Override
public
FocusString
substring
(
final
int
startIndex
)
{
return
new
ForwardString
(
string
.
substring
(
startIndex
)
)
;
}
}
private
static
class
ReverseString
extends
FocusString
{
public
ReverseString
(
String
string
)
{
super
(
string
)
;
}
Override
protected
boolean
isReversed
(
)
{
return
true
;
}
Override
public
char
charAt
(
int
position
)
{
return
string
.
charAt
(
length
(
)
-
1
-
position
)
;
}
Override
public
FocusString
substring
(
int
startIndex
)
{
return
new
ReverseString
(
string
.
substring
(
0
length
(
)
-
startIndex
)
)
;
}
}
}

package
org
.
mozilla
.
focus
.
utils
;
import
android
.
content
.
Context
;
import
android
.
text
.
TextUtils
;
import
com
.
adjust
.
sdk
.
Adjust
;
import
com
.
adjust
.
sdk
.
AdjustConfig
;
import
com
.
adjust
.
sdk
.
LogLevel
;
import
org
.
mozilla
.
focus
.
BuildConfig
;
import
org
.
mozilla
.
focus
.
telemetry
.
TelemetryWrapper
;
public
class
AdjustHelper
{
public
static
void
setupAdjustIfNeeded
(
Context
context
)
{
if
(
TextUtils
.
isEmpty
(
BuildConfig
.
ADJUST_TOKEN
)
)
{
throw
new
IllegalStateException
(
"
No
adjust
token
defined
for
release
build
"
)
;
}
if
(
!
TelemetryWrapper
.
isTelemetryEnabled
(
context
)
)
{
return
;
}
final
AdjustConfig
config
=
new
AdjustConfig
(
context
BuildConfig
.
ADJUST_TOKEN
AdjustConfig
.
ENVIRONMENT_PRODUCTION
true
)
;
config
.
setLogLevel
(
LogLevel
.
SUPRESS
)
;
Adjust
.
onCreate
(
config
)
;
}
}

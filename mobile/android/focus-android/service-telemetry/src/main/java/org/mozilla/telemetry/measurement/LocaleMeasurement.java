package
org
.
mozilla
.
telemetry
.
measurement
;
import
java
.
util
.
Locale
;
public
class
LocaleMeasurement
extends
TelemetryMeasurement
{
private
static
final
String
FIELD_NAME
=
"
locale
"
;
public
LocaleMeasurement
(
)
{
super
(
FIELD_NAME
)
;
}
Override
public
Object
flush
(
)
{
return
getLanguageTag
(
Locale
.
getDefault
(
)
)
;
}
public
String
getLanguageTag
(
final
Locale
locale
)
{
final
String
language
=
getLanguage
(
locale
)
;
final
String
country
=
locale
.
getCountry
(
)
;
if
(
country
.
equals
(
"
"
)
)
{
return
language
;
}
return
language
+
"
-
"
+
country
;
}
private
String
getLanguage
(
final
Locale
locale
)
{
final
String
language
=
locale
.
getLanguage
(
)
;
if
(
language
.
equals
(
"
iw
"
)
)
{
return
"
he
"
;
}
if
(
language
.
equals
(
"
in
"
)
)
{
return
"
id
"
;
}
if
(
language
.
equals
(
"
ji
"
)
)
{
return
"
yi
"
;
}
return
language
;
}
}

package
com
.
leanplum
;
import
android
.
os
.
Bundle
;
import
com
.
google
.
android
.
gms
.
gcm
.
GcmListenerService
;
import
com
.
leanplum
.
internal
.
Constants
.
Keys
;
import
com
.
leanplum
.
internal
.
Log
;
import
com
.
leanplum
.
internal
.
Util
;
public
class
LeanplumPushListenerService
extends
GcmListenerService
{
Override
public
void
onMessageReceived
(
String
senderId
Bundle
data
)
{
try
{
if
(
data
.
containsKey
(
Keys
.
PUSH_MESSAGE_TEXT
)
)
{
if
(
Leanplum
.
getContext
(
)
=
=
null
)
{
Leanplum
.
setApplicationContext
(
this
)
;
}
LeanplumPushService
.
handleNotification
(
this
data
)
;
}
Log
.
i
(
"
Received
:
"
+
data
.
toString
(
)
)
;
}
catch
(
Throwable
t
)
{
Util
.
handleException
(
t
)
;
}
}
}

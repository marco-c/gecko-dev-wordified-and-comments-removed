package
org
.
mozilla
.
gecko
.
fxa
.
activities
;
import
org
.
mozilla
.
gecko
.
R
;
import
org
.
mozilla
.
gecko
.
background
.
common
.
log
.
Logger
;
import
org
.
mozilla
.
gecko
.
background
.
fxa
.
FxAccountClient20
.
LoginResponse
;
import
org
.
mozilla
.
gecko
.
fxa
.
login
.
State
;
import
org
.
mozilla
.
gecko
.
fxa
.
login
.
State
.
StateLabel
;
import
android
.
content
.
Intent
;
public
class
FxAccountUpdateCredentialsActivity
extends
FxAccountAbstractUpdateCredentialsActivity
{
protected
static
final
String
LOG_TAG
=
FxAccountUpdateCredentialsActivity
.
class
.
getSimpleName
(
)
;
public
FxAccountUpdateCredentialsActivity
(
)
{
super
(
R
.
layout
.
fxaccount_update_credentials
)
;
}
Override
public
void
onResume
(
)
{
super
.
onResume
(
)
;
this
.
fxAccount
=
getAndroidFxAccount
(
)
;
if
(
fxAccount
=
=
null
)
{
Logger
.
warn
(
LOG_TAG
"
Could
not
get
Firefox
Account
.
"
)
;
setResult
(
RESULT_CANCELED
)
;
finish
(
)
;
return
;
}
final
State
state
=
fxAccount
.
getState
(
)
;
if
(
state
.
getStateLabel
(
)
!
=
StateLabel
.
Separated
)
{
Logger
.
warn
(
LOG_TAG
"
Cannot
update
credentials
from
Firefox
Account
in
state
:
"
+
state
.
getStateLabel
(
)
)
;
setResult
(
RESULT_CANCELED
)
;
finish
(
)
;
return
;
}
emailEdit
.
setText
(
fxAccount
.
getEmail
(
)
)
;
}
Override
public
Intent
makeSuccessIntent
(
String
email
LoginResponse
result
)
{
return
null
;
}
}

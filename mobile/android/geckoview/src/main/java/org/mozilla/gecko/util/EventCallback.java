package
org
.
mozilla
.
gecko
.
util
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
gecko
.
annotation
.
RobocopTarget
;
import
org
.
mozilla
.
gecko
.
annotation
.
WrapForJNI
;
import
org
.
mozilla
.
geckoview
.
GeckoResult
;
RobocopTarget
WrapForJNI
(
calledFrom
=
"
gecko
"
)
public
interface
EventCallback
{
void
sendSuccess
(
Object
response
)
;
void
sendError
(
Object
response
)
;
default
<
T
>
void
resolveTo
(
final
Nullable
GeckoResult
<
T
>
response
)
{
if
(
response
=
=
null
)
{
sendSuccess
(
null
)
;
return
;
}
response
.
accept
(
this
:
:
sendSuccess
throwable
-
>
{
if
(
!
(
throwable
instanceof
Exception
)
)
{
throw
new
GeckoResult
.
UncaughtException
(
throwable
)
;
}
sendError
(
throwable
.
getMessage
(
)
)
;
}
)
;
}
}

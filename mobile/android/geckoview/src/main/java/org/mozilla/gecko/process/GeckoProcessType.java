package
org
.
mozilla
.
gecko
.
process
;
import
android
.
os
.
Build
;
import
org
.
mozilla
.
gecko
.
annotation
.
WrapForJNI
;
WrapForJNI
public
enum
GeckoProcessType
{
PARENT
(
"
default
"
)
OBSOLETE1
(
"
plugin
"
)
CONTENT
(
"
tab
"
)
IPDLUNITTEST
(
"
ipdlunittest
"
)
GMPLUGIN
(
"
gmplugin
"
)
GPU
(
"
gpu
"
)
VR
(
"
vr
"
)
RDD
(
"
rdd
"
)
SOCKET
(
"
socket
"
)
OBSOLETE2
(
"
sandboxbroker
"
)
FORKSERVER
(
"
forkserver
"
)
UTILITY
(
"
utility
"
)
CONTENT_ISOLATED
(
"
isolatedTab
"
)
CONTENT_ISOLATED_WITH_ZYGOTE
(
"
isolatedTabWithZygote
"
)
;
private
final
String
mGeckoName
;
GeckoProcessType
(
final
String
geckoName
)
{
mGeckoName
=
geckoName
;
}
Override
public
String
toString
(
)
{
return
mGeckoName
;
}
WrapForJNI
private
static
GeckoProcessType
fromInt
(
final
int
type
)
{
return
values
(
)
[
type
]
;
}
static
GeckoProcessType
determineContentProcessType
(
)
{
final
GeckoProcessManager
pm
=
GeckoProcessManager
.
getInstance
(
)
;
if
(
pm
.
isAppZygoteEnabled
(
)
&
&
Build
.
VERSION
.
SDK_INT
>
=
Build
.
VERSION_CODES
.
Q
)
{
return
GeckoProcessType
.
CONTENT_ISOLATED_WITH_ZYGOTE
;
}
else
if
(
pm
.
isIsolatedProcessEnabled
(
)
)
{
return
GeckoProcessType
.
CONTENT_ISOLATED
;
}
else
{
return
GeckoProcessType
.
CONTENT
;
}
}
}

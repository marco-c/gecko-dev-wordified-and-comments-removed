package
org
.
mozilla
.
gecko
.
util
;
import
android
.
content
.
Context
;
import
org
.
junit
.
Before
;
import
org
.
junit
.
Test
;
import
org
.
junit
.
runner
.
RunWith
;
import
org
.
robolectric
.
RobolectricTestRunner
;
import
org
.
robolectric
.
RuntimeEnvironment
;
import
static
org
.
junit
.
Assert
.
*
;
RunWith
(
RobolectricTestRunner
.
class
)
public
class
TestContextUtils
{
private
Context
context
;
Before
public
void
setUp
(
)
{
context
=
RuntimeEnvironment
.
application
;
}
Test
public
void
testGetPackageInstallTimeReturnsReasonableValue
(
)
throws
Exception
{
final
long
installTime
=
ContextUtils
.
getCurrentPackageInfo
(
context
)
.
firstInstallTime
;
assertTrue
(
"
Package
install
time
is
positive
"
installTime
>
=
0
)
;
assertTrue
(
"
Package
install
time
is
less
than
current
time
"
installTime
<
System
.
currentTimeMillis
(
)
)
;
}
}

package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
metadata
;
import
android
.
os
.
Parcel
;
import
android
.
os
.
Parcelable
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
Format
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
.
Util
;
import
java
.
util
.
Arrays
;
import
java
.
util
.
List
;
public
final
class
Metadata
implements
Parcelable
{
public
interface
Entry
extends
Parcelable
{
Nullable
default
Format
getWrappedMetadataFormat
(
)
{
return
null
;
}
Nullable
default
byte
[
]
getWrappedMetadataBytes
(
)
{
return
null
;
}
}
private
final
Entry
[
]
entries
;
public
Metadata
(
Entry
.
.
.
entries
)
{
this
.
entries
=
entries
;
}
public
Metadata
(
List
<
?
extends
Entry
>
entries
)
{
this
.
entries
=
new
Entry
[
entries
.
size
(
)
]
;
entries
.
toArray
(
this
.
entries
)
;
}
Metadata
(
Parcel
in
)
{
entries
=
new
Metadata
.
Entry
[
in
.
readInt
(
)
]
;
for
(
int
i
=
0
;
i
<
entries
.
length
;
i
+
+
)
{
entries
[
i
]
=
in
.
readParcelable
(
Entry
.
class
.
getClassLoader
(
)
)
;
}
}
public
int
length
(
)
{
return
entries
.
length
;
}
public
Metadata
.
Entry
get
(
int
index
)
{
return
entries
[
index
]
;
}
public
Metadata
copyWithAppendedEntriesFrom
(
Nullable
Metadata
other
)
{
if
(
other
=
=
null
)
{
return
this
;
}
return
copyWithAppendedEntries
(
other
.
entries
)
;
}
public
Metadata
copyWithAppendedEntries
(
Entry
.
.
.
entriesToAppend
)
{
if
(
entriesToAppend
.
length
=
=
0
)
{
return
this
;
}
return
new
Metadata
(
Util
.
nullSafeArrayConcatenation
(
entries
entriesToAppend
)
)
;
}
Override
public
boolean
equals
(
Nullable
Object
obj
)
{
if
(
this
=
=
obj
)
{
return
true
;
}
if
(
obj
=
=
null
|
|
getClass
(
)
!
=
obj
.
getClass
(
)
)
{
return
false
;
}
Metadata
other
=
(
Metadata
)
obj
;
return
Arrays
.
equals
(
entries
other
.
entries
)
;
}
Override
public
int
hashCode
(
)
{
return
Arrays
.
hashCode
(
entries
)
;
}
Override
public
String
toString
(
)
{
return
"
entries
=
"
+
Arrays
.
toString
(
entries
)
;
}
Override
public
int
describeContents
(
)
{
return
0
;
}
Override
public
void
writeToParcel
(
Parcel
dest
int
flags
)
{
dest
.
writeInt
(
entries
.
length
)
;
for
(
Entry
entry
:
entries
)
{
dest
.
writeParcelable
(
entry
0
)
;
}
}
public
static
final
Parcelable
.
Creator
<
Metadata
>
CREATOR
=
new
Parcelable
.
Creator
<
Metadata
>
(
)
{
Override
public
Metadata
createFromParcel
(
Parcel
in
)
{
return
new
Metadata
(
in
)
;
}
Override
public
Metadata
[
]
newArray
(
int
size
)
{
return
new
Metadata
[
size
]
;
}
}
;
}

package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
source
.
chunk
;
import
android
.
net
.
Uri
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
C
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
Format
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
upstream
.
DataSource
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
upstream
.
DataSpec
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
upstream
.
Loader
.
Loadable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
upstream
.
StatsDataSource
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
.
Assertions
;
import
java
.
util
.
List
;
import
java
.
util
.
Map
;
public
abstract
class
Chunk
implements
Loadable
{
public
final
DataSpec
dataSpec
;
public
final
int
type
;
public
final
Format
trackFormat
;
public
final
int
trackSelectionReason
;
Nullable
public
final
Object
trackSelectionData
;
public
final
long
startTimeUs
;
public
final
long
endTimeUs
;
protected
final
StatsDataSource
dataSource
;
public
Chunk
(
DataSource
dataSource
DataSpec
dataSpec
int
type
Format
trackFormat
int
trackSelectionReason
Nullable
Object
trackSelectionData
long
startTimeUs
long
endTimeUs
)
{
this
.
dataSource
=
new
StatsDataSource
(
dataSource
)
;
this
.
dataSpec
=
Assertions
.
checkNotNull
(
dataSpec
)
;
this
.
type
=
type
;
this
.
trackFormat
=
trackFormat
;
this
.
trackSelectionReason
=
trackSelectionReason
;
this
.
trackSelectionData
=
trackSelectionData
;
this
.
startTimeUs
=
startTimeUs
;
this
.
endTimeUs
=
endTimeUs
;
}
public
final
long
getDurationUs
(
)
{
return
endTimeUs
-
startTimeUs
;
}
public
final
long
bytesLoaded
(
)
{
return
dataSource
.
getBytesRead
(
)
;
}
public
final
Uri
getUri
(
)
{
return
dataSource
.
getLastOpenedUri
(
)
;
}
public
final
Map
<
String
List
<
String
>
>
getResponseHeaders
(
)
{
return
dataSource
.
getLastResponseHeaders
(
)
;
}
}

package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
extractor
.
flv
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
ParserException
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
extractor
.
TrackOutput
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
.
ParsableByteArray
;
abstract
class
TagPayloadReader
{
public
static
final
class
UnsupportedFormatException
extends
ParserException
{
public
UnsupportedFormatException
(
String
msg
)
{
super
(
msg
)
;
}
}
protected
final
TrackOutput
output
;
protected
TagPayloadReader
(
TrackOutput
output
)
{
this
.
output
=
output
;
}
public
abstract
void
seek
(
)
;
public
final
boolean
consume
(
ParsableByteArray
data
long
timeUs
)
throws
ParserException
{
return
parseHeader
(
data
)
&
&
parsePayload
(
data
timeUs
)
;
}
protected
abstract
boolean
parseHeader
(
ParsableByteArray
data
)
throws
ParserException
;
protected
abstract
boolean
parsePayload
(
ParsableByteArray
data
long
timeUs
)
throws
ParserException
;
}

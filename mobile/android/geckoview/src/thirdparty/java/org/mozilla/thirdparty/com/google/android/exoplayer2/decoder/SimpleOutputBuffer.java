package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
decoder
;
import
androidx
.
annotation
.
Nullable
;
import
java
.
nio
.
ByteBuffer
;
import
java
.
nio
.
ByteOrder
;
public
class
SimpleOutputBuffer
extends
OutputBuffer
{
private
final
SimpleDecoder
<
?
SimpleOutputBuffer
?
>
owner
;
Nullable
public
ByteBuffer
data
;
public
SimpleOutputBuffer
(
SimpleDecoder
<
?
SimpleOutputBuffer
?
>
owner
)
{
this
.
owner
=
owner
;
}
public
ByteBuffer
init
(
long
timeUs
int
size
)
{
this
.
timeUs
=
timeUs
;
if
(
data
=
=
null
|
|
data
.
capacity
(
)
<
size
)
{
data
=
ByteBuffer
.
allocateDirect
(
size
)
.
order
(
ByteOrder
.
nativeOrder
(
)
)
;
}
data
.
position
(
0
)
;
data
.
limit
(
size
)
;
return
data
;
}
Override
public
void
clear
(
)
{
super
.
clear
(
)
;
if
(
data
!
=
null
)
{
data
.
clear
(
)
;
}
}
Override
public
void
release
(
)
{
owner
.
releaseOutputBuffer
(
this
)
;
}
}

package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
;
import
java
.
io
.
BufferedOutputStream
;
import
java
.
io
.
IOException
;
import
java
.
io
.
OutputStream
;
public
final
class
ReusableBufferedOutputStream
extends
BufferedOutputStream
{
private
boolean
closed
;
public
ReusableBufferedOutputStream
(
OutputStream
out
)
{
super
(
out
)
;
}
public
ReusableBufferedOutputStream
(
OutputStream
out
int
size
)
{
super
(
out
size
)
;
}
Override
public
void
close
(
)
throws
IOException
{
closed
=
true
;
Throwable
thrown
=
null
;
try
{
flush
(
)
;
}
catch
(
Throwable
e
)
{
thrown
=
e
;
}
try
{
out
.
close
(
)
;
}
catch
(
Throwable
e
)
{
if
(
thrown
=
=
null
)
{
thrown
=
e
;
}
}
if
(
thrown
!
=
null
)
{
Util
.
sneakyThrow
(
thrown
)
;
}
}
public
void
reset
(
OutputStream
out
)
{
Assertions
.
checkState
(
closed
)
;
this
.
out
=
out
;
count
=
0
;
closed
=
false
;
}
}

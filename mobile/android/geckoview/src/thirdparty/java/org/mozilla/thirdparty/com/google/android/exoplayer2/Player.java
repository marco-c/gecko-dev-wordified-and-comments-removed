package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
;
import
android
.
os
.
Looper
;
import
android
.
view
.
Surface
;
import
android
.
view
.
SurfaceHolder
;
import
android
.
view
.
SurfaceView
;
import
android
.
view
.
TextureView
;
import
androidx
.
annotation
.
IntDef
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
C
.
VideoScalingMode
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
audio
.
AudioAttributes
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
audio
.
AudioListener
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
audio
.
AuxEffectInfo
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
metadata
.
MetadataOutput
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
source
.
TrackGroupArray
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
text
.
TextOutput
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
trackselection
.
TrackSelectionArray
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
.
Util
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
video
.
VideoDecoderOutputBufferRenderer
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
video
.
VideoFrameMetadataListener
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
video
.
VideoListener
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
video
.
spherical
.
CameraMotionListener
;
import
java
.
lang
.
annotation
.
Documented
;
import
java
.
lang
.
annotation
.
Retention
;
import
java
.
lang
.
annotation
.
RetentionPolicy
;
public
interface
Player
{
interface
AudioComponent
{
void
addAudioListener
(
AudioListener
listener
)
;
void
removeAudioListener
(
AudioListener
listener
)
;
Deprecated
void
setAudioAttributes
(
AudioAttributes
audioAttributes
)
;
void
setAudioAttributes
(
AudioAttributes
audioAttributes
boolean
handleAudioFocus
)
;
AudioAttributes
getAudioAttributes
(
)
;
int
getAudioSessionId
(
)
;
void
setAuxEffectInfo
(
AuxEffectInfo
auxEffectInfo
)
;
void
clearAuxEffectInfo
(
)
;
void
setVolume
(
float
audioVolume
)
;
float
getVolume
(
)
;
}
interface
VideoComponent
{
void
setVideoScalingMode
(
VideoScalingMode
int
videoScalingMode
)
;
VideoScalingMode
int
getVideoScalingMode
(
)
;
void
addVideoListener
(
VideoListener
listener
)
;
void
removeVideoListener
(
VideoListener
listener
)
;
void
setVideoFrameMetadataListener
(
VideoFrameMetadataListener
listener
)
;
void
clearVideoFrameMetadataListener
(
VideoFrameMetadataListener
listener
)
;
void
setCameraMotionListener
(
CameraMotionListener
listener
)
;
void
clearCameraMotionListener
(
CameraMotionListener
listener
)
;
void
clearVideoSurface
(
)
;
void
clearVideoSurface
(
Nullable
Surface
surface
)
;
void
setVideoSurface
(
Nullable
Surface
surface
)
;
void
setVideoSurfaceHolder
(
Nullable
SurfaceHolder
surfaceHolder
)
;
void
clearVideoSurfaceHolder
(
Nullable
SurfaceHolder
surfaceHolder
)
;
void
setVideoSurfaceView
(
Nullable
SurfaceView
surfaceView
)
;
void
clearVideoSurfaceView
(
Nullable
SurfaceView
surfaceView
)
;
void
setVideoTextureView
(
Nullable
TextureView
textureView
)
;
void
clearVideoTextureView
(
Nullable
TextureView
textureView
)
;
void
setVideoDecoderOutputBufferRenderer
(
Nullable
VideoDecoderOutputBufferRenderer
videoDecoderOutputBufferRenderer
)
;
void
clearVideoDecoderOutputBufferRenderer
(
)
;
void
clearVideoDecoderOutputBufferRenderer
(
Nullable
VideoDecoderOutputBufferRenderer
videoDecoderOutputBufferRenderer
)
;
}
interface
TextComponent
{
void
addTextOutput
(
TextOutput
listener
)
;
void
removeTextOutput
(
TextOutput
listener
)
;
}
interface
MetadataComponent
{
void
addMetadataOutput
(
MetadataOutput
output
)
;
void
removeMetadataOutput
(
MetadataOutput
output
)
;
}
interface
EventListener
{
SuppressWarnings
(
"
deprecation
"
)
default
void
onTimelineChanged
(
Timeline
timeline
TimelineChangeReason
int
reason
)
{
Object
manifest
=
null
;
if
(
timeline
.
getWindowCount
(
)
=
=
1
)
{
Timeline
.
Window
window
=
new
Timeline
.
Window
(
)
;
manifest
=
timeline
.
getWindow
(
0
window
)
.
manifest
;
}
onTimelineChanged
(
timeline
manifest
reason
)
;
}
Deprecated
default
void
onTimelineChanged
(
Timeline
timeline
Nullable
Object
manifest
TimelineChangeReason
int
reason
)
{
}
default
void
onTracksChanged
(
TrackGroupArray
trackGroups
TrackSelectionArray
trackSelections
)
{
}
default
void
onLoadingChanged
(
boolean
isLoading
)
{
}
default
void
onPlayerStateChanged
(
boolean
playWhenReady
State
int
playbackState
)
{
}
default
void
onPlaybackSuppressionReasonChanged
(
PlaybackSuppressionReason
int
playbackSuppressionReason
)
{
}
default
void
onIsPlayingChanged
(
boolean
isPlaying
)
{
}
default
void
onRepeatModeChanged
(
RepeatMode
int
repeatMode
)
{
}
default
void
onShuffleModeEnabledChanged
(
boolean
shuffleModeEnabled
)
{
}
default
void
onPlayerError
(
ExoPlaybackException
error
)
{
}
default
void
onPositionDiscontinuity
(
DiscontinuityReason
int
reason
)
{
}
default
void
onPlaybackParametersChanged
(
PlaybackParameters
playbackParameters
)
{
}
default
void
onSeekProcessed
(
)
{
}
}
Deprecated
abstract
class
DefaultEventListener
implements
EventListener
{
Override
public
void
onTimelineChanged
(
Timeline
timeline
TimelineChangeReason
int
reason
)
{
Object
manifest
=
null
;
if
(
timeline
.
getWindowCount
(
)
=
=
1
)
{
Timeline
.
Window
window
=
new
Timeline
.
Window
(
)
;
manifest
=
timeline
.
getWindow
(
0
window
)
.
manifest
;
}
onTimelineChanged
(
timeline
manifest
reason
)
;
}
Override
SuppressWarnings
(
"
deprecation
"
)
public
void
onTimelineChanged
(
Timeline
timeline
Nullable
Object
manifest
TimelineChangeReason
int
reason
)
{
onTimelineChanged
(
timeline
manifest
)
;
}
Deprecated
public
void
onTimelineChanged
(
Timeline
timeline
Nullable
Object
manifest
)
{
}
}
Documented
Retention
(
RetentionPolicy
.
SOURCE
)
IntDef
(
{
STATE_IDLE
STATE_BUFFERING
STATE_READY
STATE_ENDED
}
)
interface
State
{
}
int
STATE_IDLE
=
1
;
int
STATE_BUFFERING
=
2
;
int
STATE_READY
=
3
;
int
STATE_ENDED
=
4
;
Documented
Retention
(
RetentionPolicy
.
SOURCE
)
IntDef
(
{
PLAYBACK_SUPPRESSION_REASON_NONE
PLAYBACK_SUPPRESSION_REASON_TRANSIENT_AUDIO_FOCUS_LOSS
}
)
interface
PlaybackSuppressionReason
{
}
int
PLAYBACK_SUPPRESSION_REASON_NONE
=
0
;
int
PLAYBACK_SUPPRESSION_REASON_TRANSIENT_AUDIO_FOCUS_LOSS
=
1
;
Documented
Retention
(
RetentionPolicy
.
SOURCE
)
IntDef
(
{
REPEAT_MODE_OFF
REPEAT_MODE_ONE
REPEAT_MODE_ALL
}
)
interface
RepeatMode
{
}
int
REPEAT_MODE_OFF
=
0
;
int
REPEAT_MODE_ONE
=
1
;
int
REPEAT_MODE_ALL
=
2
;
Documented
Retention
(
RetentionPolicy
.
SOURCE
)
IntDef
(
{
DISCONTINUITY_REASON_PERIOD_TRANSITION
DISCONTINUITY_REASON_SEEK
DISCONTINUITY_REASON_SEEK_ADJUSTMENT
DISCONTINUITY_REASON_AD_INSERTION
DISCONTINUITY_REASON_INTERNAL
}
)
interface
DiscontinuityReason
{
}
int
DISCONTINUITY_REASON_PERIOD_TRANSITION
=
0
;
int
DISCONTINUITY_REASON_SEEK
=
1
;
int
DISCONTINUITY_REASON_SEEK_ADJUSTMENT
=
2
;
int
DISCONTINUITY_REASON_AD_INSERTION
=
3
;
int
DISCONTINUITY_REASON_INTERNAL
=
4
;
Documented
Retention
(
RetentionPolicy
.
SOURCE
)
IntDef
(
{
TIMELINE_CHANGE_REASON_PREPARED
TIMELINE_CHANGE_REASON_RESET
TIMELINE_CHANGE_REASON_DYNAMIC
}
)
interface
TimelineChangeReason
{
}
int
TIMELINE_CHANGE_REASON_PREPARED
=
0
;
int
TIMELINE_CHANGE_REASON_RESET
=
1
;
int
TIMELINE_CHANGE_REASON_DYNAMIC
=
2
;
Nullable
AudioComponent
getAudioComponent
(
)
;
Nullable
VideoComponent
getVideoComponent
(
)
;
Nullable
TextComponent
getTextComponent
(
)
;
Nullable
MetadataComponent
getMetadataComponent
(
)
;
Looper
getApplicationLooper
(
)
;
void
addListener
(
EventListener
listener
)
;
void
removeListener
(
EventListener
listener
)
;
State
int
getPlaybackState
(
)
;
PlaybackSuppressionReason
int
getPlaybackSuppressionReason
(
)
;
boolean
isPlaying
(
)
;
Nullable
ExoPlaybackException
getPlaybackError
(
)
;
void
setPlayWhenReady
(
boolean
playWhenReady
)
;
boolean
getPlayWhenReady
(
)
;
void
setRepeatMode
(
RepeatMode
int
repeatMode
)
;
RepeatMode
int
getRepeatMode
(
)
;
void
setShuffleModeEnabled
(
boolean
shuffleModeEnabled
)
;
boolean
getShuffleModeEnabled
(
)
;
boolean
isLoading
(
)
;
void
seekToDefaultPosition
(
)
;
void
seekToDefaultPosition
(
int
windowIndex
)
;
void
seekTo
(
long
positionMs
)
;
void
seekTo
(
int
windowIndex
long
positionMs
)
;
boolean
hasPrevious
(
)
;
void
previous
(
)
;
boolean
hasNext
(
)
;
void
next
(
)
;
void
setPlaybackParameters
(
Nullable
PlaybackParameters
playbackParameters
)
;
PlaybackParameters
getPlaybackParameters
(
)
;
void
stop
(
)
;
void
stop
(
boolean
reset
)
;
void
release
(
)
;
int
getRendererCount
(
)
;
int
getRendererType
(
int
index
)
;
TrackGroupArray
getCurrentTrackGroups
(
)
;
TrackSelectionArray
getCurrentTrackSelections
(
)
;
Nullable
Object
getCurrentManifest
(
)
;
Timeline
getCurrentTimeline
(
)
;
int
getCurrentPeriodIndex
(
)
;
int
getCurrentWindowIndex
(
)
;
int
getNextWindowIndex
(
)
;
int
getPreviousWindowIndex
(
)
;
Nullable
Object
getCurrentTag
(
)
;
long
getDuration
(
)
;
long
getCurrentPosition
(
)
;
long
getBufferedPosition
(
)
;
int
getBufferedPercentage
(
)
;
long
getTotalBufferedDuration
(
)
;
boolean
isCurrentWindowDynamic
(
)
;
boolean
isCurrentWindowLive
(
)
;
boolean
isCurrentWindowSeekable
(
)
;
boolean
isPlayingAd
(
)
;
int
getCurrentAdGroupIndex
(
)
;
int
getCurrentAdIndexInAdGroup
(
)
;
long
getContentDuration
(
)
;
long
getContentPosition
(
)
;
long
getContentBufferedPosition
(
)
;
}

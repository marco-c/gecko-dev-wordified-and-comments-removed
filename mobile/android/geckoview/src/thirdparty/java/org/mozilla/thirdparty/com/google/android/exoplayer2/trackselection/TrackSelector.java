package
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
trackselection
;
import
androidx
.
annotation
.
Nullable
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
ExoPlaybackException
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
ExoPlayer
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
Renderer
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
RendererCapabilities
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
RendererConfiguration
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
Timeline
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
source
.
MediaSource
.
MediaPeriodId
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
source
.
TrackGroupArray
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
upstream
.
BandwidthMeter
;
import
org
.
mozilla
.
thirdparty
.
com
.
google
.
android
.
exoplayer2
.
util
.
Assertions
;
public
abstract
class
TrackSelector
{
public
interface
InvalidationListener
{
void
onTrackSelectionsInvalidated
(
)
;
}
Nullable
private
InvalidationListener
listener
;
Nullable
private
BandwidthMeter
bandwidthMeter
;
public
final
void
init
(
InvalidationListener
listener
BandwidthMeter
bandwidthMeter
)
{
this
.
listener
=
listener
;
this
.
bandwidthMeter
=
bandwidthMeter
;
}
public
abstract
TrackSelectorResult
selectTracks
(
RendererCapabilities
[
]
rendererCapabilities
TrackGroupArray
trackGroups
MediaPeriodId
periodId
Timeline
timeline
)
throws
ExoPlaybackException
;
public
abstract
void
onSelectionActivated
(
Object
info
)
;
protected
final
void
invalidate
(
)
{
if
(
listener
!
=
null
)
{
listener
.
onTrackSelectionsInvalidated
(
)
;
}
}
protected
final
BandwidthMeter
getBandwidthMeter
(
)
{
return
Assertions
.
checkNotNull
(
bandwidthMeter
)
;
}
}

ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
GeckoViewContentModule
.
jsm
"
)
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
XPCOMUtils
.
defineLazyGetter
(
this
"
dump
"
(
)
=
>
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
AndroidLog
.
jsm
"
{
}
)
.
AndroidLog
.
d
.
bind
(
null
"
ViewSettings
[
C
]
"
)
)
;
function
debug
(
aMsg
)
{
}
class
GeckoViewContentSettings
extends
GeckoViewContentModule
{
init
(
)
{
debug
(
"
init
"
)
;
this
.
_useTrackingProtection
=
false
;
}
onSettingsUpdate
(
)
{
debug
(
"
onSettingsUpdate
"
)
;
this
.
useTrackingProtection
=
!
!
this
.
settings
.
useTrackingProtection
;
}
get
useTrackingProtection
(
)
{
return
this
.
_useTrackingProtection
;
}
set
useTrackingProtection
(
aUse
)
{
if
(
aUse
!
=
this
.
_useTrackingProtection
)
{
docShell
.
useTrackingProtection
=
aUse
;
this
.
_useTrackingProtection
=
aUse
;
}
}
}
var
settings
=
new
GeckoViewContentSettings
(
"
GeckoViewSettings
"
this
)
;

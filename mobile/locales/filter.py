"
"
"
This
routine
controls
which
localizable
files
and
entries
are
reported
and
l10n
-
merged
.
This
needs
to
stay
in
sync
with
the
copy
in
mobile
/
android
/
locales
.
"
"
"
from
__future__
import
absolute_import
def
test
(
mod
path
entity
=
None
)
:
    
import
re
    
if
mod
not
in
(
"
dom
"
"
toolkit
"
"
mobile
"
"
mobile
/
android
/
base
"
"
mobile
/
android
"
)
:
        
return
"
ignore
"
    
if
mod
=
=
"
toolkit
"
:
        
if
path
in
(
            
"
chrome
/
global
/
aboutReader
.
properties
"
            
"
chrome
/
global
/
commonDialogs
.
properties
"
            
"
chrome
/
global
/
intl
.
properties
"
            
"
chrome
/
global
/
intl
.
css
"
        
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
crashreporter
/
[
^
/
]
*
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
About
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
Mozilla
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
Plugins
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
Rights
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
Compat
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
Support
.
ftl
"
path
)
:
            
return
"
error
"
        
if
re
.
match
(
r
"
toolkit
/
about
/
[
^
/
]
*
Webrtc
.
ftl
"
path
)
:
            
return
"
error
"
        
return
"
ignore
"
    
if
mod
=
=
"
dom
"
:
        
if
path
in
(
            
"
chrome
/
global
.
dtd
"
            
"
chrome
/
accessibility
/
AccessFu
.
properties
"
            
"
chrome
/
dom
/
dom
.
properties
"
            
"
chrome
/
plugins
.
properties
"
        
)
:
            
return
"
error
"
        
return
"
ignore
"
    
if
mod
not
in
(
"
mobile
"
"
mobile
/
android
"
)
:
        
return
"
error
"
    
if
mod
=
=
"
mobile
/
android
"
:
        
if
entity
is
None
:
            
if
re
.
match
(
r
"
mobile
-
l10n
.
js
"
path
)
or
re
.
match
(
r
"
defines
.
inc
"
path
)
:
                
return
"
ignore
"
        
if
path
=
=
"
defines
.
inc
"
:
            
if
entity
=
=
"
MOZ_LANGPACK_CONTRIBUTORS
"
:
                
return
"
ignore
"
        
return
"
error
"
    
if
path
=
=
"
chrome
/
region
.
properties
"
:
        
if
(
            
re
.
match
(
r
"
browser
\
.
contentHandlers
\
.
types
\
.
[
0
-
5
]
"
entity
)
            
or
re
.
match
(
r
"
gecko
\
.
handlerService
\
.
schemes
\
.
"
entity
)
            
or
re
.
match
(
r
"
gecko
\
.
handlerService
\
.
defaultHandlersVersion
"
entity
)
            
or
re
.
match
(
r
"
browser
\
.
suggestedsites
\
.
"
entity
)
        
)
:
            
return
"
ignore
"
    
return
"
error
"

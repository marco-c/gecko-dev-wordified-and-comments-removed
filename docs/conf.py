from
__future__
import
absolute_import
unicode_literals
import
os
import
sys
from
recommonmark
.
transform
import
AutoStructify
OUR_DIR
=
os
.
path
.
dirname
(
__file__
)
topsrcdir
=
os
.
path
.
normpath
(
os
.
path
.
join
(
OUR_DIR
"
.
.
"
)
)
copybutton_prompt_text
=
r
"
>
>
>
|
\
.
\
.
\
.
|
\
|
In
\
[
\
d
*
\
]
:
|
{
2
5
}
\
.
\
.
\
.
:
|
{
5
8
}
:
"
copybutton_prompt_is_regexp
=
True
EXTRA_PATHS
=
(
    
"
layout
/
tools
/
reftest
"
    
"
python
/
mach
"
    
"
python
/
mozbuild
"
    
"
python
/
mozversioncontrol
"
    
"
testing
/
mozbase
/
manifestparser
"
    
"
testing
/
mozbase
/
mozfile
"
    
"
testing
/
mozbase
/
mozprocess
"
    
"
third_party
/
python
/
futures
"
    
"
third_party
/
python
/
jsmin
"
    
"
third_party
/
python
/
which
"
    
"
toolkit
/
components
/
glean
/
sphinx
"
)
sys
.
path
[
:
0
]
=
[
os
.
path
.
join
(
topsrcdir
p
)
for
p
in
EXTRA_PATHS
]
sys
.
path
.
insert
(
0
OUR_DIR
)
extensions
=
[
    
"
sphinx
.
ext
.
autodoc
"
    
"
sphinx
.
ext
.
autosectionlabel
"
    
"
sphinx
.
ext
.
doctest
"
    
"
sphinx
.
ext
.
graphviz
"
    
"
sphinx
.
ext
.
napoleon
"
    
"
sphinx
.
ext
.
todo
"
    
"
mozbuild
.
sphinx
"
    
"
sphinx_js
"
    
"
sphinxcontrib
.
mermaid
"
    
"
recommonmark
"
    
"
sphinx_copybutton
"
    
"
sphinx_markdown_tables
"
    
"
sphinx_panels
"
    
"
glean
"
]
js_source_path
=
[
    
"
.
.
/
browser
/
components
/
extensions
"
    
"
.
.
/
browser
/
components
/
uitour
"
    
"
.
.
/
testing
/
marionette
"
    
"
.
.
/
toolkit
/
components
/
extensions
"
    
"
.
.
/
toolkit
/
components
/
extensions
/
parent
"
    
"
.
.
/
toolkit
/
components
/
featuregates
"
    
"
.
.
/
toolkit
/
mozapps
/
extensions
"
    
"
.
.
/
toolkit
/
components
/
prompts
/
src
"
    
"
.
.
/
toolkit
/
components
/
pictureinpicture
"
    
"
.
.
/
toolkit
/
components
/
pictureinpicture
/
content
"
]
root_for_relative_js_paths
=
"
.
.
"
jsdoc_config_path
=
"
jsdoc
.
json
"
templates_path
=
[
"
_templates
"
]
source_suffix
=
[
"
.
rst
"
"
.
md
"
]
master_doc
=
"
index
"
project
=
"
Firefox
Source
Docs
"
html_logo
=
os
.
path
.
join
(
    
topsrcdir
"
browser
/
branding
/
nightly
/
content
/
firefox
-
wordmark
.
svg
"
)
html_favicon
=
os
.
path
.
join
(
topsrcdir
"
browser
/
branding
/
nightly
/
firefox
.
ico
"
)
exclude_patterns
=
[
"
_build
"
"
_staging
"
"
_venv
"
]
pygments_style
=
"
sphinx
"
on_rtd
=
os
.
environ
.
get
(
"
READTHEDOCS
"
None
)
=
=
"
True
"
if
on_rtd
:
    
assert
"
SHELL
"
not
in
os
.
environ
    
os
.
environ
[
"
SHELL
"
]
=
"
/
bin
/
bash
"
else
:
    
import
sphinx_rtd_theme
    
html_theme
=
"
sphinx_rtd_theme
"
    
html_theme_path
=
[
sphinx_rtd_theme
.
get_html_theme_path
(
)
]
html_static_path
=
[
"
_static
"
]
htmlhelp_basename
=
"
MozillaTreeDocs
"
moz_project_name
=
"
main
"
html_show_copyright
=
False
autosectionlabel_maxdepth
=
1
def
setup
(
app
)
:
    
app
.
add_config_value
(
        
"
recommonmark_config
"
        
{
            
"
enable_inline_math
"
:
False
            
"
enable_eval_rst
"
:
True
        
}
        
True
    
)
    
app
.
add_stylesheet
(
"
custom_theme
.
css
"
)
    
app
.
add_transform
(
AutoStructify
)

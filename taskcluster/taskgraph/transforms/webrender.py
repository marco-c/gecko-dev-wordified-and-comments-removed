from
__future__
import
absolute_import
print_function
unicode_literals
from
taskgraph
.
transforms
.
base
import
TransformSequence
transforms
=
TransformSequence
(
)
transforms
.
add
def
webrender
(
config
tasks
)
:
    
"
"
"
Do
transforms
specific
to
webrender
tasks
.
    
"
"
"
    
for
task
in
tasks
:
        
worker
=
task
[
'
worker
'
]
        
if
worker
.
get
(
'
wrupdater
-
secrets
'
False
)
:
            
del
worker
[
'
wrupdater
-
secrets
'
]
            
if
config
.
params
[
'
project
'
]
=
=
'
mozilla
-
central
'
:
                
task
.
setdefault
(
'
scopes
'
[
]
)
                
task
[
'
scopes
'
]
.
append
(
'
secrets
:
get
:
project
/
webrender
-
ci
/
wrupdater
-
github
-
token
'
)
        
yield
task

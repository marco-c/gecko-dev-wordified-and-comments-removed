from
__future__
import
absolute_import
print_function
unicode_literals
from
taskgraph
.
loader
.
single_dep
import
loader
as
base_loader
LABELS_WHICH_SHOULD_SIGN_CI_BUILDS
=
(
    
'
build
-
win32
/
debug
'
'
build
-
win32
/
opt
'
'
build
-
win32
/
pgo
'
    
'
build
-
win64
/
debug
'
'
build
-
win64
/
opt
'
'
build
-
win64
/
pgo
'
    
'
build
-
win32
-
devedition
/
opt
'
'
build
-
win64
-
devedition
/
opt
'
    
'
build
-
win64
-
ccov
/
debug
'
    
'
release
-
source
-
linux64
-
source
/
opt
'
    
'
release
-
source
-
linux64
-
fennec
-
source
/
opt
'
    
'
release
-
source
-
linux64
-
devedition
-
source
/
opt
'
)
def
loader
(
kind
path
config
params
loaded_tasks
)
:
    
jobs
=
base_loader
(
kind
path
config
params
loaded_tasks
)
    
for
job
in
jobs
:
        
dependent_task
=
job
[
'
dependent
-
task
'
]
        
if
dependent_task
.
attributes
.
get
(
'
nightly
'
)
or
\
                
dependent_task
.
label
in
LABELS_WHICH_SHOULD_SIGN_CI_BUILDS
:
            
yield
job

#
ifndef
ChangeAttributeTransaction_h
#
define
ChangeAttributeTransaction_h
#
include
"
EditTransactionBase
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsString
.
h
"
class
nsAtom
;
namespace
mozilla
{
namespace
dom
{
class
Element
;
}
class
ChangeAttributeTransaction
final
:
public
EditTransactionBase
{
protected
:
ChangeAttributeTransaction
(
dom
:
:
Element
&
aElement
nsAtom
&
aAttribute
const
nsAString
*
aValue
)
;
public
:
static
already_AddRefed
<
ChangeAttributeTransaction
>
Create
(
dom
:
:
Element
&
aElement
nsAtom
&
aAttribute
const
nsAString
&
aValue
)
;
static
already_AddRefed
<
ChangeAttributeTransaction
>
CreateToRemove
(
dom
:
:
Element
&
aElement
nsAtom
&
aAttribute
)
;
NS_DECL_ISUPPORTS_INHERITED
NS_DECL_CYCLE_COLLECTION_CLASS_INHERITED
(
ChangeAttributeTransaction
EditTransactionBase
)
NS_DECL_EDITTRANSACTIONBASE
NS_DECL_EDITTRANSACTIONBASE_GETASMETHODS_OVERRIDE
(
ChangeAttributeTransaction
)
MOZ_CAN_RUN_SCRIPT
NS_IMETHOD
RedoTransaction
(
)
override
;
friend
std
:
:
ostream
&
operator
<
<
(
std
:
:
ostream
&
aStream
const
ChangeAttributeTransaction
&
aTransaction
)
;
private
:
virtual
~
ChangeAttributeTransaction
(
)
=
default
;
nsCOMPtr
<
dom
:
:
Element
>
mElement
;
RefPtr
<
nsAtom
>
mAttribute
;
nsString
mValue
;
nsString
mUndoValue
;
bool
mRemoveAttribute
;
bool
mAttributeWasSet
;
}
;
}
#
endif

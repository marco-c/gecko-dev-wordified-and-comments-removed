import
os
def
toolchain_task_definitions
(
)
:
    
import
gecko_taskgraph
    
from
taskgraph
.
generator
import
load_tasks_for_kinds
    
params
=
{
"
level
"
:
os
.
environ
.
get
(
"
MOZ_SCM_LEVEL
"
"
3
"
)
"
files_changed
"
:
[
]
}
    
root_dir
=
os
.
path
.
join
(
os
.
path
.
dirname
(
__file__
)
"
.
.
"
"
.
.
"
"
.
.
"
"
taskcluster
"
)
    
toolchains
=
load_tasks_for_kinds
(
params
[
"
fetch
"
"
toolchain
"
]
root_dir
=
root_dir
)
    
aliased
=
{
}
    
for
t
in
toolchains
.
values
(
)
:
        
aliases
=
t
.
attributes
.
get
(
f
"
{
t
.
kind
}
-
alias
"
)
        
if
not
aliases
:
            
aliases
=
[
]
        
if
isinstance
(
aliases
str
)
:
            
aliases
=
[
aliases
]
        
for
alias
in
aliases
:
            
aliased
[
f
"
{
t
.
kind
}
-
{
alias
}
"
]
=
t
    
toolchains
.
update
(
aliased
)
    
return
toolchains

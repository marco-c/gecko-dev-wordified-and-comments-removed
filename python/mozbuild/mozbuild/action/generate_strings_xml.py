from
__future__
import
absolute_import
print_function
import
sys
import
buildconfig
from
mozbuild
import
preprocessor
def
main
(
output
strings_xml
android_strings_dtd
sync_strings_dtd
locale
=
None
)
:
    
if
not
locale
:
        
raise
ValueError
(
'
locale
must
be
specified
!
'
)
    
CONFIG
=
buildconfig
.
substs
    
defines
=
{
}
    
defines
[
'
ANDROID_PACKAGE_NAME
'
]
=
CONFIG
[
'
ANDROID_PACKAGE_NAME
'
]
    
defines
[
'
MOZ_APP_DISPLAYNAME
'
]
=
CONFIG
[
'
MOZ_APP_DISPLAYNAME
'
]
    
defines
[
'
STRINGSPATH
'
]
=
android_strings_dtd
    
defines
[
'
SYNCSTRINGSPATH
'
]
=
sync_strings_dtd
    
defines
[
'
BRANDPATH
'
]
=
'
{
}
/
{
}
/
locales
/
en
-
US
/
brand
.
dtd
'
.
format
(
        
buildconfig
.
topsrcdir
CONFIG
[
'
MOZ_BRANDING_DIRECTORY
'
]
)
    
includes
=
preprocessor
.
preprocess
(
includes
=
[
strings_xml
]
                                       
defines
=
defines
                                       
output
=
output
)
    
return
includes
if
__name__
=
=
"
__main__
"
:
    
main
(
sys
.
argv
[
1
:
]
)

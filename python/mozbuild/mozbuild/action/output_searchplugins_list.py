from
__future__
import
absolute_import
print_function
import
sys
import
json
engines
=
[
]
locale
=
sys
.
argv
[
2
]
with
open
(
sys
.
argv
[
1
]
)
as
f
:
    
searchinfo
=
json
.
load
(
f
)
engines
=
set
(
)
if
locale
in
searchinfo
[
"
locales
"
]
:
    
for
region
table
in
searchinfo
[
"
locales
"
]
[
locale
]
.
iteritems
(
)
:
        
if
"
visibleDefaultEngines
"
in
table
:
            
engines
.
update
(
table
[
"
visibleDefaultEngines
"
]
)
if
not
engines
:
    
engines
.
update
(
searchinfo
[
"
default
"
]
[
"
visibleDefaultEngines
"
]
)
for
region
overrides
in
searchinfo
[
"
regionOverrides
"
]
.
iteritems
(
)
:
    
for
originalengine
replacement
in
overrides
.
iteritems
(
)
:
        
if
originalengine
in
engines
:
            
engines
.
add
(
replacement
)
print
(
'
\
n
'
.
join
(
engines
)
)

import
mozlog
from
mozperftest
.
browser
import
pick_browser
from
mozperftest
.
system
import
pick_system
from
mozperftest
.
metrics
import
pick_metrics
from
mozperftest
.
argparser
import
PerftestArgumentParser
logger
=
mozlog
.
commandline
.
setup_logging
(
"
mozperftest
"
{
}
)
def
get_parser
(
)
:
    
return
PerftestArgumentParser
(
)
def
get_metadata
(
mach_cmd
flavor
*
*
kwargs
)
:
    
res
=
{
        
"
mach_cmd
"
:
mach_cmd
        
"
mach_args
"
:
kwargs
        
"
flavor
"
:
flavor
        
"
browser
"
:
{
"
prefs
"
:
{
}
}
    
}
    
return
res
def
get_env
(
mach_cmd
flavor
=
"
script
"
test_objects
=
None
resolve_tests
=
True
*
*
kwargs
)
:
    
if
flavor
!
=
"
script
"
:
        
raise
NotImplementedError
(
flavor
)
    
return
[
        
layer
(
flavor
mach_cmd
)
for
layer
in
(
pick_system
pick_browser
pick_metrics
)
    
]

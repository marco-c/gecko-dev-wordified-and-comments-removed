#
ifndef
_include_ipc_glue_UtilityProcessImpl_h__
#
define
_include_ipc_glue_UtilityProcessImpl_h__
#
include
"
mozilla
/
ipc
/
ProcessChild
.
h
"
#
if
defined
(
XP_WIN
)
#
include
"
mozilla
/
mscom
/
ProcessRuntime
.
h
"
#
endif
#
include
"
mozilla
/
ipc
/
UtilityProcessChild
.
h
"
namespace
mozilla
:
:
ipc
{
class
UtilityProcessImpl
final
:
public
ipc
:
:
ProcessChild
{
public
:
using
ipc
:
:
ProcessChild
:
:
ProcessChild
;
~
UtilityProcessImpl
(
)
;
bool
Init
(
int
aArgc
char
*
aArgv
[
]
)
override
;
void
CleanUp
(
)
override
;
#
if
defined
(
XP_WIN
)
static
void
LoadLibraryOrCrash
(
LPCWSTR
aLib
)
;
#
endif
private
:
RefPtr
<
UtilityProcessChild
>
mUtility
=
UtilityProcessChild
:
:
GetSingleton
(
)
;
#
if
defined
(
XP_WIN
)
mozilla
:
:
mscom
:
:
ProcessRuntime
mCOMRuntime
;
#
endif
}
;
}
#
endif

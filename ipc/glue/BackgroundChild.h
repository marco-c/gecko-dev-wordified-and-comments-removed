#
ifndef
mozilla_ipc_backgroundchild_h__
#
define
mozilla_ipc_backgroundchild_h__
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
ipc
/
Transport
.
h
"
class
nsIEventTarget
;
namespace
mozilla
{
namespace
dom
{
class
BlobImpl
;
class
ContentChild
;
class
ContentParent
;
class
ContentProcess
;
}
namespace
net
{
class
SocketProcessChild
;
class
SocketProcessBridgeChild
;
}
namespace
ipc
{
class
PBackgroundChild
;
class
PBackgroundStarterChild
;
class
BackgroundChild
final
{
friend
class
mozilla
:
:
dom
:
:
ContentParent
;
friend
class
mozilla
:
:
dom
:
:
ContentProcess
;
friend
class
mozilla
:
:
net
:
:
SocketProcessChild
;
typedef
mozilla
:
:
ipc
:
:
Transport
Transport
;
public
:
static
PBackgroundChild
*
GetForCurrentThread
(
)
;
static
PBackgroundChild
*
GetOrCreateForCurrentThread
(
)
;
static
PBackgroundChild
*
GetOrCreateSocketActorForCurrentThread
(
)
;
static
PBackgroundChild
*
GetOrCreateForSocketParentBridgeForCurrentThread
(
)
;
static
void
CloseForCurrentThread
(
)
;
static
void
InitContentStarter
(
mozilla
:
:
dom
:
:
ContentChild
*
aContent
)
;
static
void
InitSocketStarter
(
mozilla
:
:
net
:
:
SocketProcessChild
*
aSocket
)
;
static
void
InitSocketBridgeStarter
(
mozilla
:
:
net
:
:
SocketProcessBridgeChild
*
aSocketBridge
)
;
private
:
static
void
Startup
(
)
;
}
;
}
}
#
endif

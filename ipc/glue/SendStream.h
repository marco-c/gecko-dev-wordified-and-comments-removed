#
ifndef
mozilla_ipc_SendStream_h
#
define
mozilla_ipc_SendStream_h
#
include
"
mozilla
/
AlreadyAddRefed
.
h
"
#
include
"
mozilla
/
ipc
/
PChildToParentStreamChild
.
h
"
#
include
"
mozilla
/
ipc
/
PChildToParentStreamParent
.
h
"
class
nsIInputStream
;
class
nsIAsyncInputStream
;
namespace
mozilla
{
namespace
dom
{
class
nsIContentChild
;
}
namespace
ipc
{
class
PBackgroundChild
;
class
SendStreamChild
:
public
PChildToParentStreamChild
{
public
:
static
SendStreamChild
*
Create
(
nsIAsyncInputStream
*
aInputStream
dom
:
:
nsIContentChild
*
aManager
)
;
static
SendStreamChild
*
Create
(
nsIAsyncInputStream
*
aInputStream
PBackgroundChild
*
aManager
)
;
virtual
void
Start
(
)
=
0
;
virtual
void
StartDestroy
(
)
=
0
;
protected
:
virtual
~
SendStreamChild
(
)
=
0
;
}
;
class
SendStreamParent
:
public
PChildToParentStreamParent
{
public
:
virtual
already_AddRefed
<
nsIInputStream
>
TakeReader
(
)
=
0
;
protected
:
virtual
~
SendStreamParent
(
)
=
0
;
}
;
}
}
#
endif

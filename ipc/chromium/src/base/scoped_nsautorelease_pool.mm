#
include
"
base
/
scoped_nsautorelease_pool
.
h
"
#
import
<
Foundation
/
Foundation
.
h
>
#
include
"
base
/
logging
.
h
"
namespace
base
{
ScopedNSAutoreleasePool
:
:
ScopedNSAutoreleasePool
(
)
:
autorelease_pool_
(
[
[
NSAutoreleasePool
alloc
]
init
]
)
{
DCHECK
(
autorelease_pool_
)
;
}
ScopedNSAutoreleasePool
:
:
~
ScopedNSAutoreleasePool
(
)
{
[
autorelease_pool_
drain
]
;
}
void
ScopedNSAutoreleasePool
:
:
Recycle
(
)
{
[
autorelease_pool_
drain
]
;
autorelease_pool_
=
[
[
NSAutoreleasePool
alloc
]
init
]
;
DCHECK
(
autorelease_pool_
)
;
}
}

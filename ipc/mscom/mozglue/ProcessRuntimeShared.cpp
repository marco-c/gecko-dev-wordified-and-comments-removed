#
include
"
mozilla
/
mscom
/
ProcessRuntimeShared
.
h
"
#
include
"
mozilla
/
glue
/
WinUtils
.
h
"
static
mozilla
:
:
glue
:
:
Win32SRWLock
gLock
;
static
mozilla
:
:
mscom
:
:
detail
:
:
ProcessInitState
gProcessInitState
=
mozilla
:
:
mscom
:
:
detail
:
:
ProcessInitState
:
:
Uninitialized
;
namespace
mozilla
{
namespace
mscom
{
namespace
detail
{
MFBT_API
ProcessInitState
&
BeginProcessRuntimeInit
(
)
{
gLock
.
LockExclusive
(
)
;
return
gProcessInitState
;
}
MFBT_API
void
EndProcessRuntimeInit
(
)
{
gLock
.
UnlockExclusive
(
)
;
}
}
}
}

#
include
"
mozilla
/
mscom
/
ProcessRuntimeShared
.
h
"
#
include
"
mozilla
/
glue
/
WinUtils
.
h
"
static
mozilla
:
:
glue
:
:
Win32SRWLock
gLock
;
static
bool
gIsProcessInitialized
=
false
;
namespace
mozilla
{
namespace
mscom
{
namespace
detail
{
MFBT_API
bool
&
BeginProcessRuntimeInit
(
)
{
gLock
.
LockExclusive
(
)
;
return
gIsProcessInitialized
;
}
MFBT_API
void
EndProcessRuntimeInit
(
)
{
gLock
.
UnlockExclusive
(
)
;
}
}
}
}

#
ifndef
mozilla_mscom_SpinEvent_h
#
define
mozilla_mscom_SpinEvent_h
#
include
"
mozilla
/
Atomics
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
nsWindowsHelpers
.
h
"
namespace
mozilla
{
namespace
mscom
{
class
MOZ_NON_TEMPORARY_CLASS
SpinEvent
final
{
public
:
SpinEvent
(
)
;
~
SpinEvent
(
)
=
default
;
bool
Wait
(
HANDLE
aTargetThread
)
;
void
Signal
(
)
;
SpinEvent
(
const
SpinEvent
&
)
=
delete
;
SpinEvent
(
SpinEvent
&
&
)
=
delete
;
SpinEvent
&
operator
=
(
SpinEvent
&
&
)
=
delete
;
SpinEvent
&
operator
=
(
const
SpinEvent
&
)
=
delete
;
private
:
Atomic
<
bool
ReleaseAcquire
>
mDone
;
nsAutoHandle
mDoneEvent
;
static
bool
InitStatics
(
)
;
static
bool
sIsMulticore
;
}
;
}
}
#
endif

#
include
"
gtest
/
gtest
.
h
"
#
include
"
mozilla
/
_ipdltest
/
IPDLUnitTest
.
h
"
#
include
"
mozilla
/
_ipdltest
/
TestBasicChild
.
h
"
#
include
"
mozilla
/
_ipdltest
/
TestBasicParent
.
h
"
using
namespace
mozilla
:
:
ipc
;
namespace
mozilla
:
:
_ipdltest
{
IPCResult
TestBasicChild
:
:
RecvHello
(
)
{
EXPECT_TRUE
(
CanSend
(
)
)
;
Close
(
)
;
EXPECT_FALSE
(
CanSend
(
)
)
;
return
IPC_OK
(
)
;
}
IPDL_TEST
(
TestBasic
)
{
bool
ok
=
mActor
-
>
SendHello
(
)
;
ASSERT_TRUE
(
ok
)
;
}
}

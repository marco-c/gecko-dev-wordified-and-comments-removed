from
__future__
import
absolute_import
unicode_literals
print_function
import
buildconfig
import
sys
from
mozbuild
import
preprocessor
def
main
(
output
bookmarks_html_in
bookmarks_inc
locale
=
None
)
:
    
if
not
locale
:
        
raise
ValueError
(
'
locale
must
be
specified
!
'
)
    
CONFIG
=
buildconfig
.
substs
    
defines
=
{
}
    
defines
[
'
AB_CD
'
]
=
locale
    
if
defines
[
'
AB_CD
'
]
=
=
'
ja
-
JP
-
mac
'
:
        
defines
[
'
AB_CD
'
]
=
'
ja
'
    
defines
[
'
BOOKMARKS_INCLUDE_PATH
'
]
=
bookmarks_inc
    
for
var
in
(
'
NIGHTLY_BUILD
'
)
:
        
if
var
in
CONFIG
:
            
defines
[
var
]
=
CONFIG
[
var
]
    
includes
=
preprocessor
.
preprocess
(
includes
=
[
bookmarks_html_in
]
                                       
defines
=
defines
                                       
output
=
output
)
    
return
includes
if
__name__
=
=
"
__main__
"
:
    
main
(
sys
.
argv
[
1
:
]
)

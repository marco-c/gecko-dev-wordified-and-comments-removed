var
pktPanelMessaging
=
(
function
(
)
{
function
removeMessageListener
(
messageId
callback
)
{
RPMRemoveMessageListener
(
messageId
callback
)
;
}
function
addMessageListener
(
messageId
callback
=
(
)
=
>
{
}
)
{
RPMAddMessageListener
(
messageId
callback
)
;
}
function
sendMessage
(
messageId
payload
=
{
}
callback
)
{
if
(
callback
)
{
const
responseMessageId
=
{
messageId
}
_response
;
var
responseListener
=
function
(
responsePayload
)
{
callback
(
responsePayload
)
;
removeMessageListener
(
responseMessageId
responseListener
)
;
}
;
addMessageListener
(
responseMessageId
responseListener
)
;
}
RPMSendAsyncMessage
(
messageId
payload
)
;
}
function
log
(
)
{
RPMSendAsyncMessage
(
"
PKT_log
"
arguments
)
;
}
return
{
log
addMessageListener
sendMessage
}
;
}
)
(
)
;

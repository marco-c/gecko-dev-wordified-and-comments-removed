"
use
strict
"
;
add_task
(
async
function
test_open_migration_wizard
(
)
{
const
BUTTON_ID
=
"
data
-
migration
"
;
await
BrowserTestUtils
.
withNewTab
(
{
gBrowser
url
:
"
about
:
preferences
#
general
"
}
async
function
(
browser
)
{
let
button
=
browser
.
contentDocument
.
getElementById
(
BUTTON_ID
)
;
let
wizardReady
=
BrowserTestUtils
.
waitForEvent
(
browser
.
contentWindow
"
MigrationWizard
:
Ready
"
)
;
button
.
click
(
)
;
await
wizardReady
;
Assert
.
ok
(
true
"
Saw
the
new
Migration
Wizard
dialog
open
.
"
)
;
}
)
;
}
)
;

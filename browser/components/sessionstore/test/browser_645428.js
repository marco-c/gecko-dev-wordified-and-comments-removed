const
NOTIFICATION
=
"
sessionstore
-
browser
-
state
-
restored
"
;
function
test
(
)
{
waitForExplicitFinish
(
)
;
function
observe
(
subject
topic
)
{
if
(
NOTIFICATION
=
=
topic
)
{
finish
(
)
;
ok
(
true
"
TOPIC
received
"
)
;
}
}
Services
.
obs
.
addObserver
(
observe
NOTIFICATION
)
;
registerCleanupFunction
(
function
(
)
{
Services
.
obs
.
removeObserver
(
observe
NOTIFICATION
)
;
}
)
;
ss
.
setBrowserState
(
JSON
.
stringify
(
{
windows
:
[
]
}
)
)
;
}

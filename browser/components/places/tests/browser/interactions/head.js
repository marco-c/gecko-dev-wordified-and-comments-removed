const
{
Interactions
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
/
modules
/
Interactions
.
jsm
"
)
;
const
{
sinon
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
testing
-
common
/
Sinon
.
jsm
"
)
;
XPCOMUtils
.
defineLazyPreferenceGetter
(
this
"
pageViewIdleTime
"
"
browser
.
places
.
interactions
.
pageViewIdleTime
"
60
)
;
function
disableIdleService
(
)
{
let
idleService
=
Cc
[
"
mozilla
.
org
/
widget
/
useridleservice
;
1
"
]
.
getService
(
Ci
.
nsIUserIdleService
)
;
idleService
.
removeIdleObserver
(
Interactions
pageViewIdleTime
)
;
registerCleanupFunction
(
(
)
=
>
{
idleService
.
addIdleObserver
(
Interactions
pageViewIdleTime
)
;
}
)
;
}

"
use
strict
"
;
add_task
(
async
function
test_megalist_menu
(
)
{
const
item
=
document
.
getElementById
(
"
menu_megalistSidebar
"
)
;
await
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
browser
.
megalist
.
enabled
"
false
]
]
}
)
;
ok
(
item
.
hidden
"
Megalist
sidebar
menu
item
hidden
"
)
;
await
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
browser
.
megalist
.
enabled
"
true
]
]
}
)
;
ok
(
!
item
.
hidden
"
Megalist
sidebar
menu
item
shown
"
)
;
}
)
;
add_task
(
async
function
test_megalist_menu
(
)
{
const
item
=
document
.
getElementById
(
"
menu_genaiChatSidebar
"
)
;
await
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
browser
.
ml
.
chat
.
enabled
"
false
]
]
}
)
;
ok
(
item
.
hidden
"
Chat
sidebar
menu
item
hidden
"
)
;
await
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
browser
.
ml
.
chat
.
enabled
"
true
]
]
}
)
;
ok
(
!
item
.
hidden
"
Chat
sidebar
menu
item
shown
"
)
;
}
)
;

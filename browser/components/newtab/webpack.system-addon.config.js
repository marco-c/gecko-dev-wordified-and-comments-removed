const
path
=
require
(
"
path
"
)
;
const
webpack
=
require
(
"
webpack
"
)
;
const
{
ResourceUriPlugin
}
=
require
(
"
.
/
tools
/
resourceUriPlugin
"
)
;
const
absolute
=
relPath
=
>
path
.
join
(
__dirname
relPath
)
;
const
resourcePathRegEx
=
/
^
resource
:
\
/
\
/
activity
-
stream
\
/
/
;
module
.
exports
=
(
env
=
{
}
)
=
>
(
{
mode
:
"
none
"
entry
:
absolute
(
"
content
-
src
/
activity
-
stream
.
jsx
"
)
output
:
{
path
:
absolute
(
"
data
/
content
"
)
filename
:
"
activity
-
stream
.
bundle
.
js
"
library
:
"
NewtabRenderUtils
"
}
devtool
:
env
.
development
?
"
inline
-
source
-
map
"
:
false
plugins
:
[
new
ResourceUriPlugin
(
{
resourcePathRegEx
}
)
new
webpack
.
BannerPlugin
(
THIS
FILE
IS
AUTO
-
GENERATED
:
{
path
.
basename
(
__filename
)
}
)
new
webpack
.
optimize
.
ModuleConcatenationPlugin
(
)
]
module
:
{
rules
:
[
{
test
:
/
\
.
jsx
?
/
exclude
:
/
node_modules
\
/
(
?
!
fluent
\
/
)
.
*
/
loader
:
"
babel
-
loader
"
options
:
{
presets
:
[
"
babel
/
preset
-
react
"
]
}
}
{
test
:
/
\
.
jsm
/
exclude
:
/
node_modules
/
loader
:
"
babel
-
loader
"
options
:
{
plugins
:
[
[
"
.
/
tools
/
babel
-
jsm
-
to
-
commonjs
.
js
"
{
basePath
:
resourcePathRegEx
removeOtherImports
:
true
replace
:
true
}
]
]
}
}
]
}
resolve
:
{
extensions
:
[
"
.
js
"
"
.
jsx
"
]
modules
:
[
"
node_modules
"
"
.
"
]
fallback
:
{
stream
:
require
.
resolve
(
"
stream
-
browserify
"
)
}
}
externals
:
{
"
prop
-
types
"
:
"
PropTypes
"
react
:
"
React
"
"
react
-
dom
"
:
"
ReactDOM
"
redux
:
"
Redux
"
"
react
-
redux
"
:
"
ReactRedux
"
"
react
-
transition
-
group
"
:
"
ReactTransitionGroup
"
}
}
)
;

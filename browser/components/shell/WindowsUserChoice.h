#
ifndef
SHELL_WINDOWSUSERCHOICE_H__
#
define
SHELL_WINDOWSUSERCHOICE_H__
#
include
<
windows
.
h
>
#
include
"
ErrorList
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
nsString
.
h
"
bool
CheckBrowserUserChoiceHashes
(
)
;
enum
class
CheckUserChoiceHashResult
{
OK_V1
ERR_MISMATCH
ERR_OTHER
}
;
CheckUserChoiceHashResult
CheckUserChoiceHash
(
const
wchar_t
*
aExt
const
wchar_t
*
aUserSid
)
;
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
GetAssociationKeyPath
(
const
wchar_t
*
aExt
)
;
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
GetCurrentUserStringSid
(
)
;
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
GenerateUserChoiceHash
(
const
wchar_t
*
aExt
const
wchar_t
*
aUserSid
const
wchar_t
*
aProgId
SYSTEMTIME
aTimestamp
)
;
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
FormatProgID
(
const
wchar_t
*
aProgIDBase
const
wchar_t
*
aAumi
)
;
bool
CheckProgIDExists
(
const
wchar_t
*
aProgID
)
;
nsresult
GetMsixProgId
(
const
wchar_t
*
assoc
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
&
aProgId
)
;
#
endif

"
use
strict
"
;
loadTestSubscript
(
"
head_browserAction
.
js
"
)
;
add_task
(
async
function
testBrowserActionMenuResizeBottomArrow
(
)
{
const
WIDTH
=
800
;
const
HEIGHT
=
80
;
let
left
=
screen
.
availLeft
+
screen
.
availWidth
-
WIDTH
;
let
top
=
screen
.
availTop
+
screen
.
availHeight
-
HEIGHT
;
let
win
=
await
BrowserTestUtils
.
openNewBrowserWindow
(
)
;
win
.
resizeTo
(
WIDTH
HEIGHT
)
;
for
(
let
i
=
0
;
i
<
20
;
i
+
+
)
{
win
.
moveTo
(
left
top
)
;
if
(
win
.
screenX
=
=
left
&
&
win
.
screenY
=
=
top
)
{
break
;
}
await
delay
(
100
)
;
}
await
SimpleTest
.
promiseFocus
(
win
)
;
await
testPopupSize
(
true
win
"
bottom
"
)
;
await
BrowserTestUtils
.
closeWindow
(
win
)
;
}
)
;

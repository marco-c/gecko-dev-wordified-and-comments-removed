add_task
(
async
function
about_firefoxview_next_pref
(
)
{
Services
.
prefs
.
setBoolPref
(
"
browser
.
tabs
.
firefox
-
view
-
next
"
true
)
;
await
withFirefoxView
(
{
}
async
browser
=
>
{
const
{
document
}
=
browser
.
contentWindow
;
is
(
document
.
location
.
href
"
about
:
firefoxview
-
next
"
)
;
}
)
;
Services
.
prefs
.
setBoolPref
(
"
browser
.
tabs
.
firefox
-
view
"
false
)
;
await
withFirefoxView
(
{
}
async
browser
=
>
{
const
{
document
}
=
browser
.
contentWindow
;
is
(
document
.
location
.
href
"
about
:
firefoxview
-
next
"
)
;
}
)
;
Services
.
prefs
.
setBoolPref
(
"
browser
.
tabs
.
firefox
-
view
"
true
)
;
Services
.
prefs
.
setBoolPref
(
"
browser
.
tabs
.
firefox
-
view
-
next
"
false
)
;
await
withFirefoxView
(
{
}
async
browser
=
>
{
const
{
document
}
=
browser
.
contentWindow
;
is
(
document
.
location
.
href
"
about
:
firefoxview
"
)
;
}
)
;
}
)
;

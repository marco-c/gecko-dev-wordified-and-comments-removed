"
use
strict
"
;
add_task
(
async
function
(
)
{
FissionTestingUI
.
checkFissionWithoutWebRender
(
)
;
const
isWebRenderEnabled
=
Services
.
prefs
.
getBoolPref
(
"
gfx
.
webrender
.
all
"
)
;
const
isFissionEnabled
=
Services
.
prefs
.
getBoolPref
(
"
fission
.
autostart
"
)
;
const
isWarningExpected
=
isFissionEnabled
&
&
!
isWebRenderEnabled
;
await
gBrowserInit
.
idleTasksFinishedPromise
;
let
isWarningFound
=
!
!
gNotificationBox
.
getNotificationWithValue
(
"
warning
-
fission
-
without
-
webrender
-
notification
"
)
;
is
(
isWarningFound
isWarningExpected
"
Did
we
get
the
Fission
/
WebRender
warning
right
?
"
)
;
}
)
;

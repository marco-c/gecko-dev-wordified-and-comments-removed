"
use
strict
"
;
add_task
(
async
function
test_disable_commands
(
)
{
let
disabledCommands
=
[
"
cmd_print
"
"
Browser
:
SavePage
"
"
Browser
:
SendLink
"
]
;
let
enabledCommands
=
[
"
cmd_newNavigatorTab
"
"
cmd_newNavigator
"
"
cmd_quitApplication
"
"
cmd_close
"
"
cmd_closeWindow
"
]
;
function
checkDisabled
(
)
{
for
(
let
cmd
of
disabledCommands
)
{
is
(
document
.
getElementById
(
cmd
)
.
getAttribute
(
"
disabled
"
)
"
true
"
Command
{
cmd
}
should
be
disabled
)
;
}
for
(
let
cmd
of
enabledCommands
)
{
ok
(
!
document
.
getElementById
(
cmd
)
.
hasAttribute
(
"
disabled
"
)
Command
{
cmd
}
should
NOT
be
disabled
)
;
}
}
await
startCustomizing
(
)
;
checkDisabled
(
)
;
await
gCustomizeMode
.
reset
(
)
;
checkDisabled
(
)
;
await
endCustomizing
(
)
;
for
(
let
cmd
of
disabledCommands
.
concat
(
enabledCommands
)
)
{
ok
(
!
document
.
getElementById
(
cmd
)
.
hasAttribute
(
"
disabled
"
)
Command
{
cmd
}
should
NOT
be
disabled
after
customize
mode
)
;
}
}
)
;

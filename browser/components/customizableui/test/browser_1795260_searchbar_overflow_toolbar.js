"
use
strict
"
;
const
WIDGET_ID
=
"
search
-
container
"
;
registerCleanupFunction
(
(
)
=
>
{
CustomizableUI
.
reset
(
)
;
Services
.
prefs
.
clearUserPref
(
"
browser
.
search
.
widget
.
inNavBar
"
)
;
}
)
;
add_task
(
async
function
test_syncPreferenceWithWidget
(
)
{
CustomizableUI
.
addWidgetToArea
(
WIDGET_ID
CustomizableUI
.
AREA_NAVBAR
)
;
let
container
=
document
.
getElementById
(
WIDGET_ID
)
;
let
width
=
window
.
innerWidth
*
2
;
container
.
setAttribute
(
"
width
"
width
)
;
container
.
style
.
width
=
{
width
}
px
;
Assert
.
less
(
container
.
getBoundingClientRect
(
)
.
width
window
.
innerWidth
"
Searchbar
shouldn
'
t
overflow
"
)
;
}
)
;

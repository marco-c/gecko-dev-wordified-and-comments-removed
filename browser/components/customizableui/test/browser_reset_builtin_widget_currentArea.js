"
use
strict
"
;
add_task
(
async
function
reset_should_not_keep_currentArea
(
)
{
CustomizableUI
.
addWidgetToArea
(
"
save
-
page
-
button
"
CustomizableUI
.
AREA_FIXED_OVERFLOW_PANEL
)
;
is
(
CustomizableUI
.
getWidget
(
"
save
-
page
-
button
"
)
.
areaType
CustomizableUI
.
TYPE_MENU_PANEL
"
Button
should
know
it
'
s
in
the
overflow
panel
"
)
;
CustomizableUI
.
reset
(
)
;
ok
(
!
CustomizableUI
.
getWidget
(
"
save
-
page
-
button
"
)
.
areaType
"
Button
should
know
it
'
s
not
in
the
overflow
panel
anymore
"
)
;
}
)
;
add_task
(
async
function
reset_should_not_keep_currentArea
(
)
{
const
kButtonId
=
"
sidebar
-
button
"
;
is
(
CustomizableUI
.
getWidget
(
kButtonId
)
.
areaType
CustomizableUI
.
TYPE_TOOLBAR
"
Button
should
know
it
'
s
in
the
toolbar
"
)
;
CustomizableUI
.
removeWidgetFromArea
(
kButtonId
)
;
ok
(
!
CustomizableUI
.
getWidget
(
kButtonId
)
.
areaType
"
Button
should
know
it
'
s
no
longer
in
the
toolbar
"
)
;
CustomizableUI
.
reset
(
)
;
is
(
CustomizableUI
.
getWidget
(
kButtonId
)
.
areaType
CustomizableUI
.
TYPE_TOOLBAR
"
Button
should
know
it
'
s
in
the
toolbar
again
"
)
;
CustomizableUI
.
undoReset
(
)
;
ok
(
!
CustomizableUI
.
getWidget
(
kButtonId
)
.
areaType
"
Button
should
know
it
'
s
no
longer
in
the
toolbar
again
"
)
;
}
)
;
registerCleanupFunction
(
(
)
=
>
CustomizableUI
.
reset
(
)
)
;

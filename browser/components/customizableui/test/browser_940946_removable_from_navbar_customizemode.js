"
use
strict
"
;
const
kTestBtnId
=
"
test
-
removable
-
navbar
-
customize
-
mode
"
;
add_task
(
async
function
(
)
{
let
btn
=
createDummyXULButton
(
kTestBtnId
"
Test
removable
in
navbar
in
customize
mode
"
)
;
CustomizableUI
.
getCustomizationTarget
(
document
.
getElementById
(
"
nav
-
bar
"
)
)
.
appendChild
(
btn
)
;
await
startCustomizing
(
)
;
ok
(
!
CustomizableUI
.
isWidgetRemovable
(
kTestBtnId
)
"
Widget
should
not
be
considered
removable
"
)
;
await
endCustomizing
(
)
;
document
.
getElementById
(
kTestBtnId
)
.
remove
(
)
;
}
)
;
add_task
(
async
function
asyncCleanup
(
)
{
await
endCustomizing
(
)
;
await
resetCustomization
(
)
;
}
)
;

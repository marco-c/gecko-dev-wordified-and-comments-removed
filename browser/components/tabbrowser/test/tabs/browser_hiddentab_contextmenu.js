add_task
(
async
function
test
(
)
{
is
(
gBrowser
.
visibleTabs
.
length
1
"
there
is
initially
one
visible
tab
"
)
;
let
tab
=
BrowserTestUtils
.
addTab
(
gBrowser
)
;
gBrowser
.
hideTab
(
tab
)
;
ok
(
tab
.
hidden
"
new
tab
is
hidden
"
)
;
is
(
gBrowser
.
visibleTabs
.
length
1
"
there
is
still
only
one
visible
tabs
"
)
;
updateTabContextMenu
(
tab
)
;
ok
(
document
.
getElementById
(
"
context_moveTabOptions
"
)
.
disabled
"
Move
Tab
menu
is
disabled
"
)
;
ok
(
document
.
getElementById
(
"
context_closeTabsToTheStart
"
)
.
disabled
"
Close
Tabs
to
Left
is
disabled
"
)
;
ok
(
document
.
getElementById
(
"
context_closeTabsToTheEnd
"
)
.
disabled
"
Close
Tabs
to
Right
is
disabled
"
)
;
ok
(
document
.
getElementById
(
"
context_reopenInContainer
"
)
.
disabled
"
Open
in
New
Container
Tab
menu
is
disabled
"
)
;
gBrowser
.
removeTab
(
tab
)
;
}
)
;

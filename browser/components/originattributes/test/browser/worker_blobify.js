self
.
addEventListener
(
"
message
"
function
(
message
)
{
try
{
var
blobURL
=
URL
.
createObjectURL
(
new
Blob
(
[
message
.
data
]
)
)
;
postMessage
(
{
blobURL
}
)
;
}
catch
(
e
)
{
postMessage
(
{
error
:
e
.
message
}
)
;
}
}
)
;

const
path
=
require
(
"
path
"
)
;
function
getDocsStoryTitle
(
filePath
)
{
let
fileName
=
path
.
basename
(
filePath
"
.
stories
.
md
"
)
;
let
pascalCaseName
=
toPascalCase
(
fileName
)
;
return
pascalCaseName
.
match
(
/
[
A
-
Z
]
[
a
-
z
]
+
/
g
)
?
.
join
(
"
"
)
|
|
pascalCaseName
;
}
function
toPascalCase
(
str
)
{
return
str
.
match
(
/
[
a
-
z0
-
9
]
+
/
gi
)
.
map
(
text
=
>
text
[
0
]
.
toUpperCase
(
)
+
text
.
substring
(
1
)
)
.
join
(
"
"
)
;
}
module
.
exports
=
function
markdownStoryLoader
(
source
)
{
let
storyTitle
=
getDocsStoryTitle
(
this
.
resourcePath
)
;
let
mdxSource
=
import
{
Meta
Description
}
from
"
storybook
/
addon
-
docs
"
;
<
Meta
title
=
"
Docs
/
{
storyTitle
}
"
parameters
=
{
{
previewTabs
:
{
canvas
:
{
hidden
:
true
}
}
viewMode
:
"
docs
"
}
}
/
>
{
source
}
;
return
mdxSource
;
}
;

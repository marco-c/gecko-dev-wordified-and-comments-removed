"
use
strict
"
;
testEngine_setup
(
)
;
add_task
(
async
function
aboutAb
(
)
{
let
context
=
createContext
(
"
about
:
ab
"
{
isPrivate
:
false
}
)
;
await
check_results
(
{
context
autofilled
:
"
about
:
about
"
completed
:
"
about
:
about
"
matches
:
[
makeVisitResult
(
context
{
uri
:
"
about
:
about
"
title
:
"
about
:
about
"
heuristic
:
true
}
)
]
}
)
;
}
)
;
add_task
(
async
function
aboutAb
(
)
{
let
context
=
createContext
(
"
about
:
Ab
"
{
isPrivate
:
false
}
)
;
await
check_results
(
{
context
autofilled
:
"
about
:
About
"
completed
:
"
about
:
about
"
matches
:
[
makeVisitResult
(
context
{
uri
:
"
about
:
about
"
title
:
"
about
:
about
"
heuristic
:
true
}
)
]
}
)
;
}
)
;
add_task
(
async
function
aboutAbout
(
)
{
let
context
=
createContext
(
"
about
:
about
"
{
isPrivate
:
false
}
)
;
await
check_results
(
{
context
autofilled
:
"
about
:
about
"
completed
:
"
about
:
about
"
matches
:
[
makeVisitResult
(
context
{
uri
:
"
about
:
about
"
title
:
"
about
:
about
"
heuristic
:
true
}
)
]
}
)
;
}
)
;
add_task
(
async
function
aboutAboutAndAboutAddons
(
)
{
let
context
=
createContext
(
"
about
:
a
"
{
isPrivate
:
false
}
)
;
await
check_results
(
{
context
search
:
"
about
:
a
"
autofilled
:
"
about
:
about
"
completed
:
"
about
:
about
"
matches
:
[
makeVisitResult
(
context
{
uri
:
"
about
:
about
"
title
:
"
about
:
about
"
heuristic
:
true
}
)
makeVisitResult
(
context
{
uri
:
"
about
:
addons
"
title
:
"
about
:
addons
"
tags
:
null
providerName
:
"
AboutPages
"
}
)
]
}
)
;
}
)
;
add_task
(
async
function
aboutColonHasNoMatch
(
)
{
let
context
=
createContext
(
"
about
:
"
{
isPrivate
:
false
}
)
;
await
check_results
(
{
context
search
:
"
about
:
"
matches
:
[
makeSearchResult
(
context
{
engineName
:
SUGGESTIONS_ENGINE_NAME
providerName
:
"
HeuristicFallback
"
heuristic
:
true
}
)
]
}
)
;
}
)
;
add_task
(
async
function
after_general
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
Services
.
io
.
newURI
(
"
http
:
/
/
example
.
com
/
guide
/
aboutaddons
/
"
)
title
:
"
Guide
to
about
:
addons
in
Firefox
"
}
]
)
;
let
context
=
createContext
(
"
about
:
a
"
{
isPrivate
:
false
}
)
;
await
check_results
(
{
context
matches
:
[
makeVisitResult
(
context
{
uri
:
"
about
:
about
"
title
:
"
about
:
about
"
heuristic
:
true
providerName
:
"
Autofill
"
}
)
makeVisitResult
(
context
{
uri
:
"
http
:
/
/
example
.
com
/
guide
/
aboutaddons
/
"
title
:
"
Guide
to
about
:
addons
in
Firefox
"
}
)
makeVisitResult
(
context
{
uri
:
"
about
:
addons
"
title
:
"
about
:
addons
"
tags
:
null
providerName
:
"
AboutPages
"
}
)
]
}
)
;
await
cleanupPlaces
(
)
;
}
)
;

"
use
strict
"
;
add_task
(
async
function
test
(
)
{
let
tests
=
[
[
"
foo
"
"
foobar
"
"
bar
"
]
[
"
FOO
"
"
foobar
"
"
bar
"
]
[
"
fOo
"
"
foobar
"
"
bar
"
]
[
"
foo
"
"
quuxbar
"
"
"
]
[
"
FOO
"
"
quuxbar
"
"
"
]
[
"
fOo
"
"
quuxbar
"
"
"
]
]
;
gURLBar
.
focus
(
)
;
for
(
let
[
initial
autofill
expectedSelected
]
of
tests
)
{
gURLBar
.
value
=
initial
;
gURLBar
.
autofill
(
autofill
)
;
let
expectedValue
=
initial
+
expectedSelected
;
Assert
.
equal
(
gURLBar
.
value
expectedValue
"
The
input
value
should
be
correct
"
)
;
Assert
.
equal
(
gURLBar
.
selectionStart
initial
.
length
"
The
start
of
the
selection
should
be
correct
"
)
;
Assert
.
equal
(
gURLBar
.
selectionEnd
expectedValue
.
length
"
The
end
of
the
selection
should
be
correct
"
)
;
}
}
)
;

add_task
(
async
function
(
)
{
let
tab
=
await
BrowserTestUtils
.
openNewForegroundTab
(
gBrowser
)
;
registerCleanupFunction
(
async
function
(
)
{
BrowserTestUtils
.
removeTab
(
tab
)
;
}
)
;
gURLBar
.
blur
(
)
;
gURLBar
.
search
(
"
google
"
)
;
ok
(
gURLBar
.
hasAttribute
(
"
focused
"
)
"
url
bar
is
focused
"
)
;
is
(
gURLBar
.
value
"
google
"
"
url
bar
has
correct
value
"
)
;
gURLBar
.
blur
(
)
;
gURLBar
.
search
(
"
?
"
)
;
ok
(
gURLBar
.
hasAttribute
(
"
focused
"
)
"
url
bar
is
focused
"
)
;
is
(
gURLBar
.
value
"
?
"
"
url
bar
has
correct
value
"
)
;
}
)
;

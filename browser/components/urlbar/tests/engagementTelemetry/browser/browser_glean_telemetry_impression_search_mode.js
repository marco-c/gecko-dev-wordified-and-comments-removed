"
use
strict
"
;
add_setup
(
async
function
(
)
{
await
initSearchModeTest
(
)
;
}
)
;
add_task
(
async
function
not_search_mode
(
)
{
await
doNotSearchModeTest
(
{
trigger
:
(
)
=
>
waitForPauseImpression
(
)
assert
:
(
)
=
>
assertImpressionTelemetry
(
[
{
reason
:
"
pause
"
search_mode
:
"
"
}
]
)
}
)
;
}
)
;
add_task
(
async
function
search_engine
(
)
{
await
doSearchEngineTest
(
{
trigger
:
(
)
=
>
waitForPauseImpression
(
)
assert
:
(
)
=
>
assertImpressionTelemetry
(
[
{
reason
:
"
pause
"
search_mode
:
"
search_engine
"
}
]
)
}
)
;
}
)
;
add_task
(
async
function
bookmarks
(
)
{
await
doBookmarksTest
(
{
trigger
:
(
)
=
>
waitForPauseImpression
(
)
assert
:
(
)
=
>
assertImpressionTelemetry
(
[
{
reason
:
"
pause
"
search_mode
:
"
bookmarks
"
}
]
)
}
)
;
}
)
;
add_task
(
async
function
history
(
)
{
await
doHistoryTest
(
{
trigger
:
(
)
=
>
waitForPauseImpression
(
)
assert
:
(
)
=
>
assertImpressionTelemetry
(
[
{
reason
:
"
pause
"
search_mode
:
"
history
"
}
]
)
}
)
;
}
)
;
add_task
(
async
function
tabs
(
)
{
await
doTabTest
(
{
trigger
:
(
)
=
>
waitForPauseImpression
(
)
assert
:
(
)
=
>
assertImpressionTelemetry
(
[
{
reason
:
"
pause
"
search_mode
:
"
tabs
"
}
]
)
}
)
;
}
)
;
add_task
(
async
function
actions
(
)
{
await
doActionsTest
(
{
trigger
:
(
)
=
>
waitForPauseImpression
(
)
assert
:
(
)
=
>
assertImpressionTelemetry
(
[
{
reason
:
"
pause
"
search_mode
:
"
actions
"
}
]
)
}
)
;
}
)
;

"
use
strict
"
;
add_task
(
async
function
test_dbLazilyCreated
(
)
{
Assert
.
ok
(
!
SelectableProfileService
.
initialized
Selectable
Profile
Service
should
not
be
initialized
because
the
default
profile
has
no
storeID
)
;
SelectableProfileService
.
getExecutableProcess
=
(
)
=
>
{
return
{
runw
:
(
)
=
>
{
}
}
;
}
;
await
SelectableProfileService
.
maybeSetupDataStore
(
)
;
ok
(
SelectableProfileService
.
initialized
Selectable
Profile
Service
should
be
initialized
because
the
store
id
is
{
SelectableProfileService
.
groupToolkitProfile
.
storeID
}
)
;
ok
(
SelectableProfileService
.
groupToolkitProfile
.
showProfileSelector
"
Once
the
user
has
created
a
second
profile
ShowSelector
should
be
set
to
true
"
)
;
}
)
;

let
timeStampCodes
;
let
worker
=
new
Worker
(
"
worker_grandchild
.
js
"
)
;
function
listenToParent
(
event
)
{
self
.
removeEventListener
(
"
message
"
listenToParent
)
;
timeStampCodes
=
event
.
data
;
let
timeStamps
=
[
]
;
for
(
let
timeStampCode
of
timeStampCodes
)
{
timeStamps
.
push
(
eval
(
timeStampCode
)
)
;
}
postMessage
(
timeStamps
)
;
worker
.
postMessage
(
timeStampCodes
)
;
}
function
listenToChild
(
event
)
{
worker
.
removeEventListener
(
"
message
"
listenToChild
)
;
postMessage
(
event
.
data
)
;
worker
.
terminate
(
)
;
}
worker
.
addEventListener
(
"
message
"
listenToChild
)
;
self
.
addEventListener
(
"
message
"
listenToParent
)
;

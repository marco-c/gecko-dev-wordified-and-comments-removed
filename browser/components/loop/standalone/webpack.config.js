var
path
=
require
(
"
path
"
)
;
var
webpack
=
require
(
"
webpack
"
)
;
function
getSharedDir
(
)
{
"
use
strict
"
;
var
fs
=
require
(
"
fs
"
)
;
var
mozillaCentralShared
=
path
.
resolve
(
path
.
join
(
__dirname
"
.
.
"
"
content
"
"
shared
"
)
)
;
try
{
fs
.
statSync
(
mozillaCentralShared
)
;
return
mozillaCentralShared
;
}
catch
(
ex
)
{
return
path
.
join
(
__dirname
"
content
"
"
shared
"
)
;
}
}
module
.
exports
=
{
entry
:
"
.
/
content
/
webappEntryPoint
.
js
"
resolve
:
{
alias
:
{
shared
:
getSharedDir
(
)
}
}
output
:
{
filename
:
"
standalone
.
js
"
path
:
path
.
join
(
__dirname
"
dist
"
"
js
"
)
sourcePrefix
:
"
"
}
plugins
:
[
new
webpack
.
optimize
.
UglifyJsPlugin
(
{
compress
:
{
warnings
:
false
}
}
)
]
}
;

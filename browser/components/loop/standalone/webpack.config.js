var
path
=
require
(
"
path
"
)
;
var
webpack
=
require
(
"
webpack
"
)
;
function
getSharedDir
(
)
{
"
use
strict
"
;
var
fs
=
require
(
"
fs
"
)
;
var
mozillaCentralShared
=
path
.
resolve
(
path
.
join
(
__dirname
"
.
.
"
"
content
"
"
shared
"
)
)
;
try
{
fs
.
statSync
(
mozillaCentralShared
)
;
return
mozillaCentralShared
;
}
catch
(
ex
)
{
return
path
.
join
(
__dirname
"
content
"
"
shared
"
)
;
}
}
module
.
exports
=
{
entry
:
"
.
/
content
/
webappEntryPoint
.
js
"
externals
:
{
"
Backbone
"
:
"
Backbone
"
"
navigator
.
mozL10n
"
:
"
navigator
.
mozL10n
"
"
React
"
:
"
React
"
"
underscore
"
:
"
_
"
}
resolve
:
{
alias
:
{
shared
:
getSharedDir
(
)
}
}
output
:
{
filename
:
"
standalone
.
js
"
path
:
path
.
join
(
__dirname
"
dist
"
"
js
"
)
sourcePrefix
:
"
"
}
plugins
:
[
new
webpack
.
IgnorePlugin
(
/
^
jquery
/
)
new
webpack
.
DefinePlugin
(
{
__PROD__
:
JSON
.
stringify
(
JSON
.
parse
(
process
.
env
.
NODE_ENV
&
&
process
.
env
.
NODE_ENV
=
=
=
"
production
"
)
)
}
)
new
webpack
.
optimize
.
UglifyJsPlugin
(
{
compress
:
{
warnings
:
false
}
}
)
]
}
;

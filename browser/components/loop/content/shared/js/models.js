var
loop
=
loop
|
|
{
}
;
loop
.
shared
=
loop
.
shared
|
|
{
}
;
loop
.
shared
.
models
=
(
function
(
l10n
)
{
"
use
strict
"
;
var
NotificationModel
=
Backbone
.
Model
.
extend
(
{
defaults
:
{
details
:
"
"
detailsButtonLabel
:
"
"
detailsButtonCallback
:
null
level
:
"
info
"
message
:
"
"
}
}
)
;
var
NotificationCollection
=
Backbone
.
Collection
.
extend
(
{
model
:
NotificationModel
warn
:
function
(
message
)
{
this
.
add
(
{
level
:
"
warning
"
message
:
message
}
)
;
}
warnL10n
:
function
(
messageId
)
{
this
.
warn
(
l10n
.
get
(
messageId
)
)
;
}
error
:
function
(
message
)
{
this
.
add
(
{
level
:
"
error
"
message
:
message
}
)
;
}
errorL10n
:
function
(
messageId
l10nProps
)
{
this
.
error
(
l10n
.
get
(
messageId
l10nProps
)
)
;
}
success
:
function
(
message
)
{
this
.
add
(
{
level
:
"
success
"
message
:
message
}
)
;
}
successL10n
:
function
(
messageId
l10nProps
)
{
this
.
success
(
l10n
.
get
(
messageId
l10nProps
)
)
;
}
}
)
;
return
{
NotificationCollection
:
NotificationCollection
NotificationModel
:
NotificationModel
}
;
}
)
(
navigator
.
mozL10n
|
|
document
.
mozL10n
)
;

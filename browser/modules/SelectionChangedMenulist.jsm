"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
SelectionChangedMenulist
"
]
;
class
SelectionChangedMenulist
{
constructor
(
menulist
onCommand
)
{
let
popup
=
menulist
.
menupopup
;
let
lastEvent
;
menulist
.
addEventListener
(
"
command
"
event
=
>
{
lastEvent
=
event
;
if
(
popup
.
state
!
=
"
open
"
&
&
popup
.
state
!
=
"
showing
"
)
{
popup
.
openPopup
(
)
;
}
}
)
;
popup
.
addEventListener
(
"
popuphiding
"
(
)
=
>
{
if
(
lastEvent
)
{
onCommand
(
lastEvent
)
;
lastEvent
=
null
;
}
}
)
;
}
}

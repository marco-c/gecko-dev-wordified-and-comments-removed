function
test
(
)
{
let
s
=
{
}
;
Cu
.
import
(
"
resource
:
/
/
/
modules
/
CustomizableUI
.
jsm
"
s
)
;
Cu
.
import
(
"
resource
:
/
/
/
modules
/
BrowserUITelemetry
.
jsm
"
s
)
;
let
{
CustomizableUI
BrowserUITelemetry
}
=
s
;
if
(
!
AppConstants
.
MOZ_DEV_EDITION
)
{
Assert
.
ok
(
CustomizableUI
.
inDefaultState
"
No
other
test
should
have
left
CUI
in
a
dirty
state
.
"
)
;
}
let
result
=
BrowserUITelemetry
.
_getWindowMeasurements
(
window
0
)
;
if
(
!
AppConstants
.
MOZ_DEV_EDITION
)
{
Assert
.
deepEqual
(
result
.
defaultMoved
[
]
)
;
}
Assert
.
deepEqual
(
result
.
nondefaultAdded
[
]
)
;
Assert
.
deepEqual
(
result
.
defaultRemoved
[
"
social
-
share
-
button
"
]
)
;
Assert
.
deepEqual
(
result
.
visibleTabs
[
1
]
)
;
}

var
FullScreen
=
{
init
(
)
{
addEventListener
(
"
fullscreen
"
this
true
)
;
if
(
window
.
fullScreen
)
{
this
.
toggle
(
)
;
}
}
toggle
(
)
{
var
enterFS
=
window
.
fullScreen
;
if
(
enterFS
)
{
document
.
documentElement
.
setAttribute
(
"
inFullscreen
"
true
)
;
}
else
{
document
.
documentElement
.
removeAttribute
(
"
inFullscreen
"
)
;
}
}
handleEvent
(
event
)
{
if
(
event
.
type
=
=
=
"
fullscreen
"
)
{
this
.
toggle
(
)
;
}
}
enterDomFullscreen
(
aBrowser
aActor
)
{
if
(
!
document
.
fullscreenElement
)
{
return
;
}
if
(
aBrowser
.
isRemoteBrowser
)
{
aActor
.
sendAsyncMessage
(
"
DOMFullscreen
:
Entered
"
{
}
)
;
}
document
.
documentElement
.
setAttribute
(
"
inDOMFullscreen
"
true
)
;
}
cleanupDomFullscreen
(
aActor
)
{
aActor
.
sendAsyncMessage
(
"
DOMFullscreen
:
CleanUp
"
{
}
)
;
document
.
documentElement
.
removeAttribute
(
"
inDOMFullscreen
"
)
;
}
}
;

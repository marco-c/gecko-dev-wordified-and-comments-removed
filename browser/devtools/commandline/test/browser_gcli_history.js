var
exports
=
{
}
;
const
TEST_URI
=
"
data
:
text
/
html
;
charset
=
utf
-
8
<
p
id
=
'
gcli
-
input
'
>
gcli
-
testHistory
.
js
<
/
p
>
"
;
function
test
(
)
{
helpers
.
addTabWithToolbar
(
TEST_URI
function
(
options
)
{
return
helpers
.
runTests
(
options
exports
)
;
}
)
.
then
(
finish
)
;
}
'
use
strict
'
;
var
History
=
require
(
'
gcli
/
history
'
)
.
History
;
exports
.
testSimpleHistory
=
function
(
options
)
{
var
history
=
new
History
(
{
}
)
;
history
.
add
(
'
foo
'
)
;
history
.
add
(
'
bar
'
)
;
assert
.
is
(
'
bar
'
history
.
backward
(
)
)
;
assert
.
is
(
'
foo
'
history
.
backward
(
)
)
;
history
.
add
(
'
quux
'
)
;
assert
.
is
(
'
quux
'
history
.
backward
(
)
)
;
assert
.
is
(
'
bar
'
history
.
backward
(
)
)
;
assert
.
is
(
'
foo
'
history
.
backward
(
)
)
;
}
;
exports
.
testBackwardsPastIndex
=
function
(
options
)
{
var
history
=
new
History
(
{
}
)
;
history
.
add
(
'
foo
'
)
;
history
.
add
(
'
bar
'
)
;
assert
.
is
(
'
bar
'
history
.
backward
(
)
)
;
assert
.
is
(
'
foo
'
history
.
backward
(
)
)
;
assert
.
is
(
'
foo
'
history
.
backward
(
)
)
;
}
;
exports
.
testForwardsPastIndex
=
function
(
options
)
{
var
history
=
new
History
(
{
}
)
;
history
.
add
(
'
foo
'
)
;
history
.
add
(
'
bar
'
)
;
assert
.
is
(
'
bar
'
history
.
backward
(
)
)
;
assert
.
is
(
'
foo
'
history
.
backward
(
)
)
;
assert
.
is
(
'
bar
'
history
.
forward
(
)
)
;
assert
.
is
(
'
'
history
.
forward
(
)
)
;
assert
.
is
(
'
'
history
.
forward
(
)
)
;
}
;

"
use
strict
"
;
const
{
classes
:
Cc
interfaces
:
Ci
}
=
Components
;
const
subScriptLoader
=
Cc
[
"
mozilla
.
org
/
moz
/
jssubscript
-
loader
;
1
"
]
.
getService
(
Ci
.
mozIJSSubScriptLoader
)
;
let
EventUtils
=
{
}
;
subScriptLoader
.
loadSubScript
(
"
chrome
:
/
/
marionette
/
content
/
EventUtils
.
js
"
EventUtils
)
;
addMessageListener
(
"
Test
:
MarkupView
:
SynthesizeMouse
"
function
(
msg
)
{
let
{
x
y
center
options
selector
}
=
msg
.
data
;
let
{
node
}
=
msg
.
objects
;
if
(
!
node
&
&
selector
)
{
node
=
content
.
document
.
querySelector
(
selector
)
;
}
if
(
center
)
{
EventUtils
.
synthesizeMouseAtCenter
(
node
options
node
.
ownerDocument
.
defaultView
)
;
}
else
{
EventUtils
.
synthesizeMouse
(
node
x
y
options
node
.
ownerDocument
.
defaultView
)
;
}
sendAsyncMessage
(
"
Test
:
MarkupView
:
SynthesizeMouse
"
)
;
}
)
;

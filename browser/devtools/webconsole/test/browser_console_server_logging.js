"
use
strict
"
;
let
test
=
asyncTest
(
function
*
(
)
{
const
PREF
=
"
devtools
.
webconsole
.
filter
.
serverlog
"
;
const
TEST_URI
=
"
http
:
/
/
example
.
com
/
browser
/
browser
/
devtools
/
webconsole
/
test
/
test
-
console
-
server
-
logging
.
sjs
"
;
Services
.
prefs
.
setBoolPref
(
PREF
true
)
;
registerCleanupFunction
(
(
)
=
>
Services
.
prefs
.
clearUserPref
(
PREF
)
)
;
yield
loadTab
(
TEST_URI
)
;
let
hud
=
yield
openConsole
(
)
;
BrowserReload
(
)
;
let
text
=
"
values
:
string
Object
{
a
:
10
}
123
1
.
12
\
u2713
"
;
yield
waitForMessages
(
{
webconsole
:
hud
messages
:
[
{
text
:
text
category
:
CATEGORY_SERVER
severity
:
SEVERITY_LOG
}
]
}
)
}
)
;

"
use
strict
"
;
(
function
(
)
{
const
win
=
window
.
wrappedJSObject
;
try
{
if
(
win
.
parent
=
=
win
|
|
win
.
location
.
origin
=
=
win
.
top
.
location
.
origin
)
{
return
;
}
}
catch
(
e
)
{
if
(
e
.
name
!
=
"
SecurityError
"
)
{
throw
e
;
}
}
const
emptyMsg
=
cloneInto
(
{
message
:
"
"
}
window
)
;
const
idb
=
{
open
:
(
)
=
>
win
.
Promise
.
reject
(
emptyMsg
)
}
;
Object
.
defineProperty
(
win
"
indexedDB
"
{
value
:
cloneInto
(
idb
window
{
cloneFunctions
:
true
}
)
}
)
;
}
)
(
)
;

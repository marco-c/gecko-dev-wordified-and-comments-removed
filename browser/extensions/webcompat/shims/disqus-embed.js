if
(
!
window
.
smartblockDisqusShimInitialized
)
{
window
.
smartblockDisqusShimInitialized
=
true
;
function
getDisqusEmbedScriptURL
(
)
{
for
(
const
script
of
document
.
querySelectorAll
(
"
script
[
src
]
"
)
)
{
try
{
const
url
=
new
URL
(
script
.
src
)
;
if
(
url
.
protocol
=
=
=
"
https
:
"
&
&
url
.
hostname
.
endsWith
(
"
.
disqus
.
com
"
)
&
&
url
.
pathname
=
=
=
"
/
embed
.
js
"
)
{
return
url
.
href
;
}
}
catch
{
}
}
return
undefined
;
}
const
scriptURL
=
getDisqusEmbedScriptURL
(
)
;
if
(
scriptURL
)
{
embedHelperLib
.
initEmbedShim
(
{
shimId
:
"
DisqusEmbed
"
scriptURL
embedLogoURL
:
"
https
:
/
/
smartblock
.
firefox
.
etp
/
disqus
.
svg
"
embedSelector
:
"
#
disqus_thread
"
isTestShim
:
false
}
)
;
}
}

"
use
strict
"
;
console
.
info
(
'
Dropping
target
=
"
_blank
"
attribute
for
bankid
logins
for
compatibility
reasons
.
See
https
:
/
/
bugzilla
.
mozilla
.
org
/
show_bug
.
cgi
?
id
=
1993517
for
details
.
'
)
;
if
(
/
Win32
|
Win64
|
Windows
|
WinCE
/
i
.
test
(
navigator
.
platform
)
)
{
const
nav
=
Object
.
getPrototypeOf
(
navigator
.
wrappedJSObject
)
;
const
platform
=
Object
.
getOwnPropertyDescriptor
(
nav
"
platform
"
)
;
platform
.
get
=
exportFunction
(
(
)
=
>
"
MacIntel
"
window
)
;
Object
.
defineProperty
(
nav
"
platform
"
platform
)
;
}
document
.
addEventListener
(
"
click
"
e
=
>
e
.
target
?
.
closest
(
"
a
[
href
^
=
'
bankid
:
/
/
'
]
"
)
?
.
removeAttribute
(
"
target
"
)
true
)
;

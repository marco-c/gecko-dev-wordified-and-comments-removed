"
use
strict
"
;
console
.
info
(
"
Map
iframe
height
is
being
managed
for
compatibility
reasons
.
see
https
:
/
/
webcompat
.
com
/
issues
/
77221
for
details
.
"
)
;
const
selector
=
"
#
iframe_map
"
;
const
moOptions
=
{
childList
:
true
subtree
:
true
}
;
const
mo
=
new
MutationObserver
(
(
)
=
>
{
const
map
=
document
.
querySelector
(
selector
)
;
let
lastSize
;
if
(
map
)
{
mo
.
disconnect
(
)
;
const
maybeGrowMap
=
(
)
=
>
{
const
winHeight
=
window
.
outerHeight
;
if
(
lastSize
&
&
lastSize
>
winHeight
)
{
return
;
}
map
.
style
.
height
=
winHeight
*
0
.
75
+
"
px
"
;
lastSize
=
winHeight
;
}
;
maybeGrowMap
(
)
;
window
.
addEventListener
(
"
resize
"
(
)
=
>
window
.
requestAnimationFrame
(
maybeGrowMap
)
)
;
}
}
)
;
mo
.
observe
(
document
.
documentElement
moOptions
)
;

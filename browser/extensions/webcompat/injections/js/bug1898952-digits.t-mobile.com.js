"
use
strict
"
;
if
(
!
navigator
.
userAgentData
)
{
console
.
info
(
"
navigator
.
userAgentData
has
been
overridden
for
compatibility
reasons
.
See
https
:
/
/
webcompat
.
com
/
issues
/
119767
for
details
.
"
)
;
const
ua
=
navigator
.
userAgent
;
const
mobile
=
ua
.
includes
(
"
Mobile
"
)
|
|
ua
.
includes
(
"
Tablet
"
)
;
let
platform
=
"
Linux
"
;
if
(
mobile
)
{
platform
=
"
Android
"
;
}
else
if
(
navigator
.
platform
.
startsWith
(
"
Win
"
)
)
{
platform
=
"
Windows
"
;
}
else
if
(
navigator
.
platform
.
startsWith
(
"
Mac
"
)
)
{
platform
=
"
macOS
"
;
}
const
version
=
(
ua
.
match
(
/
Firefox
\
/
(
[
0
-
9
.
]
+
)
/
)
|
|
[
"
"
"
58
.
0
"
]
)
[
1
]
;
const
brands
=
[
{
brand
:
"
Not
/
A
)
Brand
"
version
:
"
8
"
}
{
brand
:
"
Chromium
"
version
}
{
brand
:
"
Google
Chrome
"
version
}
]
;
const
userAgentData
=
cloneInto
(
{
brands
mobile
platform
}
window
)
;
Object
.
defineProperty
(
window
.
navigator
.
wrappedJSObject
"
userAgentData
"
{
get
:
exportFunction
(
function
(
)
{
return
userAgentData
;
}
window
)
set
:
exportFunction
(
function
(
)
{
}
window
)
}
)
;
}

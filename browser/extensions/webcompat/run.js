"
use
strict
"
;
var
interventions
shims
;
const
AVAILABLE_INTERVENTIONS
=
#
include
data
/
interventions
.
json
try
{
interventions
=
new
Interventions
(
AVAILABLE_INTERVENTIONS
CUSTOM_FUNCTIONS
)
;
interventions
.
bootup
(
)
;
}
catch
(
e
)
{
console
.
error
(
"
Interventions
failed
to
start
"
e
)
;
interventions
=
undefined
;
}
try
{
shims
=
new
Shims
(
AVAILABLE_SHIMS
)
;
}
catch
(
e
)
{
console
.
error
(
"
Shims
failed
to
start
"
e
)
;
shims
=
undefined
;
}
try
{
const
aboutCompatBroker
=
new
AboutCompatBroker
(
{
interventions
shims
}
)
;
aboutCompatBroker
.
bootup
(
)
;
}
catch
(
e
)
{
console
.
error
(
"
about
:
compat
broker
failed
to
start
"
e
)
;
}
listenForRemoteSettingsUpdates
(
interventions
shims
)
;

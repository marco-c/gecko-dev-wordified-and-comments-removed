"
use
strict
"
;
let
Cu
=
Components
.
utils
;
Cu
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
add_task
(
async
function
checkActivityStreamLoads
(
)
{
const
asURL
=
"
resource
:
/
/
activity
-
stream
/
data
/
content
/
activity
-
stream
.
html
"
;
BrowserOpenTab
(
)
;
let
browser
=
gBrowser
.
selectedBrowser
;
await
BrowserTestUtils
.
browserLoaded
(
browser
)
;
await
ContentTask
.
spawn
(
browser
{
url
:
asURL
}
args
=
>
{
Assert
.
ok
(
content
.
document
.
querySelector
(
"
body
.
activity
-
stream
"
)
'
Got
<
body
class
=
"
activity
-
stream
"
Element
'
)
;
}
)
;
await
BrowserTestUtils
.
removeTab
(
gBrowser
.
selectedTab
)
;
}
)
;

"
use
strict
"
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
this
.
EXPORTED_SYMBOLS
=
[
"
TelemetryEvents
"
]
;
const
TELEMETRY_CATEGORY
=
"
normandy
"
;
const
TelemetryEvents
=
{
init
(
)
{
Services
.
telemetry
.
registerEvents
(
TELEMETRY_CATEGORY
{
enroll
:
{
methods
:
[
"
enroll
"
]
objects
:
[
"
preference_study
"
"
addon_study
"
]
extra_keys
:
[
"
experimentType
"
"
branch
"
"
addonId
"
"
addonVersion
"
]
record_on_release
:
true
}
unenroll
:
{
methods
:
[
"
unenroll
"
]
objects
:
[
"
preference_study
"
"
addon_study
"
]
extra_keys
:
[
"
reason
"
"
didResetValue
"
"
addonId
"
"
addonVersion
"
]
record_on_release
:
true
}
}
)
;
}
sendEvent
(
method
object
value
extra
)
{
Services
.
telemetry
.
recordEvent
(
TELEMETRY_CATEGORY
method
object
value
extra
)
;
}
}
;

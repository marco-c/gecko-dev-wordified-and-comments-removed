"
use
strict
"
;
ChromeUtils
.
defineModuleGetter
(
this
"
AppConstants
"
"
resource
:
/
/
gre
/
modules
/
AppConstants
.
jsm
"
)
;
ChromeUtils
.
defineModuleGetter
(
this
"
Services
"
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
this
.
screenshots
=
class
extends
ExtensionAPI
{
getAPI
(
context
)
{
const
{
extension
}
=
context
;
return
{
experiments
:
{
screenshots
:
{
getUpdateChannel
(
)
{
return
AppConstants
.
MOZ_UPDATE_CHANNEL
;
}
isHistoryEnabled
(
)
{
return
Services
.
prefs
.
getBoolPref
(
"
places
.
history
.
enabled
"
true
)
;
}
isUploadDisabled
(
)
{
return
Services
.
prefs
.
getBoolPref
(
"
extensions
.
screenshots
.
upload
-
disabled
"
false
)
;
}
}
}
}
;
}
}
;

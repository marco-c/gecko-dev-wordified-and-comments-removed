"
use
strict
"
;
this
.
domainFromUrl
=
(
function
(
)
{
return
function
urlDomainForId
(
location
)
{
let
domain
=
location
.
hostname
;
if
(
!
domain
)
{
domain
=
location
.
origin
.
split
(
"
:
"
)
[
0
]
;
if
(
!
domain
)
{
domain
=
"
unknown
"
;
}
}
if
(
domain
.
search
(
/
^
[
a
-
z0
-
9
.
\
-
]
+
/
i
)
=
=
=
-
1
)
{
domain
=
domain
.
replace
(
/
[
^
a
-
z0
-
9
.
\
-
]
/
ig
"
"
)
;
if
(
!
domain
)
{
domain
=
"
site
"
;
}
}
return
domain
;
}
;
}
)
(
)
;
null
;

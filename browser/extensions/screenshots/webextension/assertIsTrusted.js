this
.
assertIsTrusted
=
function
assertIsTrusted
(
handlerFunction
)
{
return
function
(
event
)
{
if
(
!
event
)
{
let
exc
=
new
Error
(
"
assertIsTrusted
did
not
get
an
event
"
)
;
exc
.
noPopup
=
true
;
throw
exc
;
}
if
(
!
event
.
isTrusted
)
{
let
exc
=
new
Error
(
Received
untrusted
event
(
type
:
{
event
.
type
}
)
)
;
exc
.
noPopup
=
true
;
throw
exc
;
}
return
handlerFunction
.
call
(
this
event
)
;
}
;
}
null
;

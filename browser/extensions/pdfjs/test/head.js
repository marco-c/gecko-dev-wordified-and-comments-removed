function
waitForPdfJS
(
browser
url
)
{
return
ContentTask
.
spawn
(
browser
url
function
*
(
url
)
{
yield
new
Promise
(
(
resolve
)
=
>
{
addEventListener
(
"
documentload
"
function
listener
(
)
{
removeEventListener
(
"
documentload
"
listener
false
)
;
resolve
(
)
;
}
false
true
)
;
content
.
location
=
url
;
}
)
;
}
)
;
}

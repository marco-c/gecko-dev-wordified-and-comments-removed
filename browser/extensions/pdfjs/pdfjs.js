"
use
strict
"
;
const
{
Services
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
ChromeUtils
.
defineModuleGetter
(
this
"
PdfStreamConverter
"
"
resource
:
/
/
pdf
.
js
/
PdfStreamConverter
.
jsm
"
)
;
function
StreamConverterFactory
(
)
{
if
(
Services
.
cpmm
.
sharedData
.
get
(
"
pdfjs
.
enabled
"
)
)
{
return
new
PdfStreamConverter
(
)
;
}
throw
Cr
.
NS_ERROR_FACTORY_NOT_REGISTERED
;
}
StreamConverterFactory
.
prototype
=
{
classID
:
Components
.
ID
(
"
{
d0c5195d
-
e798
-
49d4
-
b1d3
-
9324328b2291
}
"
)
classDescription
:
"
pdf
.
js
Component
"
}
;
var
NSGetFactory
=
XPCOMUtils
.
generateNSGetFactory
(
[
StreamConverterFactory
]
)
;

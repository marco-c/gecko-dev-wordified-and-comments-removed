"
use
strict
"
;
this
.
languageDetector
=
class
extends
ExtensionAPI
{
getAPI
(
)
{
const
{
LanguageDetector
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
/
modules
/
translation
/
LanguageDetector
.
jsm
"
{
}
)
;
const
{
ExtensionUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
ExtensionUtils
.
jsm
"
{
}
)
;
const
{
ExtensionError
}
=
ExtensionUtils
;
return
{
experiments
:
{
languageDetector
:
{
detectLanguage
:
async
function
detectLanguage
(
str
)
{
try
{
return
LanguageDetector
.
detectLanguage
(
str
)
;
}
catch
(
error
)
{
console
.
error
(
error
.
message
error
.
stack
)
;
throw
new
ExtensionError
(
error
.
message
)
;
}
}
}
}
}
;
}
}
;

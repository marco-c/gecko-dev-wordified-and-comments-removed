var
gGfxUtils
=
{
_isRecording
:
false
_isTransactionLogging
:
false
_isCapturingFrames
:
false
init
(
)
{
if
(
Services
.
prefs
.
getBoolPref
(
"
gfx
.
webrender
.
enable
-
capture
"
)
)
{
document
.
getElementById
(
"
wrCaptureCmd
"
)
.
removeAttribute
(
"
disabled
"
)
;
document
.
getElementById
(
"
wrToggleCaptureSequenceCmd
"
)
.
removeAttribute
(
"
disabled
"
)
;
}
}
toggleWindowRecording
(
)
{
window
.
windowUtils
.
setCompositionRecording
(
!
this
.
_isRecording
)
;
this
.
_isRecording
=
!
this
.
_isRecording
;
}
webrenderCapture
(
)
{
window
.
windowUtils
.
wrCapture
(
)
;
}
captureSequencePath
:
"
wr
-
capture
-
sequence
"
captureSequenceFlags
:
window
.
windowUtils
.
WR_CAPTURE_SCENE
|
window
.
windowUtils
.
WR_CAPTURE_EXTERNALS
toggleWebrenderCaptureSequence
(
)
{
this
.
_isCapturingFrames
=
!
this
.
_isCapturingFrames
;
if
(
this
.
_isCapturingFrames
)
{
window
.
windowUtils
.
wrStartCaptureSequence
(
this
.
captureSequencePath
this
.
captureSequenceFlags
)
;
}
else
{
window
.
windowUtils
.
wrStopCaptureSequence
(
)
;
}
}
}
;

const
{
Services
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
var
AboutRestartRequired
=
{
addAutofocus
(
)
{
if
(
window
.
top
=
=
window
)
{
var
button
=
document
.
getElementById
(
"
restart
"
)
;
var
parent
=
button
.
parentNode
;
button
.
remove
(
)
;
button
.
setAttribute
(
"
autofocus
"
"
true
"
)
;
parent
.
insertAdjacentElement
(
"
afterbegin
"
button
)
;
}
}
restart
(
)
{
Services
.
startup
.
quit
(
Ci
.
nsIAppStartup
.
eRestart
|
Ci
.
nsIAppStartup
.
eAttemptQuit
)
;
}
init
(
)
{
this
.
addAutofocus
(
)
;
}
}
;
AboutRestartRequired
.
init
(
)
;

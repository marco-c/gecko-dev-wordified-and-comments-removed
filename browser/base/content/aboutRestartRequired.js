var
AboutRestartRequired
=
{
addAutofocus
(
)
{
if
(
window
.
top
=
=
window
)
{
var
button
=
document
.
getElementById
(
"
restart
"
)
;
var
parent
=
button
.
parentNode
;
button
.
remove
(
)
;
button
.
setAttribute
(
"
autofocus
"
"
true
"
)
;
parent
.
insertAdjacentElement
(
"
afterbegin
"
button
)
;
}
}
restart
(
)
{
Services
.
startup
.
quit
(
Ci
.
nsIAppStartup
.
eRestart
|
Ci
.
nsIAppStartup
.
eAttemptQuit
)
;
}
init
(
)
{
this
.
addAutofocus
(
)
;
}
}
;
AboutRestartRequired
.
init
(
)
;
let
restartButton
=
document
.
getElementById
(
"
restart
"
)
;
restartButton
.
onclick
=
function
(
)
{
AboutRestartRequired
.
restart
(
)
;
}
;
let
event
=
new
CustomEvent
(
"
AboutRestartRequiredLoad
"
{
bubbles
:
true
}
)
;
document
.
dispatchEvent
(
event
)
;

"
use
strict
"
;
add_task
(
function
*
(
)
{
yield
new
Promise
(
resolve
=
>
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
keyword
.
enabled
"
false
]
]
}
resolve
)
)
;
yield
BrowserTestUtils
.
withNewTab
(
{
gBrowser
url
:
"
about
:
blank
"
}
function
*
(
browser
)
{
gURLBar
.
value
=
"
example
"
;
gURLBar
.
select
(
)
;
let
loadPromise
=
BrowserTestUtils
.
browserLoaded
(
browser
false
url
=
>
url
=
=
"
http
:
/
/
www
.
example
.
com
/
"
)
;
EventUtils
.
sendKey
(
"
return
"
)
;
yield
loadPromise
;
is
(
gURLBar
.
textValue
"
www
.
example
.
com
"
)
;
}
)
;
}
)
;

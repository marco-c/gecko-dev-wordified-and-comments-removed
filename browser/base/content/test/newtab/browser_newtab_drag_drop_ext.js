requestLongerTimeout
(
2
)
;
const
PREF_NEWTAB_COLUMNS
=
"
browser
.
newtabpage
.
columns
"
;
const
PREF_NEWTAB_ROWS
=
"
browser
.
newtabpage
.
rows
"
;
add_task
(
async
function
(
)
{
await
addNewTabPageTab
(
)
;
await
setLinks
(
"
0
1
2
3
4
5
6
7
8
"
)
;
setPinnedLinks
(
"
7
8
"
)
;
await
addNewTabPageTab
(
)
;
await
checkGrid
(
"
0
1
2
3
4
5
6
7p
8p
"
)
;
await
simulateExternalDrop
(
0
)
;
await
checkGrid
(
"
99p
0
1
2
3
4
5
7p
8p
"
)
;
await
setLinks
(
"
0
1
2
3
4
5
6
7
8
"
)
;
setPinnedLinks
(
"
7
8
"
)
;
await
addNewTabPageTab
(
)
;
await
checkGrid
(
"
0
1
2
3
4
5
6
7p
8p
"
)
;
await
pushPrefs
(
[
PREF_NEWTAB_COLUMNS
3
]
)
;
await
pushPrefs
(
[
PREF_NEWTAB_ROWS
3
]
)
;
await
simulateExternalDrop
(
5
)
;
await
checkGrid
(
"
0
1
2
3
4
99p
5
7p
8p
"
)
;
await
setLinks
(
"
0
1
2
3
4
5
6
7
8
"
)
;
setPinnedLinks
(
"
8
"
)
;
await
addNewTabPageTab
(
)
;
await
checkGrid
(
"
0
1
2
3
4
5
6
7
8p
"
)
;
await
simulateExternalDrop
(
5
)
;
await
checkGrid
(
"
0
1
2
3
4
99p
5
6
8p
"
)
;
await
setLinks
(
"
0
1
2
3
4
5
6
7
8
"
)
;
setPinnedLinks
(
"
0
1
2
"
)
;
await
addNewTabPageTab
(
)
;
await
checkGrid
(
"
0p
1p
2p
"
)
;
await
simulateExternalDrop
(
1
)
;
await
checkGrid
(
"
0p
99p
1p
2p
3
4
5
6
7
"
)
;
await
setLinks
(
"
0
1
2
3
4
5
6
7
8
"
)
;
setPinnedLinks
(
"
7
8
"
)
;
await
addNewTabPageTab
(
)
;
await
pushPrefs
(
[
PREF_NEWTAB_ROWS
2
]
)
;
await
simulateExternalDrop
(
5
)
;
await
checkGrid
(
"
0
1
2
3
4
99p
"
)
;
}
)
;

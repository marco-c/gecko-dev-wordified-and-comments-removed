const
STATE_CHANGED_TOPIC
=
"
fxa
-
migration
:
state
-
changed
"
;
const
NOTIFICATION_TITLE
=
"
fxa
-
migration
"
;
var
imports
=
{
}
;
Cu
.
import
(
"
resource
:
/
/
services
-
sync
/
FxaMigrator
.
jsm
"
imports
)
;
add_task
(
function
*
test
(
)
{
Services
.
obs
.
notifyObservers
(
null
STATE_CHANGED_TOPIC
null
)
;
Assert
.
ok
(
Weave
.
Notifications
.
notifications
.
some
(
n
=
>
{
return
n
.
title
=
=
NOTIFICATION_TITLE
;
}
)
"
Disconnect
notification
should
be
present
"
)
;
}
)
;

"
use
strict
"
;
const
EXPECTED_REFLOWS
=
[
{
stack
:
[
"
select
chrome
:
/
/
global
/
content
/
bindings
/
textbox
.
xml
"
]
}
]
;
add_task
(
async
function
(
)
{
await
ensureNoPreloadedBrowser
(
)
;
await
withPerfObserver
(
async
function
(
)
{
let
switchDone
=
BrowserTestUtils
.
waitForEvent
(
window
"
TabSwitchDone
"
)
;
BrowserOpenTab
(
)
;
await
BrowserTestUtils
.
waitForEvent
(
gBrowser
.
selectedTab
"
transitionend
"
false
e
=
>
e
.
propertyName
=
=
=
"
max
-
width
"
)
;
await
switchDone
;
}
{
expectedReflows
:
EXPECTED_REFLOWS
}
)
;
let
switchDone
=
BrowserTestUtils
.
waitForEvent
(
window
"
TabSwitchDone
"
)
;
BrowserTestUtils
.
removeTab
(
gBrowser
.
selectedTab
)
;
await
switchDone
;
}
)
;

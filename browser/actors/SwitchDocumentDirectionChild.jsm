"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
SwitchDocumentDirectionChild
"
]
;
class
SwitchDocumentDirectionChild
extends
JSWindowActorChild
{
receiveMessage
(
message
)
{
if
(
message
.
name
=
=
"
SwitchDocumentDirection
"
)
{
let
docShell
=
this
.
manager
.
browsingContext
.
docShell
;
let
document
=
docShell
.
QueryInterface
(
Ci
.
nsIWebNavigation
)
.
document
;
this
.
switchDocumentDirection
(
document
)
;
}
}
switchDocumentDirection
(
document
)
{
if
(
document
.
dir
=
=
"
ltr
"
|
|
document
.
dir
=
=
"
"
)
{
document
.
dir
=
"
rtl
"
;
}
else
if
(
document
.
dir
=
=
"
rtl
"
)
{
document
.
dir
=
"
ltr
"
;
}
for
(
let
frame
of
document
.
defaultView
.
frames
)
{
this
.
switchDocumentDirection
(
frame
.
document
)
;
}
}
}

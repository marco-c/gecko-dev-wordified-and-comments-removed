#
include
<
errno
.
h
>
#
include
<
limits
.
h
>
#
include
<
stdio
.
h
>
#
include
<
string
.
h
>
#
include
<
unistd
.
h
>
int
main
(
int
argc
char
*
argv
[
]
)
{
char
path
[
PATH_MAX
+
4
]
;
ssize_t
len
=
readlink
(
"
/
proc
/
self
/
exe
"
path
PATH_MAX
-
1
)
;
if
(
len
<
0
)
{
fprintf
(
stderr
"
Couldn
'
t
find
the
application
directory
.
\
n
"
)
;
return
255
;
}
strcpy
(
path
+
len
"
-
bin
"
)
;
execv
(
path
argv
)
;
fprintf
(
stderr
"
Exec
failed
with
error
:
%
s
\
n
"
strerror
(
errno
)
)
;
return
255
;
}

var
BLURB_CYCLE_MS
=
20000
;
var
PROGRESS_BAR_INTERVAL_MS
=
250
;
window
.
attachEvent
(
"
onload
"
function
(
)
{
var
direction
=
external
.
getTextDirection
(
)
;
document
.
getElementById
(
"
text_column
"
)
.
style
.
direction
=
direction
;
document
.
getElementById
(
"
installing
"
)
.
style
.
direction
=
direction
;
var
label
=
document
.
getElementById
(
"
label
"
)
;
label
.
innerText
=
external
.
getUIString
(
"
installing_label
"
)
;
document
.
getElementById
(
"
header
"
)
.
innerText
=
external
.
getUIString
(
"
installing_header
"
)
;
document
.
getElementById
(
"
content
"
)
.
innerText
=
external
.
getUIString
(
"
installing_content
"
)
;
setInterval
(
function
(
)
{
var
percent
=
external
.
getProgressBarPercent
(
)
;
var
progressBar
=
document
.
getElementById
(
"
progress_bar
"
)
;
progressBar
.
setAttribute
(
"
aria
-
valuenow
"
percent
)
;
progressBar
.
style
.
width
=
percent
+
"
%
"
;
}
PROGRESS_BAR_INTERVAL_MS
)
;
var
currentBlurb
=
0
;
var
blurbStrings
=
[
external
.
getUIString
(
"
installing_blurb_0
"
)
external
.
getUIString
(
"
installing_blurb_1
"
)
external
.
getUIString
(
"
installing_blurb_2
"
)
]
;
function
rotateBlurb
(
)
{
document
.
getElementById
(
"
blurb
"
)
.
innerText
=
blurbStrings
[
currentBlurb
]
;
currentBlurb
=
(
currentBlurb
+
1
)
%
blurbStrings
.
length
;
}
rotateBlurb
(
)
;
setInterval
(
rotateBlurb
BLURB_CYCLE_MS
)
;
label
.
className
+
=
"
no
-
focus
-
outline
"
;
label
.
focus
(
)
;
}
)
;

"
use
strict
"
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
NetUtil
.
jsm
"
)
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
function
readSync
(
uri
)
{
let
channel
=
NetUtil
.
newChannel
(
{
uri
loadUsingSystemPrincipal
:
true
}
)
;
let
buffer
=
NetUtil
.
readInputStream
(
channel
.
open2
(
)
)
;
return
new
TextDecoder
(
)
.
decode
(
buffer
)
;
}
function
startup
(
data
reason
)
{
Services
.
scriptloader
.
loadSubScript
(
data
.
resourceURI
.
resolve
(
"
content
/
initialize_browser
.
js
"
)
)
;
Services
.
obs
.
addObserver
(
function
observer
(
window
)
{
Services
.
obs
.
removeObserver
(
observer
"
browser
-
delayed
-
startup
-
finished
"
)
;
initializeBrowser
(
window
)
;
}
"
browser
-
delayed
-
startup
-
finished
"
)
;
}
function
shutdown
(
data
reason
)
{
}
function
install
(
data
reason
)
{
}
function
uninstall
(
data
reason
)
{
}

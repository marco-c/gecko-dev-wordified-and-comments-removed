var
{
interfaces
:
Ci
}
=
Components
;
addEventListener
(
"
TalosQuitApplication
"
event
=
>
{
let
priority
=
docShell
.
QueryInterface
(
Ci
.
nsIDocumentLoader
)
.
loadGroup
.
QueryInterface
(
Ci
.
nsISupportsPriority
)
.
priority
;
if
(
priority
!
=
Ci
.
nsISupportsPriority
.
PRIORITY_LOWEST
)
{
sendAsyncMessage
(
"
Talos
:
ForceQuit
"
event
.
detail
)
;
}
}
)
;

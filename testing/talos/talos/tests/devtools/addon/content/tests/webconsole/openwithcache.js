"
use
strict
"
;
const
{
openToolboxAndLog
closeToolbox
testSetup
testTeardown
SIMPLE_URL
}
=
require
(
"
damp
-
test
/
tests
/
head
"
)
;
const
TOTAL_MESSAGES
=
100
;
module
.
exports
=
async
function
(
)
{
let
tab
=
await
testSetup
(
SIMPLE_URL
)
;
tab
.
linkedBrowser
.
messageManager
.
loadFrameScript
(
"
data
:
(
"
+
encodeURIComponent
(
function
(
)
{
for
(
var
i
=
0
;
i
<
{
TOTAL_MESSAGES
}
;
i
+
+
)
{
content
.
console
.
log
(
'
damp
'
i
+
1
content
)
;
}
}
)
+
"
)
(
)
"
true
)
;
await
openToolboxAndLog
(
"
console
.
openwithcache
"
"
webconsole
"
)
;
await
closeToolbox
(
)
;
await
testTeardown
(
)
;
}
;

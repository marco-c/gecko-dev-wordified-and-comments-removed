"
use
strict
"
;
const
Services
=
require
(
"
Services
"
)
;
const
{
openToolboxAndLog
}
=
require
(
"
.
.
/
head
"
)
;
const
INITIALIZED_EVENT
=
"
Accessibility
:
Initialized
"
;
const
PREF_ACCESSIBILITY_FORCE_DISABLED
=
"
accessibility
.
force_disabled
"
;
exports
.
shutdownAccessibilityService
=
function
(
)
{
Services
.
prefs
.
setIntPref
(
PREF_ACCESSIBILITY_FORCE_DISABLED
1
)
;
Services
.
prefs
.
clearUserPref
(
PREF_ACCESSIBILITY_FORCE_DISABLED
)
;
}
;
exports
.
openAccessibilityAndLog
=
async
function
(
label
)
{
await
openToolboxAndLog
(
{
label
}
.
accessibility
"
accessibility
"
(
toolbox
panel
)
=
>
panel
.
panelWin
.
once
(
INITIALIZED_EVENT
)
)
;
}
;

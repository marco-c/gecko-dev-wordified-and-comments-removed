function
_contentPaintHandler
(
)
{
var
utils
=
content
.
windowUtils
;
if
(
utils
.
isMozAfterPaintPending
)
{
addEventListener
(
"
MozAfterPaint
"
function
afterpaint
(
e
)
{
removeEventListener
(
"
MozAfterPaint
"
afterpaint
true
)
;
sendAsyncMessage
(
"
PageLoader
:
LoadEvent
"
{
}
)
;
}
true
)
;
}
else
{
sendAsyncMessage
(
"
PageLoader
:
LoadEvent
"
{
}
)
;
}
}
addEventListener
(
"
load
"
contentLoadHandlerCallback
(
_contentPaintHandler
)
true
)
;

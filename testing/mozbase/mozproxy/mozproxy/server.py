from
mozproxy
.
backends
.
mitm
.
android
import
MitmproxyAndroid
from
mozproxy
.
backends
.
mitm
.
desktop
import
MitmproxyDesktop
from
mozproxy
.
utils
import
LOG
_BACKENDS
=
{
"
mitmproxy
"
:
MitmproxyDesktop
"
mitmproxy
-
android
"
:
MitmproxyAndroid
}
def
get_backend
(
name
*
args
*
*
kw
)
:
    
"
"
"
Returns
the
class
that
implements
the
backend
.
    
Raises
KeyError
in
case
the
backend
does
not
exists
.
    
"
"
"
    
if
name
=
=
"
mitmproxy
"
and
args
[
0
]
[
"
platform
"
]
=
=
"
linux
"
:
        
args
[
0
]
[
"
playback_version
"
]
=
"
8
.
1
.
1
"
        
LOG
.
info
(
"
Forcing
mitmproxy
version
8
.
1
.
1
for
linux
desktop
.
"
)
    
return
_BACKENDS
[
name
]
(
*
args
*
*
kw
)

const
SVGNS
=
'
http
:
/
/
www
.
w3
.
org
/
2000
/
svg
'
;
const
XLINKNS
=
'
http
:
/
/
www
.
w3
.
org
/
1999
/
xlink
'
;
function
createSVGElement
(
test
tag
parent
attrs
)
{
var
elem
=
document
.
createElementNS
(
SVGNS
tag
)
;
if
(
attrs
)
{
for
(
var
attrName
in
attrs
)
{
elem
.
setAttribute
(
attrName
attrs
[
attrName
]
)
;
}
}
parent
.
appendChild
(
elem
)
;
if
(
test
)
{
test
.
add_cleanup
(
function
(
)
{
elem
.
remove
(
)
;
}
)
;
}
return
elem
;
}
function
waitEvent
(
object
name
)
{
return
new
Promise
(
function
(
resolve
)
{
object
.
addEventListener
(
name
resolve
{
once
:
true
}
)
;
}
)
;
}

import
six
import
time
MESSAGE_SIZE
=
16
*
1024
*
1024
def
web_socket_do_extra_handshake
(
request
)
:
    
request
.
ws_extension_processors
=
[
]
def
web_socket_transfer_data
(
request
)
:
    
start_time
=
time
.
time
(
)
    
request
.
ws_stream
.
send_message
(
b
'
'
*
MESSAGE_SIZE
binary
=
True
)
    
request
.
ws_stream
.
send_message
(
six
.
text_type
(
time
.
time
(
)
-
start_time
)
binary
=
False
)

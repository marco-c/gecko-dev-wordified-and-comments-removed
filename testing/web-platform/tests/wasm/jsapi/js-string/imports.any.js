test
(
(
)
=
>
{
let
builder
=
new
WasmModuleBuilder
(
)
;
builder
.
addImportedGlobal
(
"
constants
"
"
constant
"
kWasmExternRef
false
)
;
builder
.
addImport
(
"
wasm
:
js
-
string
"
"
test
"
{
params
:
[
kWasmExternRef
]
results
:
[
kWasmI32
]
}
)
;
let
buffer
=
builder
.
toBuffer
(
)
;
let
module
=
new
WebAssembly
.
Module
(
buffer
{
builtins
:
[
"
js
-
string
"
]
importedStringConstants
:
"
constants
"
}
)
;
let
imports
=
WebAssembly
.
Module
.
imports
(
module
)
;
assert_equals
(
imports
.
length
0
)
;
}
)
;

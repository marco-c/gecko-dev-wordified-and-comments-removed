'
use
strict
'
;
const
test_desc
=
'
Unicode
string
with
utf8
representation
longer
than
248
'
+
'
bytes
in
\
'
name
\
'
must
throw
TypeError
.
'
;
const
expected
=
new
DOMException
(
'
Failed
to
execute
\
'
requestDevice
\
'
on
\
'
Bluetooth
\
'
:
'
+
'
A
device
name
can
\
'
t
be
longer
than
248
bytes
.
'
new
TypeError
(
)
)
;
const
unicode_name
=
'
\
u2764
'
.
repeat
(
83
)
;
bluetooth_test
(
(
)
=
>
assert_promise_rejects_with_message
(
requestDeviceWithTrustedClick
(
{
filters
:
[
{
name
:
unicode_name
}
]
}
)
expected
)
test_desc
)
;

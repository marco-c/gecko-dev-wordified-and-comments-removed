(
function
(
)
{
if
(
navigator
.
userAgent
.
toLowerCase
(
)
.
indexOf
(
'
edge
'
)
=
=
=
-
1
&
&
navigator
.
userAgent
.
toLowerCase
(
)
.
indexOf
(
'
chrome
'
)
>
-
1
)
{
if
(
(
/
chrome
\
/
(
[
0
-
9
]
*
)
\
.
/
.
exec
(
navigator
.
userAgent
.
toLowerCase
(
)
)
[
1
]
|
0
)
<
54
)
{
var
_mediaKeySessionClose
=
MediaKeySession
.
prototype
.
close
;
var
_mediaKeySessionKeyStatusesGetter
=
Object
.
getOwnPropertyDescriptor
(
MediaKeySession
.
prototype
'
keyStatuses
'
)
.
get
;
var
_emptyMediaKeyStatusMap
=
{
size
:
0
has
:
function
(
)
{
return
false
;
}
get
:
function
(
)
{
return
undefined
;
}
entries
:
function
(
)
{
return
[
]
;
}
keys
:
function
(
)
{
return
[
]
;
}
values
:
function
(
)
{
return
[
]
;
}
forEach
:
function
(
)
{
return
;
}
}
;
MediaKeySession
.
prototype
.
close
=
function
close
(
)
{
this
.
__closed
=
true
;
setTimeout
(
function
(
)
{
this
.
dispatchEvent
(
new
Event
(
'
keystatuseschange
'
)
)
;
}
.
bind
(
this
)
0
)
;
return
_mediaKeySessionClose
.
call
(
this
)
;
}
;
Object
.
defineProperty
(
MediaKeySession
.
prototype
'
keyStatuses
'
{
get
:
function
(
)
{
return
this
.
__closed
?
_emptyMediaKeyStatusMap
:
_mediaKeySessionKeyStatusesGetter
.
call
(
this
)
;
}
}
)
;
}
}
}
(
)
)
;

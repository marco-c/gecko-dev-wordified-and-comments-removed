'
use
strict
'
;
promise_test
(
async
(
)
=
>
{
let
closed
=
new
ReadableStream
(
{
pull
(
controller
)
{
controller
.
enqueue
(
'
is
there
anybody
in
there
?
'
)
;
}
}
)
.
getReader
(
)
.
closed
;
for
(
let
i
=
0
;
i
<
5
;
+
+
i
)
await
garbageCollect
(
)
;
}
'
Garbage
-
collecting
a
stream
along
with
its
reader
should
not
crash
'
)
;

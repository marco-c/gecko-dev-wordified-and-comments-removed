async
function
runTestInPortal
(
portalSrc
testName
)
{
let
portal
=
document
.
createElement
(
'
portal
'
)
;
portal
.
src
=
portalSrc
+
'
?
testName
=
'
+
testName
;
let
result
=
await
new
Promise
(
(
resolve
)
=
>
{
portal
.
onmessage
=
(
e
)
=
>
{
resolve
(
e
.
data
)
;
}
;
document
.
body
.
appendChild
(
portal
)
;
}
)
;
assert_equals
(
result
'
Passed
'
)
;
}

<
!
DOCTYPE
html
>
<
html
lang
=
'
en
'
>
<
head
>
<
title
>
struct
-
dom
-
01
-
b
-
manual
.
svg
<
/
title
>
<
meta
charset
=
'
utf
-
8
'
>
<
/
head
>
<
body
>
<
h1
>
Source
SVG
:
struct
-
dom
-
01
-
b
-
manual
.
svg
<
/
h1
>
<
svg
version
=
"
1
.
1
"
baseProfile
=
"
basic
"
onload
=
"
domTest
(
evt
)
"
id
=
"
svg
-
root
"
width
=
"
100
%
"
height
=
"
100
%
"
viewBox
=
"
0
0
480
360
"
xmlns
=
"
http
:
/
/
www
.
w3
.
org
/
2000
/
svg
"
xmlns
:
xlink
=
"
http
:
/
/
www
.
w3
.
org
/
1999
/
xlink
"
>
<
title
id
=
"
test
-
title
"
>
RCSfile
:
struct
-
dom
-
01
-
b
.
svg
v
<
/
title
>
<
defs
>
<
font
-
face
font
-
family
=
"
SVGFreeSansASCII
"
unicode
-
range
=
"
U
+
0
-
7F
"
>
<
font
-
face
-
src
>
<
font
-
face
-
uri
xlink
:
href
=
"
.
.
/
resources
/
SVGFreeSans
.
svg
#
ascii
"
/
>
<
/
font
-
face
-
src
>
<
/
font
-
face
>
<
/
defs
>
<
g
id
=
"
test
-
body
-
content
"
font
-
family
=
"
SVGFreeSansASCII
sans
-
serif
"
font
-
size
=
"
18
"
>
<
script
type
=
"
text
/
ecmascript
"
xlink
:
href
=
"
.
.
/
resources
/
testharness
.
js
"
>
<
/
script
>
<
script
type
=
"
text
/
ecmascript
"
>
<
!
[
CDATA
[
function
domTest
(
evt
)
{
var
svg_ns
=
"
http
:
/
/
www
.
w3
.
org
/
2000
/
svg
"
;
/
/
Get
Document
var
target
=
evt
.
target
;
var
doc
=
target
.
ownerDocument
;
/
/
/
/
Test
that
our
rectangle
is
an
SVGElement
instance
/
/
var
rect
=
doc
.
getElementById
(
"
rectId
"
)
;
var
rootSVG
=
rect
.
ownerSVGElement
;
var
rootId
=
rootSVG
.
getAttribute
(
"
id
"
)
;
/
/
Insert
a
new
text
element
to
the
DOM
tree
using
the
id
var
newText
=
doc
.
createElementNS
(
svg_ns
'
text
'
)
;
newText
.
setAttribute
(
'
x
'
'
50
'
)
;
newText
.
setAttribute
(
'
y
'
'
100
'
)
;
var
message
=
"
This
document
'
s
root
identifier
is
:
"
+
rootId
;
var
textContent
=
doc
.
createTextNode
(
message
)
;
newText
.
appendChild
(
textContent
)
;
rect
.
parentNode
.
appendChild
(
newText
)
;
/
/
/
/
Now
check
that
our
rectangle
is
an
instance
of
SVGRect
by
accessing
/
/
specific
methods
in
order
to
get
its
x
y
width
and
height
attributes
.
/
/
var
x
=
rect
.
x
.
baseVal
.
value
;
/
/
SVGRect
-
&
gt
;
SVGAnimatedLenght
-
&
gt
;
SVGLength
-
&
gt
;
long
var
y
=
rect
.
y
.
baseVal
.
value
;
var
width
=
rect
.
width
.
baseVal
.
value
;
var
height
=
rect
.
height
.
baseVal
.
value
;
/
/
/
/
Now
build
a
new
SVGRect
through
the
SVGSVGElement
interface
.
/
/
var
newRect
=
doc
.
createElementNS
(
svg_ns
'
rect
'
)
;
/
/
/
/
Set
the
x
y
width
and
height
of
this
element
/
/
newRect
.
x
.
baseVal
.
value
=
x
+
10
;
newRect
.
y
.
baseVal
.
value
=
y
+
10
;
newRect
.
setAttribute
(
"
width
"
width
)
;
newRect
.
setAttribute
(
"
height
"
height
)
;
/
/
/
/
Insert
new
element
in
DOM
tree
/
/
rect
.
parentNode
.
insertBefore
(
newRect
rect
)
;
/
/
/
/
Check
the
pass
criteria
using
the
JS
framework
/
/
test
(
function
(
)
{
assert_equals
(
rootId
"
svg
-
root
"
)
}
"
Assert
that
the
document
'
s
root
identifier
is
'
svg
-
root
'
.
"
)
;
test
(
function
(
)
{
assert_true
(
newRect
instanceof
SVGRectElement
)
;
assert_equals
(
newRect
.
getAttribute
(
'
x
'
)
String
(
x
+
10
)
)
;
assert_equals
(
newRect
.
getAttribute
(
'
y
'
)
String
(
y
+
10
)
)
;
assert_equals
(
newRect
.
getAttribute
(
'
width
'
)
String
(
width
)
)
;
assert_equals
(
newRect
.
getAttribute
(
'
height
'
)
String
(
height
)
)
;
}
"
Assert
that
'
newRect
'
is
replica
(
ignoring
fill
)
of
'
rect
'
with
different
x
and
y
.
"
)
;
}
]
]
>
<
/
script
>
<
rect
id
=
"
rectId
"
x
=
"
40
"
y
=
"
150
"
width
=
"
50
"
height
=
"
50
"
fill
=
"
green
"
/
>
<
/
g
>
<
g
font
-
family
=
"
SVGFreeSansASCII
sans
-
serif
"
font
-
size
=
"
32
"
>
<
text
id
=
"
revision
"
x
=
"
10
"
y
=
"
340
"
stroke
=
"
none
"
fill
=
"
black
"
>
Revision
:
1
.
8
<
/
text
>
<
/
g
>
<
rect
id
=
"
test
-
frame
"
x
=
"
1
"
y
=
"
1
"
width
=
"
478
"
height
=
"
358
"
fill
=
"
none
"
stroke
=
"
#
000000
"
/
>
<
/
svg
>
<
/
body
>
<
/
html
>

runStructuredCloneBatteryOfTests
(
{
structuredClone
(
data
transfer
)
{
return
new
Promise
(
resolve
=
>
{
window
.
addEventListener
(
'
message
'
function
f
(
ev
)
{
window
.
removeEventListener
(
'
message
'
f
)
;
resolve
(
ev
.
data
.
data
)
;
}
)
;
window
.
postMessage
(
{
data
transfer
}
"
/
"
transfer
)
;
}
)
;
}
}
)
;

const
runTest
=
(
description
)
=
>
{
const
initiator_base_uri
=
document
.
baseURI
;
test
(
(
)
=
>
{
const
popup
=
window
.
open
(
)
;
assert_equals
(
"
about
:
blank
"
popup
.
location
.
href
)
;
assert_equals
(
initiator_base_uri
popup
.
document
.
baseURI
)
;
const
base_element
=
document
.
createElement
(
'
base
'
)
;
base_element
.
href
=
"
https
:
/
/
example
.
com
"
;
document
.
head
.
appendChild
(
base_element
)
;
assert_equals
(
initiator_base_uri
popup
.
document
.
baseURI
)
;
}
description
)
;
}
;
onload
=
(
)
=
>
{
runTest
(
"
window
.
open
(
)
gets
base
url
from
initiator
.
"
)
;
}
;

self
.
onmessage
=
function
(
e
)
{
const
offscreen
=
e
.
data
.
canvas
;
offscreen_ctx
=
offscreen
.
getContext
(
'
2d
'
)
;
let
test_font
=
new
FontFace
(
"
Lato
-
Medium
"
"
url
(
/
css
/
css
-
fonts
/
support
/
fonts
/
Lato
-
Medium
.
ttf
)
"
)
;
test_font
.
load
(
)
.
then
(
(
font
)
=
>
{
self
.
fonts
.
add
(
font
)
;
offscreen_ctx
.
font
=
'
25px
Lato
-
Medium
'
;
offscreen_ctx
.
lang
=
'
tr
'
;
offscreen_ctx
.
fillText
(
'
fi
'
5
50
)
;
offscreen_ctx
.
fillStyle
=
'
#
0f0
'
;
offscreen_ctx
.
fillRect
(
0
0
1
1
)
;
}
)
;
}

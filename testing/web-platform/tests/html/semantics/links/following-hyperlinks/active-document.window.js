[
"
a
"
"
area
"
"
link
"
]
.
forEach
(
type
=
>
{
async_test
(
t
=
>
{
const
frame
=
document
.
createElement
(
"
iframe
"
)
link
=
document
.
createElement
(
type
)
;
t
.
add_cleanup
(
(
)
=
>
frame
.
remove
(
)
)
;
frame
.
onload
=
t
.
step_func
(
(
)
=
>
{
if
(
frame
.
contentWindow
.
location
.
href
=
=
=
"
about
:
blank
"
)
return
;
link
.
click
(
)
;
t
.
step_timeout
(
(
)
=
>
{
assert_equals
(
frame
.
contentWindow
.
location
.
pathname
"
/
common
/
blank
.
html
"
)
;
t
.
done
(
)
;
}
500
)
;
}
)
;
document
.
body
.
appendChild
(
frame
)
;
frame
.
contentDocument
.
body
.
appendChild
(
link
)
;
link
.
href
=
"
/
"
;
frame
.
src
=
"
/
common
/
blank
.
html
"
;
}
"
<
"
+
type
+
"
>
in
navigated
away
<
iframe
>
'
s
document
cannot
follow
hyperlinks
"
)
;
}
)
;

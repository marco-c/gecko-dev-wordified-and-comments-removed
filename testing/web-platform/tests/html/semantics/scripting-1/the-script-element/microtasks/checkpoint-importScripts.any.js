self
.
log
=
[
]
;
async_test
(
t
=
>
{
self
.
addEventListener
(
'
error
'
t
.
unreached_func
(
'
error
event
should
not
be
fired
'
)
)
;
t
.
step_timeout
(
(
)
=
>
{
assert_array_equals
(
log
[
'
importScripts
(
)
ed
script
'
'
catch
'
'
promise
'
]
)
;
t
.
done
(
)
;
}
0
)
;
}
"
Promise
resolved
during
importScripts
(
)
"
)
;
try
{
importScripts
(
'
resources
/
resolve
-
then
-
throw
.
js
'
)
;
}
catch
(
e
)
{
self
.
log
.
push
(
'
catch
'
)
;
}

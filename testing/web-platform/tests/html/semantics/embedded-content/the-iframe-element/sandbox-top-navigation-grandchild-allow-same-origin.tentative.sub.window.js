'
use
strict
'
;
promise_test
(
async
t
=
>
{
const
main
=
await
setupTest
(
)
;
const
iframe_1
=
await
createNestedIframe
(
main
'
HTTP_ORIGIN
'
'
'
'
'
)
;
const
iframe_2
=
await
createNestedIframe
(
iframe_1
'
HTTP_ORIGIN
'
'
'
'
allow
-
same
-
origin
allow
-
top
-
navigation
'
)
;
await
attemptTopNavigation
(
iframe_2
true
)
;
}
'
A
sandboxed
same
-
origin
grandchild
with
allow
-
same
-
origin
can
\
give
itself
top
-
nav
privileges
'
)
;

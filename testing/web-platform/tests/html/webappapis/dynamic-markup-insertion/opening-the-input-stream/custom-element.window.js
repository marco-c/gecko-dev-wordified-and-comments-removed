const
noError
=
Symbol
(
"
no
error
"
)
;
let
err
=
noError
;
class
CustomElement
extends
HTMLElement
{
constructor
(
)
{
super
(
)
;
try
{
document
.
open
(
)
;
}
catch
(
e
)
{
err
=
e
;
}
}
}
customElements
.
define
(
"
custom
-
element
"
CustomElement
)
;
test
(
t
=
>
{
err
=
noError
;
document
.
createElement
(
"
custom
-
element
"
)
;
assert_equals
(
err
noError
)
;
}
"
document
.
open
(
)
works
in
custom
element
constructor
for
createElement
(
)
"
)
;
test
(
t
=
>
{
err
=
noError
;
document
.
write
(
"
<
custom
-
element
>
<
/
custom
-
element
>
"
)
;
assert_throws
(
"
InvalidStateError
"
(
)
=
>
{
throw
err
;
}
)
;
}
"
document
.
open
(
)
is
forbidden
in
custom
element
constructor
when
creating
element
from
parser
"
)
;

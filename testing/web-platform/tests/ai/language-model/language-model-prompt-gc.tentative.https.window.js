'
use
strict
'
;
promise_test
(
async
(
)
=
>
{
await
ensureLanguageModel
(
)
;
const
session
=
await
createLanguageModel
(
)
;
const
promptPromise
=
session
.
prompt
(
kTestPrompt
)
;
gc
(
)
;
const
result
=
await
promptPromise
;
assert_equals
(
typeof
result
"
string
"
)
;
}
'
Prompt
API
must
continue
even
after
GC
has
been
performed
.
'
)
;

'
use
strict
'
;
promise_test
(
async
t
=
>
{
assert_true
(
!
!
LanguageModel
)
;
let
iframe
=
document
.
createElement
(
"
iframe
"
)
;
document
.
childNodes
[
document
.
childNodes
.
length
-
1
]
.
appendChild
(
iframe
)
;
let
iframeWindow
=
iframe
.
contentWindow
;
iframeWindow
.
languageModel
=
iframeWindow
.
LanguageModel
;
let
iframeDOMException
=
iframeWindow
.
DOMException
;
iframe
.
remove
(
)
;
await
promise_rejects_dom
(
t
'
InvalidStateError
'
iframeDOMException
iframeWindow
.
languageModel
.
availability
(
)
"
The
promise
should
be
rejected
with
InvalidStateError
if
the
execution
context
is
invalid
.
"
)
;
}
)
;

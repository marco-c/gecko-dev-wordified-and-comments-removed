async
function
runNavigateAncestorTest
(
test_type
ancestor_type
)
{
const
navigate_ancestor_key
=
token
(
)
;
const
navigate_ancestor_from_nested_key
=
token
(
)
;
const
win
=
window
.
open
(
generateURL
(
"
resources
/
navigate
-
ancestor
-
test
-
runner
.
https
.
html
"
[
navigate_ancestor_key
navigate_ancestor_from_nested_key
]
)
)
;
await
new
Promise
(
resolve
=
>
{
win
.
onload
=
resolve
;
}
)
;
const
pagehidePromise
=
new
Promise
(
resolve
=
>
{
win
.
onpagehide
=
resolve
;
}
)
;
await
win
.
runTest
(
test_type
ancestor_type
)
;
win
.
close
(
)
;
await
pagehidePromise
;
}

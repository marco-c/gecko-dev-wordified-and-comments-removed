self
.
addEventListener
(
'
message
'
async
(
e
)
=
>
{
if
(
e
.
data
=
=
=
'
fetch
'
)
{
const
res
=
await
fetch
(
'
.
/
fenced_frame_dedicated_worker_test
'
)
;
const
data
=
res
.
ok
?
await
res
.
text
(
)
:
res
.
statusText
;
self
.
postMessage
(
data
)
;
}
}
)
;

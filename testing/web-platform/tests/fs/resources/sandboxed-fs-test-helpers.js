async
function
cleanupSandboxedFileSystem
(
)
{
const
dir
=
await
navigator
.
storage
.
getDirectory
(
)
;
for
await
(
let
entry
of
dir
.
values
(
)
)
await
dir
.
removeEntry
(
entry
.
name
{
recursive
:
entry
.
kind
=
=
=
'
directory
'
}
)
;
}
function
directory_test
(
func
description
)
{
promise_test
(
async
t
=
>
{
await
cleanupSandboxedFileSystem
(
)
;
const
dir
=
await
navigator
.
storage
.
getDirectory
(
)
;
await
func
(
t
dir
)
;
}
description
)
;
}

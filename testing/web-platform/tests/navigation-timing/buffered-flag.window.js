async_test
(
t
=
>
{
function
checkEntryList
(
entries
)
{
assert_equals
(
entries
.
length
1
"
Only
one
navigation
timing
entry
"
)
;
assert_equals
(
entries
[
0
]
.
entryType
"
navigation
"
"
entryType
is
\
"
navigation
\
"
"
)
;
assert_equals
(
entries
[
0
]
.
name
window
.
location
.
toString
(
)
"
name
is
the
address
of
the
document
"
)
;
}
new
PerformanceObserver
(
t
.
step_func
(
entryList
=
>
{
checkEntryList
(
entryList
.
getEntries
(
)
)
;
new
PerformanceObserver
(
t
.
step_func_done
(
list
=
>
{
checkEntryList
(
list
.
getEntries
(
)
)
;
}
)
)
.
observe
(
{
type
:
'
navigation
'
buffered
:
true
}
)
;
}
)
)
.
observe
(
{
entryTypes
:
[
"
navigation
"
]
}
)
;
}
"
PerformanceObserver
with
buffered
flag
sees
previous
navigation
entry
.
"
)
;

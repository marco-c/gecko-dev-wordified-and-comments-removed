const
kURL
=
'
/
service
-
worker
-
interception
-
network
-
worker
.
js
'
;
const
kScript
=
'
postMessage
(
"
LOADED_FROM_SERVICE_WORKER
"
)
'
;
const
kHeaders
=
[
[
'
content
-
type
'
'
text
/
javascript
'
]
]
;
self
.
addEventListener
(
'
fetch
'
e
=
>
{
if
(
e
.
request
.
url
.
indexOf
(
kURL
)
!
=
-
1
)
e
.
respondWith
(
new
Response
(
kScript
{
headers
:
kHeaders
}
)
)
;
}
)
;

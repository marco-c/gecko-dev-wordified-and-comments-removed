'
use
strict
'
;
promise_test
(
async
(
)
=
>
{
await
new
Promise
(
resolve
=
>
{
onload
=
resolve
;
}
)
;
window
.
iframe
=
document
.
createElement
(
'
iframe
'
)
;
document
.
body
.
appendChild
(
iframe
)
;
iframe
.
srcdoc
=
<
!
doctype
html
>
<
script
>
const
response
=
new
Response
(
'
body
'
)
;
window
.
parent
.
postMessage
(
'
okay
'
'
*
'
)
;
window
.
parent
.
iframe
.
remove
(
)
;
response
.
clone
(
)
;
<
/
script
>
;
await
new
Promise
(
resolve
=
>
{
onmessage
=
evt
=
>
{
if
(
evt
.
data
=
=
=
'
okay
'
)
{
resolve
(
)
;
}
}
;
}
)
;
}
'
clone
within
removed
iframe
should
not
crash
'
)
;

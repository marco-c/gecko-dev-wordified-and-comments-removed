const
url
=
new
URL
(
self
.
location
)
.
searchParams
.
get
(
"
url
"
)
;
const
worker
=
new
Worker
(
url
)
;
worker
.
addEventListener
(
"
message
"
(
evt
)
=
>
{
self
.
postMessage
(
evt
.
data
)
;
}
)
;
worker
.
addEventListener
(
"
error
"
(
evt
)
=
>
{
self
.
postMessage
(
{
error
:
evt
.
message
|
|
"
unknown
error
"
}
)
;
}
)
;

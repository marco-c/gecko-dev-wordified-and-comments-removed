'
use
strict
'
;
promise_test
(
async
(
t
)
=
>
{
const
observer
=
new
PressureObserver
(
(
)
=
>
{
}
)
;
t
.
add_cleanup
(
(
)
=
>
observer
.
disconnect
(
)
)
;
for
(
let
i
=
0
;
i
<
2
;
i
+
+
)
{
const
promise
=
observer
.
observe
(
'
cpu
'
)
;
assert_class_string
(
promise
'
Promise
'
)
;
await
promise
;
}
}
'
PressureObserver
.
observe
(
)
is
idempotent
'
)
;

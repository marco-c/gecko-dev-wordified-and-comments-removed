test
(
(
)
=
>
{
const
eventTarget
=
new
EventTarget
;
let
currentEvent
;
eventTarget
.
addEventListener
(
"
foo
"
{
get
handleEvent
(
)
{
currentEvent
=
self
.
event
;
return
(
)
=
>
{
}
;
}
}
)
;
const
event
=
new
Event
(
"
foo
"
)
;
eventTarget
.
dispatchEvent
(
event
)
;
assert_equals
(
currentEvent
event
)
;
}
"
self
.
event
is
set
before
'
handleEvent
'
lookup
"
)
;

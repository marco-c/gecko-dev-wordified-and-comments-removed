async
function
setMediaPermission
(
status
=
"
granted
"
scope
=
[
"
camera
"
"
microphone
"
]
)
{
try
{
for
(
let
s
of
scope
)
{
await
test_driver
.
set_permission
(
{
name
:
s
}
status
true
)
;
}
}
catch
(
e
)
{
if
(
!
(
typeof
e
=
=
=
"
string
"
&
&
e
.
match
(
/
set_permission
not
implemented
/
)
)
)
{
throw
e
}
}
}

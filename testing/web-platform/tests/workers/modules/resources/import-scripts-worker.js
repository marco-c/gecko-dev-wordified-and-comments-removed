try
{
importScripts
(
'
empty
-
worker
.
js
'
)
;
if
(
'
DedicatedWorkerGlobalScope
'
in
self
&
&
self
instanceof
DedicatedWorkerGlobalScope
)
{
postMessage
(
'
LOADED
'
)
;
}
else
if
(
'
SharedWorkerGlobalScope
'
in
self
&
&
self
instanceof
SharedWorkerGlobalScope
)
{
onconnect
=
e
=
>
{
e
.
ports
[
0
]
.
postMessage
(
'
LOADED
'
)
;
}
;
}
}
catch
(
e
)
{
if
(
'
DedicatedWorkerGlobalScope
'
in
self
&
&
self
instanceof
DedicatedWorkerGlobalScope
)
{
postMessage
(
e
.
name
)
;
}
else
if
(
'
SharedWorkerGlobalScope
'
in
self
&
&
self
instanceof
SharedWorkerGlobalScope
)
{
onconnect
=
connectEvent
=
>
{
connectEvent
.
ports
[
0
]
.
postMessage
(
e
.
name
)
;
}
;
}
}

async_test
(
t
=
>
{
if
(
!
sessionStorage
.
getItem
(
"
pageVisited
"
)
)
{
sessionStorage
.
setItem
(
"
pageVisited
"
1
)
;
t
.
step_timeout
(
(
)
=
>
{
location
.
href
=
new
URL
(
"
.
.
/
resources
/
going
-
back
.
html
"
window
.
location
)
;
}
0
)
;
window
.
stop
(
)
;
}
else
{
const
nrr
=
performance
.
getEntriesByType
(
'
navigation
'
)
[
0
]
.
notRestoredReasons
;
assert_equals
(
nrr
.
reasons
[
0
]
.
reason
"
parser
-
aborted
"
)
;
assert_equals
(
nrr
.
reasons
.
length
1
)
;
t
.
done
(
)
;
}
}
"
aborting
a
parser
should
block
bfcache
.
"
)
;

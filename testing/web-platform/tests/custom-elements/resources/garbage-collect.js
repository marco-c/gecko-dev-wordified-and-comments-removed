async
function
maybeGarbageCollectAsync
(
)
{
if
(
typeof
TestUtils
!
=
=
'
undefined
'
&
&
TestUtils
.
gc
)
{
await
TestUtils
.
gc
(
)
;
}
else
if
(
self
.
gc
)
{
await
self
.
gc
(
)
;
}
else
if
(
self
.
GCController
)
{
await
GCController
.
collect
(
)
;
}
else
{
console
.
warn
(
'
Tests
are
running
without
the
ability
to
do
manual
'
+
'
garbage
collection
.
They
will
still
work
but
'
+
'
coverage
will
be
suboptimal
.
'
)
;
}
}

<
!
DOCTYPE
html
>
<
html
lang
=
"
en
"
>
<
meta
charset
=
"
UTF
-
8
"
>
<
title
>
CSS
Pseudo
-
Elements
Test
:
:
:
selection
overlay
drawn
over
the
:
:
spelling
-
error
overlay
<
/
title
>
<
link
rel
=
"
author
"
title
=
"
G
rard
Talbot
"
href
=
"
http
:
/
/
www
.
gtalbot
.
org
/
BrowserBugsSection
/
css21testsuite
/
"
>
<
link
rel
=
"
help
"
href
=
"
https
:
/
/
www
.
w3
.
org
/
TR
/
css
-
pseudo
-
4
/
#
highlight
-
painting
"
>
<
link
rel
=
"
match
"
href
=
"
reference
/
selection
-
overlay
-
and
-
spelling
-
001
-
ref
.
html
"
>
<
meta
content
=
"
"
name
=
"
flags
"
>
<
meta
name
=
"
assert
"
content
=
"
In
this
test
the
div
:
:
selection
pseudo
-
element
must
be
drawn
over
the
div
:
:
spelling
-
error
overlay
.
"
>
<
style
>
div
{
font
-
size
:
60px
;
line
-
height
:
1
;
/
*
We
deliberately
set
line
-
height
to
1
in
order
to
avoid
/
work
around
a
possible
difference
of
rendering
of
highlight
overlay
among
browsers
.
In
Chrome
80
+
the
selection
highlight
overlay
will
extent
vertically
to
include
line
box
top
and
line
box
bottom
.
This
is
not
the
case
in
Firefox
68
+
.
*
/
}
div
:
:
selection
{
background
-
color
:
rgba
(
0
%
50
%
100
%
0
.
5
)
;
/
*
a
very
lite
blue
color
according
to
https
:
/
/
www
.
colorhexa
.
com
/
7fbfff
*
/
color
:
yellow
;
}
div
:
:
spelling
-
error
{
background
-
color
:
yellow
;
color
:
red
;
}
<
/
style
>
<
script
>
function
startTest
(
)
{
var
targetRange
=
document
.
createRange
(
)
;
/
*
We
first
create
an
empty
range
*
/
targetRange
.
selectNodeContents
(
document
.
getElementById
(
"
test
"
)
)
;
/
*
Then
we
set
the
range
boundaries
to
the
children
of
div
#
test
*
/
window
.
getSelection
(
)
.
addRange
(
targetRange
)
;
/
*
Finally
we
now
select
such
range
of
content
*
/
}
<
/
script
>
<
body
onload
=
"
startTest
(
)
;
"
>
<
p
>
PREREQUISITE
:
User
agent
needs
to
have
an
enabled
and
capable
spelling
error
module
.
If
it
does
not
then
this
test
does
not
apply
to
such
user
agent
.
<
p
>
Test
passes
<
ul
>
<
li
>
if
each
glyph
of
"
Txet
sample
"
is
yellow
<
li
>
if
"
Txet
"
has
a
desaturated
lime
green
background
<
li
>
if
"
sample
"
has
a
very
lite
blue
background
and
<
li
>
if
there
is
no
red
.
<
/
ul
>
<
div
id
=
"
test
"
>
Txet
sample
<
/
div
>

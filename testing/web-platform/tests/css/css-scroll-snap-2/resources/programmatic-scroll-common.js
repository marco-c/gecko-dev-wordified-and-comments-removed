async
function
test_programmatic_scroll_onsnapchanging
(
test
scroller
event_target
snap_target
)
{
await
snap_test_setup
(
test
scroller
"
snapchanging
"
)
;
const
expected_snap_targets
=
{
block
:
snap_target
inline
:
null
}
;
const
snapchanging_promise
=
waitForOnSnapchanging
(
event_target
)
;
scroller
.
scrollTo
(
0
snap_target
.
offsetTop
)
;
const
snapchanging_event
=
await
snapchanging_promise
;
assertSnapEvent
(
snapchanging_event
expected_snap_targets
)
;
assert_equals
(
scroller
.
scrollLeft
0
"
scrollLeft
is
zero
"
)
;
assert_equals
(
scroller
.
scrollTop
snap_target
.
offsetTop
"
snapped
to
snap_target
"
)
;
}

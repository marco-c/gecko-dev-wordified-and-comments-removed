"
use
strict
"
;
self
.
addEventListener
(
"
activate
"
(
event
)
=
>
{
event
.
waitUntil
(
clients
.
claim
(
)
)
;
}
)
;
self
.
addEventListener
(
'
fetch
'
(
event
)
=
>
{
const
requestChannel
=
new
BroadcastChannel
(
'
requests
-
test
'
)
;
var
url
=
event
.
request
.
url
;
requestChannel
.
postMessage
(
{
url
:
url
message
:
"
Service
worker
saw
this
URL
:
"
+
url
}
)
;
}
)
;

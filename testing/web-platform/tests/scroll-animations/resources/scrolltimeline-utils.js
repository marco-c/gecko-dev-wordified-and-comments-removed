'
use
strict
'
;
function
setupScrollTimelineTest
(
scrollerOverrides
=
new
Map
(
)
contentOverrides
=
new
Map
(
)
)
{
let
scroller
=
document
.
createElement
(
'
div
'
)
;
scroller
.
style
.
width
=
'
100px
'
;
scroller
.
style
.
height
=
'
100px
'
;
scroller
.
style
.
overflow
=
'
scroll
'
;
for
(
const
[
key
value
]
of
scrollerOverrides
)
{
scroller
.
style
[
key
]
=
value
;
}
let
contents
=
document
.
createElement
(
'
div
'
)
;
contents
.
style
.
width
=
'
500px
'
;
contents
.
style
.
height
=
'
500px
'
;
for
(
const
[
key
value
]
of
contentOverrides
)
{
contents
.
style
[
key
]
=
value
;
}
scroller
.
appendChild
(
contents
)
;
document
.
body
.
appendChild
(
scroller
)
;
return
scroller
;
}
function
calculateCurrentTime
(
currentScrollOffset
startScrollOffset
endScrollOffset
effectiveTimeRange
)
{
return
(
(
currentScrollOffset
-
startScrollOffset
)
/
(
endScrollOffset
-
startScrollOffset
)
)
*
effectiveTimeRange
;
}

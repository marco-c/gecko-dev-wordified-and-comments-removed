async
function
cleanupSandboxedFileSystem
(
)
{
const
dir
=
await
FileSystemDirectoryHandle
.
getSystemDirectory
(
{
type
:
'
sandbox
'
}
)
;
for
await
(
let
entry
of
dir
.
getEntries
(
)
)
await
dir
.
removeEntry
(
entry
.
name
{
recursive
:
entry
.
isDirectory
}
)
;
}
function
directory_test
(
func
description
)
{
promise_test
(
async
t
=
>
{
await
cleanupSandboxedFileSystem
(
)
;
const
dir
=
await
FileSystemDirectoryHandle
.
getSystemDirectory
(
{
type
:
'
sandbox
'
}
)
;
await
func
(
t
dir
)
;
}
description
)
;
}

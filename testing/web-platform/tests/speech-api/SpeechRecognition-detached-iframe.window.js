test
(
(
)
=
>
{
const
iframe
=
document
.
createElement
(
"
iframe
"
)
;
document
.
body
.
appendChild
(
iframe
)
;
const
frameWindow
=
iframe
.
contentWindow
;
iframe
.
remove
(
)
;
assert_equals
(
undefined
frameWindow
.
SpeechRecognition
|
|
frameWindow
.
webkitSpeechRecognition
)
;
}
"
SpeechRecognition
constructor
does
not
exist
in
detached
iframes
"
)
;
test
(
(
t
)
=
>
{
const
iframe
=
document
.
createElement
(
"
iframe
"
)
;
document
.
body
.
appendChild
(
iframe
)
;
const
frameWindow
=
iframe
.
contentWindow
;
const
frameDOMException
=
frameWindow
.
DOMException
;
frameWindow
.
SpeechRecognition
=
frameWindow
.
SpeechRecognition
|
|
frameWindow
.
webkitSpeechRecognition
;
const
speechRecognition
=
new
frameWindow
.
SpeechRecognition
(
)
;
iframe
.
remove
(
)
;
assert_throws_dom
(
"
InvalidStateError
"
frameDOMException
(
)
=
>
speechRecognition
.
start
(
)
)
;
}
"
SpeechRecognition
.
start
(
)
on
detached
frame
throws
"
)
;

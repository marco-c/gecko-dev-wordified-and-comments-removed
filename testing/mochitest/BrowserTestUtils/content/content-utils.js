"
use
strict
"
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
addEventListener
(
"
DOMContentLoaded
"
function
(
event
)
{
let
subframe
=
event
.
target
!
=
content
.
document
;
sendAsyncMessage
(
"
browser
-
test
-
utils
:
DOMContentLoadedEvent
"
{
subframe
:
subframe
internalURL
:
event
.
target
.
documentURI
visibleURL
:
content
.
document
.
location
.
href
}
)
;
}
true
)
;
addEventListener
(
"
load
"
function
(
event
)
{
let
subframe
=
event
.
target
!
=
content
.
document
;
sendAsyncMessage
(
"
browser
-
test
-
utils
:
loadEvent
"
{
subframe
:
subframe
internalURL
:
event
.
target
.
documentURI
visibleURL
:
content
.
document
.
location
.
href
}
)
;
}
true
)
;

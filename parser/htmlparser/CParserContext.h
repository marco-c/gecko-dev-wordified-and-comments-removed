#
ifndef
__CParserContext
#
define
__CParserContext
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
nsIParser
.
h
"
#
include
"
nsIDTD
.
h
"
#
include
"
nsIRequest
.
h
"
#
include
"
nsScanner
.
h
"
#
include
"
nsString
.
h
"
#
include
"
nsCOMPtr
.
h
"
class
CParserContext
{
public
:
enum
eContextType
{
eCTNone
eCTURL
eCTString
eCTStream
}
;
CParserContext
(
CParserContext
*
aPrevContext
nsScanner
*
aScanner
void
*
aKey
=
0
eParserCommands
aCommand
=
eViewNormal
nsIRequestObserver
*
aListener
=
0
eAutoDetectResult
aStatus
=
eUnknownDetect
bool
aCopyUnused
=
false
)
;
~
CParserContext
(
)
;
nsresult
GetTokenizer
(
nsIDTD
*
aDTD
nsIContentSink
*
aSink
nsITokenizer
*
&
aTokenizer
)
;
void
SetMimeType
(
const
nsACString
&
aMimeType
)
;
nsCOMPtr
<
nsIRequest
>
mRequest
;
nsCOMPtr
<
nsIRequestObserver
>
mListener
;
void
*
const
mKey
;
nsCOMPtr
<
nsITokenizer
>
mTokenizer
;
CParserContext
*
const
mPrevContext
;
mozilla
:
:
UniquePtr
<
nsScanner
>
mScanner
;
nsCString
mMimeType
;
nsDTDMode
mDTDMode
;
eParserDocType
mDocType
;
eStreamState
mStreamListenerState
;
eContextType
mContextType
;
eAutoDetectResult
mAutoDetectStatus
;
eParserCommands
mParserCommand
;
bool
mMultipart
;
bool
mCopyUnused
;
}
;
#
endif

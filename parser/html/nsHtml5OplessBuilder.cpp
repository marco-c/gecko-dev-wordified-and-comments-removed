#
include
"
nsHtml5OplessBuilder
.
h
"
#
include
"
mozilla
/
css
/
Loader
.
h
"
#
include
"
mozilla
/
dom
/
ScriptLoader
.
h
"
#
include
"
nsIDocShell
.
h
"
nsHtml5OplessBuilder
:
:
nsHtml5OplessBuilder
(
)
:
nsHtml5DocumentBuilder
(
true
)
{
}
nsHtml5OplessBuilder
:
:
~
nsHtml5OplessBuilder
(
)
{
}
void
nsHtml5OplessBuilder
:
:
Start
(
)
{
BeginFlush
(
)
;
BeginDocUpdate
(
)
;
}
void
nsHtml5OplessBuilder
:
:
Finish
(
)
{
EndDocUpdate
(
)
;
EndFlush
(
)
;
DropParserAndPerfHint
(
)
;
mScriptLoader
=
nullptr
;
mDocument
=
nullptr
;
mNodeInfoManager
=
nullptr
;
mCSSLoader
=
nullptr
;
mDocumentURI
=
nullptr
;
mDocShell
=
nullptr
;
if
(
mOwnedElements
.
Length
(
)
<
=
kRecyclableLength
)
{
mOwnedElements
.
ClearAndRetainStorage
(
)
;
}
else
{
mOwnedElements
.
Clear
(
)
;
}
}
void
nsHtml5OplessBuilder
:
:
SetParser
(
nsParserBase
*
aParser
)
{
mParser
=
aParser
;
}

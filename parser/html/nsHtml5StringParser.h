#
ifndef
nsHtml5StringParser_h
#
define
nsHtml5StringParser_h
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
nsHtml5AtomTable
.
h
"
#
include
"
nsParserBase
.
h
"
class
nsHtml5OplessBuilder
;
class
nsHtml5TreeBuilder
;
class
nsHtml5Tokenizer
;
class
nsIContent
;
namespace
mozilla
{
namespace
dom
{
class
Document
;
}
}
class
nsHtml5StringParser
:
public
nsParserBase
{
public
:
NS_DECL_ISUPPORTS
nsHtml5StringParser
(
)
;
nsresult
ParseFragment
(
const
nsAString
&
aSourceBuffer
nsIContent
*
aTargetNode
nsAtom
*
aContextLocalName
int32_t
aContextNamespace
bool
aQuirks
bool
aPreventScriptExecution
)
;
nsresult
ParseDocument
(
const
nsAString
&
aSourceBuffer
mozilla
:
:
dom
:
:
Document
*
aTargetDoc
bool
aScriptingEnabledForNoscriptParsing
)
;
private
:
virtual
~
nsHtml5StringParser
(
)
;
nsresult
Tokenize
(
const
nsAString
&
aSourceBuffer
mozilla
:
:
dom
:
:
Document
*
aDocument
bool
aScriptingEnabledForNoscriptParsing
)
;
RefPtr
<
nsHtml5OplessBuilder
>
mBuilder
;
const
mozilla
:
:
UniquePtr
<
nsHtml5TreeBuilder
>
mTreeBuilder
;
const
mozilla
:
:
UniquePtr
<
nsHtml5Tokenizer
>
mTokenizer
;
nsHtml5AtomTable
mAtomTable
;
}
;
#
endif

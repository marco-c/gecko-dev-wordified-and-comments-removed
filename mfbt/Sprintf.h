#
ifndef
mozilla_Sprintf_h_
#
define
mozilla_Sprintf_h_
#
include
<
stdio
.
h
>
#
include
<
stdarg
.
h
>
#
ifdef
__cplusplus
template
<
size_t
N
>
#
if
defined
(
__GNUC__
)
__attribute__
(
(
format
(
printf
2
3
)
)
)
#
endif
int
SprintfLiteral
(
char
(
&
buffer
)
[
N
]
const
char
*
format
.
.
.
)
{
va_list
args
;
va_start
(
args
format
)
;
int
result
=
vsnprintf
(
buffer
N
format
args
)
;
va_end
(
args
)
;
buffer
[
N
-
1
]
=
'
\
0
'
;
return
result
;
}
#
endif
#
endif

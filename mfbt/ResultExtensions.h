#
ifndef
mozilla_ResultExtensions_h
#
define
mozilla_ResultExtensions_h
#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
nscore
.
h
"
namespace
mozilla
{
template
<
>
class
MOZ_MUST_USE_TYPE
GenericErrorResult
<
nsresult
>
{
nsresult
mErrorValue
;
template
<
typename
V
typename
E2
>
friend
class
Result
;
public
:
explicit
GenericErrorResult
(
nsresult
aErrorValue
)
:
mErrorValue
(
aErrorValue
)
{
MOZ_ASSERT
(
NS_FAILED
(
aErrorValue
)
)
;
}
operator
nsresult
(
)
{
return
mErrorValue
;
}
}
;
}
#
endif

#
include
"
mozilla
/
FloatingPoint
.
h
"
#
include
<
cfloat
>
#
include
<
cmath
>
namespace
mozilla
{
bool
IsFloat32Representable
(
double
aValue
)
{
if
(
!
std
:
:
isfinite
(
aValue
)
)
{
return
true
;
}
if
(
Abs
(
aValue
)
>
FLT_MAX
)
{
return
false
;
}
auto
valueAsFloat
=
static_cast
<
float
>
(
aValue
)
;
auto
valueAsFloatAsDouble
=
static_cast
<
double
>
(
valueAsFloat
)
;
return
valueAsFloatAsDouble
=
=
aValue
;
}
}

#
ifndef
mozilla_Try_h
#
define
mozilla_Try_h
#
include
"
mozilla
/
Likely
.
h
"
#
include
"
mozilla
/
Result
.
h
"
#
define
MOZ_TRY
(
expr
)
\
__extension__
(
{
\
auto
mozTryVarTempResult
=
:
:
mozilla
:
:
ToResult
(
expr
)
;
\
if
(
MOZ_UNLIKELY
(
mozTryVarTempResult
.
isErr
(
)
)
)
{
\
return
mozTryVarTempResult
.
propagateErr
(
)
;
\
}
\
mozTryVarTempResult
.
unwrap
(
)
;
\
}
)
#
define
MOZ_TRY_VAR
(
target
expr
)
(
target
)
=
MOZ_TRY
(
expr
)
;
#
endif

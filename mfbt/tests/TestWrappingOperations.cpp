#
include
"
mozilla
/
WrappingOperations
.
h
"
#
include
<
stdint
.
h
>
using
mozilla
:
:
WrapToSigned
;
static_assert
(
WrapToSigned
(
uint8_t
(
17
)
)
=
=
17
"
no
wraparound
should
work
8
-
bit
"
)
;
static_assert
(
WrapToSigned
(
uint8_t
(
128
)
)
=
=
-
128
"
works
for
8
-
bit
numbers
wraparound
low
end
"
)
;
static_assert
(
WrapToSigned
(
uint8_t
(
128
+
7
)
)
=
=
-
128
+
7
"
works
for
8
-
bit
numbers
wraparound
mid
"
)
;
static_assert
(
WrapToSigned
(
uint8_t
(
128
+
127
)
)
=
=
-
128
+
127
"
works
for
8
-
bit
numbers
wraparound
high
end
"
)
;
static_assert
(
WrapToSigned
(
uint16_t
(
12345
)
)
=
=
12345
"
no
wraparound
should
work
16
-
bit
"
)
;
static_assert
(
WrapToSigned
(
uint16_t
(
32768
)
)
=
=
-
32768
"
works
for
16
-
bit
numbers
wraparound
low
end
"
)
;
static_assert
(
WrapToSigned
(
uint16_t
(
32768
+
42
)
)
=
=
-
32768
+
42
"
works
for
16
-
bit
numbers
wraparound
mid
"
)
;
static_assert
(
WrapToSigned
(
uint16_t
(
32768
+
32767
)
)
=
=
-
32768
+
32767
"
works
for
16
-
bit
numbers
wraparound
high
end
"
)
;
static_assert
(
WrapToSigned
(
uint32_t
(
8675309
)
)
=
=
8675309
"
no
wraparound
should
work
32
-
bit
"
)
;
static_assert
(
WrapToSigned
(
uint32_t
(
2147483648
)
)
=
=
-
2147483647
-
1
"
works
for
32
-
bit
numbers
wraparound
low
end
"
)
;
static_assert
(
WrapToSigned
(
uint32_t
(
2147483648
+
42
)
)
=
=
-
2147483647
-
1
+
42
"
works
for
32
-
bit
numbers
wraparound
mid
"
)
;
static_assert
(
WrapToSigned
(
uint32_t
(
2147483648
+
2147483647
)
)
=
=
-
2147483647
-
1
+
2147483647
"
works
for
32
-
bit
numbers
wraparound
high
end
"
)
;
static_assert
(
WrapToSigned
(
uint64_t
(
4152739164
)
)
=
=
4152739164
"
no
wraparound
should
work
64
-
bit
"
)
;
static_assert
(
WrapToSigned
(
uint64_t
(
9223372036854775808ULL
)
)
=
=
-
9223372036854775807LL
-
1
"
works
for
64
-
bit
numbers
wraparound
low
end
"
)
;
static_assert
(
WrapToSigned
(
uint64_t
(
9223372036854775808ULL
+
8005552368LL
)
)
=
=
-
9223372036854775807LL
-
1
+
8005552368LL
"
works
for
64
-
bit
numbers
wraparound
mid
"
)
;
static_assert
(
WrapToSigned
(
uint64_t
(
9223372036854775808ULL
+
9223372036854775807ULL
)
)
=
=
-
9223372036854775807LL
-
1
+
9223372036854775807LL
"
works
for
64
-
bit
numbers
wraparound
high
end
"
)
;
int
main
(
)
{
return
0
;
}

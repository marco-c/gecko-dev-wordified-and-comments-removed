"
use
strict
"
;
module
.
metadata
=
{
"
stability
"
:
"
experimental
"
}
;
let
webExtension
;
let
waitForWebExtensionAPI
;
module
.
exports
=
{
initFromBootstrapAddonParam
(
data
)
{
if
(
webExtension
)
{
throw
new
Error
(
"
'
sdk
/
webextension
'
module
has
been
already
initialized
"
)
;
}
webExtension
=
data
.
webExtension
;
}
startup
(
)
{
if
(
!
webExtension
)
{
return
Promise
.
reject
(
new
Error
(
"
'
sdk
/
webextension
'
module
is
currently
disabled
.
"
+
"
(
'
hasEmbeddedWebExtension
'
option
is
missing
or
set
to
false
)
"
)
)
;
}
if
(
!
waitForWebExtensionAPI
)
{
waitForWebExtensionAPI
=
webExtension
.
startup
(
)
;
}
return
waitForWebExtensionAPI
;
}
}
;

'
use
strict
'
;
module
.
metadata
=
{
'
stability
'
:
'
unstable
'
}
;
const
{
getTargetWindow
}
=
require
(
"
.
.
/
content
/
mod
"
)
;
lazyRequire
(
this
"
.
/
utils
"
"
getTabContentWindow
"
"
isTab
"
)
;
lazyRequire
(
this
"
.
.
/
view
/
core
"
"
viewFor
"
)
;
if
(
require
(
'
.
.
/
system
/
xul
-
app
'
)
.
name
=
=
'
Fennec
'
)
{
module
.
exports
=
require
(
'
.
/
tab
-
fennec
'
)
;
}
else
{
module
.
exports
=
require
(
'
.
/
tab
-
firefox
'
)
;
}
getTargetWindow
.
when
(
isTab
tab
=
>
getTabContentWindow
(
tab
)
)
;
getTargetWindow
.
when
(
x
=
>
x
instanceof
module
.
exports
.
Tab
tab
=
>
getTabContentWindow
(
viewFor
(
tab
)
)
)
;

use
selectors
:
:
gecko_like_types
as
dummies
;
use
servo_arc
:
:
Arc
;
use
std
:
:
mem
:
:
{
size_of
align_of
}
;
use
style
;
use
style
:
:
applicable_declarations
:
:
ApplicableDeclarationBlock
;
use
style
:
:
data
:
:
{
ElementData
ElementStyles
}
;
use
style
:
:
gecko
:
:
selector_parser
as
real
;
use
style
:
:
properties
:
:
ComputedValues
;
use
style
:
:
rule_tree
:
:
{
RuleNode
StrongRuleNode
}
;
use
style
:
:
values
:
:
computed
;
use
style
:
:
values
:
:
specified
;
#
[
test
]
fn
size_of_selectors_dummy_types
(
)
{
assert_eq
!
(
size_of
:
:
<
dummies
:
:
PseudoClass
>
(
)
size_of
:
:
<
real
:
:
NonTSPseudoClass
>
(
)
)
;
assert_eq
!
(
align_of
:
:
<
dummies
:
:
PseudoClass
>
(
)
align_of
:
:
<
real
:
:
NonTSPseudoClass
>
(
)
)
;
assert_eq
!
(
size_of
:
:
<
dummies
:
:
PseudoElement
>
(
)
size_of
:
:
<
real
:
:
PseudoElement
>
(
)
)
;
assert_eq
!
(
align_of
:
:
<
dummies
:
:
PseudoElement
>
(
)
align_of
:
:
<
real
:
:
PseudoElement
>
(
)
)
;
assert_eq
!
(
size_of
:
:
<
dummies
:
:
Atom
>
(
)
size_of
:
:
<
style
:
:
Atom
>
(
)
)
;
assert_eq
!
(
align_of
:
:
<
dummies
:
:
Atom
>
(
)
align_of
:
:
<
style
:
:
Atom
>
(
)
)
;
}
size_of_test
!
(
test_size_of_rule
style
:
:
stylist
:
:
Rule
32
)
;
size_of_test
!
(
test_size_of_cv
ComputedValues
256
)
;
size_of_test
!
(
test_size_of_option_arc_cv
Option
<
Arc
<
ComputedValues
>
>
8
)
;
size_of_test
!
(
test_size_of_option_rule_node
Option
<
StrongRuleNode
>
8
)
;
size_of_test
!
(
test_size_of_element_styles
ElementStyles
16
)
;
size_of_test
!
(
test_size_of_element_data
ElementData
24
)
;
size_of_test
!
(
test_size_of_property_declaration
style
:
:
properties
:
:
PropertyDeclaration
32
)
;
size_of_test
!
(
test_size_of_application_declaration_block
ApplicableDeclarationBlock
24
)
;
size_of_test
!
(
test_size_of_rule_node
RuleNode
80
)
;
size_of_test
!
(
test_size_of_parsed_declaration
style
:
:
properties
:
:
SourcePropertyDeclaration
704
)
;
size_of_test
!
(
test_size_of_computed_image
computed
:
:
image
:
:
Image
40
)
;
size_of_test
!
(
test_size_of_specified_image
specified
:
:
image
:
:
Image
40
)
;
size_of_test
!
(
test_size_of_computed_image_layer
computed
:
:
image
:
:
ImageLayer
if
cfg
!
(
rustc_has_pr45225
)
{
40
}
else
{
48
}
)
;
size_of_test
!
(
test_size_of_specified_image_layer
specified
:
:
image
:
:
ImageLayer
if
cfg
!
(
rustc_has_pr45225
)
{
40
}
else
{
48
}
)
;

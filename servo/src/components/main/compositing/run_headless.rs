use
geom
:
:
size
:
:
Size2D
;
use
std
:
:
ptr
;
use
compositing
:
:
*
;
pub
fn
run_compositor
(
compositor
:
&
CompositorTask
)
{
loop
{
match
compositor
.
port
.
recv
(
)
{
Exit
=
>
break
GetSize
(
chan
)
=
>
{
chan
.
send
(
Size2D
(
500
500
)
)
;
}
GetGLContext
(
chan
)
=
>
{
chan
.
send
(
ptr
:
:
null
(
)
)
;
}
SetIds
(
_
response_chan
_
)
=
>
{
response_chan
.
send
(
(
)
)
;
}
NewLayer
(
*
)
|
SetLayerPageSize
(
*
)
|
SetLayerClipRect
(
*
)
|
DeleteLayer
(
*
)
|
Paint
(
*
)
|
InvalidateRect
(
*
)
|
ChangeReadyState
(
*
)
|
ChangeRenderState
(
*
)
=
>
(
)
}
}
compositor
.
shutdown_chan
.
send
(
(
)
)
}

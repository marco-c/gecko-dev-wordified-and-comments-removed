use
compositing
:
:
*
;
use
geom
:
:
size
:
:
Size2D
;
use
std
:
:
unstable
:
:
intrinsics
;
pub
fn
run_compositor
(
compositor
:
&
CompositorTask
)
{
loop
{
match
compositor
.
port
.
recv
(
)
{
Exit
=
>
break
GetSize
(
chan
)
=
>
{
chan
.
send
(
Size2D
(
500
500
)
)
;
}
GetGraphicsMetadata
(
chan
)
=
>
{
unsafe
{
chan
.
send
(
intrinsics
:
:
uninit
(
)
)
;
}
}
SetIds
(
_
response_chan
_
)
=
>
{
response_chan
.
send
(
(
)
)
;
}
NewLayer
(
*
)
|
SetLayerPageSize
(
*
)
|
SetLayerClipRect
(
*
)
|
DeleteLayer
(
*
)
|
Paint
(
*
)
|
InvalidateRect
(
*
)
|
ChangeReadyState
(
*
)
|
ChangeRenderState
(
*
)
=
>
(
)
}
}
compositor
.
shutdown_chan
.
send
(
(
)
)
}

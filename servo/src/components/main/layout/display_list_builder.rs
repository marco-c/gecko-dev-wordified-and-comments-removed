use
layout
:
:
box
:
:
{
RenderBox
RenderBoxUtils
}
;
use
layout
:
:
context
:
:
LayoutContext
;
use
std
:
:
cast
:
:
transmute
;
use
script
:
:
dom
:
:
node
:
:
AbstractNode
;
use
gfx
;
use
style
;
pub
trait
ExtraDisplayListData
{
fn
new
(
box
:
&
RenderBox
)
-
>
Self
;
}
pub
type
Nothing
=
(
)
;
impl
ExtraDisplayListData
for
AbstractNode
<
(
)
>
{
fn
new
(
box
:
&
RenderBox
)
-
>
AbstractNode
<
(
)
>
{
unsafe
{
transmute
(
box
.
base
(
)
.
node
)
}
}
}
impl
ExtraDisplayListData
for
Nothing
{
fn
new
(
_
:
&
RenderBox
)
-
>
Nothing
{
(
)
}
}
impl
ExtraDisplayListData
for
RenderBox
{
fn
new
(
box
:
&
RenderBox
)
-
>
RenderBox
{
*
box
}
}
pub
struct
DisplayListBuilder
<
'
self
>
{
ctx
:
&
'
self
LayoutContext
}
pub
trait
ToGfxColor
{
fn
to_gfx_color
(
&
self
)
-
>
gfx
:
:
color
:
:
Color
;
}
impl
ToGfxColor
for
style
:
:
properties
:
:
RGBA
{
fn
to_gfx_color
(
&
self
)
-
>
gfx
:
:
color
:
:
Color
{
gfx
:
:
color
:
:
rgba
(
self
.
red
self
.
green
self
.
blue
self
.
alpha
)
}
}

use
std
:
:
comm
:
:
{
Chan
SharedChan
}
;
use
extra
:
:
url
:
:
Url
;
use
extra
:
:
future
:
:
Future
;
use
geom
:
:
size
:
:
Size2D
;
use
geom
:
:
rect
:
:
Rect
;
#
[
deriving
(
Clone
)
]
pub
struct
ConstellationChan
{
chan
:
SharedChan
<
Msg
>
}
impl
ConstellationChan
{
pub
fn
new
(
chan
:
Chan
<
Msg
>
)
-
>
ConstellationChan
{
ConstellationChan
{
chan
:
SharedChan
:
:
new
(
chan
)
}
}
pub
fn
send
(
&
self
msg
:
Msg
)
{
self
.
chan
.
send
(
msg
)
;
}
}
pub
enum
Msg
{
ExitMsg
(
Chan
<
(
)
>
)
InitLoadUrlMsg
(
Url
)
FrameRectMsg
(
PipelineId
SubpageId
Rect
<
f32
>
)
LoadUrlMsg
(
PipelineId
Url
Future
<
Size2D
<
uint
>
>
)
LoadIframeUrlMsg
(
Url
PipelineId
SubpageId
Future
<
Size2D
<
uint
>
>
)
NavigateMsg
(
NavigationDirection
)
RendererReadyMsg
(
PipelineId
)
ResizedWindowMsg
(
Size2D
<
uint
>
)
}
#
[
deriving
(
Clone
Eq
IterBytes
)
]
enum
NavigationType
{
Load
Navigate
}
#
[
deriving
(
Clone
Eq
IterBytes
)
]
pub
enum
NavigationDirection
{
Forward
Back
}
#
[
deriving
(
Clone
Eq
IterBytes
)
]
pub
struct
PipelineId
(
uint
)
;
#
[
deriving
(
Clone
Eq
IterBytes
)
]
pub
struct
SubpageId
(
uint
)
;

use
std
:
:
comm
:
:
{
Chan
SharedChan
}
;
use
extra
:
:
url
:
:
Url
;
use
extra
:
:
future
:
:
Future
;
use
geom
:
:
size
:
:
Size2D
;
use
geom
:
:
rect
:
:
Rect
;
#
[
deriving
(
Clone
)
]
pub
struct
ConstellationChan
(
SharedChan
<
Msg
>
)
;
impl
ConstellationChan
{
pub
fn
new
(
chan
:
Chan
<
Msg
>
)
-
>
ConstellationChan
{
ConstellationChan
(
SharedChan
:
:
new
(
chan
)
)
}
}
#
[
deriving
(
Eq
)
]
pub
enum
IFrameSandboxState
{
IFrameSandboxed
IFrameUnsandboxed
}
pub
enum
Msg
{
ExitMsg
(
Chan
<
(
)
>
)
FailureMsg
(
PipelineId
Option
<
SubpageId
>
)
InitLoadUrlMsg
(
Url
)
FrameRectMsg
(
PipelineId
SubpageId
Rect
<
f32
>
)
LoadUrlMsg
(
PipelineId
Url
Future
<
Size2D
<
uint
>
>
)
LoadIframeUrlMsg
(
Url
PipelineId
SubpageId
Future
<
Size2D
<
uint
>
>
IFrameSandboxState
)
NavigateMsg
(
NavigationDirection
)
RendererReadyMsg
(
PipelineId
)
ResizedWindowMsg
(
Size2D
<
uint
>
)
}
#
[
deriving
(
Clone
Eq
IterBytes
)
]
enum
NavigationType
{
Load
Navigate
}
#
[
deriving
(
Clone
Eq
IterBytes
)
]
pub
enum
NavigationDirection
{
Forward
Back
}
#
[
deriving
(
Clone
Eq
IterBytes
)
]
pub
struct
PipelineId
(
uint
)
;
#
[
deriving
(
Clone
Eq
IterBytes
)
]
pub
struct
SubpageId
(
uint
)
;

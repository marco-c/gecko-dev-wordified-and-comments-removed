use
azure
:
:
azure_hl
:
:
{
DrawTarget
}
;
use
cairo
:
:
cairo_hl
:
:
ImageSurface
;
use
dom
:
:
event
:
:
Event
;
use
geom
:
:
size
:
:
Size2D
;
struct
LayerBuffer
{
cairo_surface
:
ImageSurface
draw_target
:
DrawTarget
size
:
Size2D
<
uint
>
stride
:
uint
}
struct
LayerBufferSet
{
buffers
:
~
[
LayerBuffer
]
}
trait
Compositor
{
fn
begin_drawing
(
next_dt
:
pipes
:
:
Chan
<
LayerBufferSet
>
)
;
fn
draw
(
next_dt
:
pipes
:
:
Chan
<
LayerBufferSet
>
+
draw_me
:
LayerBufferSet
)
;
}

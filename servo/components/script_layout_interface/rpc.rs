use
app_units
:
:
Au
;
use
euclid
:
:
point
:
:
Point2D
;
use
euclid
:
:
rect
:
:
Rect
;
use
gfx_traits
:
:
ScrollRootId
;
use
script_traits
:
:
UntrustedNodeAddress
;
use
style
:
:
properties
:
:
longhands
:
:
{
margin_top
margin_right
margin_bottom
margin_left
overflow_x
}
;
pub
trait
LayoutRPC
{
fn
content_box
(
&
self
)
-
>
ContentBoxResponse
;
fn
content_boxes
(
&
self
)
-
>
ContentBoxesResponse
;
fn
node_geometry
(
&
self
)
-
>
NodeGeometryResponse
;
fn
node_overflow
(
&
self
)
-
>
NodeOverflowResponse
;
fn
node_scroll_area
(
&
self
)
-
>
NodeGeometryResponse
;
fn
node_scroll_root_id
(
&
self
)
-
>
NodeScrollRootIdResponse
;
fn
hit_test
(
&
self
)
-
>
HitTestResponse
;
fn
resolved_style
(
&
self
)
-
>
ResolvedStyleResponse
;
fn
offset_parent
(
&
self
)
-
>
OffsetParentResponse
;
fn
margin_style
(
&
self
)
-
>
MarginStyleResponse
;
fn
nodes_from_point
(
&
self
page_point
:
Point2D
<
f32
>
client_point
:
Point2D
<
f32
>
)
-
>
Vec
<
UntrustedNodeAddress
>
;
fn
text_index
(
&
self
)
-
>
TextIndexResponse
;
}
pub
struct
ContentBoxResponse
(
pub
Rect
<
Au
>
)
;
pub
struct
ContentBoxesResponse
(
pub
Vec
<
Rect
<
Au
>
>
)
;
pub
struct
NodeGeometryResponse
{
pub
client_rect
:
Rect
<
i32
>
}
pub
struct
NodeOverflowResponse
(
pub
Option
<
Point2D
<
overflow_x
:
:
computed_value
:
:
T
>
>
)
;
pub
struct
NodeScrollRootIdResponse
(
pub
ScrollRootId
)
;
pub
struct
HitTestResponse
{
pub
node_address
:
Option
<
UntrustedNodeAddress
>
}
pub
struct
ResolvedStyleResponse
(
pub
String
)
;
#
[
derive
(
Clone
)
]
pub
struct
OffsetParentResponse
{
pub
node_address
:
Option
<
UntrustedNodeAddress
>
pub
rect
:
Rect
<
Au
>
}
impl
OffsetParentResponse
{
pub
fn
empty
(
)
-
>
OffsetParentResponse
{
OffsetParentResponse
{
node_address
:
None
rect
:
Rect
:
:
zero
(
)
}
}
}
#
[
derive
(
Clone
)
]
pub
struct
MarginStyleResponse
{
pub
top
:
margin_top
:
:
computed_value
:
:
T
pub
right
:
margin_right
:
:
computed_value
:
:
T
pub
bottom
:
margin_bottom
:
:
computed_value
:
:
T
pub
left
:
margin_left
:
:
computed_value
:
:
T
}
impl
MarginStyleResponse
{
pub
fn
empty
(
)
-
>
MarginStyleResponse
{
MarginStyleResponse
{
top
:
margin_top
:
:
computed_value
:
:
T
:
:
Auto
right
:
margin_right
:
:
computed_value
:
:
T
:
:
Auto
bottom
:
margin_bottom
:
:
computed_value
:
:
T
:
:
Auto
left
:
margin_left
:
:
computed_value
:
:
T
:
:
Auto
}
}
}
#
[
derive
(
Clone
)
]
pub
struct
TextIndexResponse
(
pub
Option
<
usize
>
)
;

#
!
[
deny
(
missing_docs
)
]
use
cssparser
:
:
{
Parser
SourcePosition
}
;
use
log
;
use
stylesheets
:
:
UrlExtraData
;
pub
trait
ParseErrorReporter
:
Sync
+
Send
{
fn
report_error
(
&
self
input
:
&
mut
Parser
position
:
SourcePosition
message
:
&
str
url
:
&
UrlExtraData
line_number_offset
:
u64
)
;
}
pub
struct
RustLogReporter
;
impl
ParseErrorReporter
for
RustLogReporter
{
fn
report_error
(
&
self
input
:
&
mut
Parser
position
:
SourcePosition
message
:
&
str
url
:
&
UrlExtraData
line_number_offset
:
u64
)
{
if
log_enabled
!
(
log
:
:
LogLevel
:
:
Info
)
{
let
location
=
input
.
source_location
(
position
)
;
let
line_offset
=
location
.
line
+
line_number_offset
as
usize
;
info
!
(
"
Url
:
\
t
{
}
\
n
{
}
:
{
}
{
}
"
url
.
as_str
(
)
line_offset
location
.
column
message
)
}
}
}
pub
struct
NullReporter
;
impl
ParseErrorReporter
for
NullReporter
{
fn
report_error
(
&
self
_
:
&
mut
Parser
_
:
SourcePosition
_
:
&
str
_
:
&
UrlExtraData
_
:
u64
)
{
}
}

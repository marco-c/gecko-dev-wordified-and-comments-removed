use
crate
:
:
gecko_bindings
:
:
bindings
;
use
crate
:
:
gecko_bindings
:
:
structs
;
use
crate
:
:
media_queries
:
:
{
Device
MediaType
}
;
use
crate
:
:
parser
:
:
ParserContext
;
use
crate
:
:
queries
:
:
feature
:
:
{
AllowsRanges
Evaluator
FeatureFlags
QueryFeatureDescription
}
;
use
crate
:
:
queries
:
:
values
:
:
Orientation
;
use
crate
:
:
values
:
:
computed
:
:
{
CSSPixelLength
Context
Ratio
Resolution
}
;
use
crate
:
:
values
:
:
AtomString
;
use
app_units
:
:
Au
;
use
euclid
:
:
default
:
:
Size2D
;
use
selectors
:
:
kleene_value
:
:
KleeneValue
;
fn
device_size
(
device
:
&
Device
)
-
>
Size2D
<
Au
>
{
let
mut
width
=
0
;
let
mut
height
=
0
;
unsafe
{
bindings
:
:
Gecko_MediaFeatures_GetDeviceSize
(
device
.
document
(
)
&
mut
width
&
mut
height
)
;
}
Size2D
:
:
new
(
Au
(
width
)
Au
(
height
)
)
}
fn
eval_width
(
context
:
&
Context
)
-
>
CSSPixelLength
{
CSSPixelLength
:
:
new
(
context
.
device
(
)
.
au_viewport_size
(
)
.
width
.
to_f32_px
(
)
)
}
fn
eval_device_width
(
context
:
&
Context
)
-
>
CSSPixelLength
{
CSSPixelLength
:
:
new
(
device_size
(
context
.
device
(
)
)
.
width
.
to_f32_px
(
)
)
}
fn
eval_height
(
context
:
&
Context
)
-
>
CSSPixelLength
{
CSSPixelLength
:
:
new
(
context
.
device
(
)
.
au_viewport_size
(
)
.
height
.
to_f32_px
(
)
)
}
fn
eval_device_height
(
context
:
&
Context
)
-
>
CSSPixelLength
{
CSSPixelLength
:
:
new
(
device_size
(
context
.
device
(
)
)
.
height
.
to_f32_px
(
)
)
}
fn
eval_aspect_ratio_for
<
F
>
(
context
:
&
Context
get_size
:
F
)
-
>
Ratio
where
F
:
FnOnce
(
&
Device
)
-
>
Size2D
<
Au
>
{
let
size
=
get_size
(
context
.
device
(
)
)
;
Ratio
:
:
new
(
size
.
width
.
0
as
f32
size
.
height
.
0
as
f32
)
}
fn
eval_aspect_ratio
(
context
:
&
Context
)
-
>
Ratio
{
eval_aspect_ratio_for
(
context
Device
:
:
au_viewport_size
)
}
fn
eval_device_aspect_ratio
(
context
:
&
Context
)
-
>
Ratio
{
eval_aspect_ratio_for
(
context
device_size
)
}
fn
eval_device_pixel_ratio
(
context
:
&
Context
)
-
>
f32
{
eval_resolution
(
context
)
.
dppx
(
)
}
fn
eval_orientation
(
context
:
&
Context
value
:
Option
<
Orientation
>
)
-
>
bool
{
Orientation
:
:
eval
(
context
.
device
(
)
.
au_viewport_size
(
)
value
)
}
fn
eval_device_orientation
(
context
:
&
Context
value
:
Option
<
Orientation
>
)
-
>
bool
{
Orientation
:
:
eval
(
device_size
(
context
.
device
(
)
)
value
)
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
ToCss
)
]
#
[
repr
(
u8
)
]
#
[
allow
(
missing_docs
)
]
pub
enum
DisplayMode
{
Browser
=
0
MinimalUi
Standalone
Fullscreen
}
fn
eval_display_mode
(
context
:
&
Context
query_value
:
Option
<
DisplayMode
>
)
-
>
bool
{
match
query_value
{
Some
(
v
)
=
>
{
v
=
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_GetDisplayMode
(
context
.
device
(
)
.
document
(
)
)
}
}
None
=
>
true
}
}
fn
eval_grid
(
_
:
&
Context
)
-
>
bool
{
false
}
fn
eval_transform_3d
(
_
:
&
Context
)
-
>
bool
{
true
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
Scan
{
Progressive
Interlace
}
fn
eval_scan
(
_
:
&
Context
_
:
Option
<
Scan
>
)
-
>
bool
{
false
}
fn
eval_color
(
context
:
&
Context
)
-
>
i32
{
unsafe
{
bindings
:
:
Gecko_MediaFeatures_GetColorDepth
(
context
.
device
(
)
.
document
(
)
)
}
}
fn
eval_color_index
(
_
:
&
Context
)
-
>
i32
{
0
}
fn
eval_monochrome
(
context
:
&
Context
)
-
>
i32
{
unsafe
{
bindings
:
:
Gecko_MediaFeatures_GetMonochromeBitsPerPixel
(
context
.
device
(
)
.
document
(
)
)
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
PartialOrd
ToCss
)
]
#
[
repr
(
u8
)
]
pub
enum
ColorGamut
{
Srgb
P3
Rec2020
}
fn
eval_color_gamut
(
context
:
&
Context
query_value
:
Option
<
ColorGamut
>
)
-
>
bool
{
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
false
}
;
let
color_gamut
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_ColorGamut
(
context
.
device
(
)
.
document
(
)
)
}
;
query_value
<
=
color_gamut
}
fn
eval_resolution
(
context
:
&
Context
)
-
>
Resolution
{
let
resolution_dppx
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_GetResolution
(
context
.
device
(
)
.
document
(
)
)
}
;
Resolution
:
:
from_dppx
(
resolution_dppx
)
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
PrefersReducedMotion
{
NoPreference
Reduce
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
PrefersReducedTransparency
{
NoPreference
Reduce
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
ToCss
)
]
#
[
repr
(
u8
)
]
#
[
allow
(
missing_docs
)
]
pub
enum
PrefersColorScheme
{
Light
Dark
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
PartialOrd
ToCss
)
]
#
[
repr
(
u8
)
]
#
[
allow
(
missing_docs
)
]
pub
enum
DynamicRange
{
Standard
High
}
fn
eval_prefers_reduced_motion
(
context
:
&
Context
query_value
:
Option
<
PrefersReducedMotion
>
)
-
>
bool
{
let
prefers_reduced
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_PrefersReducedMotion
(
context
.
device
(
)
.
document
(
)
)
}
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
prefers_reduced
}
;
match
query_value
{
PrefersReducedMotion
:
:
NoPreference
=
>
!
prefers_reduced
PrefersReducedMotion
:
:
Reduce
=
>
prefers_reduced
}
}
fn
eval_prefers_reduced_transparency
(
context
:
&
Context
query_value
:
Option
<
PrefersReducedTransparency
>
)
-
>
bool
{
let
prefers_reduced
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_PrefersReducedTransparency
(
context
.
device
(
)
.
document
(
)
)
}
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
prefers_reduced
}
;
match
query_value
{
PrefersReducedTransparency
:
:
NoPreference
=
>
!
prefers_reduced
PrefersReducedTransparency
:
:
Reduce
=
>
prefers_reduced
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
ToCss
)
]
#
[
repr
(
u8
)
]
pub
enum
PrefersContrast
{
More
Less
Custom
NoPreference
}
fn
eval_prefers_contrast
(
context
:
&
Context
query_value
:
Option
<
PrefersContrast
>
)
-
>
bool
{
let
prefers_contrast
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_PrefersContrast
(
context
.
device
(
)
.
document
(
)
)
}
;
match
query_value
{
Some
(
v
)
=
>
v
=
=
prefers_contrast
None
=
>
prefers_contrast
!
=
PrefersContrast
:
:
NoPreference
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
ToCss
)
]
#
[
repr
(
u8
)
]
pub
enum
ForcedColors
{
None
#
[
parse
(
condition
=
"
ParserContext
:
:
chrome_rules_enabled
"
)
]
Requested
Active
}
impl
ForcedColors
{
pub
fn
is_active
(
self
)
-
>
bool
{
matches
!
(
self
Self
:
:
Active
)
}
}
fn
eval_forced_colors
(
context
:
&
Context
query_value
:
Option
<
ForcedColors
>
)
-
>
bool
{
let
forced
=
context
.
device
(
)
.
forced_colors
(
)
;
match
query_value
{
Some
(
query_value
)
=
>
query_value
=
=
forced
None
=
>
forced
!
=
ForcedColors
:
:
None
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
InvertedColors
{
None
Inverted
}
fn
eval_inverted_colors
(
context
:
&
Context
query_value
:
Option
<
InvertedColors
>
)
-
>
bool
{
let
inverted_colors
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_InvertedColors
(
context
.
device
(
)
.
document
(
)
)
}
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
inverted_colors
}
;
match
query_value
{
InvertedColors
:
:
None
=
>
!
inverted_colors
InvertedColors
:
:
Inverted
=
>
inverted_colors
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
OverflowBlock
{
None
Scroll
Paged
}
fn
eval_overflow_block
(
context
:
&
Context
query_value
:
Option
<
OverflowBlock
>
)
-
>
bool
{
let
scrolling
=
context
.
device
(
)
.
media_type
(
)
!
=
MediaType
:
:
print
(
)
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
true
}
;
match
query_value
{
OverflowBlock
:
:
None
=
>
false
OverflowBlock
:
:
Scroll
=
>
scrolling
OverflowBlock
:
:
Paged
=
>
!
scrolling
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
OverflowInline
{
None
Scroll
}
fn
eval_overflow_inline
(
context
:
&
Context
query_value
:
Option
<
OverflowInline
>
)
-
>
bool
{
let
scrolling
=
context
.
device
(
)
.
media_type
(
)
!
=
MediaType
:
:
print
(
)
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
scrolling
}
;
match
query_value
{
OverflowInline
:
:
None
=
>
!
scrolling
OverflowInline
:
:
Scroll
=
>
scrolling
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
Update
{
None
Slow
Fast
}
fn
eval_update
(
context
:
&
Context
query_value
:
Option
<
Update
>
)
-
>
bool
{
let
can_update
=
context
.
device
(
)
.
media_type
(
)
!
=
MediaType
:
:
print
(
)
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
can_update
}
;
match
query_value
{
Update
:
:
None
=
>
!
can_update
Update
:
:
Slow
=
>
false
Update
:
:
Fast
=
>
can_update
}
}
fn
do_eval_prefers_color_scheme
(
context
:
&
Context
use_content
:
bool
query_value
:
Option
<
PrefersColorScheme
>
)
-
>
bool
{
let
prefers_color_scheme
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_PrefersColorScheme
(
context
.
device
(
)
.
document
(
)
use_content
)
}
;
match
query_value
{
Some
(
v
)
=
>
prefers_color_scheme
=
=
v
None
=
>
true
}
}
fn
eval_prefers_color_scheme
(
context
:
&
Context
query_value
:
Option
<
PrefersColorScheme
>
)
-
>
bool
{
do_eval_prefers_color_scheme
(
context
false
query_value
)
}
fn
eval_content_prefers_color_scheme
(
context
:
&
Context
query_value
:
Option
<
PrefersColorScheme
>
)
-
>
bool
{
do_eval_prefers_color_scheme
(
context
true
query_value
)
}
fn
eval_dynamic_range
(
context
:
&
Context
query_value
:
Option
<
DynamicRange
>
)
-
>
bool
{
let
dynamic_range
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_DynamicRange
(
context
.
device
(
)
.
document
(
)
)
}
;
match
query_value
{
Some
(
v
)
=
>
dynamic_range
>
=
v
None
=
>
false
}
}
fn
eval_video_dynamic_range
(
context
:
&
Context
query_value
:
Option
<
DynamicRange
>
)
-
>
bool
{
let
dynamic_range
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_VideoDynamicRange
(
context
.
device
(
)
.
document
(
)
)
}
;
match
query_value
{
Some
(
v
)
=
>
dynamic_range
>
=
v
None
=
>
false
}
}
bitflags
!
{
/
/
/
https
:
/
/
drafts
.
csswg
.
org
/
mediaqueries
-
4
/
#
mf
-
interaction
struct
PointerCapabilities
:
u8
{
const
COARSE
=
structs
:
:
PointerCapabilities_Coarse
;
const
FINE
=
structs
:
:
PointerCapabilities_Fine
;
const
HOVER
=
structs
:
:
PointerCapabilities_Hover
;
}
}
fn
primary_pointer_capabilities
(
context
:
&
Context
)
-
>
PointerCapabilities
{
PointerCapabilities
:
:
from_bits_truncate
(
unsafe
{
bindings
:
:
Gecko_MediaFeatures_PrimaryPointerCapabilities
(
context
.
device
(
)
.
document
(
)
)
}
)
}
fn
all_pointer_capabilities
(
context
:
&
Context
)
-
>
PointerCapabilities
{
PointerCapabilities
:
:
from_bits_truncate
(
unsafe
{
bindings
:
:
Gecko_MediaFeatures_AllPointerCapabilities
(
context
.
device
(
)
.
document
(
)
)
}
)
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
Pointer
{
None
Coarse
Fine
}
fn
eval_pointer_capabilities
(
query_value
:
Option
<
Pointer
>
pointer_capabilities
:
PointerCapabilities
)
-
>
bool
{
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
!
pointer_capabilities
.
is_empty
(
)
}
;
match
query_value
{
Pointer
:
:
None
=
>
pointer_capabilities
.
is_empty
(
)
Pointer
:
:
Coarse
=
>
pointer_capabilities
.
intersects
(
PointerCapabilities
:
:
COARSE
)
Pointer
:
:
Fine
=
>
pointer_capabilities
.
intersects
(
PointerCapabilities
:
:
FINE
)
}
}
fn
eval_pointer
(
context
:
&
Context
query_value
:
Option
<
Pointer
>
)
-
>
bool
{
eval_pointer_capabilities
(
query_value
primary_pointer_capabilities
(
context
)
)
}
fn
eval_any_pointer
(
context
:
&
Context
query_value
:
Option
<
Pointer
>
)
-
>
bool
{
eval_pointer_capabilities
(
query_value
all_pointer_capabilities
(
context
)
)
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
enum
Hover
{
None
Hover
}
fn
eval_hover_capabilities
(
query_value
:
Option
<
Hover
>
pointer_capabilities
:
PointerCapabilities
)
-
>
bool
{
let
can_hover
=
pointer_capabilities
.
intersects
(
PointerCapabilities
:
:
HOVER
)
;
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
can_hover
}
;
match
query_value
{
Hover
:
:
None
=
>
!
can_hover
Hover
:
:
Hover
=
>
can_hover
}
}
fn
eval_hover
(
context
:
&
Context
query_value
:
Option
<
Hover
>
)
-
>
bool
{
eval_hover_capabilities
(
query_value
primary_pointer_capabilities
(
context
)
)
}
fn
eval_any_hover
(
context
:
&
Context
query_value
:
Option
<
Hover
>
)
-
>
bool
{
eval_hover_capabilities
(
query_value
all_pointer_capabilities
(
context
)
)
}
fn
eval_moz_is_glyph
(
context
:
&
Context
)
-
>
bool
{
context
.
device
(
)
.
document
(
)
.
mIsSVGGlyphsDocument
(
)
}
fn
eval_moz_print_preview
(
context
:
&
Context
)
-
>
bool
{
let
is_print_preview
=
context
.
device
(
)
.
is_print_preview
(
)
;
if
is_print_preview
{
debug_assert_eq
!
(
context
.
device
(
)
.
media_type
(
)
MediaType
:
:
print
(
)
)
;
}
is_print_preview
}
fn
eval_moz_is_resource_document
(
context
:
&
Context
)
-
>
bool
{
unsafe
{
bindings
:
:
Gecko_MediaFeatures_IsResourceDocument
(
context
.
device
(
)
.
document
(
)
)
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
ToCss
)
]
#
[
repr
(
u8
)
]
pub
enum
Platform
{
Android
Linux
Ios
Macos
Windows
}
fn
eval_moz_platform
(
_
:
&
Context
query_value
:
Option
<
Platform
>
)
-
>
bool
{
let
query_value
=
match
query_value
{
Some
(
v
)
=
>
v
None
=
>
return
false
}
;
unsafe
{
bindings
:
:
Gecko_MediaFeatures_MatchesPlatform
(
query_value
)
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
ToCss
)
]
#
[
repr
(
u8
)
]
pub
enum
GtkThemeFamily
{
Unknown
=
0
Adwaita
Breeze
Yaru
}
fn
eval_gtk_theme_family
(
_
:
&
Context
query_value
:
Option
<
GtkThemeFamily
>
)
-
>
bool
{
let
family
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_GtkThemeFamily
(
)
}
;
match
query_value
{
Some
(
v
)
=
>
v
=
=
family
None
=
>
return
family
!
=
GtkThemeFamily
:
:
Unknown
}
}
#
[
derive
(
Clone
Copy
Debug
FromPrimitive
Parse
PartialEq
ToCss
)
]
#
[
repr
(
u8
)
]
pub
enum
Scripting
{
None
InitialOnly
Enabled
}
fn
eval_scripting
(
context
:
&
Context
query_value
:
Option
<
Scripting
>
)
-
>
bool
{
let
scripting
=
unsafe
{
bindings
:
:
Gecko_MediaFeatures_Scripting
(
context
.
device
(
)
.
document
(
)
)
}
;
match
query_value
{
Some
(
v
)
=
>
v
=
=
scripting
None
=
>
scripting
!
=
Scripting
:
:
None
}
}
fn
eval_moz_overlay_scrollbars
(
context
:
&
Context
)
-
>
bool
{
unsafe
{
bindings
:
:
Gecko_MediaFeatures_UseOverlayScrollbars
(
context
.
device
(
)
.
document
(
)
)
}
}
fn
eval_moz_bool_pref
(
_
:
&
Context
pref
:
Option
<
&
AtomString
>
)
-
>
KleeneValue
{
let
Some
(
pref
)
=
pref
else
{
return
KleeneValue
:
:
False
;
}
;
KleeneValue
:
:
from
(
unsafe
{
bindings
:
:
Gecko_ComputeBoolPrefMediaQuery
(
pref
.
as_ptr
(
)
)
}
)
}
fn
get_lnf_int
(
int_id
:
i32
)
-
>
i32
{
unsafe
{
bindings
:
:
Gecko_GetLookAndFeelInt
(
int_id
)
}
}
fn
get_lnf_int_as_bool
(
int_id
:
i32
)
-
>
bool
{
get_lnf_int
(
int_id
)
!
=
0
}
fn
get_scrollbar_start_backward
(
int_id
:
i32
)
-
>
bool
{
(
get_lnf_int
(
int_id
)
&
bindings
:
:
LookAndFeel_eScrollArrow_StartBackward
as
i32
)
!
=
0
}
fn
get_scrollbar_start_forward
(
int_id
:
i32
)
-
>
bool
{
(
get_lnf_int
(
int_id
)
&
bindings
:
:
LookAndFeel_eScrollArrow_StartForward
as
i32
)
!
=
0
}
fn
get_scrollbar_end_backward
(
int_id
:
i32
)
-
>
bool
{
(
get_lnf_int
(
int_id
)
&
bindings
:
:
LookAndFeel_eScrollArrow_EndBackward
as
i32
)
!
=
0
}
fn
get_scrollbar_end_forward
(
int_id
:
i32
)
-
>
bool
{
(
get_lnf_int
(
int_id
)
&
bindings
:
:
LookAndFeel_eScrollArrow_EndForward
as
i32
)
!
=
0
}
macro_rules
!
lnf_int_feature
{
(
feature_name
:
expr
int_id
:
ident
get_value
:
ident
)
=
>
{
{
fn
__eval
(
_
:
&
Context
)
-
>
bool
{
get_value
(
bindings
:
:
LookAndFeel_IntID
:
:
int_id
as
i32
)
}
feature
!
(
feature_name
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
__eval
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
}
}
;
(
feature_name
:
expr
int_id
:
ident
)
=
>
{
{
lnf_int_feature
!
(
feature_name
int_id
get_lnf_int_as_bool
)
}
}
;
}
pub
static
MEDIA_FEATURES
:
[
QueryFeatureDescription
;
60
]
=
[
feature
!
(
atom
!
(
"
width
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Length
(
eval_width
)
FeatureFlags
:
:
VIEWPORT_DEPENDENT
)
feature
!
(
atom
!
(
"
height
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Length
(
eval_height
)
FeatureFlags
:
:
VIEWPORT_DEPENDENT
)
feature
!
(
atom
!
(
"
aspect
-
ratio
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
NumberRatio
(
eval_aspect_ratio
)
FeatureFlags
:
:
VIEWPORT_DEPENDENT
)
feature
!
(
atom
!
(
"
orientation
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_orientation
Orientation
)
FeatureFlags
:
:
VIEWPORT_DEPENDENT
)
feature
!
(
atom
!
(
"
device
-
width
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Length
(
eval_device_width
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
device
-
height
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Length
(
eval_device_height
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
device
-
aspect
-
ratio
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
NumberRatio
(
eval_device_aspect_ratio
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
-
moz
-
device
-
orientation
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_device_orientation
Orientation
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
device
-
pixel
-
ratio
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Float
(
eval_device_pixel_ratio
)
FeatureFlags
:
:
WEBKIT_PREFIX
)
feature
!
(
atom
!
(
"
transform
-
3d
"
)
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
eval_transform_3d
)
FeatureFlags
:
:
WEBKIT_PREFIX
)
feature
!
(
atom
!
(
"
-
moz
-
device
-
pixel
-
ratio
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Float
(
eval_device_pixel_ratio
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
resolution
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Resolution
(
eval_resolution
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
display
-
mode
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_display_mode
DisplayMode
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
grid
"
)
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
eval_grid
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
scan
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_scan
Scan
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
color
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Integer
(
eval_color
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
color
-
index
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Integer
(
eval_color_index
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
monochrome
"
)
AllowsRanges
:
:
Yes
Evaluator
:
:
Integer
(
eval_monochrome
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
color
-
gamut
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_color_gamut
ColorGamut
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
prefers
-
reduced
-
motion
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_prefers_reduced_motion
PrefersReducedMotion
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
prefers
-
reduced
-
transparency
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_prefers_reduced_transparency
PrefersReducedTransparency
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
prefers
-
contrast
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_prefers_contrast
PrefersContrast
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
forced
-
colors
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_forced_colors
ForcedColors
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
inverted
-
colors
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_inverted_colors
InvertedColors
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
overflow
-
block
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_overflow_block
OverflowBlock
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
overflow
-
inline
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_overflow_inline
OverflowInline
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
update
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_update
Update
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
prefers
-
color
-
scheme
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_prefers_color_scheme
PrefersColorScheme
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
dynamic
-
range
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_dynamic_range
DynamicRange
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
video
-
dynamic
-
range
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_video_dynamic_range
DynamicRange
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
scripting
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_scripting
Scripting
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
-
moz
-
content
-
prefers
-
color
-
scheme
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_content_prefers_color_scheme
PrefersColorScheme
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
pointer
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_pointer
Pointer
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
any
-
pointer
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_any_pointer
Pointer
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
hover
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_hover
Hover
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
any
-
hover
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_any_hover
Hover
)
FeatureFlags
:
:
empty
(
)
)
feature
!
(
atom
!
(
"
-
moz
-
is
-
glyph
"
)
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
eval_moz_is_glyph
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
-
moz
-
is
-
resource
-
document
"
)
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
eval_moz_is_resource_document
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
-
moz
-
platform
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_moz_platform
Platform
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
-
moz
-
gtk
-
theme
-
family
"
)
AllowsRanges
:
:
No
keyword_evaluator
!
(
eval_gtk_theme_family
GtkThemeFamily
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
-
moz
-
print
-
preview
"
)
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
eval_moz_print_preview
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
-
moz
-
overlay
-
scrollbars
"
)
AllowsRanges
:
:
No
Evaluator
:
:
BoolInteger
(
eval_moz_overlay_scrollbars
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
feature
!
(
atom
!
(
"
-
moz
-
bool
-
pref
"
)
AllowsRanges
:
:
No
Evaluator
:
:
String
(
eval_moz_bool_pref
)
FeatureFlags
:
:
CHROME_AND_UA_ONLY
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
scrollbar
-
start
-
backward
"
)
ScrollArrowStyle
get_scrollbar_start_backward
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
scrollbar
-
start
-
forward
"
)
ScrollArrowStyle
get_scrollbar_start_forward
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
scrollbar
-
end
-
backward
"
)
ScrollArrowStyle
get_scrollbar_end_backward
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
scrollbar
-
end
-
forward
"
)
ScrollArrowStyle
get_scrollbar_end_forward
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
menubar
-
drag
"
)
MenuBarDrag
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
mac
-
big
-
sur
-
theme
"
)
MacBigSurTheme
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
mac
-
rtl
"
)
MacRTL
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
windows
-
accent
-
color
-
in
-
titlebar
"
)
WindowsAccentColorInTitlebar
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
swipe
-
animation
-
enabled
"
)
SwipeAnimationEnabled
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
gtk
-
csd
-
available
"
)
GTKCSDAvailable
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
gtk
-
csd
-
transparency
-
available
"
)
GTKCSDTransparencyAvailable
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
gtk
-
csd
-
minimize
-
button
"
)
GTKCSDMinimizeButton
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
gtk
-
csd
-
maximize
-
button
"
)
GTKCSDMaximizeButton
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
gtk
-
csd
-
close
-
button
"
)
GTKCSDCloseButton
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
gtk
-
csd
-
reversed
-
placement
"
)
GTKCSDReversedPlacement
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
system
-
dark
-
theme
"
)
SystemUsesDarkTheme
)
lnf_int_feature
!
(
atom
!
(
"
-
moz
-
panel
-
animations
"
)
PanelAnimations
)
]
;

use
media_queries
:
:
MediaList
;
use
shared_lock
:
:
Locked
;
use
stylearc
:
:
Arc
;
use
stylesheets
:
:
ImportRule
;
pub
trait
StylesheetLoader
{
fn
request_stylesheet
(
&
self
media
:
Arc
<
Locked
<
MediaList
>
>
make_import
:
&
mut
FnMut
(
Arc
<
Locked
<
MediaList
>
>
)
-
>
ImportRule
make_arc
:
&
mut
FnMut
(
ImportRule
)
-
>
Arc
<
Locked
<
ImportRule
>
>
)
-
>
Arc
<
Locked
<
ImportRule
>
>
;
}
pub
struct
NoOpLoader
;
impl
StylesheetLoader
for
NoOpLoader
{
fn
request_stylesheet
(
&
self
media
:
Arc
<
Locked
<
MediaList
>
>
make_import
:
&
mut
FnMut
(
Arc
<
Locked
<
MediaList
>
>
)
-
>
ImportRule
make_arc
:
&
mut
FnMut
(
ImportRule
)
-
>
Arc
<
Locked
<
ImportRule
>
>
)
-
>
Arc
<
Locked
<
ImportRule
>
>
{
make_arc
(
make_import
(
media
)
)
}
}

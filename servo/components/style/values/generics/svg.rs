use
crate
:
:
parser
:
:
{
Parse
ParserContext
}
;
use
cssparser
:
:
Parser
;
use
style_traits
:
:
ParseError
;
#
[
derive
(
Animate
Clone
ComputeSquaredDistance
Debug
MallocSizeOf
PartialEq
Parse
SpecifiedValueInfo
ToAnimatedValue
ToAnimatedZero
ToComputedValue
ToCss
ToResolvedValue
ToShmem
)
]
pub
enum
SVGPaintFallback
<
C
>
{
None
#
[
css
(
skip
)
]
Unset
Color
(
C
)
}
#
[
animation
(
no_bound
(
UrlPaintServer
)
)
]
#
[
derive
(
Animate
Clone
ComputeSquaredDistance
Debug
MallocSizeOf
PartialEq
SpecifiedValueInfo
ToAnimatedValue
ToAnimatedZero
ToComputedValue
ToCss
ToResolvedValue
ToShmem
)
]
pub
struct
SVGPaint
<
ColorType
UrlPaintServer
>
{
pub
kind
:
SVGPaintKind
<
ColorType
UrlPaintServer
>
pub
fallback
:
SVGPaintFallback
<
ColorType
>
}
impl
<
C
U
>
Default
for
SVGPaint
<
C
U
>
{
fn
default
(
)
-
>
Self
{
Self
{
kind
:
SVGPaintKind
:
:
None
fallback
:
SVGPaintFallback
:
:
Unset
}
}
}
#
[
animation
(
no_bound
(
UrlPaintServer
)
)
]
#
[
derive
(
Animate
Clone
ComputeSquaredDistance
Debug
MallocSizeOf
PartialEq
Parse
SpecifiedValueInfo
ToAnimatedValue
ToAnimatedZero
ToComputedValue
ToCss
ToResolvedValue
ToShmem
)
]
pub
enum
SVGPaintKind
<
ColorType
UrlPaintServer
>
{
#
[
animation
(
error
)
]
None
Color
(
ColorType
)
#
[
animation
(
error
)
]
PaintServer
(
UrlPaintServer
)
ContextFill
ContextStroke
}
impl
<
ColorType
:
Parse
UrlPaintServer
:
Parse
>
Parse
for
SVGPaint
<
ColorType
UrlPaintServer
>
{
fn
parse
<
'
i
'
t
>
(
context
:
&
ParserContext
input
:
&
mut
Parser
<
'
i
'
t
>
)
-
>
Result
<
Self
ParseError
<
'
i
>
>
{
let
kind
=
SVGPaintKind
:
:
parse
(
context
input
)
?
;
if
matches
!
(
kind
SVGPaintKind
:
:
None
|
SVGPaintKind
:
:
Color
(
.
.
)
)
{
return
Ok
(
SVGPaint
{
kind
fallback
:
SVGPaintFallback
:
:
Unset
}
)
;
}
let
fallback
=
input
.
try
(
|
i
|
SVGPaintFallback
:
:
parse
(
context
i
)
)
.
unwrap_or
(
SVGPaintFallback
:
:
Unset
)
;
Ok
(
SVGPaint
{
kind
fallback
}
)
}
}
#
[
derive
(
Animate
Clone
ComputeSquaredDistance
Copy
Debug
MallocSizeOf
PartialEq
SpecifiedValueInfo
ToAnimatedValue
ToAnimatedZero
ToComputedValue
ToCss
ToResolvedValue
ToShmem
)
]
pub
enum
SVGLength
<
L
>
{
LengthPercentage
(
L
)
#
[
animation
(
error
)
]
ContextValue
}
#
[
derive
(
Clone
Debug
MallocSizeOf
PartialEq
SpecifiedValueInfo
ToAnimatedValue
ToAnimatedZero
ToComputedValue
ToCss
ToResolvedValue
ToShmem
)
]
#
[
repr
(
C
u8
)
]
pub
enum
GenericSVGStrokeDashArray
<
L
>
{
#
[
css
(
comma
)
]
Values
(
#
[
css
(
if_empty
=
"
none
"
iterable
)
]
crate
:
:
OwnedSlice
<
L
>
)
ContextValue
}
pub
use
self
:
:
GenericSVGStrokeDashArray
as
SVGStrokeDashArray
;
#
[
derive
(
Animate
Clone
ComputeSquaredDistance
Copy
Debug
MallocSizeOf
PartialEq
Parse
SpecifiedValueInfo
ToAnimatedZero
ToComputedValue
ToCss
ToResolvedValue
ToShmem
)
]
#
[
repr
(
C
u8
)
]
pub
enum
GenericSVGOpacity
<
OpacityType
>
{
Opacity
(
OpacityType
)
#
[
animation
(
error
)
]
ContextFillOpacity
#
[
animation
(
error
)
]
ContextStrokeOpacity
}
pub
use
self
:
:
GenericSVGOpacity
as
SVGOpacity
;

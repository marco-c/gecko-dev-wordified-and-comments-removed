use
crate
:
:
{
One
Zero
}
;
use
std
:
:
fmt
:
:
{
self
Write
}
;
use
style_traits
:
:
{
CssWriter
ToCss
}
;
#
[
derive
(
Clone
Copy
Debug
MallocSizeOf
PartialEq
SpecifiedValueInfo
ToAnimatedValue
ToComputedValue
ToResolvedValue
ToShmem
)
]
#
[
repr
(
C
)
]
pub
struct
Ratio
<
N
>
(
pub
N
pub
N
)
;
impl
<
N
>
ToCss
for
Ratio
<
N
>
where
N
:
ToCss
{
fn
to_css
<
W
>
(
&
self
dest
:
&
mut
CssWriter
<
W
>
)
-
>
fmt
:
:
Result
where
W
:
Write
{
self
.
0
.
to_css
(
dest
)
?
;
dest
.
write_str
(
"
/
"
)
?
;
self
.
1
.
to_css
(
dest
)
?
;
Ok
(
(
)
)
}
}
impl
<
N
>
Ratio
<
N
>
where
N
:
Zero
+
One
{
#
[
inline
]
pub
fn
is_degenerate
(
&
self
)
-
>
bool
{
self
.
0
.
is_zero
(
)
|
|
self
.
1
.
is_zero
(
)
}
pub
fn
used_value
(
self
)
-
>
Self
{
if
self
.
0
.
is_zero
(
)
&
&
self
.
1
.
is_zero
(
)
{
Self
(
One
:
:
one
(
)
Zero
:
:
zero
(
)
)
}
else
{
self
}
}
}
impl
<
N
>
Zero
for
Ratio
<
N
>
where
N
:
Zero
+
One
{
fn
zero
(
)
-
>
Self
{
Self
(
Zero
:
:
zero
(
)
One
:
:
one
(
)
)
}
fn
is_zero
(
&
self
)
-
>
bool
{
self
.
0
.
is_zero
(
)
}
}

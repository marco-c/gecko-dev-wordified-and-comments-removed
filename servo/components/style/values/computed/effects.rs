#
[
cfg
(
not
(
feature
=
"
gecko
"
)
)
]
use
values
:
:
Impossible
;
use
values
:
:
computed
:
:
{
Angle
Number
}
;
use
values
:
:
computed
:
:
color
:
:
Color
;
use
values
:
:
computed
:
:
length
:
:
Length
;
use
values
:
:
generics
:
:
effects
:
:
Filter
as
GenericFilter
;
use
values
:
:
generics
:
:
effects
:
:
FilterList
as
GenericFilterList
;
pub
type
FilterList
=
GenericFilterList
<
Filter
>
;
#
[
cfg
(
feature
=
"
gecko
"
)
]
pub
type
Filter
=
GenericFilter
<
Angle
Number
Length
SimpleShadow
>
;
#
[
cfg
(
not
(
feature
=
"
gecko
"
)
)
]
pub
type
Filter
=
GenericFilter
<
Angle
Number
Length
Impossible
>
;
#
[
cfg_attr
(
feature
=
"
servo
"
derive
(
HeapSizeOf
)
)
]
#
[
derive
(
Clone
Debug
PartialEq
ToCss
)
]
pub
struct
SimpleShadow
{
pub
color
:
Color
pub
horizontal
:
Length
pub
vertical
:
Length
pub
blur
:
Length
}
impl
FilterList
{
pub
fn
opacity
(
&
self
)
-
>
Number
{
let
mut
opacity
=
0
.
;
for
filter
in
&
*
self
.
0
{
if
let
GenericFilter
:
:
Opacity
(
factor
)
=
*
filter
{
opacity
*
=
factor
}
}
opacity
}
}

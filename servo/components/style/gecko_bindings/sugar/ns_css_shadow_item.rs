use
app_units
:
:
Au
;
use
cssparser
:
:
Color
;
use
gecko
:
:
values
:
:
{
convert_rgba_to_nscolor
convert_nscolor_to_rgba
}
;
use
gecko_bindings
:
:
structs
:
:
nsCSSShadowItem
;
use
values
:
:
computed
:
:
Shadow
;
impl
nsCSSShadowItem
{
pub
fn
set_from_shadow
(
&
mut
self
other
:
Shadow
)
{
self
.
mXOffset
=
other
.
offset_x
.
0
;
self
.
mYOffset
=
other
.
offset_y
.
0
;
self
.
mRadius
=
other
.
blur_radius
.
0
;
self
.
mSpread
=
other
.
spread_radius
.
0
;
self
.
mInset
=
other
.
inset
;
self
.
mColor
=
match
other
.
color
{
Color
:
:
RGBA
(
rgba
)
=
>
{
self
.
mHasColor
=
true
;
convert_rgba_to_nscolor
(
&
rgba
)
}
Color
:
:
CurrentColor
=
>
0
}
}
pub
fn
to_shadow
(
&
self
)
-
>
Shadow
{
Shadow
{
offset_x
:
Au
(
self
.
mXOffset
)
offset_y
:
Au
(
self
.
mYOffset
)
blur_radius
:
Au
(
self
.
mRadius
)
spread_radius
:
Au
(
self
.
mSpread
)
inset
:
self
.
mInset
color
:
Color
:
:
RGBA
(
convert_nscolor_to_rgba
(
self
.
mColor
)
)
}
}
}

use
properties
:
:
{
ComputedValues
StyleBuilder
}
;
bitflags
!
{
/
/
/
Misc
information
about
a
given
computed
style
.
pub
flags
ComputedValueFlags
:
u8
{
/
/
/
Whether
the
style
or
any
of
the
ancestors
has
a
text
-
decoration
/
/
/
property
that
should
get
propagated
to
descendants
.
/
/
/
/
/
/
text
-
decoration
is
a
reset
property
but
gets
propagated
in
the
/
/
/
frame
/
box
tree
.
const
HAS_TEXT_DECORATION_LINE
=
1
<
<
0
}
}
impl
ComputedValueFlags
{
pub
fn
initial
(
)
-
>
Self
{
Self
:
:
empty
(
)
}
pub
fn
compute
(
this_style
:
&
StyleBuilder
parent_style
:
&
ComputedValues
)
-
>
Self
{
let
mut
ret
=
Self
:
:
empty
(
)
;
if
parent_style
.
flags
.
contains
(
HAS_TEXT_DECORATION_LINE
)
|
|
!
this_style
.
get_text
(
)
.
clone_text_decoration_line
(
)
.
is_empty
(
)
{
ret
.
insert
(
HAS_TEXT_DECORATION_LINE
)
;
}
ret
}
}

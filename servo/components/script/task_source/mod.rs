pub
mod
dom_manipulation
;
pub
mod
file_reading
;
pub
mod
history_traversal
;
pub
mod
networking
;
pub
mod
user_interaction
;
use
dom
:
:
globalscope
:
:
GlobalScope
;
use
script_thread
:
:
{
Runnable
RunnableWrapper
}
;
use
std
:
:
result
:
:
Result
;
pub
trait
TaskSource
{
fn
queue_with_wrapper
<
T
>
(
&
self
msg
:
Box
<
T
>
wrapper
:
&
RunnableWrapper
)
-
>
Result
<
(
)
(
)
>
where
T
:
Runnable
+
Send
+
'
static
;
fn
queue
<
T
:
Runnable
+
Send
+
'
static
>
(
&
self
msg
:
Box
<
T
>
global
:
&
GlobalScope
)
-
>
Result
<
(
)
(
)
>
{
self
.
queue_with_wrapper
(
msg
&
global
.
get_runnable_wrapper
(
)
)
}
}

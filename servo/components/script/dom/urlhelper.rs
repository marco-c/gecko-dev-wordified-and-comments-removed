use
util
:
:
str
:
:
DOMString
;
use
url
:
:
Url
;
use
std
:
:
borrow
:
:
ToOwned
;
pub
struct
UrlHelper
;
impl
UrlHelper
{
pub
fn
Href
(
url
:
&
Url
)
-
>
DOMString
{
url
.
serialize
(
)
}
pub
fn
Search
(
url
:
&
Url
)
-
>
DOMString
{
match
url
.
query
{
None
=
>
"
"
.
to_owned
(
)
Some
(
ref
query
)
if
query
.
as_slice
(
)
=
=
"
"
=
>
"
"
.
to_owned
(
)
Some
(
ref
query
)
=
>
format
!
(
"
?
{
}
"
query
)
}
}
pub
fn
Hash
(
url
:
&
Url
)
-
>
DOMString
{
match
url
.
fragment
{
None
=
>
"
"
.
to_owned
(
)
Some
(
ref
hash
)
if
hash
.
as_slice
(
)
=
=
"
"
=
>
"
"
.
to_owned
(
)
Some
(
ref
hash
)
=
>
format
!
(
"
#
{
}
"
hash
)
}
}
pub
fn
SameOrigin
(
urlA
:
&
Url
urlB
:
&
Url
)
-
>
bool
{
if
urlA
.
host
(
)
!
=
urlB
.
host
(
)
{
return
false
}
if
urlA
.
scheme
!
=
urlB
.
scheme
{
return
false
}
if
urlA
.
port
(
)
!
=
urlB
.
port
(
)
{
return
false
}
return
true
}
}

use
ipc_channel
:
:
ipc
:
:
IpcSender
;
use
url
:
:
Url
;
use
util
:
:
str
:
:
DOMString
;
#
[
derive
(
Copy
Clone
Deserialize
Serialize
HeapSizeOf
)
]
pub
enum
StorageType
{
Session
Local
}
#
[
derive
(
Deserialize
Serialize
)
]
pub
enum
StorageTaskMsg
{
Length
(
IpcSender
<
usize
>
Url
StorageType
)
Key
(
IpcSender
<
Option
<
DOMString
>
>
Url
StorageType
u32
)
Keys
(
IpcSender
<
Vec
<
DOMString
>
>
Url
StorageType
)
GetItem
(
IpcSender
<
Option
<
DOMString
>
>
Url
StorageType
DOMString
)
SetItem
(
IpcSender
<
Result
<
(
bool
Option
<
DOMString
>
)
(
)
>
>
Url
StorageType
DOMString
DOMString
)
RemoveItem
(
IpcSender
<
Option
<
DOMString
>
>
Url
StorageType
DOMString
)
Clear
(
IpcSender
<
bool
>
Url
StorageType
)
Exit
}
pub
type
StorageTask
=
IpcSender
<
StorageTaskMsg
>
;

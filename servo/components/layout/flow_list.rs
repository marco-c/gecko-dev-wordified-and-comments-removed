use
flow
:
:
Flow
;
use
flow_ref
:
:
{
self
FlowRef
}
;
use
std
:
:
collections
:
:
{
LinkedList
linked_list
}
;
pub
struct
FlowList
{
flows
:
LinkedList
<
FlowRef
>
}
pub
struct
FlowListIterator
<
'
a
>
{
it
:
linked_list
:
:
Iter
<
'
a
FlowRef
>
}
pub
struct
MutFlowListIterator
<
'
a
>
{
it
:
linked_list
:
:
IterMut
<
'
a
FlowRef
>
}
impl
FlowList
{
pub
fn
push_back
(
&
mut
self
new_tail
:
FlowRef
)
{
self
.
flows
.
push_back
(
new_tail
)
;
}
pub
fn
back
(
&
self
)
-
>
Option
<
&
Flow
>
{
self
.
flows
.
back
(
)
.
map
(
|
x
|
&
*
*
x
)
}
pub
fn
push_front
(
&
mut
self
new_head
:
FlowRef
)
{
self
.
flows
.
push_front
(
new_head
)
;
}
pub
fn
pop_front
(
&
mut
self
)
-
>
Option
<
FlowRef
>
{
self
.
flows
.
pop_front
(
)
}
pub
fn
front
(
&
self
)
-
>
Option
<
&
Flow
>
{
self
.
flows
.
front
(
)
.
map
(
|
x
|
&
*
*
x
)
}
#
[
inline
]
pub
fn
new
(
)
-
>
FlowList
{
FlowList
{
flows
:
LinkedList
:
:
new
(
)
}
}
#
[
inline
]
pub
fn
iter
(
&
self
)
-
>
FlowListIterator
{
FlowListIterator
{
it
:
self
.
flows
.
iter
(
)
}
}
#
[
inline
]
pub
fn
iter_mut
(
&
mut
self
)
-
>
MutFlowListIterator
{
MutFlowListIterator
{
it
:
self
.
flows
.
iter_mut
(
)
}
}
#
[
inline
]
pub
fn
iter_flow_ref_mut
<
'
a
>
(
&
'
a
mut
self
)
-
>
linked_list
:
:
IterMut
<
'
a
FlowRef
>
{
self
.
flows
.
iter_mut
(
)
}
#
[
inline
]
pub
fn
is_empty
(
&
self
)
-
>
bool
{
self
.
flows
.
is_empty
(
)
}
#
[
inline
]
pub
fn
len
(
&
self
)
-
>
usize
{
self
.
flows
.
len
(
)
}
#
[
inline
]
pub
fn
split_off
(
&
mut
self
i
:
usize
)
-
>
Self
{
FlowList
{
flows
:
self
.
flows
.
split_off
(
i
)
}
}
}
impl
<
'
a
>
Iterator
for
FlowListIterator
<
'
a
>
{
type
Item
=
&
'
a
Flow
;
#
[
inline
]
fn
next
(
&
mut
self
)
-
>
Option
<
&
'
a
Flow
>
{
self
.
it
.
next
(
)
.
map
(
|
x
|
&
*
*
x
)
}
#
[
inline
]
fn
size_hint
(
&
self
)
-
>
(
usize
Option
<
usize
>
)
{
self
.
it
.
size_hint
(
)
}
}
impl
<
'
a
>
DoubleEndedIterator
for
FlowListIterator
<
'
a
>
{
fn
next_back
(
&
mut
self
)
-
>
Option
<
&
'
a
Flow
>
{
self
.
it
.
next_back
(
)
.
map
(
|
x
|
&
*
*
x
)
}
}
impl
<
'
a
>
DoubleEndedIterator
for
MutFlowListIterator
<
'
a
>
{
fn
next_back
(
&
mut
self
)
-
>
Option
<
&
'
a
mut
Flow
>
{
self
.
it
.
next_back
(
)
.
map
(
flow_ref
:
:
deref_mut
)
}
}
impl
<
'
a
>
Iterator
for
MutFlowListIterator
<
'
a
>
{
type
Item
=
&
'
a
mut
Flow
;
#
[
inline
]
fn
next
(
&
mut
self
)
-
>
Option
<
&
'
a
mut
Flow
>
{
self
.
it
.
next
(
)
.
map
(
flow_ref
:
:
deref_mut
)
}
#
[
inline
]
fn
size_hint
(
&
self
)
-
>
(
usize
Option
<
usize
>
)
{
self
.
it
.
size_hint
(
)
}
}

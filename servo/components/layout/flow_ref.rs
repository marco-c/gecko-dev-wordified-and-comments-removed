use
flow
:
:
Flow
;
use
std
:
:
sync
:
:
{
Arc
Weak
}
;
pub
type
FlowRef
=
Arc
<
Flow
>
;
pub
type
WeakFlowRef
=
Weak
<
Flow
>
;
#
[
allow
(
unsafe_code
)
]
pub
fn
deref_mut
<
'
a
>
(
r
:
&
mut
FlowRef
)
-
>
&
'
a
mut
Flow
{
let
ptr
:
*
const
Flow
=
&
*
*
r
;
unsafe
{
&
mut
*
(
ptr
as
*
mut
Flow
)
}
}

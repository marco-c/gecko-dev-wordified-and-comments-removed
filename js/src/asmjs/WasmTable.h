#
ifndef
wasm_table_h
#
define
wasm_table_h
#
include
"
asmjs
/
WasmCode
.
h
"
namespace
js
{
namespace
wasm
{
class
Table
:
public
ShareableBase
<
Table
>
{
TableKind
kind_
;
UniquePtr
<
void
*
>
array_
;
uint32_t
length_
;
bool
initialized_
;
public
:
static
RefPtr
<
Table
>
create
(
JSContext
*
cx
const
TableDesc
&
desc
)
;
bool
isTypedFunction
(
)
const
{
return
kind_
=
=
TableKind
:
:
TypedFunction
;
}
void
*
*
array
(
)
const
{
return
array_
.
get
(
)
;
}
uint32_t
length
(
)
const
{
return
length_
;
}
bool
initialized
(
)
const
{
return
initialized_
;
}
void
init
(
const
CodeSegment
&
codeSegment
)
;
size_t
sizeOfExcludingThis
(
MallocSizeOf
mallocSizeOf
)
const
;
}
;
typedef
RefPtr
<
Table
>
SharedTable
;
typedef
Vector
<
SharedTable
0
SystemAllocPolicy
>
SharedTableVector
;
}
}
#
endif

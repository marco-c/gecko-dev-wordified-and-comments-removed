#
ifndef
wasm_TypedObject_inl_h
#
define
wasm_TypedObject_inl_h
#
include
"
wasm
/
TypedObject
.
h
"
#
include
"
gc
/
ObjectKind
-
inl
.
h
"
js
:
:
gc
:
:
AllocKind
js
:
:
WasmStructObject
:
:
allocKindForRttValue
(
RttValue
*
rtt
)
{
MOZ_ASSERT
(
rtt
-
>
kind
(
)
=
=
wasm
:
:
TypeDefKind
:
:
Struct
)
;
size_t
nbytes
=
rtt
-
>
typeDef
(
)
.
structType
(
)
.
size_
;
if
(
nbytes
>
WasmStructObject_MaxInlineBytes
)
{
nbytes
=
WasmStructObject_MaxInlineBytes
;
}
nbytes
=
sizeOfIncludingInlineData
(
nbytes
)
;
return
gc
:
:
GetGCObjectKindForBytes
(
nbytes
)
;
}
#
endif

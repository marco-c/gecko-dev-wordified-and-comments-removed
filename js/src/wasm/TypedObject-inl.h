#
ifndef
wasm_TypedObject_inl_h
#
define
wasm_TypedObject_inl_h
#
include
"
wasm
/
TypedObject
.
h
"
#
include
"
gc
/
ObjectKind
-
inl
.
h
"
js
:
:
gc
:
:
AllocKind
js
:
:
InlineTypedObject
:
:
allocKindForRttValue
(
RttValue
*
rtt
)
{
MOZ_ASSERT
(
rtt
-
>
kind
(
)
=
=
wasm
:
:
TypeDefKind
:
:
Struct
)
;
size_t
nbytes
=
rtt
-
>
typeDef
(
)
.
structType
(
)
.
size_
;
MOZ_ASSERT
(
nbytes
<
=
MaxInlineBytes
)
;
return
gc
:
:
GetGCObjectKindForBytes
(
nbytes
+
sizeof
(
TypedObject
)
)
;
}
#
endif

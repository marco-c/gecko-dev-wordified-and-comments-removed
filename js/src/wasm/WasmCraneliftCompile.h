#
ifndef
wasm_cranelift_compile_h
#
define
wasm_cranelift_compile_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
wasm
/
WasmGenerator
.
h
"
namespace
js
{
namespace
wasm
{
#
ifdef
ENABLE_WASM_CRANELIFT
[
[
nodiscard
]
]
bool
CraneliftPlatformSupport
(
)
;
[
[
nodiscard
]
]
bool
CraneliftCompileFunctions
(
const
ModuleEnvironment
&
moduleEnv
const
CompilerEnvironment
&
compilerEnv
LifoAlloc
&
lifo
const
FuncCompileInputVector
&
inputs
CompiledCode
*
code
UniqueChars
*
error
)
;
void
CraneliftFreeReusableData
(
void
*
data
)
;
#
else
[
[
nodiscard
]
]
inline
bool
CraneliftPlatformSupport
(
)
{
return
false
;
}
[
[
nodiscard
]
]
inline
bool
CraneliftCompileFunctions
(
const
ModuleEnvironment
&
moduleEnv
const
CompilerEnvironment
&
compilerEnv
LifoAlloc
&
lifo
const
FuncCompileInputVector
&
inputs
CompiledCode
*
code
UniqueChars
*
error
)
{
MOZ_CRASH
(
"
Should
not
happen
"
)
;
}
inline
void
CraneliftFreeReusableData
(
void
*
data
)
{
}
#
endif
}
}
#
endif

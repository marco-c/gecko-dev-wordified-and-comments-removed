#
ifndef
wasm_cranelift_compile_h
#
define
wasm_cranelift_compile_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
wasm
/
WasmGenerator
.
h
"
namespace
js
{
namespace
wasm
{
#
ifdef
ENABLE_WASM_CRANELIFT
MOZ_MUST_USE
bool
CraneliftPlatformSupport
(
)
;
MOZ_MUST_USE
bool
CraneliftCompileFunctions
(
const
ModuleEnvironment
&
env
LifoAlloc
&
lifo
const
FuncCompileInputVector
&
inputs
CompiledCode
*
code
UniqueChars
*
error
)
;
void
CraneliftFreeReusableData
(
void
*
data
)
;
#
else
MOZ_MUST_USE
inline
bool
CraneliftPlatformSupport
(
)
{
return
false
;
}
MOZ_MUST_USE
inline
bool
CraneliftCompileFunctions
(
const
ModuleEnvironment
&
env
LifoAlloc
&
lifo
const
FuncCompileInputVector
&
inputs
CompiledCode
*
code
UniqueChars
*
error
)
{
MOZ_CRASH
(
"
Should
not
happen
"
)
;
}
void
CraneliftFreeReusableData
(
void
*
data
)
{
}
#
endif
}
}
#
endif

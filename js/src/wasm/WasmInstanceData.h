#
ifndef
wasm_instance_data_h
#
define
wasm_instance_data_h
#
include
<
stdint
.
h
>
#
include
"
NamespaceImports
.
h
"
#
include
"
gc
/
Allocator
.
h
"
#
include
"
js
/
Utility
.
h
"
#
include
"
wasm
/
WasmInstance
.
h
"
#
include
"
wasm
/
WasmTypeDecls
.
h
"
namespace
js
{
namespace
wasm
{
struct
ExportArg
{
uint64_t
lo
;
uint64_t
hi
;
}
;
using
ExportFuncPtr
=
int32_t
(
*
)
(
ExportArg
*
Instance
*
)
;
struct
TypeDefInstanceData
{
const
wasm
:
:
TypeDef
*
typeDef
;
GCPtr
<
Shape
*
>
shape
;
const
JSClass
*
clasp
;
gc
:
:
AllocKind
allocKind
;
gc
:
:
InitialHeap
initialHeap
;
}
;
struct
FuncImportInstanceData
{
void
*
code
;
Instance
*
instance
;
JS
:
:
Realm
*
realm
;
GCPtr
<
JSFunction
*
>
fun
;
static_assert
(
sizeof
(
GCPtr
<
JSFunction
*
>
)
=
=
sizeof
(
void
*
)
"
for
JIT
access
"
)
;
}
;
struct
TableInstanceData
{
uint32_t
length
;
void
*
elements
;
}
;
struct
FunctionTableElem
{
void
*
code
;
Instance
*
instance
;
}
;
}
}
#
endif

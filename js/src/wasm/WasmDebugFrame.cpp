#
include
"
wasm
/
WasmDebugFrame
.
h
"
#
include
"
vm
/
EnvironmentObject
.
h
"
#
include
"
wasm
/
WasmInstance
.
h
"
#
include
"
jsobjinlines
.
h
"
using
namespace
js
;
using
namespace
js
:
:
wasm
;
Instance
*
DebugFrame
:
:
instance
(
)
const
{
return
tlsData_
-
>
instance
;
}
GlobalObject
*
DebugFrame
:
:
global
(
)
const
{
return
&
instance
(
)
-
>
object
(
)
-
>
global
(
)
;
}
JSObject
*
DebugFrame
:
:
environmentChain
(
)
const
{
return
&
global
(
)
-
>
lexicalEnvironment
(
)
;
}
void
DebugFrame
:
:
observeFrame
(
JSContext
*
cx
)
{
if
(
observing_
)
return
;
observing_
=
true
;
}
void
DebugFrame
:
:
leaveFrame
(
JSContext
*
cx
)
{
if
(
!
observing_
)
return
;
observing_
=
false
;
}

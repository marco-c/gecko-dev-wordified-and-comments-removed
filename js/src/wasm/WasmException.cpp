#
include
"
wasm
/
WasmException
.
h
"
#
include
"
vm
/
JSObject
-
inl
.
h
"
using
namespace
js
;
using
namespace
js
:
:
wasm
;
const
JSClass
WasmJSExceptionObject
:
:
class_
=
{
"
WasmJSExnRefObject
"
JSCLASS_HAS_RESERVED_SLOTS
(
RESERVED_SLOTS
)
}
;
WasmJSExceptionObject
*
WasmJSExceptionObject
:
:
create
(
JSContext
*
cx
MutableHandleValue
value
)
{
WasmJSExceptionObject
*
obj
=
NewObjectWithGivenProto
<
WasmJSExceptionObject
>
(
cx
nullptr
)
;
if
(
!
obj
)
{
return
nullptr
;
}
obj
-
>
setFixedSlot
(
VALUE_SLOT
value
)
;
return
obj
;
}

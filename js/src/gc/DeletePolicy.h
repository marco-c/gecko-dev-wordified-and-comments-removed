#
ifndef
gc_DeletePolicy_h
#
define
gc_DeletePolicy_h
#
include
"
gc
/
ClearEdgesTracer
.
h
"
namespace
js
{
template
<
typename
T
>
struct
GCManagedDeletePolicy
{
void
operator
(
)
(
const
T
*
constPtr
)
{
if
(
constPtr
)
{
auto
ptr
=
const_cast
<
T
*
>
(
constPtr
)
;
gc
:
:
ClearEdgesTracer
trc
;
ptr
-
>
trace
(
&
trc
)
;
js_delete
(
ptr
)
;
}
}
}
;
}
#
endif

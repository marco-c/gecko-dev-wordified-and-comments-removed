#
ifndef
jstypes_h
#
define
jstypes_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Casting
.
h
"
#
include
"
mozilla
/
Types
.
h
"
#
include
"
js
-
config
.
h
"
#
if
defined
(
STATIC_JS_API
)
#
define
JS_PUBLIC_API
#
define
JS_PUBLIC_DATA
#
define
JS_FRIEND_API
#
define
JS_FRIEND_DATA
#
elif
defined
(
EXPORT_JS_API
)
|
|
defined
(
STATIC_EXPORTABLE_JS_API
)
#
define
JS_PUBLIC_API
MOZ_EXPORT
#
define
JS_PUBLIC_DATA
MOZ_EXPORT
#
define
JS_FRIEND_API
MOZ_EXPORT
#
define
JS_FRIEND_DATA
MOZ_EXPORT
#
else
#
define
JS_PUBLIC_API
MOZ_IMPORT_API
#
define
JS_PUBLIC_DATA
MOZ_IMPORT_DATA
#
define
JS_FRIEND_API
MOZ_IMPORT_API
#
define
JS_FRIEND_DATA
MOZ_IMPORT_DATA
#
endif
#
if
defined
(
_MSC_VER
)
&
&
defined
(
_M_IX86
)
#
define
JS_FASTCALL
__fastcall
#
elif
defined
(
__GNUC__
)
&
&
defined
(
__i386__
)
#
define
JS_FASTCALL
__attribute__
(
(
fastcall
)
)
#
else
#
define
JS_FASTCALL
#
define
JS_NO_FASTCALL
#
endif
#
define
JS_BEGIN_MACRO
do
{
#
define
JS_END_MACRO
\
}
\
while
(
0
)
#
define
JS_BIT
(
n
)
(
(
uint32_t
)
1
<
<
(
n
)
)
#
define
JS_BITMASK
(
n
)
(
JS_BIT
(
n
)
-
1
)
#
define
JS_HOWMANY
(
x
y
)
(
(
(
x
)
+
(
y
)
-
1
)
/
(
y
)
)
#
define
JS_ROUNDUP
(
x
y
)
(
JS_HOWMANY
(
x
y
)
*
(
y
)
)
#
define
JS_ROUNDDOWN
(
x
y
)
(
(
(
x
)
/
(
y
)
)
*
(
y
)
)
#
define
JS_ROUND
(
x
y
)
(
(
(
(
x
)
+
(
y
)
/
2
)
/
(
y
)
)
*
(
y
)
)
#
if
defined
(
JS_64BIT
)
#
define
JS_BITS_PER_WORD
64
#
else
#
define
JS_BITS_PER_WORD
32
#
endif
#
define
JS_FUNC_TO_DATA_PTR
(
type
fun
)
(
mozilla
:
:
BitwiseCast
<
type
>
(
fun
)
)
#
define
JS_DATA_TO_FUNC_PTR
(
type
ptr
)
(
mozilla
:
:
BitwiseCast
<
type
>
(
ptr
)
)
#
endif

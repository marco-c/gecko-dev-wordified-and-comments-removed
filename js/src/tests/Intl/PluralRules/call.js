function
IsConstructor
(
o
)
{
try
{
new
(
new
Proxy
(
o
{
construct
:
(
)
=
>
(
{
}
)
}
)
)
;
return
true
;
}
catch
(
e
)
{
return
false
;
}
}
function
thisValues
(
)
{
const
intlConstructors
=
Object
.
getOwnPropertyNames
(
Intl
)
.
map
(
name
=
>
Intl
[
name
]
)
.
filter
(
IsConstructor
)
;
return
[
.
.
.
[
undefined
null
true
"
abc
"
Symbol
(
)
123
]
.
.
.
[
{
}
[
]
/
(
?
:
)
/
function
(
)
{
}
new
Proxy
(
{
}
{
}
)
]
.
.
.
[
]
.
concat
(
.
.
.
intlConstructors
.
map
(
ctor
=
>
[
new
ctor
(
)
new
class
extends
ctor
{
}
Object
.
create
(
ctor
.
prototype
)
Object
.
setPrototypeOf
(
new
ctor
(
)
Object
.
prototype
)
]
)
)
]
;
}
assertThrowsInstanceOf
(
(
)
=
>
Intl
.
PluralRules
(
)
TypeError
)
;
for
(
let
thisValue
of
thisValues
(
)
)
{
assertThrowsInstanceOf
(
(
)
=
>
Intl
.
PluralRules
.
call
(
thisValue
)
TypeError
)
;
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

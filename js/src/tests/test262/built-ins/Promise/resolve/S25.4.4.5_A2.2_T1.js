var
resolveP1
p1
=
new
Promise
(
function
(
resolve
)
{
resolveP1
=
resolve
;
}
)
p2
=
Promise
.
resolve
(
p1
)
obj
=
{
}
;
if
(
p1
!
=
=
p2
)
{
throw
new
Test262Error
(
"
Expected
p1
=
=
=
Promise
.
resolve
(
p1
)
because
they
have
same
constructor
"
)
;
}
p2
.
then
(
function
(
arg
)
{
if
(
arg
!
=
=
obj
)
{
throw
new
Test262Error
(
"
Expected
promise
to
be
resolved
with
obj
actually
"
+
arg
)
;
}
}
)
.
then
(
DONE
DONE
)
;
resolveP1
(
obj
)
;

var
count
=
0
;
class
FooPromise
extends
Promise
{
constructor
(
resolve
reject
)
{
count
+
+
;
return
super
(
resolve
reject
)
;
}
}
FooPromise
.
reject
(
)
.
finally
(
(
)
=
>
{
}
)
.
then
(
ERROR
)
.
catch
(
(
)
=
>
{
assert
.
sameValue
(
7
count
)
;
DONE
(
)
;
}
)
;

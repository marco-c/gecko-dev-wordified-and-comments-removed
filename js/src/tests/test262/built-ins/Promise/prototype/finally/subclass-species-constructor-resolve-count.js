class
FooPromise
extends
Promise
{
static
get
[
Symbol
.
species
]
(
)
{
return
Promise
;
}
}
var
p
=
Promise
.
resolve
(
)
.
finally
(
(
)
=
>
FooPromise
.
resolve
(
)
)
;
assert
.
sameValue
(
p
instanceof
Promise
true
)
;
assert
.
sameValue
(
p
instanceof
FooPromise
false
)
;
reportCompare
(
0
0
)
;

assert
.
sameValue
(
typeof
TypedArray
.
prototype
.
copyWithin
'
function
'
'
implements
TypedArray
.
prototype
.
copyWithin
'
)
;
assert
.
sameValue
(
typeof
ArrayBuffer
.
prototype
.
resize
'
function
'
'
implements
ArrayBuffer
.
prototype
.
resize
'
)
;
testWithTypedArrayConstructors
(
TA
=
>
{
var
BPE
=
TA
.
BYTES_PER_ELEMENT
;
var
ab
=
new
ArrayBuffer
(
BPE
*
4
{
maxByteLength
:
BPE
*
5
}
)
;
var
array
=
new
TA
(
ab
BPE
2
)
;
try
{
ab
.
resize
(
BPE
*
5
)
;
}
catch
(
_
)
{
}
array
.
copyWithin
(
0
0
)
;
try
{
ab
.
resize
(
BPE
*
3
)
;
}
catch
(
_
)
{
}
array
.
copyWithin
(
0
0
)
;
var
expectedError
;
try
{
ab
.
resize
(
BPE
*
2
)
;
expectedError
=
TypeError
;
}
catch
(
_
)
{
expectedError
=
Test262Error
;
}
assert
.
throws
(
expectedError
(
)
=
>
{
array
.
copyWithin
(
0
0
)
;
throw
new
Test262Error
(
'
copyWithin
completed
successfully
'
)
;
}
)
;
}
)
;
reportCompare
(
0
0
)
;

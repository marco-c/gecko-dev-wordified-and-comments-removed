var
calls
=
[
]
;
var
speciesConstructor
=
{
}
;
speciesConstructor
[
Symbol
.
species
]
=
function
(
length
)
{
calls
.
push
(
"
Symbol
.
species
(
"
+
length
+
"
)
"
)
;
return
arrayBuffer
.
sliceToImmutable
(
)
;
}
;
var
arrayBuffer
=
new
ArrayBuffer
(
8
)
;
arrayBuffer
.
constructor
=
speciesConstructor
;
assert
.
throws
(
TypeError
function
(
)
{
arrayBuffer
.
slice
(
)
;
}
)
;
assert
.
compareArray
(
calls
[
"
Symbol
.
species
(
8
)
"
]
)
;
calls
=
[
]
;
assert
.
throws
(
TypeError
function
(
)
{
var
start
=
{
valueOf
(
)
{
calls
.
push
(
"
start
.
valueOf
"
)
;
return
1
;
}
}
;
var
end
=
{
valueOf
(
)
{
calls
.
push
(
"
end
.
valueOf
"
)
;
return
2
;
}
}
;
arrayBuffer
.
slice
(
start
end
)
;
}
)
;
assert
.
compareArray
(
calls
[
"
start
.
valueOf
"
"
end
.
valueOf
"
"
Symbol
.
species
(
1
)
"
]
"
Must
read
arguments
before
SpeciesConstructor
.
"
)
;
reportCompare
(
0
0
)
;

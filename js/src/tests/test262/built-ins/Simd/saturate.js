simdTypes
.
filter
(
isSmallIntType
)
.
forEach
(
function
(
type
)
{
function
saturate
(
type
a
)
{
if
(
a
<
type
.
minVal
)
return
type
.
minVal
;
if
(
a
>
type
.
maxVal
)
return
type
.
maxVal
;
return
a
;
}
testSimdFunction
(
type
.
name
+
'
addSaturate
'
function
(
)
{
testBinaryOp
(
type
'
addSaturate
'
function
(
a
b
)
{
return
saturate
(
type
a
+
b
)
;
}
)
;
}
)
;
testSimdFunction
(
type
.
name
+
'
subSaturate
'
function
(
)
{
testBinaryOp
(
type
'
subSaturate
'
function
(
a
b
)
{
return
saturate
(
type
a
-
b
)
;
}
)
;
}
)
;
}
)
;
reportCompare
(
0
0
)
;

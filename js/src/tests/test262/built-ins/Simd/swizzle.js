function
testSwizzle
(
type
)
{
assert
.
sameValue
(
'
function
'
typeof
type
.
fn
.
swizzle
)
;
var
a
=
createTestValue
(
type
)
;
var
indices
=
[
]
;
for
(
var
i
=
0
;
i
<
type
.
lanes
;
i
+
+
)
indices
.
push
(
i
)
;
var
result
=
type
.
fn
.
swizzle
.
apply
(
type
.
fn
[
a
]
.
concat
(
indices
)
)
;
checkValue
(
type
result
function
(
index
)
{
return
type
.
fn
.
extractLane
(
a
index
)
;
}
)
;
indices
.
reverse
(
)
;
var
result
=
type
.
fn
.
swizzle
.
apply
(
type
.
fn
[
a
]
.
concat
(
indices
)
)
;
checkValue
(
type
result
function
(
index
)
{
return
type
.
fn
.
extractLane
(
a
type
.
lanes
-
index
-
1
)
;
}
)
;
function
testIndexCheck
(
index
err
)
{
for
(
var
i
=
0
;
i
<
type
.
lanes
;
i
+
+
)
{
var
args
=
[
a
]
.
concat
(
indices
)
;
args
[
i
+
1
]
=
index
;
assert
.
throws
(
err
function
(
)
{
type
.
fn
.
swizzle
.
apply
(
type
.
fn
args
)
;
}
)
;
}
}
testIndexCheck
(
type
.
lanes
RangeError
)
;
testIndexCheck
(
-
1
RangeError
)
;
testIndexCheck
(
128
RangeError
)
;
testIndexCheck
(
13
.
37
TypeError
)
;
testIndexCheck
(
undefined
TypeError
)
;
testIndexCheck
(
{
}
TypeError
)
;
testIndexCheck
(
'
yo
'
TypeError
)
;
}
simdTypes
.
filter
(
isNumerical
)
.
forEach
(
function
(
type
)
{
testSimdFunction
(
type
.
name
+
'
swizzle
'
function
(
)
{
testSwizzle
(
type
)
;
}
)
;
}
)
;
reportCompare
(
0
0
)
;

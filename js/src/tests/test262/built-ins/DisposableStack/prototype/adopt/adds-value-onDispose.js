var
stack
=
new
DisposableStack
(
)
;
var
resource
=
{
disposed
:
false
}
;
stack
.
adopt
(
resource
r
=
>
{
r
.
disposed
=
true
}
)
;
stack
.
dispose
(
)
;
assert
.
sameValue
(
resource
.
disposed
true
'
Expected
resource
to
have
been
disposed
'
)
;
reportCompare
(
0
0
)
;

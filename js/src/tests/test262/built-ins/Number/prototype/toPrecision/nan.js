assert
.
sameValue
(
NaN
.
toPrecision
(
undefined
)
"
NaN
"
"
step
2
:
If
precision
is
undefined
return
!
ToString
(
x
)
"
)
;
var
calls
=
0
;
var
p
=
{
valueOf
:
function
(
)
{
calls
+
+
;
return
Infinity
;
}
}
;
assert
.
sameValue
(
NaN
.
toPrecision
(
p
)
"
NaN
"
"
value
"
)
;
assert
.
sameValue
(
calls
1
"
NaN
is
checked
after
ToInteger
(
precision
)
"
)
;
var
n
=
new
Number
(
NaN
)
;
calls
=
0
;
assert
.
sameValue
(
n
.
toPrecision
(
p
)
"
NaN
"
"
object
"
)
;
assert
.
sameValue
(
calls
1
"
Number
NaN
is
checked
after
ToInteger
(
precision
)
"
)
;
reportCompare
(
0
0
)
;

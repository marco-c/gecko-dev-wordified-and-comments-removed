let
duration
=
Temporal
.
Duration
.
from
(
{
weeks
:
1
days
:
0
hours
:
1
}
)
;
let
cal
=
new
class
extends
Temporal
.
Calendar
{
#
dateAdd
=
0
;
dateAdd
(
date
duration
options
)
{
if
(
+
+
this
.
#
dateAdd
=
=
=
1
)
{
duration
=
"
-
P1W
"
;
}
return
super
.
dateAdd
(
date
duration
options
)
;
}
}
(
"
iso8601
"
)
;
let
zdt
=
new
Temporal
.
ZonedDateTime
(
0n
"
UTC
"
cal
)
;
let
result
=
duration
.
total
(
{
relativeTo
:
zdt
unit
:
"
days
"
}
)
;
assert
.
sameValue
(
result
-
7
+
1
/
24
)
;
reportCompare
(
0
0
)
;

class
CheckedAdd
extends
Temporal
.
Calendar
{
constructor
(
)
{
super
(
"
iso8601
"
)
;
this
.
called
=
0
;
}
dateAdd
(
date
duration
options
constructor
)
{
this
.
called
+
=
1
;
if
(
this
.
called
=
=
3
)
assert
.
notSameValue
(
options
undefined
"
options
not
undefined
"
)
;
return
super
.
dateAdd
(
date
duration
options
constructor
)
;
}
}
const
calendar
=
new
CheckedAdd
(
)
;
const
yearmonth
=
new
Temporal
.
PlainYearMonth
(
2000
3
calendar
)
;
const
duration
=
{
months
:
1
}
;
yearmonth
.
subtract
(
duration
undefined
)
;
assert
(
calendar
.
called
=
=
3
)
;
calendar
.
called
=
0
;
yearmonth
.
subtract
(
duration
)
;
assert
(
calendar
.
called
=
=
3
)
;
reportCompare
(
0
0
)
;

const
fiftyDays12Hours
=
50n
*
86400_000_000_000n
+
12n
*
3600_000_000_000n
;
{
const
tz
=
new
(
class
extends
Temporal
.
TimeZone
{
getPossibleInstantsFor
(
dateTime
)
{
return
super
.
getPossibleInstantsFor
(
dateTime
.
subtract
(
{
days
:
3
}
)
)
;
}
}
)
(
"
UTC
"
)
;
const
zdt1
=
new
Temporal
.
ZonedDateTime
(
0n
tz
)
;
const
zdt2
=
new
Temporal
.
ZonedDateTime
(
fiftyDays12Hours
tz
)
;
assert
.
throws
(
RangeError
(
)
=
>
zdt2
.
since
(
zdt1
{
largestUnit
:
"
weeks
"
}
)
"
Calendar
calculation
where
more
than
2
days
correction
is
needed
should
cause
RangeError
"
)
;
}
{
const
cal
=
new
(
class
extends
Temporal
.
Calendar
{
dateUntil
(
one
two
options
)
{
return
super
.
dateUntil
(
one
two
options
)
.
negated
(
)
;
}
}
)
(
"
iso8601
"
)
;
const
zdt1
=
new
Temporal
.
ZonedDateTime
(
0n
"
UTC
"
cal
)
;
const
zdt2
=
new
Temporal
.
ZonedDateTime
(
fiftyDays12Hours
"
UTC
"
cal
)
;
assert
.
throws
(
RangeError
(
)
=
>
zdt2
.
since
(
zdt1
{
largestUnit
:
"
weeks
"
}
)
"
Calendar
calculation
causing
mixed
-
sign
values
should
cause
RangeError
"
)
;
}
reportCompare
(
0
0
)
;

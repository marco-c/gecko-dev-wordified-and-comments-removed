const
shiftInstant
=
new
Temporal
.
Instant
(
3661_001_001_001n
)
;
const
tz1
=
TemporalHelpers
.
oneShiftTimeZone
(
shiftInstant
2
)
;
const
datetime1
=
new
Temporal
.
ZonedDateTime
(
3661_001_001_000n
tz1
)
;
datetime1
.
with
(
{
nanosecond
:
1
}
{
offset
:
"
ignore
"
disambiguation
:
"
earlier
"
}
)
;
const
expected
=
[
"
1970
-
01
-
01T01
:
01
:
01
.
001001001
"
"
1970
-
01
-
01T01
:
01
:
01
.
001000999
"
]
;
assert
.
compareArray
(
tz1
.
getPossibleInstantsForCalledWith
expected
)
;
const
tz2
=
TemporalHelpers
.
oneShiftTimeZone
(
shiftInstant
2
)
;
const
datetime2
=
new
Temporal
.
ZonedDateTime
(
3661_001_001_000n
tz2
)
;
datetime2
.
with
(
{
nanosecond
:
1
}
{
offset
:
"
prefer
"
disambiguation
:
"
earlier
"
}
)
;
assert
.
compareArray
(
tz2
.
getPossibleInstantsForCalledWith
expected
)
;
reportCompare
(
0
0
)
;

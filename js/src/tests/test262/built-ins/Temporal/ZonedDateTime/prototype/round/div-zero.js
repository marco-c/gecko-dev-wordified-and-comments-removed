class
TimeZone
extends
Temporal
.
TimeZone
{
#
calls
=
0
;
getPossibleInstantsFor
(
dateTime
)
{
if
(
+
+
this
.
#
calls
=
=
=
2
)
{
return
super
.
getPossibleInstantsFor
(
dateTime
.
withCalendar
(
"
iso8601
"
)
.
subtract
(
{
days
:
1
}
)
)
;
}
return
super
.
getPossibleInstantsFor
(
dateTime
)
;
}
}
const
zdt
=
new
Temporal
.
ZonedDateTime
(
0n
new
TimeZone
(
"
UTC
"
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
zdt
.
round
(
{
smallestUnit
:
"
day
"
}
)
zero
day
-
length
with
smallestUnit
'
day
'
)
;
reportCompare
(
0
0
)
;

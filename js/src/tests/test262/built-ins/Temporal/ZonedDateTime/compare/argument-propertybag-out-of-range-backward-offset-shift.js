class
ShiftLonger24Hour
extends
Temporal
.
TimeZone
{
id
=
'
TestTimeZone
'
;
constructor
(
)
{
super
(
'
UTC
'
)
;
}
getOffsetNanosecondsFor
(
instant
)
{
return
0
;
}
getPossibleInstantsFor
(
plainDateTime
)
{
const
utc
=
new
Temporal
.
TimeZone
(
"
UTC
"
)
;
const
[
utcInstant
]
=
utc
.
getPossibleInstantsFor
(
plainDateTime
)
;
return
[
utcInstant
.
subtract
(
{
hours
:
12
nanoseconds
:
1
}
)
utcInstant
.
add
(
{
hours
:
12
}
)
utcInstant
]
;
}
}
const
timeZone
=
new
ShiftLonger24Hour
(
)
;
const
arg
=
{
year
:
1970
month
:
1
day
:
1
hour
:
12
timeZone
}
;
const
datetime
=
new
Temporal
.
ZonedDateTime
(
0n
timeZone
)
;
assert
.
throws
(
RangeError
(
)
=
>
Temporal
.
ZonedDateTime
.
compare
(
arg
datetime
)
"
RangeError
should
be
thrown
(
first
argument
)
"
)
;
assert
.
throws
(
RangeError
(
)
=
>
Temporal
.
ZonedDateTime
.
compare
(
datetime
arg
)
"
RangeError
should
be
thrown
(
second
argument
)
"
)
;
reportCompare
(
0
0
)
;

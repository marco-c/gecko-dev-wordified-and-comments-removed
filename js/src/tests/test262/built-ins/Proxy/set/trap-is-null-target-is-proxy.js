var
array
=
[
1
2
3
]
;
var
arrayTarget
=
new
Proxy
(
array
{
}
)
;
var
arrayProxy
=
new
Proxy
(
arrayTarget
{
set
:
null
}
)
;
arrayProxy
.
length
=
0
;
assert
.
compareArray
(
array
[
]
)
;
Object
.
preventExtensions
(
array
)
;
assert
(
!
Reflect
.
set
(
arrayProxy
"
foo
"
2
)
)
;
assert
.
throws
(
TypeError
function
(
)
{
"
use
strict
"
;
arrayProxy
[
0
]
=
3
;
}
)
;
var
string
=
new
String
(
"
str
"
)
;
var
stringTarget
=
new
Proxy
(
string
{
}
)
;
var
stringProxy
=
new
Proxy
(
stringTarget
{
set
:
null
}
)
;
stringProxy
[
4
]
=
1
;
assert
.
sameValue
(
string
[
4
]
1
)
;
assert
(
!
Reflect
.
set
(
stringProxy
"
0
"
"
s
"
)
)
;
assert
(
!
Reflect
.
set
(
stringProxy
"
length
"
3
)
)
;
reportCompare
(
0
0
)
;

var
_handler
_target
_value
;
var
target
=
{
}
;
var
val
=
{
foo
:
1
}
;
var
handler
=
{
setPrototypeOf
:
function
(
t
v
)
{
_handler
=
this
;
_target
=
t
;
_value
=
v
;
Object
.
setPrototypeOf
(
t
v
)
;
return
true
;
}
}
;
var
p
=
new
Proxy
(
target
handler
)
;
Object
.
setPrototypeOf
(
p
val
)
;
assert
.
sameValue
(
_handler
handler
)
;
assert
.
sameValue
(
_target
target
)
;
assert
.
sameValue
(
_value
val
)
;
reportCompare
(
0
0
)
;

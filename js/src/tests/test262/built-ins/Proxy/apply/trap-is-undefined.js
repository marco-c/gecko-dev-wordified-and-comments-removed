var
calls
=
0
;
var
_context
;
var
target
=
new
Proxy
(
function
(
)
{
}
{
apply
:
function
(
_target
context
args
)
{
calls
+
+
;
_context
=
context
;
return
args
[
0
]
+
args
[
1
]
;
}
}
)
var
p
=
new
Proxy
(
target
{
apply
:
undefined
}
)
;
var
context
=
{
}
;
var
res
=
p
.
call
(
context
1
2
)
;
assert
.
sameValue
(
calls
1
"
apply
is
undefined
:
[
[
Call
]
]
is
invoked
once
"
)
;
assert
.
sameValue
(
_context
context
"
apply
is
undefined
:
context
is
passed
to
[
[
Call
]
]
"
)
;
assert
.
sameValue
(
res
3
"
apply
is
undefined
:
result
of
[
[
Call
]
]
is
returned
"
)
;
reportCompare
(
0
0
)
;

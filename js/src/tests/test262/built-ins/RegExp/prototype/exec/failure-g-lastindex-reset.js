var
lastIndexReads
;
var
result
;
var
r
=
/
a
/
g
;
function
reset
(
value
)
{
r
.
lastIndex
=
{
valueOf
:
function
(
)
{
lastIndexReads
+
+
;
return
value
;
}
}
;
lastIndexReads
=
0
;
}
reset
(
42
)
;
result
=
r
.
exec
(
'
abc
'
)
;
assert
.
sameValue
(
result
null
)
;
assert
.
sameValue
(
r
.
lastIndex
0
)
;
assert
.
sameValue
(
lastIndexReads
1
)
;
reset
(
-
1
)
;
result
=
r
.
exec
(
'
nbc
'
)
;
assert
.
sameValue
(
result
null
)
;
assert
.
sameValue
(
r
.
lastIndex
0
)
;
assert
.
sameValue
(
lastIndexReads
1
)
;
reportCompare
(
0
0
)
;

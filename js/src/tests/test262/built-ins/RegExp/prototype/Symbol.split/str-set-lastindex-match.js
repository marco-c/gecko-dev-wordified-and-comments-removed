var
obj
=
{
constructor
:
function
(
)
{
}
}
;
var
lastIndex
=
0
;
var
indices
=
'
'
;
var
fakeRe
=
{
set
lastIndex
(
val
)
{
lastIndex
=
val
;
indices
+
=
val
+
'
'
;
}
get
lastIndex
(
)
{
return
lastIndex
;
}
exec
:
function
(
)
{
lastIndex
+
=
1
;
return
[
'
a
'
]
;
}
}
;
obj
.
constructor
[
Symbol
.
species
]
=
function
(
)
{
return
fakeRe
;
}
;
RegExp
.
prototype
[
Symbol
.
split
]
.
call
(
obj
'
abcd
'
)
;
assert
.
sameValue
(
indices
'
0
1
2
3
'
)
;
reportCompare
(
0
0
)
;

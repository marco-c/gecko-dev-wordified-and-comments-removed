var
map
=
new
Map
(
[
[
1
0
]
]
)
;
var
callbackCalls
=
0
;
function
callback
(
)
{
callbackCalls
+
=
1
;
throw
new
Error
(
'
Callbackfn
should
not
be
evaluated
if
key
is
present
'
)
;
}
assert
.
sameValue
(
map
.
getOrInsertComputed
(
1
callback
)
0
)
;
map
.
set
(
2
1
)
;
assert
.
sameValue
(
map
.
getOrInsertComputed
(
2
callback
)
1
)
;
map
.
set
(
3
2
)
;
assert
.
sameValue
(
map
.
getOrInsertComputed
(
3
callback
)
2
)
;
assert
.
throws
(
Error
function
(
)
{
map
.
getOrInsertComputed
(
4
callback
)
}
Error
)
;
assert
.
sameValue
(
callbackCalls
1
)
;
reportCompare
(
0
0
)
;

var
dt
=
new
Date
(
NaN
)
;
var
valueOfCalled
=
0
;
var
value
=
{
valueOf
(
)
{
valueOfCalled
+
+
;
dt
.
setTime
(
0
)
;
return
1
;
}
}
;
var
result
=
dt
.
setHours
(
value
)
;
assert
.
sameValue
(
valueOfCalled
1
"
valueOf
called
exactly
once
"
)
;
assert
.
sameValue
(
result
NaN
"
result
is
NaN
"
)
;
assert
.
sameValue
(
dt
.
getTime
(
)
0
"
time
updated
in
valueOf
"
)
;
reportCompare
(
0
0
)
;

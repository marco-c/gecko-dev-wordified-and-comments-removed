var
spyToPrimitive
=
{
}
;
var
callCount
=
0
;
var
thisValue
args
;
spyToPrimitive
[
Symbol
.
toPrimitive
]
=
function
(
)
{
thisValue
=
this
;
args
=
arguments
;
callCount
+
=
1
;
}
;
new
Date
(
spyToPrimitive
)
;
assert
.
sameValue
(
callCount
1
'
function
invoked
exactly
once
'
)
;
assert
.
sameValue
(
thisValue
spyToPrimitive
'
function
"
this
"
value
'
)
;
assert
.
sameValue
(
args
.
length
1
'
function
invoked
with
exactly
one
argument
'
)
;
assert
.
sameValue
(
args
[
0
]
'
default
'
'
argument
value
'
)
;
reportCompare
(
0
0
)
;

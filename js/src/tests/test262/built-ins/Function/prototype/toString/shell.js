const
NATIVE_FUNCTION_RE
=
/
\
bfunction
\
b
[
\
s
\
S
]
*
\
(
[
\
s
\
S
]
*
\
)
[
\
s
\
S
]
*
\
{
[
\
s
\
S
]
*
\
[
[
\
s
\
S
]
*
\
bnative
\
b
[
\
s
\
S
]
+
\
bcode
\
b
[
\
s
\
S
]
*
\
]
[
\
s
\
S
]
*
\
}
/
;
const
assertToStringOrNativeFunction
=
function
(
fn
expected
)
{
const
actual
=
"
"
+
fn
;
try
{
assert
.
sameValue
(
actual
expected
)
;
}
catch
(
unused
)
{
assertNativeFunction
(
fn
)
;
}
}
;
const
assertNativeFunction
=
function
(
fn
)
{
const
actual
=
"
"
+
fn
;
assert
(
NATIVE_FUNCTION_RE
.
test
(
actual
)
"
looks
pretty
much
like
a
NativeFunction
"
)
;
}
;

let
calls
=
0
;
let
replaceValue
=
/
/
;
let
oldToString
=
replaceValue
.
toString
.
bind
(
replaceValue
)
;
replaceValue
.
toString
=
(
)
=
>
{
calls
+
=
1
;
return
oldToString
(
)
;
}
;
let
newString
=
"
"
.
replace
(
"
a
"
replaceValue
)
;
assert
.
sameValue
(
newString
"
"
)
;
assert
.
sameValue
(
calls
1
)
;
assert
.
sameValue
(
"
dollar
"
.
replace
(
"
dollar
"
/
/
)
"
/
/
"
)
;
reportCompare
(
0
0
)
;

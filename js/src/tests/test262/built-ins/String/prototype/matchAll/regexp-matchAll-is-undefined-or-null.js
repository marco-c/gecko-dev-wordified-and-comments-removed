var
regexp
=
/
.
/
g
;
var
callCount
=
0
;
var
arg
;
var
obj
=
{
}
;
var
str
=
'
abc
'
;
RegExp
.
prototype
[
Symbol
.
matchAll
]
=
function
(
string
)
{
arg
=
string
;
callCount
+
+
;
return
obj
;
}
;
regexp
[
Symbol
.
matchAll
]
=
undefined
;
assert
.
sameValue
(
str
.
matchAll
(
regexp
)
obj
)
;
assert
.
sameValue
(
arg
str
)
;
assert
.
sameValue
(
callCount
1
)
;
regexp
[
Symbol
.
matchAll
]
=
null
;
assert
.
sameValue
(
str
.
matchAll
(
regexp
)
obj
)
;
assert
.
sameValue
(
arg
str
)
;
assert
.
sameValue
(
callCount
2
)
;
reportCompare
(
0
0
)
;

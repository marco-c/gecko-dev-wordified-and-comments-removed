assert
.
throws
(
RangeError
function
(
)
{
BigInt
(
NaN
)
;
}
)
;
var
calls
=
0
;
var
obj
=
{
valueOf
:
function
(
)
{
calls
+
+
;
return
NaN
;
}
}
assert
.
throws
(
RangeError
function
(
)
{
BigInt
(
obj
)
;
}
)
;
assert
.
sameValue
(
calls
1
"
it
fails
after
fetching
the
primitive
value
"
)
;
reportCompare
(
0
0
)
;

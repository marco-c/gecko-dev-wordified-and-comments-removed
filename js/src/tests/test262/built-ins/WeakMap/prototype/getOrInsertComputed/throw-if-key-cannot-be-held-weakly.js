var
log
=
[
]
;
var
invalidKeys
=
[
1
false
undefined
'
string
'
null
]
;
var
s
=
new
WeakMap
(
)
;
for
(
let
invalidKey
of
invalidKeys
)
{
assert
.
throws
(
TypeError
function
(
)
{
s
.
getOrInsertComputed
(
invalidKey
(
)
=
>
log
.
push
(
Unexpected
evaluation
of
callback
function
key
:
{
invalidKey
}
)
)
;
}
{
typeof
invalidKey
}
not
allowed
as
WeakMap
key
)
;
}
assert
.
throws
(
TypeError
function
(
)
{
s
.
getOrInsertComputed
(
Symbol
.
for
(
'
registered
symbol
'
)
(
)
=
>
log
.
push
(
"
Unexpected
callback
evaluation
"
)
)
;
}
'
Registered
symbol
not
allowed
as
WeakMap
key
'
)
;
assert
.
compareArray
(
log
[
]
)
;
reportCompare
(
0
0
)
;

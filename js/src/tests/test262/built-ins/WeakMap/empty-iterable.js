var
counter
=
0
;
var
set
=
WeakMap
.
prototype
.
set
;
WeakMap
.
prototype
.
set
=
function
(
value
)
{
counter
+
+
;
return
set
.
call
(
this
value
)
;
}
;
var
map
=
new
WeakMap
(
[
]
)
;
assert
.
sameValue
(
Object
.
getPrototypeOf
(
map
)
WeakMap
.
prototype
)
;
assert
(
map
instanceof
WeakMap
)
;
assert
.
sameValue
(
counter
0
'
empty
iterable
does
not
call
WeakMap
.
prototype
.
set
'
)
;
reportCompare
(
0
0
)
;

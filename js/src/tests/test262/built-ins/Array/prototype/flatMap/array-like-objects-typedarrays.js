function
same
(
e
)
{
return
e
;
}
var
ta
;
var
actual
;
ta
=
new
Int32Array
(
[
1
0
42
]
)
;
Object
.
defineProperty
(
ta
'
constructor
'
{
get
(
)
{
throw
"
it
should
not
object
the
typedarray
ctor
"
;
}
}
)
;
actual
=
[
]
.
flatMap
.
call
(
ta
same
)
;
assert
.
compareArray
(
actual
[
1
0
42
]
'
compare
returned
array
'
)
;
assert
.
sameValue
(
Object
.
getPrototypeOf
(
actual
)
Array
.
prototype
'
returned
object
is
an
array
#
1
'
)
;
assert
.
sameValue
(
actual
instanceof
Int32Array
false
'
returned
object
is
not
an
instance
of
Int32Array
#
1
'
)
;
ta
=
new
Int32Array
(
0
)
;
Object
.
defineProperty
(
ta
'
constructor
'
{
get
(
)
{
throw
"
it
should
not
object
the
typedarray
ctor
"
;
}
}
)
;
actual
=
[
]
.
flatMap
.
call
(
ta
same
)
;
assert
.
compareArray
(
actual
[
]
'
compare
returned
empty
array
'
)
;
assert
.
sameValue
(
Object
.
getPrototypeOf
(
actual
)
Array
.
prototype
'
returned
object
is
an
array
#
2
'
)
;
assert
.
sameValue
(
actual
instanceof
Int32Array
false
'
returned
object
is
not
an
instance
of
Int32Array
#
2
'
)
;
reportCompare
(
0
0
)
;

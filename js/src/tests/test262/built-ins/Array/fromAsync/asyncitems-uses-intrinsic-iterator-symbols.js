asyncTest
(
async
function
(
)
{
const
originalSymbol
=
globalThis
.
Symbol
;
const
fakeIteratorSymbol
=
Symbol
(
"
iterator
"
)
;
const
fakeAsyncIteratorSymbol
=
Symbol
(
"
asyncIterator
"
)
;
globalThis
.
Symbol
=
{
iterator
:
fakeIteratorSymbol
asyncIterator
:
fakeAsyncIteratorSymbol
}
;
const
input
=
{
length
:
3
0
:
0
1
:
1
2
:
2
[
fakeIteratorSymbol
]
(
)
{
throw
new
Test262Error
(
"
The
fake
Symbol
.
iterator
method
should
not
be
called
"
)
;
}
[
fakeAsyncIteratorSymbol
]
(
)
{
throw
new
Test262Error
(
"
The
fake
Symbol
.
asyncIterator
method
should
not
be
called
"
)
;
}
}
;
const
output
=
await
Array
.
fromAsync
(
input
)
;
assert
.
compareArray
(
output
[
0
1
2
]
)
;
globalThis
.
Symbol
=
originalSymbol
;
}
)
;

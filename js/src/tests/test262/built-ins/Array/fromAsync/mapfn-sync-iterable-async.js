async
function
*
asyncGen
(
)
{
for
(
let
i
=
0
;
i
<
4
;
i
+
+
)
{
yield
Promise
.
resolve
(
i
*
2
)
;
}
}
function
syncMap
(
val
ix
)
{
return
val
*
ix
;
}
asyncTest
(
async
(
)
=
>
{
const
result
=
await
Array
.
fromAsync
(
{
[
Symbol
.
asyncIterator
]
:
asyncGen
}
syncMap
)
;
assert
.
compareArray
(
result
[
0
2
8
18
]
"
sync
mapfn
should
be
applied
to
async
iterable
"
)
;
}
)
;

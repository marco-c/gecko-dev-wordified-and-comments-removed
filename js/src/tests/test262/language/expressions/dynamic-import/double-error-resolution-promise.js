function
callImport
(
name
)
{
return
import
(
'
.
/
double
-
error
-
resolution_FIXTURE
.
js
'
)
.
catch
(
error
=
>
{
assert
.
sameValue
(
error
'
foo
'
)
;
return
caught
{
name
}
;
}
)
;
}
Promise
.
all
(
[
callImport
(
1
)
callImport
(
2
)
]
)
.
then
(
resolutions
=
>
assert
.
compareArray
(
resolutions
[
'
caught
1
'
'
caught
2
'
]
)
)
.
then
(
DONE
DONE
)
;

var
dt
=
new
Date
(
NaN
)
;
var
valueOfCalled
=
0
;
var
value
=
{
valueOf
(
)
{
valueOfCalled
+
+
;
dt
.
setTime
(
0
)
;
return
1
;
}
}
;
var
result
=
dt
.
setYear
(
value
)
;
assert
.
sameValue
(
valueOfCalled
1
"
valueOf
called
exactly
once
"
)
;
assert
.
notSameValue
(
result
NaN
"
result
is
not
NaN
"
)
;
assert
.
sameValue
(
result
dt
.
getTime
(
)
"
result
is
equal
to
getTime
"
)
;
assert
.
sameValue
(
dt
.
getYear
(
)
1
"
date
value
correctly
updated
"
)
;
reportCompare
(
0
0
)
;

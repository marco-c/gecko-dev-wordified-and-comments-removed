const
seg
=
new
Intl
.
Segmenter
(
[
]
{
granularity
:
"
grapheme
"
}
)
for
(
const
text
of
[
"
Hello
world
!
"
"
Hello
world
!
"
"
Hello
world
?
Foo
bar
!
"
"
Jedovatou
mambu
objevila
ena
v
zahr
dk
sk
kolonii
.
"
"
Vi
t
Nam
:
Nh
t
th
h
a
s
kh
c
Trung
Qu
c
?
"
"
"
"
-
400
"
"
"
"
:
.
.
"
"
400
"
"
;
!
"
"
'
'
"
"
P
pupu
"
"
"
"
(
2018
10
06
)
-
tenki
.
jp
"
"
MB
"
]
)
{
const
iter
=
seg
.
segment
(
text
)
;
let
segments
=
[
]
;
let
oldPos
=
-
1
;
for
(
let
result
=
iter
.
next
(
)
;
!
result
.
done
;
result
=
iter
.
next
(
)
)
{
const
v
=
result
.
value
;
assert
.
sameValue
(
undefined
v
.
breakType
)
;
assert
.
sameValue
(
"
string
"
typeof
v
.
segment
)
;
assert
(
v
.
segment
.
length
>
0
)
;
segments
.
push
(
v
.
segment
)
;
assert
.
sameValue
(
typeof
v
.
position
"
number
"
)
;
assert
(
oldPos
<
v
.
position
)
;
oldPos
=
v
.
position
;
}
assert
.
sameValue
(
text
segments
.
join
(
'
'
)
)
;
}
reportCompare
(
0
0
)
;

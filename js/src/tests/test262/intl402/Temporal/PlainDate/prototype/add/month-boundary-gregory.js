const
calendar
=
"
gregory
"
;
const
options
=
{
overflow
:
"
reject
"
}
;
const
months6
=
new
Temporal
.
Duration
(
0
6
)
;
const
months6n
=
new
Temporal
.
Duration
(
0
-
6
)
;
const
durations
=
[
months6
months6n
]
;
const
date20001201
=
Temporal
.
PlainDate
.
from
(
{
year
:
2000
monthCode
:
"
M12
"
day
:
1
calendar
}
options
)
;
const
dates
=
[
date20001201
]
;
for
(
var
duration
of
durations
)
{
for
(
var
start
of
dates
)
{
const
end
=
start
.
add
(
duration
)
;
const
startYesterday
=
start
.
add
(
{
days
:
-
1
}
)
;
const
endYesterday
=
startYesterday
.
add
(
duration
)
;
assert
.
sameValue
(
endYesterday
.
day
Math
.
min
(
startYesterday
.
day
endYesterday
.
daysInMonth
)
"
adding
months
should
result
in
same
day
"
)
;
var
endYesterdayNextDay
=
endYesterday
.
add
(
{
days
:
1
}
)
;
while
(
endYesterdayNextDay
.
day
!
=
=
1
)
{
endYesterdayNextDay
=
endYesterdayNextDay
.
add
(
{
days
:
1
}
)
;
}
TemporalHelpers
.
assertPlainDate
(
endYesterdayNextDay
end
.
year
end
.
month
end
.
monthCode
end
.
day
endYesterdayNextDay
end
.
era
end
.
eraYear
)
;
const
endReverse
=
endYesterdayNextDay
.
add
(
{
days
:
-
1
}
)
;
const
startReverse
=
endReverse
.
add
(
duration
.
negated
(
)
)
;
assert
.
sameValue
(
startReverse
.
day
Math
.
min
(
endReverse
.
day
startReverse
.
daysInMonth
)
)
;
var
startReverseNextDay
=
startReverse
.
add
(
{
days
:
1
}
)
;
while
(
startReverseNextDay
.
day
!
=
=
1
)
{
startReverseNextDay
=
startReverseNextDay
.
add
(
{
days
:
1
}
)
;
}
TemporalHelpers
.
assertPlainDate
(
startReverseNextDay
start
.
year
start
.
month
start
.
monthCode
start
.
day
startReverseNextDay
start
.
era
start
.
eraYear
)
;
}
}
reportCompare
(
0
0
)
;

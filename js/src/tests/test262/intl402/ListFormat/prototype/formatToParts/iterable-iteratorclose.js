let
lf
=
new
Intl
.
ListFormat
(
)
;
let
iterator_close_call_return
=
{
[
Symbol
.
iterator
]
(
)
{
return
this
;
}
"
return
"
(
)
{
this
.
returnIsCalled
=
true
;
assert
.
sameValue
(
this
.
count
3
)
;
}
count
:
0
returnIsCalled
:
false
next
(
)
{
this
.
count
+
+
;
if
(
this
.
count
=
=
3
)
{
return
{
done
:
false
value
:
3
}
;
}
if
(
this
.
count
<
5
)
{
return
{
done
:
false
value
:
String
(
this
.
count
)
}
;
}
return
{
done
:
true
}
}
}
;
assert
.
throws
(
TypeError
(
)
=
>
{
lf
.
formatToParts
(
iterator_close_call_return
)
}
"
Iterable
yielded
3
which
is
not
a
string
"
)
;
assert
.
sameValue
(
iterator_close_call_return
.
count
3
)
;
assert
.
sameValue
(
iterator_close_call_return
.
returnIsCalled
true
)
;
reportCompare
(
0
0
)
;

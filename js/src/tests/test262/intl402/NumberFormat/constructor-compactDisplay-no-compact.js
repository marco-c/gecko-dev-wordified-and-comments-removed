const
values
=
[
[
undefined
"
short
"
]
[
"
short
"
]
[
"
long
"
]
]
;
const
notations
=
[
undefined
"
standard
"
"
scientific
"
"
engineering
"
]
;
for
(
const
notation
of
notations
)
{
for
(
const
[
value
expected
=
value
]
of
values
)
{
const
callOrder
=
[
]
;
const
nf
=
new
Intl
.
NumberFormat
(
[
]
{
get
notation
(
)
{
callOrder
.
push
(
"
notation
"
)
;
return
notation
;
}
get
compactDisplay
(
)
{
callOrder
.
push
(
"
compactDisplay
"
)
;
return
value
;
}
}
)
;
const
resolvedOptions
=
nf
.
resolvedOptions
(
)
;
assert
.
sameValue
(
"
compactDisplay
"
in
resolvedOptions
false
)
;
assert
.
sameValue
(
resolvedOptions
.
compactDisplay
undefined
)
;
assert
.
compareArray
(
callOrder
[
"
notation
"
"
compactDisplay
"
]
)
;
}
}
reportCompare
(
0
0
)
;

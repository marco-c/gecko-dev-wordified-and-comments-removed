class
TestIterator
extends
AsyncIterator
{
counter
=
0
;
async
next
(
)
{
return
{
done
:
+
+
this
.
counter
>
=
2
value
:
undefined
}
;
}
}
(
async
(
)
=
>
{
let
iter
=
[
1
2
]
.
values
(
)
.
drop
(
3
)
;
let
result
=
await
iter
.
next
(
)
;
assert
.
sameValue
(
result
.
value
undefined
)
;
assert
.
sameValue
(
result
.
done
true
)
;
iter
=
new
TestIterator
(
)
;
let
dropped
=
iter
.
drop
(
10
)
;
result
=
await
dropped
.
next
(
)
;
assert
.
sameValue
(
result
.
value
undefined
)
;
assert
.
sameValue
(
result
.
done
true
)
;
assert
.
sameValue
(
iter
.
counter
2
)
;
}
)
(
)
;
reportCompare
(
0
0
)
;

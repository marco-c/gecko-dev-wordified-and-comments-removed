const
intArrayConstructors
=
[
Int32Array
Int16Array
Int8Array
Uint32Array
Uint16Array
Uint8Array
]
;
function
badValue
(
ta
)
{
return
{
valueOf
(
)
{
262
.
detachArrayBuffer
(
ta
.
buffer
)
;
return
0
;
}
}
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
load
(
ta
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
store
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
store
(
ta
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
compareExchange
(
ta
badValue
(
ta
)
0
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
compareExchange
(
ta
0
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
compareExchange
(
ta
0
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
exchange
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
exchange
(
ta
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
add
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
add
(
ta
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
sub
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
sub
(
ta
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
and
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
and
(
ta
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
or
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
or
(
ta
0
badValue
(
ta
)
)
)
;
}
for
(
let
TA
of
intArrayConstructors
)
{
let
ta
=
new
TA
(
1
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
xor
(
ta
badValue
(
ta
)
0
)
)
;
assert
.
throws
(
TypeError
(
)
=
>
Atomics
.
xor
(
ta
0
badValue
(
ta
)
)
)
;
}
reportCompare
(
0
0
)
;

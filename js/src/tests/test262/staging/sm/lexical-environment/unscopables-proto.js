const
x
=
"
global
x
"
;
const
y
=
"
global
y
"
;
let
proto
=
{
x
:
"
object
x
"
y
:
"
object
y
"
}
;
let
env
=
Object
.
create
(
proto
)
;
env
[
Symbol
.
unscopables
]
=
{
x
:
true
y
:
false
}
;
with
(
env
)
{
assert
.
sameValue
(
x
"
global
x
"
)
;
assert
.
sameValue
(
delete
x
false
)
;
assert
.
sameValue
(
y
"
object
y
"
)
;
}
assert
.
sameValue
(
env
.
x
"
object
x
"
)
;
env
=
{
x
:
"
object
"
[
Symbol
.
unscopables
]
:
{
x
:
true
y
:
true
}
}
;
for
(
let
i
=
0
;
i
<
50
;
i
+
+
)
env
=
Object
.
create
(
env
)
;
env
.
y
=
1
;
with
(
env
)
{
assert
.
sameValue
(
x
"
global
x
"
)
;
assert
.
sameValue
(
y
"
global
y
"
)
;
}
env
=
{
x
:
"
object
"
[
Symbol
.
unscopables
]
:
Object
.
create
(
{
x
:
true
}
)
}
;
with
(
env
)
assert
.
sameValue
(
x
"
global
x
"
)
;
reportCompare
(
0
0
)
;

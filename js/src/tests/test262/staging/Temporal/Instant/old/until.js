var
earlier
=
Temporal
.
Instant
.
from
(
"
1969
-
07
-
24T16
:
50
:
35
.
123456789Z
"
)
;
var
later
=
Temporal
.
Instant
.
from
(
"
2019
-
10
-
29T10
:
46
:
38
.
271986102Z
"
)
;
var
diff
=
earlier
.
until
(
later
)
;
assert
.
sameValue
(
{
later
.
until
(
earlier
)
}
{
diff
.
negated
(
)
}
)
assert
.
sameValue
(
{
later
.
since
(
earlier
)
}
{
diff
}
)
assert
(
earlier
.
add
(
diff
)
.
equals
(
later
)
)
assert
(
later
.
subtract
(
diff
)
.
equals
(
earlier
)
)
var
feb20
=
Temporal
.
Instant
.
from
(
"
2020
-
02
-
01T00
:
00Z
"
)
;
var
feb21
=
Temporal
.
Instant
.
from
(
"
2021
-
02
-
01T00
:
00Z
"
)
;
assert
.
sameValue
(
{
feb20
.
until
(
feb21
{
largestUnit
:
"
hours
"
}
)
}
"
PT8784H
"
)
;
assert
.
sameValue
(
{
feb20
.
until
(
feb21
{
largestUnit
:
"
minutes
"
}
)
}
"
PT527040M
"
)
;
var
latersub
=
feb20
.
add
(
{
hours
:
24
milliseconds
:
250
microseconds
:
250
nanoseconds
:
250
}
)
;
var
msDiff
=
feb20
.
until
(
latersub
{
largestUnit
:
"
milliseconds
"
}
)
;
assert
.
sameValue
(
msDiff
.
seconds
0
)
;
assert
.
sameValue
(
msDiff
.
milliseconds
86400250
)
;
assert
.
sameValue
(
msDiff
.
microseconds
250
)
;
assert
.
sameValue
(
msDiff
.
nanoseconds
250
)
;
var
sDiff
=
feb20
.
until
(
latersub
{
largestUnit
:
"
microseconds
"
}
)
;
assert
.
sameValue
(
sDiff
.
milliseconds
0
)
;
assert
.
sameValue
(
sDiff
.
microseconds
86400250250
)
;
assert
.
sameValue
(
sDiff
.
nanoseconds
250
)
;
var
nsDiff
=
feb20
.
until
(
latersub
{
largestUnit
:
"
nanoseconds
"
}
)
;
assert
.
sameValue
(
nsDiff
.
microseconds
0
)
;
assert
.
sameValue
(
nsDiff
.
nanoseconds
86400250250250
)
;
assert
.
sameValue
(
{
feb20
.
until
(
feb21
(
)
=
>
{
}
)
}
"
PT31622400S
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
smallestUnit
:
"
hours
"
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440610H
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
smallestUnit
:
"
minutes
"
roundingMode
:
"
halfExpand
"
}
)
}
"
PT26436596M
"
)
;
var
largestUnit
=
"
hours
"
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
hours
"
roundingIncrement
:
4
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440608H
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
minutes
"
roundingIncrement
:
30
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440610H
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
seconds
"
roundingIncrement
:
15
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440609H56M
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
milliseconds
"
roundingIncrement
:
10
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440609H56M3
.
15S
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
microseconds
"
roundingIncrement
:
10
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440609H56M3
.
14853S
"
)
;
assert
.
sameValue
(
{
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
nanoseconds
"
roundingIncrement
:
10
roundingMode
:
"
halfExpand
"
}
)
}
"
PT440609H56M3
.
14852931S
"
)
;
[
1
2
3
4
6
8
12
]
.
forEach
(
roundingIncrement
=
>
{
var
options
=
{
largestUnit
smallestUnit
:
"
hours
"
roundingIncrement
}
;
assert
(
earlier
.
until
(
later
options
)
instanceof
Temporal
.
Duration
)
;
}
)
;
[
"
minutes
"
"
seconds
"
]
.
forEach
(
smallestUnit
=
>
{
[
1
2
3
4
5
6
10
12
15
20
30
]
.
forEach
(
roundingIncrement
=
>
{
var
options
=
{
largestUnit
smallestUnit
roundingIncrement
}
;
assert
(
earlier
.
until
(
later
options
)
instanceof
Temporal
.
Duration
)
;
}
)
;
}
)
;
[
"
milliseconds
"
"
microseconds
"
"
nanoseconds
"
]
.
forEach
(
smallestUnit
=
>
{
[
1
2
4
5
8
10
20
25
40
50
100
125
200
250
500
]
.
forEach
(
roundingIncrement
=
>
{
var
options
=
{
largestUnit
smallestUnit
roundingIncrement
}
;
assert
(
earlier
.
until
(
later
options
)
instanceof
Temporal
.
Duration
)
;
}
)
;
}
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
hours
"
roundingIncrement
:
11
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
minutes
"
roundingIncrement
:
29
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
seconds
"
roundingIncrement
:
29
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
milliseconds
"
roundingIncrement
:
29
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
microseconds
"
roundingIncrement
:
29
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
nanoseconds
"
roundingIncrement
:
29
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
hours
"
roundingIncrement
:
24
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
minutes
"
roundingIncrement
:
60
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
seconds
"
roundingIncrement
:
60
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
milliseconds
"
roundingIncrement
:
1000
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
microseconds
"
roundingIncrement
:
1000
}
)
)
;
assert
.
throws
(
RangeError
(
)
=
>
earlier
.
until
(
later
{
largestUnit
smallestUnit
:
"
nanoseconds
"
roundingIncrement
:
1000
}
)
)
;
reportCompare
(
0
0
)
;

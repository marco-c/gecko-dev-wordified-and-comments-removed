var
str
=
"
a
"
;
var
searchStr
=
"
abc
"
;
var
position
=
new
Object
(
)
;
var
valueOfCalled
=
false
;
function
positionValueOf
(
)
{
assertEq
(
valueOfCalled
false
)
;
valueOfCalled
=
true
;
return
0
;
}
position
.
valueOf
=
positionValueOf
;
var
result
=
str
.
lastIndexOf
(
searchStr
position
)
;
assertEq
(
result
-
1
)
;
assertEq
(
valueOfCalled
true
)
;
if
(
typeof
reportCompare
=
=
"
function
"
)
reportCompare
(
0
0
)
;

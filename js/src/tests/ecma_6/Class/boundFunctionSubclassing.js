class
func
extends
Function
{
}
let
inst
=
new
func
(
"
x
"
"
return
this
.
bar
+
x
"
)
;
let
bound
=
inst
.
bind
(
{
bar
:
3
}
4
)
;
assertEq
(
bound
instanceof
func
true
)
;
assertEq
(
bound
(
)
7
)
;
Object
.
setPrototypeOf
(
inst
null
)
;
bound
=
Function
.
prototype
.
bind
.
call
(
inst
{
bar
:
1
}
3
)
;
assertEq
(
Object
.
getPrototypeOf
(
bound
)
null
)
;
assertEq
(
bound
(
)
4
)
;
if
(
typeof
reportCompare
=
=
=
'
function
'
)
reportCompare
(
0
0
"
OK
"
)
;

var
sym
=
Symbol
.
for
(
"
truth
"
)
var
obj
=
Object
(
sym
)
;
assertEq
(
obj
[
Symbol
.
toPrimitive
]
(
"
default
"
)
sym
)
;
assertEq
(
obj
[
Symbol
.
toPrimitive
]
(
"
number
"
)
sym
)
;
assertEq
(
obj
[
Symbol
.
toPrimitive
]
(
"
string
"
)
sym
)
;
assertEq
(
obj
[
Symbol
.
toPrimitive
]
(
)
sym
)
;
assertEq
(
obj
[
Symbol
.
toPrimitive
]
(
Math
.
atan2
)
sym
)
;
assertEq
(
sym
[
Symbol
.
toPrimitive
]
(
)
sym
)
;
var
obj2
=
newGlobal
(
)
.
Object
(
sym
)
;
assertEq
(
obj2
[
Symbol
.
toPrimitive
]
(
"
default
"
)
sym
)
;
var
symbolToPrimitive
=
Symbol
.
prototype
[
Symbol
.
toPrimitive
]
;
var
nonSymbols
=
[
undefined
null
true
13
NaN
"
justice
"
{
}
[
sym
]
symbolToPrimitive
new
Proxy
(
obj
{
}
)
]
;
for
(
var
value
of
nonSymbols
)
{
assertThrowsInstanceOf
(
(
)
=
>
symbolToPrimitive
.
call
(
value
"
string
"
)
TypeError
)
;
}
assertEq
(
symbolToPrimitive
.
name
"
[
Symbol
.
toPrimitive
]
"
)
;
var
desc
=
Object
.
getOwnPropertyDescriptor
(
Symbol
.
prototype
Symbol
.
toPrimitive
)
;
assertEq
(
desc
.
configurable
true
)
;
assertEq
(
desc
.
enumerable
false
)
;
assertEq
(
desc
.
writable
false
)
;
reportCompare
(
0
0
)
;

const
INT32_MAX
=
2
*
*
31
-
1
;
for
(
let
TA
of
typedArrayConstructors
)
{
assertThrows
(
(
)
=
>
new
TA
(
INT32_MAX
)
RangeError
)
;
assertThrows
(
(
)
=
>
new
TA
(
INT32_MAX
>
>
Math
.
log2
(
TA
.
BYTES_PER_ELEMENT
)
)
RangeError
)
;
}
const
largeInt8Array
=
new
Int8Array
(
2
*
*
30
)
;
for
(
let
TA
of
typedArrayConstructors
.
filter
(
c
=
>
c
.
BYTES_PER_ELEMENT
>
1
)
)
{
assertThrows
(
(
)
=
>
new
TA
(
largeInt8Array
)
RangeError
)
;
}
for
(
let
TA
of
typedArrayConstructors
)
{
assertThrows
(
(
)
=
>
new
TA
(
{
length
:
INT32_MAX
}
)
RangeError
)
;
assertThrows
(
(
)
=
>
new
TA
(
{
length
:
INT32_MAX
>
>
Math
.
log2
(
TA
.
BYTES_PER_ELEMENT
)
}
)
RangeError
)
;
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

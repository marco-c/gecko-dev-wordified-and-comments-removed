if
(
typeof
assertEventuallyEq
=
=
=
'
undefined
'
)
{
assertEventuallyEq
=
function
(
promise
expected
)
{
return
promise
.
then
(
actual
=
>
assertEq
(
actual
expected
)
)
;
}
;
}
if
(
typeof
assertEventuallyThrows
=
=
=
'
undefined
'
)
{
assertEventuallyThrows
=
function
(
promise
expectedErrorType
)
{
return
promise
.
catch
(
actualE
=
>
assertEq
(
actualE
instanceof
expectedErrorType
true
)
)
;
}
;
}
if
(
typeof
assertEventuallyDeepEq
=
=
=
'
undefined
'
)
{
assertEventuallyDeepEq
=
function
(
promise
expected
)
{
return
promise
.
then
(
actual
=
>
assertDeepEq
(
actual
expected
)
)
;
}
;
}
function
asyncFunctionsEnabled
(
)
{
try
{
eval
(
"
async
function
f
(
)
{
}
"
)
;
return
true
;
}
catch
(
e
if
e
instanceof
SyntaxError
)
{
return
false
;
}
}

const
unreachable
=
(
)
=
>
{
throw
"
unreachable
"
;
}
;
var
log
=
"
"
;
for
(
var
x
=
(
log
+
=
"
head
"
)
in
(
log
+
=
"
|
expr
"
null
)
)
unreachable
(
)
;
assertEq
(
log
"
head
|
expr
"
)
;
log
=
"
"
;
for
(
var
x
=
(
log
+
=
"
head
"
)
in
(
log
+
=
"
|
expr
"
{
}
)
)
unreachable
(
)
;
assertEq
(
log
"
head
|
expr
"
)
;
function
ExpectedError
(
)
{
}
assertThrowsInstanceOf
(
(
)
=
>
{
var
throwErr
=
(
)
=
>
{
throw
new
ExpectedError
(
)
;
}
;
for
(
var
x
=
throwErr
(
)
in
unreachable
(
)
)
unreachable
(
)
;
}
ExpectedError
)
;
var
scope
=
new
Proxy
(
{
x
:
0
}
new
Proxy
(
{
}
{
get
(
t
pk
r
)
{
log
+
=
pk
+
"
|
"
;
}
}
)
)
;
log
=
"
"
;
with
(
scope
)
{
for
(
var
x
=
0
in
{
}
)
;
}
assertEq
(
log
"
has
|
get
|
set
|
getOwnPropertyDescriptor
|
defineProperty
|
"
)
;
log
=
"
"
;
with
(
scope
)
{
for
(
var
x
=
0
in
{
p
:
0
}
)
;
}
assertEq
(
log
"
has
|
get
|
set
|
getOwnPropertyDescriptor
|
defineProperty
|
"
.
repeat
(
2
)
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

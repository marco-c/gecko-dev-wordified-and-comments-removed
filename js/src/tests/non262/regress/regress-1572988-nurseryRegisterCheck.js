var
x
=
0
;
var
N
=
1000
;
if
(
this
.
getBuildConfiguration
&
&
(
getBuildConfiguration
(
"
simulator
"
)
|
|
getBuildConfiguration
(
"
arm
"
)
|
|
getBuildConfiguration
(
"
android
"
)
)
)
{
N
=
10
;
}
function
makeString
(
)
{
x
+
=
1
;
const
extensible
=
ensureLinearString
(
"
aaaaaaaaaaaaaaaaaaaaaaaaaaaaa
"
+
x
)
;
return
ensureLinearString
(
newRope
(
extensible
"
bbbbbbbbbbbbbbb
"
)
)
;
}
function
f
(
arr
)
{
for
(
let
i
=
0
;
i
<
N
;
i
+
+
)
arr
.
push
(
makeString
(
)
)
;
return
arr
;
}
var
globalStore
=
[
]
;
function
ff
(
)
{
globalStore
.
push
(
f
(
[
]
)
)
;
}
if
(
this
.
oomTest
)
oomTest
(
ff
)
;
reportCompare
(
true
true
"
nursery
malloc
buffer
registration
failure
"
)
;

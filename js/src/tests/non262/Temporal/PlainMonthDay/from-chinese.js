const
monthCodes
=
[
"
M01
"
"
M02
"
"
M03
"
"
M04
"
"
M05
"
"
M06
"
"
M07
"
"
M08
"
"
M09
"
"
M10
"
"
M11
"
"
M12
"
]
;
function
assertSameISOFields
(
actual
expected
)
{
let
actualFields
=
actual
.
getISOFields
(
)
;
let
expectedFields
=
expected
.
getISOFields
(
)
;
assertEq
(
typeof
actualFields
.
isoYear
"
number
"
)
;
assertEq
(
typeof
actualFields
.
isoMonth
"
number
"
)
;
assertEq
(
typeof
actualFields
.
isoDay
"
number
"
)
;
assertEq
(
actualFields
.
isoMonth
>
0
true
)
;
assertEq
(
actualFields
.
isoDay
>
0
true
)
;
assertEq
(
actualFields
.
isoYear
expectedFields
.
isoYear
)
;
assertEq
(
actualFields
.
isoMonth
expectedFields
.
isoMonth
)
;
assertEq
(
actualFields
.
isoDay
expectedFields
.
isoDay
)
;
}
const
calendar
=
"
chinese
"
;
const
day
=
30
;
for
(
let
monthCode
of
monthCodes
)
{
let
pmd
=
Temporal
.
PlainMonthDay
.
from
(
{
calendar
monthCode
day
}
)
;
assertEq
(
pmd
.
monthCode
monthCode
)
;
assertEq
(
pmd
.
day
day
)
;
let
constrain
=
Temporal
.
PlainMonthDay
.
from
(
{
calendar
monthCode
day
:
day
+
1
}
{
overflow
:
"
constrain
"
}
)
;
assertEq
(
constrain
.
monthCode
monthCode
)
;
assertEq
(
constrain
.
day
day
)
;
assertSameISOFields
(
constrain
pmd
)
;
assertThrowsInstanceOf
(
(
)
=
>
{
Temporal
.
PlainMonthDay
.
from
(
{
calendar
monthCode
day
:
day
+
1
}
{
overflow
:
"
reject
"
}
)
;
}
RangeError
)
;
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

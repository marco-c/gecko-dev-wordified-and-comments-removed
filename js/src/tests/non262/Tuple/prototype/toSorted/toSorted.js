let
method
=
Tuple
.
prototype
.
toSorted
;
assertEq
(
method
.
call
(
#
[
6
5
4
3
2
1
]
)
#
[
1
2
3
4
5
6
]
)
;
assertEq
(
method
.
call
(
Object
(
#
[
6
5
4
3
2
1
]
)
)
#
[
1
2
3
4
5
6
]
)
;
assertThrowsInstanceOf
(
(
)
=
>
method
.
call
(
"
monkeys
"
)
TypeError
"
value
of
TupleObject
must
be
a
Tuple
"
)
;
Object
.
defineProperty
(
Tuple
.
prototype
"
length
"
{
get
(
)
{
return
0
}
}
)
assertEq
(
#
[
5
4
3
2
1
]
.
toSorted
(
)
#
[
1
2
3
4
5
]
)
;
assertEq
(
#
[
5
4
3
2
1
]
.
toSorted
(
)
#
[
1
2
3
4
5
]
)
;
assertEq
(
#
[
5
4
3
2
1
]
.
toSorted
(
undefined
)
#
[
1
2
3
4
5
]
)
;
assertThrowsInstanceOf
(
(
)
=
>
#
[
1
]
.
toSorted
(
"
monkeys
"
)
TypeError
"
bad
comparefn
passed
to
toSorted
"
)
;
let
comparefn
=
(
x
y
)
=
>
x
<
y
;
assertEq
(
#
[
1
2
3
4
5
]
.
toSorted
(
comparefn
)
#
[
5
4
3
2
1
]
)
;
reportCompare
(
0
0
)
;

assertEq
(
/
^
(
PST
|
PDT
)
/
.
test
(
getTimeZone
(
)
)
true
"
The
default
time
zone
is
set
to
PST8PDT
for
all
jstests
(
when
run
in
the
shell
)
"
)
;
function
timeZoneName
(
)
{
var
dtf
=
new
Intl
.
DateTimeFormat
(
"
en
-
US
"
{
timeZoneName
:
"
long
"
}
)
;
return
dtf
.
formatToParts
(
)
.
filter
(
x
=
>
x
.
type
=
=
=
"
timeZoneName
"
)
[
0
]
.
value
;
}
setTimeZone
(
undefined
)
;
var
systemTimeZone
=
getTimeZone
(
)
;
var
systemTimeZoneName
=
timeZoneName
(
)
;
setTimeZone
(
"
Antarctica
/
Troll
"
)
;
setTimeZone
(
"
:
/
etc
/
localtime
"
)
;
assertEq
(
getTimeZone
(
)
systemTimeZone
)
;
assertEq
(
timeZoneName
(
)
systemTimeZoneName
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

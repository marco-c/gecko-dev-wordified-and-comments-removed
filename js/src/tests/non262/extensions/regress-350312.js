var
BUGNUMBER
=
350312
;
var
summary
=
'
Accessing
wrong
stack
slot
with
nested
catch
/
finally
'
;
var
actual
=
'
'
;
var
expect
=
'
'
;
test
(
)
;
function
test
(
)
{
printBugNumber
(
BUGNUMBER
)
;
printStatus
(
summary
)
;
var
iter
;
function
*
gen
(
)
{
try
{
yield
iter
;
}
catch
(
e
)
{
if
(
e
!
=
null
)
throw
e
;
actual
+
=
'
CATCH
'
;
print
(
"
CATCH
"
)
;
}
finally
{
actual
+
=
'
FINALLY
'
;
print
(
"
FINALLY
"
)
;
}
}
expect
=
'
FINALLY
'
;
actual
=
'
'
;
(
iter
=
gen
(
)
)
.
next
(
)
.
value
.
return
(
)
;
reportCompare
(
expect
actual
summary
)
;
expect
=
'
FINALLY
'
;
actual
=
'
'
;
try
{
(
iter
=
gen
(
)
)
.
next
(
)
.
value
.
throw
(
1
)
;
}
catch
(
ex
)
{
}
reportCompare
(
expect
actual
summary
)
;
expect
=
'
CATCH
FINALLY
'
;
actual
=
'
'
;
try
{
(
iter
=
gen
(
)
)
.
next
(
)
.
value
.
throw
(
null
)
;
}
catch
(
ex
)
{
}
reportCompare
(
expect
actual
summary
)
;
reportCompare
(
(
iter
=
gen
(
)
)
.
next
(
)
.
value
.
next
(
)
.
value
undefined
summary
)
;
}

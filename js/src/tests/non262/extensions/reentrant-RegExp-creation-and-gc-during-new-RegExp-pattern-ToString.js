var
gTestfile
=
"
reentrant
-
RegExp
-
creation
-
and
-
gc
-
during
-
new
-
RegExp
-
pattern
-
ToString
.
js
"
;
var
BUGNUMBER
=
1253099
;
var
summary
=
"
Don
'
t
assert
when
in
|
new
RegExp
(
pat
)
|
stringifying
|
pat
|
creates
"
+
"
another
RegExp
and
then
performs
a
GC
"
;
print
(
BUGNUMBER
+
"
:
"
+
summary
)
;
newGlobal
(
)
.
evaluate
(
var
createsRegExpAndCallsGCWhenStringified
=
{
toString
:
function
(
)
{
new
RegExp
(
"
a
"
)
;
gc
(
)
;
return
"
q
"
;
}
}
;
assertEq
(
new
RegExp
(
createsRegExpAndCallsGCWhenStringified
)
.
source
"
q
"
)
;
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;
print
(
"
Tests
complete
"
)
;

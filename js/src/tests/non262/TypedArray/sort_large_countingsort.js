const
TwoByteTypedArrays
=
anyTypedArrayConstructors
.
filter
(
ta
=
>
ta
.
BYTES_PER_ELEMENT
=
=
=
2
)
;
const
LARGE_LENGTH
=
65536
*
4
;
for
(
let
TA
of
TwoByteTypedArrays
)
{
let
ta
=
new
TA
(
LARGE_LENGTH
)
;
let
smallest
=
isFloatConstructor
(
TA
)
?
-
Infinity
:
isUnsignedConstructor
(
TA
)
?
0
:
-
32768
;
ta
.
fill
(
smallest
)
;
const
offset
=
100_000
;
let
unsigned
=
new
Uint16Array
(
ta
.
buffer
)
;
for
(
let
i
=
0
;
i
<
65536
;
+
+
i
)
{
unsigned
[
offset
+
i
]
=
i
;
}
ta
.
sort
(
)
;
for
(
let
i
=
0
;
i
<
=
65536
*
3
;
+
+
i
)
{
assertEq
(
ta
[
i
]
smallest
)
;
}
for
(
let
i
=
65536
*
3
;
i
<
ta
.
length
-
1
;
+
+
i
)
{
assertEq
(
!
(
ta
[
i
]
>
ta
[
i
+
1
]
)
true
)
;
}
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

let
ta
=
new
Int32Array
(
4
)
;
for
(
let
nullOrUndefined
of
[
null
undefined
]
)
{
assertThrowsInstanceOf
(
(
)
=
>
ta
.
set
(
nullOrUndefined
)
TypeError
)
;
class
ExpectedError
extends
Error
{
}
assertThrowsInstanceOf
(
(
)
=
>
ta
.
set
(
nullOrUndefined
{
valueOf
(
)
{
throw
new
ExpectedError
(
)
;
}
}
)
ExpectedError
)
;
}
assertEqArray
(
ta
[
0
0
0
0
]
)
;
ta
.
set
(
"
"
)
;
assertEqArray
(
ta
[
0
0
0
0
]
)
;
ta
.
set
(
"
123
"
)
;
assertEqArray
(
ta
[
1
2
3
0
]
)
;
assertThrowsInstanceOf
(
(
)
=
>
ta
.
set
(
"
456789
"
)
RangeError
)
;
assertEqArray
(
ta
[
1
2
3
0
]
)
;
for
(
let
value
of
[
true
false
0
NaN
123
Infinity
Symbol
(
)
]
)
{
ta
.
set
(
value
)
;
assertEqArray
(
ta
[
1
2
3
0
]
)
;
}
Number
.
prototype
.
length
=
4
;
Number
.
prototype
[
3
]
=
-
1
;
try
{
ta
.
set
(
456
)
;
assertEqArray
(
ta
[
0
0
0
-
1
]
)
;
}
finally
{
delete
Number
.
prototype
.
length
;
delete
Number
.
prototype
[
3
]
;
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

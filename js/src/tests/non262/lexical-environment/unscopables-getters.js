let
hit1
=
0
;
let
x
=
"
global
x
"
;
let
env1
=
{
x
:
"
env1
.
x
"
get
[
Symbol
.
unscopables
]
(
)
{
hit1
+
+
;
return
{
x
:
true
}
;
}
}
;
with
(
env1
)
assertEq
(
x
"
global
x
"
)
;
assertEq
(
hit1
1
)
;
function
Fit
(
)
{
}
with
(
{
x
:
0
get
[
Symbol
.
unscopables
]
(
)
{
throw
new
Fit
;
}
}
)
assertThrowsInstanceOf
(
(
)
=
>
x
Fit
)
;
let
hit2
=
0
;
let
env2
=
{
x
:
"
env2
.
x
"
[
Symbol
.
unscopables
]
:
{
get
x
(
)
{
hit2
+
+
;
return
true
;
}
}
}
;
with
(
env2
)
assertEq
(
x
"
global
x
"
)
;
assertEq
(
hit2
1
)
;
with
(
{
x
:
0
[
Symbol
.
unscopables
]
:
{
get
x
(
)
{
throw
new
Fit
;
}
}
}
)
assertThrowsInstanceOf
(
(
)
=
>
x
Fit
)
;
reportCompare
(
0
0
)
;

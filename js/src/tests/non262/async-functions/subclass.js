const
AsyncFunction
=
async
function
(
)
{
}
.
constructor
;
class
MyAsync
extends
AsyncFunction
{
}
assertEq
(
Object
.
getPrototypeOf
(
MyAsync
)
AsyncFunction
)
;
assertEq
(
Object
.
getPrototypeOf
(
MyAsync
.
prototype
)
AsyncFunction
.
prototype
)
;
var
fn
=
new
MyAsync
(
"
return
await
'
ok
'
;
"
)
;
assertEq
(
Object
.
getPrototypeOf
(
fn
)
MyAsync
.
prototype
)
;
var
promise
=
fn
(
)
;
assertEq
(
Object
.
getPrototypeOf
(
promise
)
Promise
.
prototype
)
;
assertEventuallyEq
(
promise
"
ok
"
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
0
0
)
;

function
assertOwnDescriptor
(
object
propertyKey
expected
)
{
var
desc
=
Object
.
getOwnPropertyDescriptor
(
object
propertyKey
)
;
if
(
desc
=
=
=
undefined
)
{
assertEq
(
expected
undefined
"
Property
shouldn
'
t
be
present
"
)
;
return
;
}
assertEq
(
desc
.
enumerable
expected
.
enumerable
{
String
(
propertyKey
)
}
.
[
[
Enumerable
]
]
)
;
assertEq
(
desc
.
configurable
expected
.
configurable
{
String
(
propertyKey
)
}
.
[
[
Configurable
]
]
)
;
if
(
Object
.
prototype
.
hasOwnProperty
.
call
(
desc
"
value
"
)
)
{
assertEq
(
desc
.
value
expected
.
value
{
String
(
propertyKey
)
}
.
[
[
Value
]
]
)
;
assertEq
(
desc
.
writable
expected
.
writable
{
String
(
propertyKey
)
}
.
[
[
Writable
]
]
)
;
}
else
{
assertEq
(
desc
.
get
expected
.
get
{
String
(
propertyKey
)
}
.
[
[
Get
]
]
)
;
assertEq
(
desc
.
set
expected
.
set
{
String
(
propertyKey
)
}
.
[
[
Set
]
]
)
;
}
}
async
function
asyncFunc
(
)
{
}
var
AsyncFunctionPrototype
=
Object
.
getPrototypeOf
(
asyncFunc
)
;
var
AsyncFunction
=
AsyncFunctionPrototype
.
constructor
;
assertEqArray
(
Object
.
getOwnPropertyNames
(
AsyncFunction
)
.
sort
(
)
[
"
length
"
"
name
"
"
prototype
"
]
)
;
assertEqArray
(
Object
.
getOwnPropertySymbols
(
AsyncFunction
)
[
]
)
;
assertOwnDescriptor
(
AsyncFunction
"
length
"
{
value
:
1
writable
:
false
enumerable
:
false
configurable
:
true
}
)
;
assertOwnDescriptor
(
AsyncFunction
"
name
"
{
value
:
"
AsyncFunction
"
writable
:
false
enumerable
:
false
configurable
:
true
}
)
;
assertOwnDescriptor
(
AsyncFunction
"
prototype
"
{
value
:
AsyncFunctionPrototype
writable
:
false
enumerable
:
false
configurable
:
false
}
)
;
assertEqArray
(
Object
.
getOwnPropertyNames
(
AsyncFunctionPrototype
)
.
sort
(
)
[
"
constructor
"
]
)
;
assertEqArray
(
Object
.
getOwnPropertySymbols
(
AsyncFunctionPrototype
)
[
Symbol
.
toStringTag
]
)
;
assertOwnDescriptor
(
AsyncFunctionPrototype
"
constructor
"
{
value
:
AsyncFunction
writable
:
false
enumerable
:
false
configurable
:
true
}
)
;
assertOwnDescriptor
(
AsyncFunctionPrototype
Symbol
.
toStringTag
{
value
:
"
AsyncFunction
"
writable
:
false
enumerable
:
false
configurable
:
true
}
)
;
assertEqArray
(
Object
.
getOwnPropertyNames
(
asyncFunc
)
.
sort
(
)
[
"
length
"
"
name
"
]
)
;
assertEqArray
(
Object
.
getOwnPropertySymbols
(
asyncFunc
)
[
]
)
;
assertOwnDescriptor
(
asyncFunc
"
length
"
{
value
:
0
writable
:
false
enumerable
:
false
configurable
:
true
}
)
;
assertOwnDescriptor
(
asyncFunc
"
name
"
{
value
:
"
asyncFunc
"
writable
:
false
enumerable
:
false
configurable
:
true
}
)
;
if
(
typeof
reportCompare
=
=
"
function
"
)
reportCompare
(
true
true
)
;

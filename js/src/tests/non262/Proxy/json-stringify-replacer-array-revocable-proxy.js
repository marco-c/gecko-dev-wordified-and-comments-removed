var
gTestfile
=
"
json
-
stringify
-
replacer
-
array
-
revocable
-
proxy
.
js
"
;
var
BUGNUMBER
=
1196497
;
var
summary
=
"
Don
'
t
assert
when
JSON
.
stringify
is
passed
a
revocable
proxy
to
an
array
"
+
"
then
that
proxy
is
revoked
midflight
during
stringification
"
;
print
(
BUGNUMBER
+
"
:
"
+
summary
)
;
var
arr
=
[
]
;
var
{
proxy
revoke
}
=
Proxy
.
revocable
(
arr
{
get
(
thisv
prop
receiver
)
{
assertEq
(
thisv
arr
)
;
assertEq
(
prop
"
length
"
)
;
assertEq
(
receiver
proxy
)
;
revoke
(
)
;
return
0
;
}
}
)
;
assertEq
(
JSON
.
stringify
(
{
a
:
0
}
proxy
)
"
{
}
"
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;
print
(
"
Tests
complete
"
)
;

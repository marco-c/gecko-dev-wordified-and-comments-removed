function
createProxy
(
)
{
var
deleted
=
[
]
;
var
proxy
=
new
Proxy
(
[
0
]
{
deleteProperty
(
t
pk
)
{
deleted
.
push
(
pk
)
;
return
delete
t
[
pk
]
;
}
}
)
;
return
{
proxy
deleted
}
;
}
function
compareFn
(
a
b
)
{
return
a
<
b
?
-
1
:
a
>
b
?
1
:
0
;
}
var
{
proxy
deleted
}
=
createProxy
(
)
;
assertEqArray
(
deleted
[
]
)
;
proxy
.
sort
(
)
assertEqArray
(
deleted
[
"
1
"
"
2
"
]
)
;
var
{
proxy
deleted
}
=
createProxy
(
)
;
assertEqArray
(
deleted
[
]
)
;
proxy
.
sort
(
compareFn
)
;
assertEqArray
(
deleted
[
"
1
"
"
2
"
]
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

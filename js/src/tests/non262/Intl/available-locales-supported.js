if
(
typeof
getAvailableLocalesOf
=
=
=
"
undefined
"
)
{
var
getAvailableLocalesOf
=
SpecialPowers
.
Cu
.
getJSTestingFunctions
(
)
.
getAvailableLocalesOf
;
}
function
IsIntlService
(
c
)
{
return
typeof
c
=
=
=
"
function
"
&
&
c
.
hasOwnProperty
(
"
prototype
"
)
&
&
c
.
prototype
.
hasOwnProperty
(
"
resolvedOptions
"
)
;
}
const
intlConstructors
=
Object
.
getOwnPropertyNames
(
Intl
)
.
map
(
name
=
>
Intl
[
name
]
)
.
filter
(
IsIntlService
)
;
for
(
let
intlConstructor
of
intlConstructors
)
{
let
available
=
getAvailableLocalesOf
(
intlConstructor
.
name
)
;
let
supported
=
intlConstructor
.
supportedLocalesOf
(
available
)
;
assertEqArray
(
supported
available
)
;
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

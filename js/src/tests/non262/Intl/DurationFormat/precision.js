var
df
=
new
Intl
.
DurationFormat
(
"
en
"
{
seconds
:
"
numeric
"
fractionalDigits
:
9
}
)
;
var
duration
=
{
seconds
:
10_000_000
nanoseconds
:
1
}
;
assertEq
(
df
.
format
(
duration
)
"
10000000
.
000000001
"
)
;
var
duration
=
{
seconds
:
Number
.
MAX_SAFE_INTEGER
}
;
assertEq
(
df
.
format
(
duration
)
"
9007199254740991
.
000000000
"
)
;
var
duration
=
{
milliseconds
:
Number
.
MAX_SAFE_INTEGER
*
1_000
}
;
assertEq
(
df
.
format
(
duration
)
"
9007199254740990
.
976000000
"
)
;
var
duration
=
{
microseconds
:
Number
.
MAX_SAFE_INTEGER
*
1_000_000
}
;
assertEq
(
df
.
format
(
duration
)
"
9007199254740990
.
951424000
"
)
;
var
duration
=
{
nanoseconds
:
Number
.
MAX_SAFE_INTEGER
*
1_000_000_000
}
;
assertEq
(
df
.
format
(
duration
)
"
9007199254740990
.
926258176
"
)
;
var
duration
=
{
seconds
:
Number
.
MAX_SAFE_INTEGER
milliseconds
:
Number
.
MAX_SAFE_INTEGER
microseconds
:
Number
.
MAX_SAFE_INTEGER
nanoseconds
:
Number
.
MAX_SAFE_INTEGER
}
;
assertThrowsInstanceOf
(
(
)
=
>
df
.
format
(
duration
)
RangeError
)
;
var
duration
=
{
seconds
:
Number
.
MIN_SAFE_INTEGER
milliseconds
:
Number
.
MIN_SAFE_INTEGER
microseconds
:
Number
.
MIN_SAFE_INTEGER
nanoseconds
:
Number
.
MIN_SAFE_INTEGER
}
;
assertThrowsInstanceOf
(
(
)
=
>
df
.
format
(
duration
)
RangeError
)
;
var
duration
=
{
seconds
:
1
milliseconds
:
2
microseconds
:
3
nanoseconds
:
Number
.
MAX_SAFE_INTEGER
}
;
assertEq
(
df
.
format
(
duration
)
"
9007200
.
256743991
"
)
;
var
duration
=
{
milliseconds
:
4503599627370497_000
microseconds
:
4503599627370495_000000
}
;
assertEq
(
df
.
format
(
duration
)
"
9007199254740991
.
975424000
"
)
;
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
true
true
)
;

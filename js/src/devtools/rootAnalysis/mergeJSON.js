var
infiles
=
[
.
.
.
scriptArgs
]
;
var
outfile
=
infiles
.
pop
(
)
;
let
output
;
for
(
const
filename
of
infiles
)
{
const
data
=
JSON
.
parse
(
os
.
file
.
readFile
(
filename
)
)
;
if
(
!
output
)
{
output
=
data
;
}
else
if
(
Array
.
isArray
(
data
)
!
=
Array
.
isArray
(
output
)
)
{
throw
new
Error
(
'
mismatched
types
'
)
;
}
else
if
(
Array
.
isArray
(
output
)
)
{
output
.
push
(
.
.
.
data
)
;
}
else
{
Object
.
assign
(
output
data
)
;
}
}
var
origOut
=
os
.
file
.
redirect
(
outfile
)
;
print
(
JSON
.
stringify
(
output
null
4
)
)
;
os
.
file
.
close
(
os
.
file
.
redirect
(
origOut
)
)
;

#
include
"
js
/
CallAndConstruct
.
h
"
#
include
"
js
/
PropertyAndElement
.
h
"
#
include
"
jsapi
-
tests
/
tests
.
h
"
BEGIN_TEST
(
testException_bug860435
)
{
JS
:
:
RootedValue
fun
(
cx
)
;
EVAL
(
"
ReferenceError
"
&
fun
)
;
CHECK
(
fun
.
isObject
(
)
)
;
JS
:
:
RootedValue
v
(
cx
)
;
CHECK
(
JS_CallFunctionValue
(
cx
global
fun
JS
:
:
HandleValueArray
:
:
empty
(
)
&
v
)
)
;
CHECK
(
v
.
isObject
(
)
)
;
JS
:
:
RootedObject
obj
(
cx
&
v
.
toObject
(
)
)
;
CHECK
(
JS_GetProperty
(
cx
obj
"
stack
"
&
v
)
)
;
CHECK
(
v
.
isString
(
)
)
;
return
true
;
}
END_TEST
(
testException_bug860435
)

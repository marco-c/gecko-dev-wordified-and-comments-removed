#
include
"
jsapi
-
tests
/
tests
.
h
"
BEGIN_TEST
(
testIsInsideNursery
)
{
CHECK
(
!
cx
-
>
gc
.
nursery
.
isInside
(
cx
)
)
;
CHECK
(
!
cx
-
>
gc
.
nursery
.
isInside
(
(
void
*
)
nullptr
)
)
;
JS_GC
(
cx
)
;
JS
:
:
RootedObject
object
(
cx
JS_NewPlainObject
(
cx
)
)
;
CHECK
(
js
:
:
gc
:
:
IsInsideNursery
(
object
)
)
;
JS_GC
(
cx
)
;
CHECK
(
!
js
:
:
gc
:
:
IsInsideNursery
(
object
)
)
;
return
true
;
}
END_TEST
(
testIsInsideNursery
)

#
ifndef
js_LockGuard_h
#
define
js_LockGuard_h
#
include
"
mozilla
/
GuardObjects
.
h
"
namespace
js
{
template
<
typename
LockType
>
class
LockGuard
{
LockType
&
lockRef_
;
MOZ_DECL_USE_GUARD_OBJECT_NOTIFIER
;
public
:
explicit
LockGuard
(
LockType
&
lock
MOZ_GUARD_OBJECT_NOTIFIER_PARAM
)
:
lockRef_
(
lock
)
{
MOZ_GUARD_OBJECT_NOTIFIER_INIT
;
lockRef_
.
lock
(
)
;
}
~
LockGuard
(
)
{
lockRef_
.
unlock
(
)
;
}
}
;
}
#
endif

include
(
"
js
-
config
.
mozbuild
"
)
include
(
"
js
-
cxxflags
.
mozbuild
"
)
component_engine
=
(
"
Core
"
"
JavaScript
Engine
"
)
component_gc
=
(
"
Core
"
"
JavaScript
:
GC
"
)
component_intl
=
(
"
Core
"
"
JavaScript
:
Internationalization
API
"
)
component_jit
=
(
"
Core
"
"
JavaScript
Engine
:
JIT
"
)
component_stl
=
(
"
Core
"
"
JavaScript
:
Standard
Library
"
)
component_wasm
=
(
"
Core
"
"
Javascript
:
Web
Assembly
"
)
FILES_PER_UNIFIED_FILE
=
6
export
(
"
FILES_PER_UNIFIED_FILE
"
)
with
Files
(
"
*
"
)
:
BUG_COMPONENT
=
component_engine
with
Files
(
"
wasm
/
*
*
"
)
:
BUG_COMPONENT
=
component_wasm
with
Files
(
"
builtin
/
*
*
"
)
:
BUG_COMPONENT
=
component_stl
with
Files
(
"
ctypes
/
*
*
"
)
:
BUG_COMPONENT
=
(
"
Core
"
"
js
-
ctypes
"
)
with
Files
(
"
gc
/
*
*
"
)
:
BUG_COMPONENT
=
component_gc
with
Files
(
"
jit
/
*
*
"
)
:
BUG_COMPONENT
=
component_jit
for
gcfile
in
[
"
devtools
/
rootAnalysis
"
"
devtools
/
gc
-
ubench
"
"
devtools
/
gctrace
"
]
:
with
Files
(
gcfile
)
:
BUG_COMPONENT
=
component_gc
for
stlfile
in
[
"
jsdate
.
*
"
"
jsnum
.
*
"
]
:
with
Files
(
stlfile
)
:
BUG_COMPONENT
=
component_stl
with
Files
(
"
builtin
/
intl
/
*
"
)
:
BUG_COMPONENT
=
component_intl
if
not
CONFIG
[
"
JS_DISABLE_SHELL
"
]
:
DIRS
+
=
[
"
rust
"
"
shell
"
]
TEST_DIRS
+
=
[
"
gdb
"
"
jsapi
-
tests
"
"
tests
"
]
if
CONFIG
[
"
FUZZING_INTERFACES
"
]
:
TEST_DIRS
+
=
[
"
fuzz
-
tests
"
]
LegacyTest
(
f
"
%
{
CONFIG
[
'
PYTHON3
'
]
}
"
"
/
config
/
check_js_msg_encoding
.
py
"
depends
=
[
"
/
config
/
check_js_msg_encoding
.
py
"
]
)
if
CONFIG
[
"
FUZZING_JS_FUZZILLI
"
]
:
include
(
"
/
tools
/
fuzzing
/
libfuzzer
-
config
.
mozbuild
"
)
CONFIGURE_DEFINE_FILES
+
=
[
"
js
-
confdefs
.
h
"
]
CONFIGURE_DEFINE_FILES
+
=
[
"
js
-
config
.
h
"
]
EXPORTS
+
=
[
"
!
js
-
config
.
h
"
"
jsapi
.
h
"
"
jsfriendapi
.
h
"
"
jspubtd
.
h
"
"
jstypes
.
h
"
]
EXPORTS
.
js
+
=
[
"
!
.
.
/
public
/
PrefsGenerated
.
h
"
"
.
.
/
public
/
AllocationLogging
.
h
"
"
.
.
/
public
/
AllocationRecording
.
h
"
"
.
.
/
public
/
AllocPolicy
.
h
"
"
.
.
/
public
/
Array
.
h
"
"
.
.
/
public
/
ArrayBuffer
.
h
"
"
.
.
/
public
/
ArrayBufferMaybeShared
.
h
"
"
.
.
/
public
/
BigInt
.
h
"
"
.
.
/
public
/
BuildId
.
h
"
"
.
.
/
public
/
CallAndConstruct
.
h
"
"
.
.
/
public
/
CallArgs
.
h
"
"
.
.
/
public
/
CallNonGenericMethod
.
h
"
"
.
.
/
public
/
CharacterEncoding
.
h
"
"
.
.
/
public
/
Class
.
h
"
"
.
.
/
public
/
ColumnNumber
.
h
"
"
.
.
/
public
/
ComparisonOperators
.
h
"
"
.
.
/
public
/
CompilationAndEvaluation
.
h
"
"
.
.
/
public
/
CompileOptions
.
h
"
"
.
.
/
public
/
Context
.
h
"
"
.
.
/
public
/
ContextOptions
.
h
"
"
.
.
/
public
/
Conversions
.
h
"
"
.
.
/
public
/
Date
.
h
"
"
.
.
/
public
/
Debug
.
h
"
"
.
.
/
public
/
DOMEventDispatch
.
h
"
"
.
.
/
public
/
EnvironmentChain
.
h
"
"
.
.
/
public
/
Equality
.
h
"
"
.
.
/
public
/
ErrorInterceptor
.
h
"
"
.
.
/
public
/
ErrorReport
.
h
"
"
.
.
/
public
/
Exception
.
h
"
"
.
.
/
public
/
ForOfIterator
.
h
"
"
.
.
/
public
/
GCAnnotations
.
h
"
"
.
.
/
public
/
GCAPI
.
h
"
"
.
.
/
public
/
GCHashTable
.
h
"
"
.
.
/
public
/
GCPolicyAPI
.
h
"
"
.
.
/
public
/
GCTypeMacros
.
h
"
"
.
.
/
public
/
GCVariant
.
h
"
"
.
.
/
public
/
GCVector
.
h
"
"
.
.
/
public
/
GlobalObject
.
h
"
"
.
.
/
public
/
HashTable
.
h
"
"
.
.
/
public
/
HeapAPI
.
h
"
"
.
.
/
public
/
HelperThreadAPI
.
h
"
"
.
.
/
public
/
Id
.
h
"
"
.
.
/
public
/
Initialization
.
h
"
"
.
.
/
public
/
Interrupt
.
h
"
"
.
.
/
public
/
Iterator
.
h
"
"
.
.
/
public
/
JSON
.
h
"
"
.
.
/
public
/
LocaleSensitive
.
h
"
"
.
.
/
public
/
MapAndSet
.
h
"
"
.
.
/
public
/
MemoryCallbacks
.
h
"
"
.
.
/
public
/
MemoryFunctions
.
h
"
"
.
.
/
public
/
MemoryMetrics
.
h
"
"
.
.
/
public
/
Modules
.
h
"
"
.
.
/
public
/
NativeStackLimits
.
h
"
"
.
.
/
public
/
Object
.
h
"
"
.
.
/
public
/
ObjectWithStashedPointer
.
h
"
"
.
.
/
public
/
Prefs
.
h
"
"
.
.
/
public
/
Principals
.
h
"
"
.
.
/
public
/
Printer
.
h
"
"
.
.
/
public
/
Printf
.
h
"
"
.
.
/
public
/
ProfilingCategory
.
h
"
"
.
.
/
public
/
ProfilingFrameIterator
.
h
"
"
.
.
/
public
/
ProfilingSources
.
h
"
"
.
.
/
public
/
ProfilingStack
.
h
"
"
.
.
/
public
/
Promise
.
h
"
"
.
.
/
public
/
PropertyAndElement
.
h
"
"
.
.
/
public
/
PropertyDescriptor
.
h
"
"
.
.
/
public
/
PropertySpec
.
h
"
"
.
.
/
public
/
ProtoKey
.
h
"
"
.
.
/
public
/
Proxy
.
h
"
"
.
.
/
public
/
Realm
.
h
"
"
.
.
/
public
/
RealmIterators
.
h
"
"
.
.
/
public
/
RealmOptions
.
h
"
"
.
.
/
public
/
RefCounted
.
h
"
"
.
.
/
public
/
RegExp
.
h
"
"
.
.
/
public
/
RegExpFlags
.
h
"
"
.
.
/
public
/
Result
.
h
"
"
.
.
/
public
/
RootingAPI
.
h
"
"
.
.
/
public
/
SavedFrameAPI
.
h
"
"
.
.
/
public
/
ScalarType
.
h
"
"
.
.
/
public
/
ScriptPrivate
.
h
"
"
.
.
/
public
/
ShadowRealmCallbacks
.
h
"
"
.
.
/
public
/
SharedArrayBuffer
.
h
"
"
.
.
/
public
/
SliceBudget
.
h
"
"
.
.
/
public
/
SourceText
.
h
"
"
.
.
/
public
/
StableStringChars
.
h
"
"
.
.
/
public
/
Stack
.
h
"
"
.
.
/
public
/
StreamConsumer
.
h
"
"
.
.
/
public
/
String
.
h
"
"
.
.
/
public
/
StructuredClone
.
h
"
"
.
.
/
public
/
SweepingAPI
.
h
"
"
.
.
/
public
/
Symbol
.
h
"
"
.
.
/
public
/
TelemetryTimers
.
h
"
"
.
.
/
public
/
TraceKind
.
h
"
"
.
.
/
public
/
TracingAPI
.
h
"
"
.
.
/
public
/
Transcoding
.
h
"
"
.
.
/
public
/
TypeDecls
.
h
"
"
.
.
/
public
/
UbiNode
.
h
"
"
.
.
/
public
/
UbiNodeBreadthFirst
.
h
"
"
.
.
/
public
/
UbiNodeCensus
.
h
"
"
.
.
/
public
/
UbiNodeDominatorTree
.
h
"
"
.
.
/
public
/
UbiNodePostOrder
.
h
"
"
.
.
/
public
/
UbiNodeShortestPaths
.
h
"
"
.
.
/
public
/
UbiNodeUtils
.
h
"
"
.
.
/
public
/
UniquePtr
.
h
"
"
.
.
/
public
/
Utility
.
h
"
"
.
.
/
public
/
Value
.
h
"
"
.
.
/
public
/
ValueArray
.
h
"
"
.
.
/
public
/
Vector
.
h
"
"
.
.
/
public
/
WaitCallbacks
.
h
"
"
.
.
/
public
/
Warnings
.
h
"
"
.
.
/
public
/
WasmFeatures
.
h
"
"
.
.
/
public
/
WasmModule
.
h
"
"
.
.
/
public
/
WeakMap
.
h
"
"
.
.
/
public
/
WeakMapPtr
.
h
"
"
.
.
/
public
/
Wrapper
.
h
"
"
.
.
/
public
/
WrapperCallbacks
.
h
"
"
.
.
/
public
/
Zone
.
h
"
]
EXPORTS
.
js
+
=
[
"
!
/
mozglue
/
baseprofiler
/
public
/
ProfilingCategoryList
.
h
"
]
EXPORTS
.
js
.
experimental
+
=
[
"
.
.
/
public
/
experimental
/
BindingAllocs
.
h
"
"
.
.
/
public
/
experimental
/
CodeCoverage
.
h
"
"
.
.
/
public
/
experimental
/
CompileScript
.
h
"
"
.
.
/
public
/
experimental
/
CTypes
.
h
"
"
.
.
/
public
/
experimental
/
Intl
.
h
"
"
.
.
/
public
/
experimental
/
JitInfo
.
h
"
"
.
.
/
public
/
experimental
/
JSStencil
.
h
"
"
.
.
/
public
/
experimental
/
LoggingInterface
.
h
"
"
.
.
/
public
/
experimental
/
PCCountProfiling
.
h
"
"
.
.
/
public
/
experimental
/
SourceHook
.
h
"
"
.
.
/
public
/
experimental
/
TypedData
.
h
"
]
EXPORTS
.
js
.
friend
+
=
[
"
.
.
/
public
/
friend
/
DOMProxy
.
h
"
"
.
.
/
public
/
friend
/
DumpFunctions
.
h
"
"
.
.
/
public
/
friend
/
ErrorMessages
.
h
"
"
.
.
/
public
/
friend
/
ErrorNumbers
.
msg
"
"
.
.
/
public
/
friend
/
JSMEnvironment
.
h
"
"
.
.
/
public
/
friend
/
MicroTask
.
h
"
"
.
.
/
public
/
friend
/
PerformanceHint
.
h
"
"
.
.
/
public
/
friend
/
StackLimits
.
h
"
"
.
.
/
public
/
friend
/
UsageStatistics
.
h
"
"
.
.
/
public
/
friend
/
WindowProxy
.
h
"
"
.
.
/
public
/
friend
/
XrayJitInfo
.
h
"
]
EXPORTS
.
js
.
shadow
+
=
[
"
.
.
/
public
/
shadow
/
Function
.
h
"
"
.
.
/
public
/
shadow
/
Object
.
h
"
"
.
.
/
public
/
shadow
/
Realm
.
h
"
"
.
.
/
public
/
shadow
/
Shape
.
h
"
"
.
.
/
public
/
shadow
/
String
.
h
"
"
.
.
/
public
/
shadow
/
Symbol
.
h
"
"
.
.
/
public
/
shadow
/
Zone
.
h
"
]
UNIFIED_SOURCES
+
=
[
"
jsapi
.
cpp
"
"
jsdate
.
cpp
"
"
jsexn
.
cpp
"
"
jsfriendapi
.
cpp
"
"
jsnum
.
cpp
"
]
SOURCES
+
=
[
"
jsmath
.
cpp
"
]
if
CONFIG
[
"
MOZ_INSTRUMENTS
"
]
:
OS_LIBS
+
=
[
"
-
framework
CoreFoundation
"
]
SOURCES
+
=
[
"
devtools
/
Instruments
.
cpp
"
]
DIRS
+
=
[
"
build
"
"
builtin
"
"
debugger
"
"
ds
"
"
frontend
"
"
gc
"
"
irregexp
"
"
jit
"
"
proxy
"
"
threading
"
"
util
"
"
vm
"
"
wasm
"
"
xsum
"
]
if
CONFIG
[
"
JS_HAS_CTYPES
"
]
:
DIRS
+
=
[
"
ctypes
"
]
if
CONFIG
[
"
MOZ_VTUNE
"
]
:
DIRS
+
=
[
"
vtune
"
]
if
CONFIG
[
"
JS_HAS_INTL_API
"
]
:
DIRS
+
=
[
"
builtin
/
intl
"
"
builtin
/
temporal
"
]
CXXFLAGS
+
=
CONFIG
[
"
MOZ_ZLIB_CFLAGS
"
]
if
CONFIG
[
"
ENABLE_WASM_MOZ_INTGEMM
"
]
:
DIRS
+
=
[
"
intgemm
"
]
if
CONFIG
[
"
JS_JITSPEW
"
]
:
DIRS
+
=
[
"
zydis
"
]
FINAL_LIBRARY
=
"
js
"
GeneratedFile
(
"
.
.
/
public
/
PrefsGenerated
.
h
"
script
=
"
GeneratePrefs
.
py
"
entry_point
=
"
generate_prefs_header
"
inputs
=
[
"
.
.
/
.
.
/
modules
/
libpref
/
init
/
StaticPrefList
.
yaml
"
]
)
if
CONFIG
[
"
JS_HAS_INTL_API
"
]
:
if
CONFIG
[
"
JS_STANDALONE
"
]
:
DIRS
+
=
[
"
.
.
/
.
.
/
intl
/
bidi
"
"
.
.
/
.
.
/
intl
/
components
"
]
USE_LIBS
+
=
[
"
intlcomponents
"
]

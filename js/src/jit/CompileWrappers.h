#
ifndef
jit_CompileWrappers_h
#
define
jit_CompileWrappers_h
#
include
"
jscntxt
.
h
"
namespace
js
{
namespace
jit
{
class
JitRuntime
;
class
CompileRuntime
{
JSRuntime
*
runtime
(
)
;
public
:
static
CompileRuntime
*
get
(
JSRuntime
*
rt
)
;
bool
onMainThread
(
)
;
js
:
:
PerThreadData
*
mainThread
(
)
;
const
void
*
addressOfJitTop
(
)
;
const
void
*
addressOfJitActivation
(
)
;
const
void
*
addressOfProfilingActivation
(
)
;
const
void
*
addressOfJitStackLimit
(
)
;
#
ifdef
DEBUG
const
void
*
addressOfIonBailAfter
(
)
;
#
endif
const
void
*
addressOfActivation
(
)
;
#
ifdef
JS_GC_ZEAL
const
void
*
addressOfGCZealModeBits
(
)
;
#
endif
const
void
*
addressOfInterruptUint32
(
)
;
const
void
*
getJSContext
(
)
;
const
JitRuntime
*
jitRuntime
(
)
;
GeckoProfiler
&
geckoProfiler
(
)
;
bool
jitSupportsFloatingPoint
(
)
;
bool
hadOutOfMemory
(
)
;
bool
profilingScripts
(
)
;
const
JSAtomState
&
names
(
)
;
const
PropertyName
*
emptyString
(
)
;
const
StaticStrings
&
staticStrings
(
)
;
const
Value
&
NaNValue
(
)
;
const
Value
&
positiveInfinityValue
(
)
;
const
WellKnownSymbols
&
wellKnownSymbols
(
)
;
#
ifdef
DEBUG
bool
isInsideNursery
(
gc
:
:
Cell
*
cell
)
;
#
endif
const
DOMCallbacks
*
DOMcallbacks
(
)
;
const
Nursery
&
gcNursery
(
)
;
void
setMinorGCShouldCancelIonCompilations
(
)
;
bool
runtimeMatches
(
JSRuntime
*
rt
)
;
}
;
class
CompileZone
{
Zone
*
zone
(
)
;
public
:
static
CompileZone
*
get
(
Zone
*
zone
)
;
const
void
*
addressOfNeedsIncrementalBarrier
(
)
;
const
void
*
addressOfFreeList
(
gc
:
:
AllocKind
allocKind
)
;
}
;
class
JitCompartment
;
class
CompileCompartment
{
JSCompartment
*
compartment
(
)
;
public
:
static
CompileCompartment
*
get
(
JSCompartment
*
comp
)
;
CompileZone
*
zone
(
)
;
CompileRuntime
*
runtime
(
)
;
const
void
*
addressOfEnumerators
(
)
;
const
void
*
addressOfRandomNumberGenerator
(
)
;
const
void
*
addressOfLastCachedNativeIterator
(
)
;
const
JitCompartment
*
jitCompartment
(
)
;
const
GlobalObject
*
maybeGlobal
(
)
;
bool
hasAllocationMetadataBuilder
(
)
;
void
setSingletonsAsValues
(
)
;
}
;
class
JitCompileOptions
{
public
:
JitCompileOptions
(
)
;
explicit
JitCompileOptions
(
JSContext
*
cx
)
;
bool
cloneSingletons
(
)
const
{
return
cloneSingletons_
;
}
bool
profilerSlowAssertionsEnabled
(
)
const
{
return
profilerSlowAssertionsEnabled_
;
}
bool
offThreadCompilationAvailable
(
)
const
{
return
offThreadCompilationAvailable_
;
}
private
:
bool
cloneSingletons_
;
bool
profilerSlowAssertionsEnabled_
;
bool
offThreadCompilationAvailable_
;
}
;
}
}
#
endif

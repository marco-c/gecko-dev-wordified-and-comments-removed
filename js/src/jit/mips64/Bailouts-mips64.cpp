#
include
"
jscntxt
.
h
"
#
include
"
jscompartment
.
h
"
#
include
"
jit
/
mips
-
shared
/
Bailouts
-
mips
-
shared
.
h
"
using
namespace
js
;
using
namespace
js
:
:
jit
;
BailoutFrameInfo
:
:
BailoutFrameInfo
(
const
JitActivationIterator
&
activations
BailoutStack
*
bailout
)
:
machine_
(
bailout
-
>
machine
(
)
)
{
uint8_t
*
sp
=
bailout
-
>
parentStackPointer
(
)
;
framePointer_
=
sp
+
bailout
-
>
frameSize
(
)
;
topFrameSize_
=
framePointer_
-
sp
;
JSScript
*
script
=
ScriptFromCalleeToken
(
(
(
JitFrameLayout
*
)
framePointer_
)
-
>
calleeToken
(
)
)
;
topIonScript_
=
script
-
>
ionScript
(
)
;
attachOnJitActivation
(
activations
)
;
snapshotOffset_
=
bailout
-
>
snapshotOffset
(
)
;
}

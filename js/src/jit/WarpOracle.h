#
ifndef
jit_WarpOracle_h
#
define
jit_WarpOracle_h
#
include
"
jit
/
JitAllocPolicy
.
h
"
#
include
"
jit
/
JitContext
.
h
"
#
include
"
jit
/
WarpSnapshot
.
h
"
namespace
js
{
namespace
jit
{
class
MIRGenerator
;
class
MOZ_STACK_CLASS
WarpOracle
{
JSContext
*
cx_
;
MIRGenerator
&
mirGen_
;
TempAllocator
&
alloc_
;
HandleScript
script_
;
mozilla
:
:
GenericErrorResult
<
AbortReason
>
abort
(
AbortReason
r
)
;
mozilla
:
:
GenericErrorResult
<
AbortReason
>
abort
(
AbortReason
r
const
char
*
message
.
.
.
)
;
AbortReasonOr
<
WarpEnvironment
>
createEnvironment
(
HandleScript
script
)
;
AbortReasonOr
<
WarpScriptSnapshot
*
>
createScriptSnapshot
(
HandleScript
script
)
;
public
:
WarpOracle
(
JSContext
*
cx
MIRGenerator
&
mirGen
HandleScript
script
)
;
AbortReasonOr
<
WarpSnapshot
*
>
createSnapshot
(
)
;
}
;
}
}
#
endif

#
ifndef
jit_CacheIRHealth_h
#
define
jit_CacheIRHealth_h
#
ifdef
JS_CACHEIR_SPEW
#
include
"
mozilla
/
Sprintf
.
h
"
#
include
"
jit
/
CacheIR
.
h
"
namespace
js
{
namespace
jit
{
class
ICEntry
;
class
CacheIRHealth
{
enum
Happiness
:
uint8_t
{
Sad
MediumSad
MediumHappy
Happy
}
;
public
:
Happiness
determineStubHappiness
(
uint32_t
stubHealthScore
)
;
Happiness
spewStubHealth
(
AutoStructuredSpewer
&
spew
ICStub
*
stub
)
;
Happiness
spewHealthForStubsInCacheIREntry
(
AutoStructuredSpewer
&
spew
ICEntry
*
entry
)
;
Happiness
spewJSOpAndCacheIRHealth
(
AutoStructuredSpewer
&
spew
HandleScript
script
jit
:
:
ICEntry
*
entry
jsbytecode
*
pc
JSOp
op
)
;
bool
rateMyCacheIR
(
JSContext
*
cx
HandleScript
script
)
;
}
;
}
}
#
endif
#
endif

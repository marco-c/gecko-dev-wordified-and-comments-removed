#
ifndef
jit_CacheIRHealth_h
#
define
jit_CacheIRHealth_h
#
ifdef
JS_CACHEIR_SPEW
#
include
"
mozilla
/
Sprintf
.
h
"
#
include
"
jit
/
CacheIR
.
h
"
namespace
js
{
namespace
jit
{
class
CacheIRHealth
{
Sprinter
output_
;
public
:
explicit
CacheIRHealth
(
JSContext
*
cx
)
:
output_
(
cx
)
{
}
~
CacheIRHealth
(
)
{
output_
.
flush
(
)
;
}
MOZ_MUST_USE
bool
init
(
)
{
return
output_
.
init
(
)
;
}
void
formatForNewStub
(
)
;
void
spewCacheIREntryState
(
ICEntry
*
entry
)
;
bool
spewStubHealth
(
ICStub
*
stub
)
;
bool
spewHealthForStubsInCacheIREntry
(
ICEntry
*
entry
)
;
uint32_t
spewJSOpForCacheIRHealth
(
unsigned
pcOffset
jsbytecode
next
)
;
bool
rateMyCacheIR
(
HandleScript
script
)
;
}
;
}
}
#
endif
#
endif

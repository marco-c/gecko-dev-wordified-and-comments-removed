#
ifndef
jit_JitFrames_inl_h
#
define
jit_JitFrames_inl_h
#
include
"
jit
/
JitFrames
.
h
"
#
include
"
jit
/
LIR
.
h
"
#
include
"
jit
/
JSJitFrameIter
-
inl
.
h
"
namespace
js
{
namespace
jit
{
inline
SafepointIndex
:
:
SafepointIndex
(
const
CodegenSafepointIndex
&
csi
)
:
displacement_
(
csi
.
displacement
(
)
)
safepointOffset_
(
csi
.
safepoint
(
)
-
>
offset
(
)
)
{
}
inline
BaselineFrame
*
GetTopBaselineFrame
(
JSContext
*
cx
)
{
JSJitFrameIter
frame
(
cx
-
>
activation
(
)
-
>
asJit
(
)
)
;
MOZ_ASSERT
(
frame
.
type
(
)
=
=
FrameType
:
:
Exit
)
;
+
+
frame
;
if
(
frame
.
isBaselineStub
(
)
)
{
+
+
frame
;
}
MOZ_ASSERT
(
frame
.
isBaselineJS
(
)
)
;
return
frame
.
baselineFrame
(
)
;
}
}
}
#
endif

#
ifndef
jit_Linker_h
#
define
jit_Linker_h
#
include
"
jit
/
ExecutableAllocator
.
h
"
#
include
"
jit
/
IonCode
.
h
"
#
include
"
jit
/
JitRealm
.
h
"
#
include
"
jit
/
MacroAssembler
.
h
"
#
include
"
vm
/
JSContext
.
h
"
#
include
"
vm
/
Realm
.
h
"
namespace
js
{
namespace
jit
{
class
Linker
{
MacroAssembler
&
masm
;
mozilla
:
:
Maybe
<
AutoWritableJitCodeFallible
>
awjcf
;
AutoFlushICache
afc
;
JitCode
*
fail
(
JSContext
*
cx
)
{
ReportOutOfMemory
(
cx
)
;
return
nullptr
;
}
public
:
explicit
Linker
(
MacroAssembler
&
masm
const
char
*
name
)
:
masm
(
masm
)
afc
(
name
)
{
masm
.
finish
(
)
;
}
JitCode
*
newCode
(
JSContext
*
cx
CodeKind
kind
)
;
}
;
}
}
#
endif

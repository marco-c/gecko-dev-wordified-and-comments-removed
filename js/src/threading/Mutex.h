#
ifndef
threading_Mutex_h
#
define
threading_Mutex_h
#
include
"
mozilla
/
Attributes
.
h
"
namespace
js
{
class
Mutex
{
public
:
struct
PlatformData
;
Mutex
(
)
;
~
Mutex
(
)
;
void
lock
(
)
;
void
unlock
(
)
;
private
:
Mutex
(
const
Mutex
&
)
=
delete
;
void
operator
=
(
const
Mutex
&
)
=
delete
;
Mutex
(
Mutex
&
&
)
=
delete
;
void
operator
=
(
Mutex
&
&
)
=
delete
;
PlatformData
*
platformData
(
)
;
#
if
defined
(
__APPLE__
)
&
&
defined
(
__MACH__
)
&
&
defined
(
__i386__
)
void
*
platformData_
[
11
]
;
#
elif
defined
(
__APPLE__
)
&
&
defined
(
__MACH__
)
&
&
defined
(
__amd64__
)
void
*
platformData_
[
8
]
;
#
elif
defined
(
__linux__
)
void
*
platformData_
[
40
/
sizeof
(
void
*
)
]
;
#
elif
defined
(
_WIN32
)
void
*
platformData_
[
6
]
;
#
else
#
error
"
Mutex
platform
data
size
isn
'
t
known
for
this
platform
"
#
endif
}
;
}
#
endif

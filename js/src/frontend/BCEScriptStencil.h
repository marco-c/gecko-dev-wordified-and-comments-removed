#
ifndef
frontend_BCEScriptStencil_h
#
define
frontend_BCEScriptStencil_h
#
include
"
mozilla
/
Span
.
h
"
#
include
"
frontend
/
Stencil
.
h
"
#
include
"
gc
/
Barrier
.
h
"
#
include
"
js
/
HeapAPI
.
h
"
#
include
"
js
/
TypeDecls
.
h
"
#
include
"
js
/
UniquePtr
.
h
"
#
include
"
vm
/
SharedStencil
.
h
"
namespace
js
:
:
frontend
{
struct
BytecodeEmitter
;
class
BCEScriptStencil
:
public
ScriptStencil
{
BytecodeEmitter
&
bce_
;
bool
getNeedsFunctionEnvironmentObjects
(
BytecodeEmitter
&
bce
)
const
;
void
init
(
BytecodeEmitter
&
bce
UniquePtr
<
ImmutableScriptData
>
immutableData
)
;
public
:
BCEScriptStencil
(
BytecodeEmitter
&
bce
UniquePtr
<
ImmutableScriptData
>
immutableData
)
;
virtual
bool
finishGCThings
(
JSContext
*
cx
mozilla
:
:
Span
<
JS
:
:
GCCellPtr
>
output
)
const
override
;
virtual
void
initAtomMap
(
GCPtrAtom
*
atoms
)
const
override
;
virtual
void
finishInnerFunctions
(
)
const
override
;
}
;
}
#
endif

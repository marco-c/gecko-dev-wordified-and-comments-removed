#
ifndef
frontend_BCEScriptStencil_h
#
define
frontend_BCEScriptStencil_h
#
include
"
mozilla
/
Span
.
h
"
#
include
<
stdint
.
h
>
#
include
"
frontend
/
Stencil
.
h
"
#
include
"
gc
/
Barrier
.
h
"
#
include
"
js
/
HeapAPI
.
h
"
#
include
"
vm
/
JSScript
.
h
"
struct
JSContext
;
namespace
js
{
namespace
frontend
{
struct
BytecodeEmitter
;
class
BCEScriptStencil
:
public
ScriptStencil
{
BytecodeEmitter
&
bce_
;
bool
getNeedsFunctionEnvironmentObjects
(
BytecodeEmitter
&
bce
)
const
;
void
init
(
BytecodeEmitter
&
bce
)
;
public
:
BCEScriptStencil
(
BytecodeEmitter
&
bce
UniquePtr
<
ImmutableScriptData
>
immutableScriptData
)
;
virtual
bool
finishGCThings
(
JSContext
*
cx
mozilla
:
:
Span
<
JS
:
:
GCCellPtr
>
output
)
const
;
virtual
void
initAtomMap
(
GCPtrAtom
*
atoms
)
const
;
virtual
void
finishInnerFunctions
(
)
const
;
}
;
}
}
#
endif

#
ifndef
frontend_BCEScriptStencil_h
#
define
frontend_BCEScriptStencil_h
#
include
"
mozilla
/
Span
.
h
"
#
include
<
stdint
.
h
>
#
include
"
frontend
/
Stencil
.
h
"
#
include
"
gc
/
Barrier
.
h
"
#
include
"
js
/
HeapAPI
.
h
"
#
include
"
vm
/
JSScript
.
h
"
struct
JSContext
;
namespace
js
{
namespace
frontend
{
struct
BytecodeEmitter
;
class
BCEScriptStencil
:
public
ScriptStencil
{
BytecodeEmitter
&
bce_
;
void
init
(
uint32_t
nslots
)
;
bool
getNeedsFunctionEnvironmentObjects
(
)
const
;
public
:
explicit
BCEScriptStencil
(
BytecodeEmitter
&
bce
uint32_t
nslots
)
;
virtual
bool
finishGCThings
(
JSContext
*
cx
mozilla
:
:
Span
<
JS
:
:
GCCellPtr
>
gcthings
)
const
;
virtual
bool
initAtomMap
(
JSContext
*
cx
GCPtrAtom
*
atoms
)
const
;
virtual
void
finishResumeOffsets
(
mozilla
:
:
Span
<
uint32_t
>
resumeOffsets
)
const
;
virtual
void
finishScopeNotes
(
mozilla
:
:
Span
<
ScopeNote
>
scopeNotes
)
const
;
virtual
void
finishTryNotes
(
mozilla
:
:
Span
<
JSTryNote
>
tryNotes
)
const
;
virtual
void
finishInnerFunctions
(
)
const
;
}
;
}
}
#
endif

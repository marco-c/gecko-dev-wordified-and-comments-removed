#
ifndef
frontend_Frontend2_h
#
define
frontend_Frontend2_h
#
include
"
mozilla
/
Utf8
.
h
"
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
"
js
/
CompileOptions
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
#
include
"
js
/
SourceText
.
h
"
#
include
"
js
/
Stack
.
h
"
#
include
"
js
/
UniquePtr
.
h
"
#
include
"
vm
/
JSScript
.
h
"
struct
JSContext
;
struct
SmooshResult
;
namespace
js
{
class
ScriptSourceObject
;
class
FrontendContext
;
using
ErrorContext
=
FrontendContext
;
namespace
frontend
{
struct
CompilationInput
;
struct
ExtensibleCompilationStencil
;
struct
CompilationGCOutput
;
struct
CompilationState
;
class
Smoosh
{
public
:
[
[
nodiscard
]
]
static
bool
tryCompileGlobalScriptToExtensibleStencil
(
JSContext
*
cx
ErrorContext
*
ec
JS
:
:
NativeStackLimit
stackLimit
CompilationInput
&
input
JS
:
:
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
UniquePtr
<
ExtensibleCompilationStencil
>
&
stencilOut
)
;
}
;
void
InitSmoosh
(
)
;
[
[
nodiscard
]
]
bool
SmooshParseScript
(
JSContext
*
cx
const
uint8_t
*
bytes
size_t
length
)
;
[
[
nodiscard
]
]
bool
SmooshParseModule
(
JSContext
*
cx
const
uint8_t
*
bytes
size_t
length
)
;
}
}
#
endif

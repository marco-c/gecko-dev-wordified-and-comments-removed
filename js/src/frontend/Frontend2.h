#
ifndef
frontend_Frontend2_h
#
define
frontend_Frontend2_h
#
include
"
mozilla
/
Utf8
.
h
"
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
"
js
/
CompileOptions
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
#
include
"
js
/
SourceText
.
h
"
#
include
"
js
/
UniquePtr
.
h
"
#
include
"
vm
/
JSScript
.
h
"
struct
JSContext
;
struct
SmooshResult
;
namespace
js
{
class
ScriptSourceObject
;
namespace
frontend
{
struct
CompilationStencil
;
struct
CompilationGCOutput
;
struct
CompilationState
;
class
Smoosh
{
public
:
static
bool
compileGlobalScript
(
JSContext
*
cx
CompilationStencil
&
stencil
JS
:
:
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
CompilationGCOutput
&
gcOutput
bool
*
unimplemented
)
;
static
bool
compileGlobalScriptToStencil
(
JSContext
*
cx
CompilationStencil
&
stencil
JS
:
:
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
bool
*
unimplemented
)
;
static
UniquePtr
<
CompilationStencil
>
compileGlobalScriptToStencil
(
JSContext
*
cx
const
JS
:
:
ReadOnlyCompileOptions
&
options
JS
:
:
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
bool
*
unimplemented
)
;
}
;
void
InitSmoosh
(
)
;
[
[
nodiscard
]
]
bool
SmooshParseScript
(
JSContext
*
cx
const
uint8_t
*
bytes
size_t
length
)
;
[
[
nodiscard
]
]
bool
SmooshParseModule
(
JSContext
*
cx
const
uint8_t
*
bytes
size_t
length
)
;
}
}
#
endif

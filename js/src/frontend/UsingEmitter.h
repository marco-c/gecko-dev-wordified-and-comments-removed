#
ifndef
frontend_UsingEmitter_h
#
define
frontend_UsingEmitter_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
frontend
/
BytecodeOffset
.
h
"
namespace
js
:
:
frontend
{
struct
BytecodeEmitter
;
class
EmitterScope
;
class
MOZ_STACK_CLASS
UsingEmitter
{
private
:
BytecodeEmitter
*
bce_
;
int
depthAtDisposables_
=
-
1
;
BytecodeOffset
disposableStart_
=
BytecodeOffset
:
:
invalidOffset
(
)
;
public
:
enum
Kind
{
Sync
Async
}
;
explicit
UsingEmitter
(
BytecodeEmitter
*
bce
)
;
[
[
nodiscard
]
]
bool
prepareForDisposableScopeBody
(
)
;
[
[
nodiscard
]
]
bool
prepareForAssignment
(
Kind
kind
)
;
[
[
nodiscard
]
]
bool
prepareForForOfLoopIteration
(
)
;
[
[
nodiscard
]
]
bool
prepareForForOfIteratorCloseOnThrow
(
)
;
[
[
nodiscard
]
]
bool
emitNonLocalJump
(
EmitterScope
*
present
)
;
[
[
nodiscard
]
]
bool
emitEnd
(
)
;
}
;
}
#
endif

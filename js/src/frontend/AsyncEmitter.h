#
ifndef
frontend_AsyncEmitter_h
#
define
frontend_AsyncEmitter_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
frontend
/
TryEmitter
.
h
"
namespace
js
{
namespace
frontend
{
struct
BytecodeEmitter
;
class
MOZ_STACK_CLASS
AsyncEmitter
{
private
:
BytecodeEmitter
*
bce_
;
mozilla
:
:
Maybe
<
TryEmitter
>
rejectTryCatch_
;
#
ifdef
DEBUG
enum
class
State
{
Start
Parameters
ModulePrologue
PostParams
Body
End
}
;
State
state_
=
State
:
:
Start
;
#
endif
MOZ_MUST_USE
bool
emitRejectCatch
(
)
;
MOZ_MUST_USE
bool
emitFinalYield
(
)
;
public
:
explicit
AsyncEmitter
(
BytecodeEmitter
*
bce
)
:
bce_
(
bce
)
{
}
;
MOZ_MUST_USE
bool
prepareForParamsWithoutExpression
(
)
;
MOZ_MUST_USE
bool
prepareForParamsWithExpression
(
)
;
MOZ_MUST_USE
bool
prepareForModule
(
)
;
MOZ_MUST_USE
bool
emitParamsEpilogue
(
)
;
MOZ_MUST_USE
bool
prepareForBody
(
)
;
MOZ_MUST_USE
bool
emitEnd
(
)
;
}
;
}
}
#
endif

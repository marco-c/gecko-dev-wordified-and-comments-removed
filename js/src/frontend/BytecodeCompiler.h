#
ifndef
frontend_BytecodeCompiler_h
#
define
frontend_BytecodeCompiler_h
#
include
"
NamespaceImports
.
h
"
#
include
"
vm
/
Scope
.
h
"
#
include
"
vm
/
String
.
h
"
class
JSLinearString
;
namespace
js
{
class
LazyScript
;
class
LifoAlloc
;
class
ModuleObject
;
class
ScriptSourceObject
;
struct
SourceCompressionTask
;
namespace
frontend
{
JSScript
*
CompileGlobalScript
(
ExclusiveContext
*
cx
LifoAlloc
&
alloc
ScopeKind
scopeKind
const
ReadOnlyCompileOptions
&
options
SourceBufferHolder
&
srcBuf
SourceCompressionTask
*
extraSct
=
nullptr
ScriptSourceObject
*
*
sourceObjectOut
=
nullptr
)
;
JSScript
*
CompileEvalScript
(
ExclusiveContext
*
cx
LifoAlloc
&
alloc
HandleObject
scopeChain
HandleScope
enclosingScope
const
ReadOnlyCompileOptions
&
options
SourceBufferHolder
&
srcBuf
SourceCompressionTask
*
extraSct
=
nullptr
ScriptSourceObject
*
*
sourceObjectOut
=
nullptr
)
;
ModuleObject
*
CompileModule
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceBufferHolder
&
srcBuf
)
;
ModuleObject
*
CompileModule
(
ExclusiveContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceBufferHolder
&
srcBuf
LifoAlloc
&
alloc
ScriptSourceObject
*
*
sourceObjectOut
=
nullptr
)
;
MOZ_MUST_USE
bool
CompileLazyFunction
(
JSContext
*
cx
Handle
<
LazyScript
*
>
lazy
const
char16_t
*
chars
size_t
length
)
;
MOZ_MUST_USE
bool
CompileFunctionBody
(
JSContext
*
cx
MutableHandleFunction
fun
const
ReadOnlyCompileOptions
&
options
Handle
<
PropertyNameVector
>
formals
JS
:
:
SourceBufferHolder
&
srcBuf
HandleScope
enclosingScope
)
;
MOZ_MUST_USE
bool
CompileFunctionBody
(
JSContext
*
cx
MutableHandleFunction
fun
const
ReadOnlyCompileOptions
&
options
Handle
<
PropertyNameVector
>
formals
JS
:
:
SourceBufferHolder
&
srcBuf
)
;
MOZ_MUST_USE
bool
CompileStarGeneratorBody
(
JSContext
*
cx
MutableHandleFunction
fun
const
ReadOnlyCompileOptions
&
options
Handle
<
PropertyNameVector
>
formals
JS
:
:
SourceBufferHolder
&
srcBuf
)
;
MOZ_MUST_USE
bool
CompileAsyncFunctionBody
(
JSContext
*
cx
MutableHandleFunction
fun
const
ReadOnlyCompileOptions
&
options
Handle
<
PropertyNameVector
>
formals
JS
:
:
SourceBufferHolder
&
srcBuf
)
;
ScriptSourceObject
*
CreateScriptSourceObject
(
ExclusiveContext
*
cx
const
ReadOnlyCompileOptions
&
options
)
;
bool
IsIdentifier
(
JSLinearString
*
str
)
;
bool
IsIdentifier
(
const
char16_t
*
chars
size_t
length
)
;
bool
IsKeyword
(
JSLinearString
*
str
)
;
void
MarkParser
(
JSTracer
*
trc
JS
:
:
AutoGCRooter
*
parser
)
;
}
}
#
endif

#
include
"
js
/
experimental
/
SourceHook
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
<
utility
>
#
include
"
jstypes
.
h
"
#
include
"
vm
/
JSContext
.
h
"
#
include
"
vm
/
Runtime
.
h
"
JS_PUBLIC_API
void
js
:
:
SetSourceHook
(
JSContext
*
cx
mozilla
:
:
UniquePtr
<
SourceHook
>
hook
)
{
cx
-
>
runtime
(
)
-
>
sourceHook
.
ref
(
)
=
std
:
:
move
(
hook
)
;
}
JS_PUBLIC_API
mozilla
:
:
UniquePtr
<
js
:
:
SourceHook
>
js
:
:
ForgetSourceHook
(
JSContext
*
cx
)
{
return
std
:
:
move
(
cx
-
>
runtime
(
)
-
>
sourceHook
.
ref
(
)
)
;
}

#
ifndef
vm_ReceiverGuard_inl_h
#
define
vm_ReceiverGuard_inl_h
#
include
"
vm
/
ReceiverGuard
.
h
"
#
include
"
vm
/
JSObject
.
h
"
#
include
"
wasm
/
TypedObject
.
h
"
namespace
js
{
MOZ_ALWAYS_INLINE
ReceiverGuard
:
:
ReceiverGuard
(
JSObject
*
obj
)
:
group_
(
nullptr
)
shape_
(
nullptr
)
{
if
(
obj
-
>
isNative
(
)
|
|
IsProxy
(
obj
)
)
{
shape_
=
obj
-
>
shape
(
)
;
return
;
}
MOZ_ASSERT
(
obj
-
>
is
<
TypedObject
>
(
)
)
;
group_
=
obj
-
>
group
(
)
;
}
}
#
endif

#
ifndef
vm_ShapedObject_h
#
define
vm_ShapedObject_h
#
include
"
jsobj
.
h
"
namespace
js
{
class
ShapedObject
:
public
JSObject
{
protected
:
GCPtrShape
shape_
;
public
:
void
initShape
(
Shape
*
shape
)
{
this
-
>
shape_
.
init
(
shape
)
;
}
void
setShape
(
Shape
*
shape
)
{
this
-
>
shape_
=
shape
;
}
Shape
*
shape
(
)
const
{
return
this
-
>
shape_
;
}
static
size_t
offsetOfShape
(
)
{
return
offsetof
(
ShapedObject
shape_
)
;
}
private
:
static
void
staticAsserts
(
)
{
static_assert
(
offsetof
(
ShapedObject
shape_
)
=
=
offsetof
(
shadow
:
:
Object
shape
)
"
shadow
shape
must
match
actual
shape
"
)
;
}
}
;
}
#
endif

#
ifndef
vm_Opcodes_h
#
define
vm_Opcodes_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
<
stddef
.
h
>
#
define
FOR_EACH_OPCODE
(
MACRO
)
\
MACRO
(
JSOP_UNDEFINED
Undefined
undefined
js_undefined_str
"
"
1
0
1
JOF_BYTE
)
\
/
*
*
Push
null
.
*
*
Category
:
Constants
*
Operands
:
*
Stack
:
=
>
null
*
/
\
MACRO
(
JSOP_NULL
Null
null
js_null_str
js_null_str
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_FALSE
False
false_
js_false_str
js_false_str
1
0
1
JOF_BYTE
)
\
MACRO
(
JSOP_TRUE
True
true_
js_true_str
js_true_str
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INT32
Int32
int32
"
int32
"
NULL
5
0
1
JOF_INT32
)
\
\
MACRO
(
JSOP_ZERO
Zero
zero
"
zero
"
"
0
"
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_ONE
One
one
"
one
"
"
1
"
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INT8
Int8
int8
"
int8
"
NULL
2
0
1
JOF_INT8
)
\
\
MACRO
(
JSOP_UINT16
Uint16
uint16
"
uint16
"
NULL
3
0
1
JOF_UINT16
)
\
\
MACRO
(
JSOP_UINT24
Uint24
uint24
"
uint24
"
NULL
4
0
1
JOF_UINT24
)
\
\
MACRO
(
JSOP_DOUBLE
Double
double_
"
double
"
NULL
9
0
1
JOF_DOUBLE
)
\
\
MACRO
(
JSOP_BIGINT
BigInt
big_int
"
bigint
"
NULL
5
0
1
JOF_BIGINT
)
\
\
MACRO
(
JSOP_STRING
String
string
"
string
"
NULL
5
0
1
JOF_ATOM
)
\
\
MACRO
(
JSOP_SYMBOL
Symbol
symbol
"
symbol
"
NULL
2
0
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_VOID
Void
void_
js_void_str
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_TYPEOF
Typeof
typeof_
js_typeof_str
NULL
1
1
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
MACRO
(
JSOP_TYPEOFEXPR
TypeofExpr
typeof_expr
"
typeofexpr
"
NULL
1
1
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_POS
Pos
pos
"
pos
"
"
+
"
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_NEG
Neg
neg
"
neg
"
"
-
"
1
1
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_BITNOT
BitNot
bit_not
"
bitnot
"
"
~
"
1
1
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_NOT
Not
not_
"
not
"
"
!
"
1
1
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_BITOR
BitOr
bit_or
"
bitor
"
"
|
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_BITXOR
BitXor
bit_xor
"
bitxor
"
"
^
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_BITAND
BitAnd
bit_and
"
bitand
"
"
&
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_EQ
Eq
eq
"
eq
"
"
=
=
"
1
2
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
MACRO
(
JSOP_NE
Ne
ne
"
ne
"
"
!
=
"
1
2
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTEQ
StrictEq
strict_eq
"
stricteq
"
"
=
=
=
"
1
2
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
MACRO
(
JSOP_STRICTNE
StrictNe
strict_ne
"
strictne
"
"
!
=
=
"
1
2
1
JOF_BYTE
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_LT
Lt
lt
"
lt
"
"
<
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_GT
Gt
gt
"
gt
"
"
>
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_LE
Le
le
"
le
"
"
<
=
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_GE
Ge
ge
"
ge
"
"
>
=
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_INSTANCEOF
Instanceof
instanceof
js_instanceof_str
js_instanceof_str
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_IN
In
in_
js_in_str
js_in_str
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_LSH
Lsh
lsh
"
lsh
"
"
<
<
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_RSH
Rsh
rsh
"
rsh
"
"
>
>
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_URSH
Ursh
ursh
"
ursh
"
"
>
>
>
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_ADD
Add
add
"
add
"
"
+
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_SUB
Sub
sub
"
sub
"
"
-
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_INC
Inc
inc
"
inc
"
NULL
1
1
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_DEC
Dec
dec
"
dec
"
NULL
1
1
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_MUL
Mul
mul
"
mul
"
"
*
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_DIV
Div
div
"
div
"
"
/
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
MACRO
(
JSOP_MOD
Mod
mod
"
mod
"
"
%
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_POW
Pow
pow
"
pow
"
"
*
*
"
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_TOID
ToId
to_id
"
toid
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_TONUMERIC
ToNumeric
to_numeric
"
tonumeric
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_TOSTRING
ToString
to_string
"
tostring
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_GLOBALTHIS
GlobalThis
global_this
"
globalthis
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_NEWTARGET
NewTarget
new_target
"
newtarget
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_DYNAMIC_IMPORT
DynamicImport
dynamic_import
"
dynamic
-
import
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_IMPORTMETA
ImportMeta
import_meta
"
importmeta
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_NEWINIT
NewInit
new_init
"
newinit
"
NULL
5
0
1
JOF_UINT32
|
JOF_IC
)
\
\
MACRO
(
JSOP_NEWOBJECT
NewObject
new_object
"
newobject
"
NULL
5
0
1
JOF_OBJECT
|
JOF_IC
)
\
MACRO
(
JSOP_NEWOBJECT_WITHGROUP
NewObjectWithGroup
new_object_with_group
"
newobjectwithgroup
"
NULL
5
0
1
JOF_OBJECT
|
JOF_IC
)
\
\
MACRO
(
JSOP_OBJECT
Object
object
"
object
"
NULL
5
0
1
JOF_OBJECT
)
\
\
MACRO
(
JSOP_OBJWITHPROTO
ObjWithProto
obj_with_proto
"
objwithproto
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INITPROP
InitProp
init_prop
"
initprop
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITHIDDENPROP
InitHiddenProp
init_hidden_prop
"
inithiddenprop
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITLOCKEDPROP
InitLockedProp
init_locked_prop
"
initlockedprop
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITELEM
InitElem
init_elem
"
initelem
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
|
JOF_IC
)
\
MACRO
(
JSOP_INITHIDDENELEM
InitHiddenElem
init_hidden_elem
"
inithiddenelem
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITPROP_GETTER
InitPropGetter
init_prop_getter
"
initprop_getter
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
MACRO
(
JSOP_INITHIDDENPROP_GETTER
InitHiddenPropGetter
init_hidden_prop_getter
"
inithiddenprop_getter
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_INITELEM_GETTER
InitElemGetter
init_elem_getter
"
initelem_getter
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
MACRO
(
JSOP_INITHIDDENELEM_GETTER
InitHiddenElemGetter
init_hidden_elem_getter
"
inithiddenelem_getter
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_INITPROP_SETTER
InitPropSetter
init_prop_setter
"
initprop_setter
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
MACRO
(
JSOP_INITHIDDENPROP_SETTER
InitHiddenPropSetter
init_hidden_prop_setter
"
inithiddenprop_setter
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_INITELEM_SETTER
InitElemSetter
init_elem_setter
"
initelem_setter
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
MACRO
(
JSOP_INITHIDDENELEM_SETTER
InitHiddenElemSetter
init_hidden_elem_setter
"
inithiddenelem_setter
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_GETPROP
GetProp
get_prop
"
getprop
"
NULL
5
1
1
JOF_ATOM
|
JOF_PROP
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_CALLPROP
CallProp
call_prop
"
callprop
"
NULL
5
1
1
JOF_ATOM
|
JOF_PROP
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETELEM
GetElem
get_elem
"
getelem
"
NULL
1
2
1
JOF_BYTE
|
JOF_ELEM
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_CALLELEM
CallElem
call_elem
"
callelem
"
NULL
1
2
1
JOF_BYTE
|
JOF_ELEM
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_LENGTH
Length
length
"
length
"
NULL
5
1
1
JOF_ATOM
|
JOF_PROP
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_SETPROP
SetProp
set_prop
"
setprop
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSLOPPY
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTSETPROP
StrictSetProp
strict_set_prop
"
strict
-
setprop
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSTRICT
|
JOF_IC
)
\
\
MACRO
(
JSOP_SETELEM
SetElem
set_elem
"
setelem
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSLOPPY
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTSETELEM
StrictSetElem
strict_set_elem
"
strict
-
setelem
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSTRICT
|
JOF_IC
)
\
\
MACRO
(
JSOP_DELPROP
DelProp
del_prop
"
delprop
"
NULL
5
1
1
JOF_ATOM
|
JOF_PROP
|
JOF_CHECKSLOPPY
)
\
\
MACRO
(
JSOP_STRICTDELPROP
StrictDelProp
strict_del_prop
"
strict
-
delprop
"
NULL
5
1
1
JOF_ATOM
|
JOF_PROP
|
JOF_CHECKSTRICT
)
\
\
MACRO
(
JSOP_DELELEM
DelElem
del_elem
"
delelem
"
NULL
1
2
1
JOF_BYTE
|
JOF_ELEM
|
JOF_CHECKSLOPPY
)
\
\
MACRO
(
JSOP_STRICTDELELEM
StrictDelElem
strict_del_elem
"
strict
-
delelem
"
NULL
1
2
1
JOF_BYTE
|
JOF_ELEM
|
JOF_CHECKSTRICT
)
\
\
MACRO
(
JSOP_HASOWN
HasOwn
has_own
"
hasown
"
NULL
1
2
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_SUPERBASE
SuperBase
super_base
"
superbase
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_GETPROP_SUPER
GetPropSuper
get_prop_super
"
getprop
-
super
"
NULL
5
2
1
JOF_ATOM
|
JOF_PROP
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETELEM_SUPER
GetElemSuper
get_elem_super
"
getelem
-
super
"
NULL
1
3
1
JOF_BYTE
|
JOF_ELEM
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_SETPROP_SUPER
SetPropSuper
set_prop_super
"
setprop
-
super
"
NULL
5
3
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSLOPPY
)
\
\
MACRO
(
JSOP_STRICTSETPROP_SUPER
StrictSetPropSuper
strict_set_prop_super
"
strictsetprop
-
super
"
NULL
5
3
1
JOF_ATOM
|
JOF_PROP
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSTRICT
)
\
\
MACRO
(
JSOP_SETELEM_SUPER
SetElemSuper
set_elem_super
"
setelem
-
super
"
NULL
1
4
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSLOPPY
)
\
\
MACRO
(
JSOP_STRICTSETELEM_SUPER
StrictSetElemSuper
strict_set_elem_super
"
strict
-
setelem
-
super
"
NULL
1
4
1
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSTRICT
)
\
\
MACRO
(
JSOP_ITER
Iter
iter
"
iter
"
NULL
1
1
1
JOF_BYTE
|
JOF_IC
)
\
\
MACRO
(
JSOP_MOREITER
MoreIter
more_iter
"
moreiter
"
NULL
1
1
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_ISNOITER
IsNoIter
is_no_iter
"
isnoiter
"
NULL
1
1
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_ITERNEXT
IterNext
iter_next
"
iternext
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_ENDITER
EndIter
end_iter
"
enditer
"
NULL
1
2
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_CHECKISOBJ
CheckIsObj
check_is_obj
"
checkisobj
"
NULL
2
1
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_CHECKISCALLABLE
CheckIsCallable
check_is_callable
"
checkiscallable
"
NULL
2
1
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_CHECKOBJCOERCIBLE
CheckObjCoercible
check_obj_coercible
"
checkobjcoercible
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_TOASYNCITER
ToAsyncIter
to_async_iter
"
toasynciter
"
NULL
1
2
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_MUTATEPROTO
MutateProto
mutate_proto
"
mutateproto
"
NULL
1
2
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_NEWARRAY
NewArray
new_array
"
newarray
"
NULL
5
0
1
JOF_UINT32
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITELEM_ARRAY
InitElemArray
init_elem_array
"
initelem_array
"
NULL
5
2
1
JOF_UINT32
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITELEM_INC
InitElemInc
init_elem_inc
"
initelem_inc
"
NULL
1
3
2
JOF_BYTE
|
JOF_ELEM
|
JOF_PROPINIT
|
JOF_IC
)
\
\
MACRO
(
JSOP_HOLE
Hole
hole
"
hole
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_NEWARRAY_COPYONWRITE
NewArrayCopyOnWrite
new_array_copy_on_write
"
newarray_copyonwrite
"
NULL
5
0
1
JOF_OBJECT
)
\
\
MACRO
(
JSOP_REGEXP
RegExp
reg_exp
"
regexp
"
NULL
5
0
1
JOF_REGEXP
)
\
\
MACRO
(
JSOP_LAMBDA
Lambda
lambda
"
lambda
"
NULL
5
0
1
JOF_OBJECT
)
\
\
MACRO
(
JSOP_LAMBDA_ARROW
LambdaArrow
lambda_arrow
"
lambda_arrow
"
NULL
5
1
1
JOF_OBJECT
)
\
\
MACRO
(
JSOP_SETFUNNAME
SetFunName
set_fun_name
"
setfunname
"
NULL
2
2
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_INITHOMEOBJECT
InitHomeObject
init_home_object
"
inithomeobject
"
NULL
1
2
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_CHECKCLASSHERITAGE
CheckClassHeritage
check_class_heritage
"
checkclassheritage
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_FUNWITHPROTO
FunWithProto
fun_with_proto
"
funwithproto
"
NULL
5
1
1
JOF_OBJECT
)
\
\
MACRO
(
JSOP_CLASSCONSTRUCTOR
ClassConstructor
class_constructor
"
classconstructor
"
NULL
13
0
1
JOF_CLASS_CTOR
)
\
\
MACRO
(
JSOP_DERIVEDCONSTRUCTOR
DerivedConstructor
derived_constructor
"
derivedconstructor
"
NULL
13
1
1
JOF_CLASS_CTOR
)
\
\
MACRO
(
JSOP_BUILTINPROTO
BuiltinProto
builtin_proto
"
builtinproto
"
NULL
2
0
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_CALL
Call
call
"
call
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_CALLITER
CallIter
call_iter
"
calliter
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_FUNAPPLY
FunApply
fun_apply
"
funapply
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_FUNCALL
FunCall
fun_call
"
funcall
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_CALL_IGNORES_RV
CallIgnoresRv
call_ignores_rv
"
call
-
ignores
-
rv
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_SPREADCALL
SpreadCall
spread_call
"
spreadcall
"
NULL
1
3
1
JOF_BYTE
|
JOF_INVOKE
|
JOF_SPREAD
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_OPTIMIZE_SPREADCALL
OptimizeSpreadCall
optimize_spread_call
"
optimize
-
spreadcall
"
NULL
1
1
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_EVAL
Eval
eval
"
eval
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_CHECKSLOPPY
|
JOF_IC
)
\
\
MACRO
(
JSOP_SPREADEVAL
SpreadEval
spread_eval
"
spreadeval
"
NULL
1
3
1
JOF_BYTE
|
JOF_INVOKE
|
JOF_SPREAD
|
JOF_TYPESET
|
JOF_CHECKSLOPPY
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTEVAL
StrictEval
strict_eval
"
strict
-
eval
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_TYPESET
|
JOF_CHECKSTRICT
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTSPREADEVAL
StrictSpreadEval
strict_spread_eval
"
strict
-
spreadeval
"
NULL
1
3
1
JOF_BYTE
|
JOF_INVOKE
|
JOF_SPREAD
|
JOF_TYPESET
|
JOF_CHECKSTRICT
|
JOF_IC
)
\
\
MACRO
(
JSOP_IMPLICITTHIS
ImplicitThis
implicit_this
"
implicitthis
"
"
"
5
0
1
JOF_ATOM
)
\
\
MACRO
(
JSOP_GIMPLICITTHIS
GImplicitThis
g_implicit_this
"
gimplicitthis
"
"
"
5
0
1
JOF_ATOM
)
\
\
MACRO
(
JSOP_CALLSITEOBJ
CallSiteObj
call_site_obj
"
callsiteobj
"
NULL
5
0
1
JOF_OBJECT
)
\
\
MACRO
(
JSOP_IS_CONSTRUCTING
IsConstructing
is_constructing
"
is
-
constructing
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_NEW
New
new_
"
new
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_CONSTRUCT
|
JOF_TYPESET
|
JOF_IC
|
JOF_IC
)
\
MACRO
(
JSOP_SUPERCALL
SuperCall
super_call
"
supercall
"
NULL
3
-
1
1
JOF_ARGC
|
JOF_INVOKE
|
JOF_CONSTRUCT
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_SPREADNEW
SpreadNew
spread_new
"
spreadnew
"
NULL
1
4
1
JOF_BYTE
|
JOF_INVOKE
|
JOF_CONSTRUCT
|
JOF_SPREAD
|
JOF_TYPESET
|
JOF_IC
)
\
MACRO
(
JSOP_SPREADSUPERCALL
SpreadSuperCall
spread_super_call
"
spreadsupercall
"
NULL
1
4
1
JOF_BYTE
|
JOF_INVOKE
|
JOF_CONSTRUCT
|
JOF_SPREAD
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_SUPERFUN
SuperFun
super_fun
"
superfun
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_CHECKTHISREINIT
CheckThisReinit
check_this_reinit
"
checkthisreinit
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_GENERATOR
Generator
generator
"
generator
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INITIALYIELD
InitialYield
initial_yield
"
initialyield
"
NULL
4
1
3
JOF_RESUMEINDEX
)
\
\
MACRO
(
JSOP_AFTERYIELD
AfterYield
after_yield
"
afteryield
"
NULL
5
0
0
JOF_ICINDEX
)
\
\
MACRO
(
JSOP_FINALYIELDRVAL
FinalYieldRval
final_yield_rval
"
finalyieldrval
"
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_YIELD
Yield
yield
"
yield
"
NULL
4
2
3
JOF_RESUMEINDEX
)
\
\
MACRO
(
JSOP_ISGENCLOSING
IsGenClosing
is_gen_closing
"
isgenclosing
"
NULL
1
1
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_ASYNCAWAIT
AsyncAwait
async_await
"
async
-
await
"
NULL
1
2
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_ASYNCRESOLVE
AsyncResolve
async_resolve
"
async
-
resolve
"
NULL
2
2
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_AWAIT
Await
await
"
await
"
NULL
4
2
3
JOF_RESUMEINDEX
)
\
\
MACRO
(
JSOP_TRYSKIPAWAIT
TrySkipAwait
try_skip_await
"
tryskipawait
"
NULL
1
1
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_RESUMEKIND
ResumeKind
resume_kind
"
resumekind
"
NULL
2
0
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_CHECK_RESUMEKIND
CheckResumeKind
check_resume_kind
"
check
-
resumekind
"
NULL
1
3
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_RESUME
Resume
resume
"
resume
"
NULL
1
3
1
JOF_BYTE
|
JOF_INVOKE
)
\
\
MACRO
(
JSOP_JUMPTARGET
JumpTarget
jump_target
"
jumptarget
"
NULL
5
0
0
JOF_ICINDEX
)
\
\
MACRO
(
JSOP_LOOPHEAD
LoopHead
loop_head
"
loophead
"
NULL
6
0
0
JOF_LOOPHEAD
)
\
\
MACRO
(
JSOP_GOTO
Goto
goto_
"
goto
"
NULL
5
0
0
JOF_JUMP
)
\
\
MACRO
(
JSOP_IFEQ
IfEq
if_eq
"
ifeq
"
NULL
5
1
0
JOF_JUMP
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_IFNE
IfNe
if_ne
"
ifne
"
NULL
5
1
0
JOF_JUMP
|
JOF_IC
)
\
\
MACRO
(
JSOP_AND
And
and_
"
and
"
NULL
5
1
1
JOF_JUMP
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_OR
Or
or_
"
or
"
NULL
5
1
1
JOF_JUMP
|
JOF_DETECTING
|
JOF_IC
)
\
\
MACRO
(
JSOP_COALESCE
Coalesce
coalesce
"
coalesce
"
NULL
5
1
1
JOF_JUMP
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_CASE
Case
case_
"
case
"
NULL
5
2
1
JOF_JUMP
)
\
\
MACRO
(
JSOP_DEFAULT
Default
default_
"
default
"
NULL
5
1
0
JOF_JUMP
)
\
\
MACRO
(
JSOP_TABLESWITCH
TableSwitch
table_switch
"
tableswitch
"
NULL
16
1
0
JOF_TABLESWITCH
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_RETURN
Return
return_
"
return
"
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_GETRVAL
GetRval
get_rval
"
getrval
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_SETRVAL
SetRval
set_rval
"
setrval
"
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_RETRVAL
RetRval
ret_rval
"
retrval
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_CHECKRETURN
CheckReturn
check_return
"
checkreturn
"
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_THROW
Throw
throw_
js_throw_str
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_THROWMSG
ThrowMsg
throw_msg
"
throwmsg
"
NULL
3
0
0
JOF_UINT16
)
\
\
MACRO
(
JSOP_THROWSETALIASEDCONST
ThrowSetAliasedConst
throw_set_aliased_const
"
throwsetaliasedconst
"
NULL
5
1
1
JOF_ENVCOORD
|
JOF_NAME
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_THROWSETCALLEE
ThrowSetCallee
throw_set_callee
"
throwsetcallee
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_THROWSETCONST
ThrowSetConst
throw_set_const
"
throwsetconst
"
NULL
4
1
1
JOF_LOCAL
|
JOF_NAME
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_TRY
Try
try_
"
try
"
NULL
5
0
0
JOF_CODE_OFFSET
)
\
\
MACRO
(
JSOP_TRY_DESTRUCTURING
TryDestructuring
try_destructuring
"
try
-
destructuring
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_EXCEPTION
Exception
exception
"
exception
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_RESUMEINDEX
ResumeIndex
resume_index
"
resume
-
index
"
NULL
4
0
1
JOF_RESUMEINDEX
)
\
\
MACRO
(
JSOP_GOSUB
Gosub
gosub
"
gosub
"
NULL
5
2
0
JOF_JUMP
)
\
\
MACRO
(
JSOP_FINALLY
Finally
finally
"
finally
"
NULL
1
0
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_RETSUB
Retsub
retsub
"
retsub
"
NULL
1
2
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_UNINITIALIZED
Uninitialized
uninitialized
"
uninitialized
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INITLEXICAL
InitLexical
init_lexical
"
initlexical
"
NULL
4
1
1
JOF_LOCAL
|
JOF_NAME
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_INITGLEXICAL
InitGLexical
init_g_lexical
"
initglexical
"
NULL
5
1
1
JOF_ATOM
|
JOF_NAME
|
JOF_PROPINIT
|
JOF_GNAME
|
JOF_IC
)
\
\
MACRO
(
JSOP_INITALIASEDLEXICAL
InitAliasedLexical
init_aliased_lexical
"
initaliasedlexical
"
NULL
5
1
1
JOF_ENVCOORD
|
JOF_NAME
|
JOF_PROPINIT
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_CHECKLEXICAL
CheckLexical
check_lexical
"
checklexical
"
NULL
4
0
0
JOF_LOCAL
|
JOF_NAME
)
\
\
MACRO
(
JSOP_CHECKALIASEDLEXICAL
CheckAliasedLexical
check_aliased_lexical
"
checkaliasedlexical
"
NULL
5
0
0
JOF_ENVCOORD
|
JOF_NAME
)
\
\
MACRO
(
JSOP_CHECKTHIS
CheckThis
check_this
"
checkthis
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_BINDGNAME
BindGName
bind_g_name
"
bindgname
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_GNAME
|
JOF_IC
)
\
\
MACRO
(
JSOP_BINDNAME
BindName
bind_name
"
bindname
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETNAME
GetName
get_name
"
getname
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETGNAME
GetGName
get_g_name
"
getgname
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_TYPESET
|
JOF_GNAME
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETARG
GetArg
get_arg
"
getarg
"
NULL
3
0
1
JOF_QARG
|
JOF_NAME
)
\
\
MACRO
(
JSOP_GETLOCAL
GetLocal
get_local
"
getlocal
"
NULL
4
0
1
JOF_LOCAL
|
JOF_NAME
)
\
\
MACRO
(
JSOP_GETALIASEDVAR
GetAliasedVar
get_aliased_var
"
getaliasedvar
"
NULL
5
0
1
JOF_ENVCOORD
|
JOF_NAME
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETIMPORT
GetImport
get_import
"
getimport
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETBOUNDNAME
GetBoundName
get_bound_name
"
getboundname
"
NULL
5
1
1
JOF_ATOM
|
JOF_NAME
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_GETINTRINSIC
GetIntrinsic
get_intrinsic
"
getintrinsic
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_CALLEE
Callee
callee
"
callee
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_ENVCALLEE
EnvCallee
env_callee
"
envcallee
"
NULL
2
0
1
JOF_UINT8
)
\
\
MACRO
(
JSOP_SETNAME
SetName
set_name
"
setname
"
NULL
5
2
1
JOF_ATOM
|
JOF_NAME
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSLOPPY
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTSETNAME
StrictSetName
strict_set_name
"
strict
-
setname
"
NULL
5
2
1
JOF_ATOM
|
JOF_NAME
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_CHECKSTRICT
|
JOF_IC
)
\
\
MACRO
(
JSOP_SETGNAME
SetGName
set_g_name
"
setgname
"
NULL
5
2
1
JOF_ATOM
|
JOF_NAME
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_GNAME
|
JOF_CHECKSLOPPY
|
JOF_IC
)
\
\
MACRO
(
JSOP_STRICTSETGNAME
StrictSetGName
strict_set_g_name
"
strict
-
setgname
"
NULL
5
2
1
JOF_ATOM
|
JOF_NAME
|
JOF_PROPSET
|
JOF_DETECTING
|
JOF_GNAME
|
JOF_CHECKSTRICT
|
JOF_IC
)
\
\
MACRO
(
JSOP_SETARG
SetArg
set_arg
"
setarg
"
NULL
3
1
1
JOF_QARG
|
JOF_NAME
)
\
\
MACRO
(
JSOP_SETLOCAL
SetLocal
set_local
"
setlocal
"
NULL
4
1
1
JOF_LOCAL
|
JOF_NAME
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_SETALIASEDVAR
SetAliasedVar
set_aliased_var
"
setaliasedvar
"
NULL
5
1
1
JOF_ENVCOORD
|
JOF_NAME
|
JOF_PROPSET
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_SETINTRINSIC
SetIntrinsic
set_intrinsic
"
setintrinsic
"
NULL
5
1
1
JOF_ATOM
|
JOF_NAME
|
JOF_DETECTING
)
\
\
MACRO
(
JSOP_PUSHLEXICALENV
PushLexicalEnv
push_lexical_env
"
pushlexicalenv
"
NULL
5
0
0
JOF_SCOPE
)
\
\
MACRO
(
JSOP_POPLEXICALENV
PopLexicalEnv
pop_lexical_env
"
poplexicalenv
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_DEBUGLEAVELEXICALENV
DebugLeaveLexicalEnv
debug_leave_lexical_env
"
debugleavelexicalenv
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_RECREATELEXICALENV
RecreateLexicalEnv
recreate_lexical_env
"
recreatelexicalenv
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_FRESHENLEXICALENV
FreshenLexicalEnv
freshen_lexical_env
"
freshenlexicalenv
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_PUSHVARENV
PushVarEnv
push_var_env
"
pushvarenv
"
NULL
5
0
0
JOF_SCOPE
)
\
\
MACRO
(
JSOP_POPVARENV
PopVarEnv
pop_var_env
"
popvarenv
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_ENTERWITH
EnterWith
enter_with
"
enterwith
"
NULL
5
1
0
JOF_SCOPE
)
\
\
MACRO
(
JSOP_LEAVEWITH
LeaveWith
leave_with
"
leavewith
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_BINDVAR
BindVar
bind_var
"
bindvar
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_DEFVAR
DefVar
def_var
"
defvar
"
NULL
5
0
0
JOF_ATOM
)
\
\
MACRO
(
JSOP_DEFFUN
DefFun
def_fun
"
deffun
"
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_DEFLET
DefLet
def_let
"
deflet
"
NULL
5
0
0
JOF_ATOM
)
\
\
MACRO
(
JSOP_DEFCONST
DefConst
def_const
"
defconst
"
NULL
5
0
0
JOF_ATOM
)
\
\
MACRO
(
JSOP_DELNAME
DelName
del_name
"
delname
"
NULL
5
0
1
JOF_ATOM
|
JOF_NAME
|
JOF_CHECKSLOPPY
)
\
\
MACRO
(
JSOP_ARGUMENTS
Arguments
arguments
"
arguments
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_REST
Rest
rest
"
rest
"
NULL
1
0
1
JOF_BYTE
|
JOF_TYPESET
|
JOF_IC
)
\
\
MACRO
(
JSOP_FUNCTIONTHIS
FunctionThis
function_this
"
functionthis
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_POP
Pop
pop
"
pop
"
NULL
1
1
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_POPN
PopN
pop_n
"
popn
"
NULL
3
-
1
0
JOF_UINT16
)
\
\
MACRO
(
JSOP_DUP
Dup
dup
"
dup
"
NULL
1
1
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_DUP2
Dup2
dup2
"
dup2
"
NULL
1
2
4
JOF_BYTE
)
\
\
MACRO
(
JSOP_DUPAT
DupAt
dup_at
"
dupat
"
NULL
4
0
1
JOF_UINT24
)
\
\
MACRO
(
JSOP_SWAP
Swap
swap
"
swap
"
NULL
1
2
2
JOF_BYTE
)
\
\
MACRO
(
JSOP_PICK
Pick
pick
"
pick
"
NULL
2
0
0
JOF_UINT8
)
\
\
MACRO
(
JSOP_UNPICK
Unpick
unpick
"
unpick
"
NULL
2
0
0
JOF_UINT8
)
\
\
MACRO
(
JSOP_NOP
Nop
nop
"
nop
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_LINENO
Lineno
lineno
"
lineno
"
NULL
5
0
0
JOF_UINT32
)
\
\
MACRO
(
JSOP_NOP_DESTRUCTURING
NopDestructuring
nop_destructuring
"
nop
-
destructuring
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_FORCEINTERPRETER
ForceInterpreter
force_interpreter
"
forceinterpreter
"
NULL
1
0
0
JOF_BYTE
)
\
\
MACRO
(
JSOP_DEBUGCHECKSELFHOSTED
DebugCheckSelfHosted
debug_check_self_hosted
"
debug
-
checkselfhosted
"
NULL
1
1
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INSTRUMENTATION_ACTIVE
InstrumentationActive
instrumentation_active
"
instrumentationActive
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INSTRUMENTATION_CALLBACK
InstrumentationCallback
instrumentation_callback
"
instrumentationCallback
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_INSTRUMENTATION_SCRIPT_ID
InstrumentationScriptId
instrumentation_script_id
"
instrumentationScriptId
"
NULL
1
0
1
JOF_BYTE
)
\
\
MACRO
(
JSOP_DEBUGGER
Debugger
debugger
"
debugger
"
NULL
1
0
0
JOF_BYTE
)
#
define
FOR_EACH_TRAILING_UNUSED_OPCODE
(
MACRO
)
\
MACRO
(
240
)
\
MACRO
(
241
)
\
MACRO
(
242
)
\
MACRO
(
243
)
\
MACRO
(
244
)
\
MACRO
(
245
)
\
MACRO
(
246
)
\
MACRO
(
247
)
\
MACRO
(
248
)
\
MACRO
(
249
)
\
MACRO
(
250
)
\
MACRO
(
251
)
\
MACRO
(
252
)
\
MACRO
(
253
)
\
MACRO
(
254
)
\
MACRO
(
255
)
namespace
js
{
#
define
PLUS_ONE
(
.
.
.
)
\
+
1
constexpr
int
JSOP_LIMIT
=
0
FOR_EACH_OPCODE
(
PLUS_ONE
)
;
#
undef
PLUS_ONE
#
define
TRAILING_VALUE_AND_VALUE_PLUS_ONE
(
val
)
\
val
)
&
&
(
val
+
1
=
=
static_assert
(
(
JSOP_LIMIT
=
=
FOR_EACH_TRAILING_UNUSED_OPCODE
(
TRAILING_VALUE_AND_VALUE_PLUS_ONE
)
256
)
"
trailing
unused
opcode
values
monotonically
increase
"
"
from
JSOP_LIMIT
to
255
"
)
;
#
undef
TRAILING_VALUE_AND_VALUE_PLUS_ONE
#
define
DEFINE_LENGTH_CONSTANT
(
op
op_camel
op_snake
name
image
len
.
.
.
)
\
constexpr
size_t
JSOpLength_
#
#
op_camel
=
len
;
FOR_EACH_OPCODE
(
DEFINE_LENGTH_CONSTANT
)
#
undef
DEFINE_LENGTH_CONSTANT
}
#
endif

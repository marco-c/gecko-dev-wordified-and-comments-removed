#
ifndef
vm_DisposableRecord_inl_h
#
define
vm_DisposableRecord_inl_h
#
include
"
vm
/
DisposableRecord
.
h
"
#
include
"
vm
/
JSObject
-
inl
.
h
"
#
include
"
vm
/
NativeObject
-
inl
.
h
"
inline
js
:
:
DisposableRecordObject
*
js
:
:
DisposableRecordObject
:
:
create
(
JSContext
*
cx
JS
:
:
Handle
<
JS
:
:
Value
>
value
JS
:
:
Handle
<
JS
:
:
Value
>
method
UsingHint
hint
)
{
JS
:
:
Rooted
<
DisposableRecordObject
*
>
obj
(
cx
NewObjectWithGivenProto
<
DisposableRecordObject
>
(
cx
nullptr
)
)
;
if
(
!
obj
)
{
return
nullptr
;
}
obj
-
>
initReservedSlot
(
VALUE_SLOT
value
)
;
obj
-
>
initReservedSlot
(
METHOD_SLOT
method
)
;
obj
-
>
initReservedSlot
(
HINT_SLOT
JS
:
:
Int32Value
(
int32_t
(
hint
)
)
)
;
if
(
!
SharedShape
:
:
ensureInitialCustomShape
<
DisposableRecordObject
>
(
cx
obj
)
)
{
return
nullptr
;
}
return
obj
;
}
#
endif

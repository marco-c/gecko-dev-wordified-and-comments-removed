#
include
"
mozilla
/
ScopeExit
.
h
"
#
include
"
jsapi
.
h
"
#
include
"
fuzz
-
tests
/
tests
.
h
"
#
include
"
vm
/
Interpreter
.
h
"
#
include
"
vm
/
JSContext
-
inl
.
h
"
using
namespace
JS
;
using
namespace
js
;
extern
JS
:
:
PersistentRootedObject
gGlobal
;
extern
JSContext
*
gCx
;
static
int
testExampleInit
(
int
*
argc
char
*
*
*
argv
)
{
return
0
;
}
static
int
testExampleFuzz
(
const
uint8_t
*
buf
size_t
size
)
{
auto
gcGuard
=
mozilla
:
:
MakeScopeExit
(
[
&
]
{
JS
:
:
PrepareForFullGC
(
gCx
)
;
JS
:
:
NonIncrementalGC
(
gCx
GC_NORMAL
JS
:
:
gcreason
:
:
API
)
;
}
)
;
return
0
;
}
MOZ_FUZZING_INTERFACE_RAW
(
testExampleInit
testExampleFuzz
Example
)
;

GeckoProgram
(
'
fuzz
-
tests
'
linkage
=
None
)
include
(
'
.
.
/
js
-
cxxflags
.
mozbuild
'
)
include
(
'
.
.
/
js
-
standalone
.
mozbuild
'
)
UNIFIED_SOURCES
+
=
[
'
testExample
.
cpp
'
'
tests
.
cpp
'
'
testStructuredCloneReader
.
cpp
'
'
testWasm
.
cpp
'
]
if
CONFIG
[
'
JS_BUILD_BINAST
'
]
:
UNIFIED_SOURCES
+
=
[
'
testBinASTReader
.
cpp
'
]
if
CONFIG
[
'
ENABLE_NEW_REGEXP
'
]
:
UNIFIED_SOURCES
+
=
[
'
testRegExp
.
cpp
'
]
DEFINES
[
'
EXPORT_JS_API
'
]
=
True
LOCAL_INCLUDES
+
=
[
'
!
.
.
'
'
.
.
'
]
if
CONFIG
[
'
FUZZING
'
]
:
USE_LIBS
+
=
[
'
static
:
fuzzer
-
registry
'
]
if
CONFIG
[
'
LIBFUZZER
'
]
:
USE_LIBS
+
=
[
'
static
:
fuzzer
'
]
include
(
'
/
tools
/
fuzzing
/
libfuzzer
-
config
.
mozbuild
'
)
USE_LIBS
+
=
[
'
static
:
js
'
]
DEFINES
[
'
topsrcdir
'
]
=
'
%
s
/
js
/
src
'
%
TOPSRCDIR

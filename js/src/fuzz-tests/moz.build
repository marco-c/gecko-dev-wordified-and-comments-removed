GeckoProgram
(
"
fuzz
-
tests
"
linkage
=
None
)
include
(
"
.
.
/
js
-
cxxflags
.
mozbuild
"
)
include
(
"
.
.
/
js
-
standalone
.
mozbuild
"
)
UNIFIED_SOURCES
+
=
[
"
testExample
.
cpp
"
"
testRegExp
.
cpp
"
"
tests
.
cpp
"
"
testStructuredCloneReader
.
cpp
"
"
testWasm
.
cpp
"
]
DEFINES
[
"
EXPORT_JS_API
"
]
=
True
LOCAL_INCLUDES
+
=
[
"
!
.
.
"
"
.
.
"
]
if
CONFIG
[
"
FUZZING
"
]
:
USE_LIBS
+
=
[
"
static
:
fuzzer
-
registry
"
]
include
(
"
/
tools
/
fuzzing
/
libfuzzer
-
config
.
mozbuild
"
)
if
CONFIG
[
"
FUZZING_INTERFACES
"
]
:
if
CONFIG
[
"
LIBFUZZER
"
]
:
USE_LIBS
+
=
[
"
static
:
fuzzer
"
]
else
:
USE_LIBS
+
=
[
"
static
:
fuzzer
-
interface
"
]
USE_LIBS
+
=
[
"
static
:
js
"
"
static
:
jsrust
"
]
DEFINES
[
"
topsrcdir
"
]
=
"
%
s
/
js
/
src
"
%
TOPSRCDIR

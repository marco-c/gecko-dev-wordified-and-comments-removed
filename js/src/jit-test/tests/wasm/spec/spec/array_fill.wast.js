assert_invalid
(
(
)
=
>
instantiate
(
(
module
(
type
a
(
array
i8
)
)
(
func
(
export
"
array
.
fill
-
immutable
"
)
(
param
1
(
ref
a
)
)
(
param
2
i32
)
(
array
.
fill
a
(
local
.
get
1
)
(
i32
.
const
0
)
(
local
.
get
2
)
(
i32
.
const
0
)
)
)
)
)
array
is
immutable
)
;
assert_invalid
(
(
)
=
>
instantiate
(
(
module
(
type
a
(
array
(
mut
i8
)
)
)
(
func
(
export
"
array
.
fill
-
invalid
-
1
"
)
(
param
1
(
ref
a
)
)
(
param
2
funcref
)
(
array
.
fill
a
(
local
.
get
1
)
(
i32
.
const
0
)
(
local
.
get
2
)
(
i32
.
const
0
)
)
)
)
)
type
mismatch
)
;
assert_invalid
(
(
)
=
>
instantiate
(
(
module
(
type
b
(
array
(
mut
funcref
)
)
)
(
func
(
export
"
array
.
fill
-
invalid
-
1
"
)
(
param
1
(
ref
b
)
)
(
param
2
i32
)
(
array
.
fill
b
(
local
.
get
1
)
(
i32
.
const
0
)
(
local
.
get
2
)
(
i32
.
const
0
)
)
)
)
)
type
mismatch
)
;
let
0
=
instantiate
(
(
module
(
type
arr8
(
array
i8
)
)
(
type
arr8_mut
(
array
(
mut
i8
)
)
)
(
global
g_arr8
(
ref
arr8
)
(
array
.
new
arr8
(
i32
.
const
10
)
(
i32
.
const
12
)
)
)
(
global
g_arr8_mut
(
mut
(
ref
arr8_mut
)
)
(
array
.
new_default
arr8_mut
(
i32
.
const
12
)
)
)
(
func
(
export
"
array_get_nth
"
)
(
param
1
i32
)
(
result
i32
)
(
array
.
get_u
arr8_mut
(
global
.
get
g_arr8_mut
)
(
local
.
get
1
)
)
)
(
func
(
export
"
array_fill
-
null
"
)
(
array
.
fill
arr8_mut
(
ref
.
null
arr8_mut
)
(
i32
.
const
0
)
(
i32
.
const
0
)
(
i32
.
const
0
)
)
)
(
func
(
export
"
array_fill
"
)
(
param
1
i32
)
(
param
2
i32
)
(
param
3
i32
)
(
array
.
fill
arr8_mut
(
global
.
get
g_arr8_mut
)
(
local
.
get
1
)
(
local
.
get
2
)
(
local
.
get
3
)
)
)
)
)
;
assert_trap
(
(
)
=
>
invoke
(
0
array_fill
-
null
[
]
)
null
array
reference
)
;
assert_trap
(
(
)
=
>
invoke
(
0
array_fill
[
13
0
0
]
)
out
of
bounds
array
access
)
;
assert_trap
(
(
)
=
>
invoke
(
0
array_fill
[
0
0
13
]
)
out
of
bounds
array
access
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_fill
[
12
0
0
]
)
[
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
0
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
5
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
11
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_trap
(
(
)
=
>
invoke
(
0
array_get_nth
[
12
]
)
out
of
bounds
array
access
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_fill
[
2
11
2
]
)
[
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
1
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
2
]
)
[
value
(
"
i32
"
11
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
3
]
)
[
value
(
"
i32
"
11
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
0
array_get_nth
[
4
]
)
[
value
(
"
i32
"
0
)
]
)
;

let
0
=
instantiate
(
(
module
(
memory
i64
1
)
(
data
"
foo
"
)
)
)
;
let
1
=
instantiate
(
(
module
(
memory
i64
1
)
(
func
(
export
"
fill
"
)
(
param
i64
i32
i64
)
(
memory
.
fill
(
local
.
get
0
)
(
local
.
get
1
)
(
local
.
get
2
)
)
)
(
func
(
export
"
load8_u
"
)
(
param
i64
)
(
result
i32
)
(
i32
.
load8_u
(
local
.
get
0
)
)
)
)
)
;
invoke
(
1
fill
[
1n
255
3n
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
0n
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
1n
]
)
[
value
(
"
i32
"
255
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
2n
]
)
[
value
(
"
i32
"
255
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
3n
]
)
[
value
(
"
i32
"
255
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
4n
]
)
[
value
(
"
i32
"
0
)
]
)
;
invoke
(
1
fill
[
0n
48042
2n
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
0n
]
)
[
value
(
"
i32
"
170
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
1
load8_u
[
1n
]
)
[
value
(
"
i32
"
170
)
]
)
;
invoke
(
1
fill
[
0n
0
65536n
]
)
;
invoke
(
1
fill
[
65536n
0
0n
]
)
;
assert_trap
(
(
)
=
>
invoke
(
1
fill
[
65537n
0
0n
]
)
out
of
bounds
)
;
let
2
=
instantiate
(
(
module
(
memory
i64
1
1
)
(
data
(
i64
.
const
0
)
"
\
\
aa
\
\
bb
\
\
cc
\
\
dd
"
)
(
func
(
export
"
copy
"
)
(
param
i64
i64
i64
)
(
memory
.
copy
(
local
.
get
0
)
(
local
.
get
1
)
(
local
.
get
2
)
)
)
(
func
(
export
"
load8_u
"
)
(
param
i64
)
(
result
i32
)
(
i32
.
load8_u
(
local
.
get
0
)
)
)
)
)
;
invoke
(
2
copy
[
10n
0n
4n
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
9n
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
10n
]
)
[
value
(
"
i32
"
170
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
11n
]
)
[
value
(
"
i32
"
187
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
12n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
13n
]
)
[
value
(
"
i32
"
221
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
14n
]
)
[
value
(
"
i32
"
0
)
]
)
;
invoke
(
2
copy
[
8n
10n
4n
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
8n
]
)
[
value
(
"
i32
"
170
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
9n
]
)
[
value
(
"
i32
"
187
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
10n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
11n
]
)
[
value
(
"
i32
"
221
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
12n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
13n
]
)
[
value
(
"
i32
"
221
)
]
)
;
invoke
(
2
copy
[
10n
7n
6n
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
10n
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
11n
]
)
[
value
(
"
i32
"
170
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
12n
]
)
[
value
(
"
i32
"
187
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
13n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
14n
]
)
[
value
(
"
i32
"
221
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
15n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
16n
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_trap
(
(
)
=
>
invoke
(
2
copy
[
13n
11n
-
1n
]
)
out
of
bounds
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
10n
]
)
[
value
(
"
i32
"
0
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
11n
]
)
[
value
(
"
i32
"
170
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
12n
]
)
[
value
(
"
i32
"
187
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
13n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
14n
]
)
[
value
(
"
i32
"
221
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
15n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
2
load8_u
[
16n
]
)
[
value
(
"
i32
"
0
)
]
)
;
invoke
(
2
copy
[
65280n
0n
256n
]
)
;
invoke
(
2
copy
[
65024n
65280n
256n
]
)
;
invoke
(
2
copy
[
65536n
0n
0n
]
)
;
invoke
(
2
copy
[
0n
65536n
0n
]
)
;
assert_trap
(
(
)
=
>
invoke
(
2
copy
[
65537n
0n
0n
]
)
out
of
bounds
)
;
assert_trap
(
(
)
=
>
invoke
(
2
copy
[
0n
65537n
0n
]
)
out
of
bounds
)
;
let
3
=
instantiate
(
(
module
(
memory
i64
1
)
(
data
"
\
\
aa
\
\
bb
\
\
cc
\
\
dd
"
)
(
func
(
export
"
init
"
)
(
param
i64
i32
i32
)
(
memory
.
init
0
(
local
.
get
0
)
(
local
.
get
1
)
(
local
.
get
2
)
)
)
(
func
(
export
"
load8_u
"
)
(
param
i64
)
(
result
i32
)
(
i32
.
load8_u
(
local
.
get
0
)
)
)
)
)
;
invoke
(
3
init
[
0n
1
2
]
)
;
assert_return
(
(
)
=
>
invoke
(
3
load8_u
[
0n
]
)
[
value
(
"
i32
"
187
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
3
load8_u
[
1n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
3
load8_u
[
2n
]
)
[
value
(
"
i32
"
0
)
]
)
;
invoke
(
3
init
[
65532n
0
4
]
)
;
assert_trap
(
(
)
=
>
invoke
(
3
init
[
65534n
0
3
]
)
out
of
bounds
)
;
assert_return
(
(
)
=
>
invoke
(
3
load8_u
[
65534n
]
)
[
value
(
"
i32
"
204
)
]
)
;
assert_return
(
(
)
=
>
invoke
(
3
load8_u
[
65535n
]
)
[
value
(
"
i32
"
221
)
]
)
;
invoke
(
3
init
[
65536n
0
0
]
)
;
invoke
(
3
init
[
0n
4
0
]
)
;
assert_trap
(
(
)
=
>
invoke
(
3
init
[
65537n
0
0
]
)
out
of
bounds
)
;
assert_trap
(
(
)
=
>
invoke
(
3
init
[
0n
5
0
]
)
out
of
bounds
)
;
invoke
(
3
init
[
0n
0
0
]
)
;
let
4
=
instantiate
(
(
module
(
memory
i64
1
)
(
data
"
"
)
(
data
(
i64
.
const
0
)
"
"
)
(
func
(
export
"
drop_passive
"
)
(
data
.
drop
0
)
)
(
func
(
export
"
init_passive
"
)
(
memory
.
init
0
(
i64
.
const
0
)
(
i32
.
const
0
)
(
i32
.
const
0
)
)
)
(
func
(
export
"
drop_active
"
)
(
data
.
drop
1
)
)
(
func
(
export
"
init_active
"
)
(
memory
.
init
1
(
i64
.
const
0
)
(
i32
.
const
0
)
(
i32
.
const
0
)
)
)
)
)
;
invoke
(
4
init_passive
[
]
)
;
invoke
(
4
drop_passive
[
]
)
;
invoke
(
4
drop_passive
[
]
)
;
invoke
(
4
drop_active
[
]
)
;

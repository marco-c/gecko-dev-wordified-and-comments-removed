let
ins1
=
wasmEvalText
(
(
module
(
memory
(
export
"
mem
"
)
1
1
)
(
func
(
export
"
memref
"
)
(
result
i32
)
(
i32
.
load
(
i32
.
const
0
)
)
)
)
)
;
let
ins2
=
wasmEvalText
(
(
module
(
import
"
mod1
"
"
memref
"
(
func
memref
(
result
i32
)
)
)
(
func
(
export
"
run
"
)
(
result
i32
)
(
return_call
g
)
)
(
func
g
(
result
i32
)
(
return_call
memref
)
)
)
{
mod1
:
ins1
.
exports
}
)
;
(
new
Int32Array
(
ins1
.
exports
.
mem
.
buffer
)
)
[
0
]
=
1337
;
assertEq
(
ins2
.
exports
.
run
(
)
1337
)
;

load
(
libdir
+
"
asserts
.
js
"
)
;
let
globalDecCalled
=
false
;
function
globalDec
(
value
context
)
{
globalDecCalled
=
true
;
assertEq
(
this
globalThis
)
;
}
let
c
;
let
classDecCalled
=
false
;
class
C
{
classDec
(
value
context
)
{
classDecCalled
=
true
;
assertEq
(
c
this
)
;
return
function
(
initialValue
)
{
assertEq
(
this
instanceof
D
true
)
;
return
initialValue
;
}
}
}
c
=
new
C
(
)
;
class
D
{
globalDec
x1
;
c
.
classDec
x2
;
}
let
d
=
new
D
(
)
;
assertEq
(
globalDecCalled
true
)
;
assertEq
(
classDecCalled
true
)
;

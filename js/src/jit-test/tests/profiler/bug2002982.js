setJitCompilerOption
(
"
baseline
.
warmup
.
trigger
"
5
)
;
function
compute
(
x
)
{
return
x
*
x
;
}
enableGeckoProfiling
(
)
;
for
(
let
i
=
0
;
i
<
10
;
i
+
+
)
{
compute
(
i
)
;
}
const
countBefore
=
getGeckoProfilingScriptSourcesCount
(
)
;
assertEq
(
countBefore
>
0
true
"
Expected
to
have
at
least
one
registered
script
source
"
)
;
disableGeckoProfiling
(
)
;
enableGeckoProfiling
(
)
;
for
(
let
i
=
0
;
i
<
10
;
i
+
+
)
{
compute
(
i
)
;
}
const
countAfter
=
getGeckoProfilingScriptSourcesCount
(
)
;
assertEq
(
countAfter
countBefore
Expected
the
same
amount
of
script
sources
to
be
registered
.
Before
:
{
countBefore
}
After
:
{
countAfter
}
)
;
disableGeckoProfiling
(
)
;

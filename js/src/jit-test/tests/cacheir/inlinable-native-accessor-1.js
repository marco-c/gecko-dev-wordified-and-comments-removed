var
SetSize
=
Object
.
getOwnPropertyDescriptor
(
Set
.
prototype
"
size
"
)
.
get
;
Set
.
prototype
.
getSize
=
SetSize
;
var
sets
=
[
new
Set
(
)
new
Set
(
[
1
2
3
]
)
]
;
function
testInlinableAccessorAsMethod
(
)
{
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
var
set
=
sets
[
i
&
1
]
;
assertEq
(
set
.
getSize
(
)
set
.
size
)
;
}
}
testInlinableAccessorAsMethod
(
)
;
function
testInlinableAccessorWithFunCall
(
)
{
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
var
set
=
sets
[
i
&
1
]
;
assertEq
(
SetSize
.
call
(
set
)
set
.
size
)
;
}
}
testInlinableAccessorWithFunCall
(
)
;
function
testInlinableAccessorWithFunApply
(
)
{
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
var
set
=
sets
[
i
&
1
]
;
assertEq
(
SetSize
.
apply
(
set
)
set
.
size
)
;
}
}
testInlinableAccessorWithFunApply
(
)
;
function
testInlinableAccessorWithBoundFunCall
(
)
{
var
callSetSize
=
Function
.
prototype
.
call
.
bind
(
SetSize
)
;
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
var
set
=
sets
[
i
&
1
]
;
assertEq
(
callSetSize
(
set
)
set
.
size
)
;
}
}
testInlinableAccessorWithBoundFunCall
(
)
;
function
testInlinableAccessorWithBoundFunApply
(
)
{
var
applySetSize
=
Function
.
prototype
.
apply
.
bind
(
SetSize
)
;
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
var
set
=
sets
[
i
&
1
]
;
assertEq
(
applySetSize
(
set
)
set
.
size
)
;
}
}
testInlinableAccessorWithBoundFunApply
(
)
;
function
testBoundInlinableAccessor
(
)
{
var
boundSetSize
=
SetSize
.
bind
(
sets
[
0
]
)
;
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
assertEq
(
boundSetSize
(
)
sets
[
0
]
.
size
)
;
}
}
testBoundInlinableAccessor
(
)
;
function
testBoundInlinableAccessorWithFunCall
(
)
{
var
boundSetSize
=
SetSize
.
bind
(
sets
[
0
]
)
;
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
assertEq
(
boundSetSize
.
call
(
)
sets
[
0
]
.
size
)
;
}
}
testBoundInlinableAccessorWithFunCall
(
)
;
function
testBoundInlinableAccessorWithFunApply
(
)
{
var
boundSetSize
=
SetSize
.
bind
(
sets
[
0
]
)
;
for
(
var
i
=
0
;
i
<
100
;
+
+
i
)
{
assertEq
(
boundSetSize
.
apply
(
)
sets
[
0
]
.
size
)
;
}
}
testInlinableAccessorWithBoundFunApply
(
)
;

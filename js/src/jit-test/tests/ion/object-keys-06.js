load
(
libdir
+
'
array
-
compare
.
js
'
)
;
if
(
getJitCompilerOptions
(
)
[
"
ion
.
warmup
.
trigger
"
]
<
=
100
)
setJitCompilerOption
(
"
ion
.
warmup
.
trigger
"
100
)
;
gczeal
(
0
)
;
function
objKeysIterate
(
obj
expected
i
)
{
var
keys
=
Object
.
keys
(
obj
)
;
for
(
let
i
=
0
;
i
<
keys
.
length
;
i
+
+
)
{
assertEq
(
keys
[
i
]
expected
[
i
]
)
;
}
assertRecoveredOnBailout
(
keys
true
)
;
}
function
objKeysIterateMutated
(
obj
expected
i
)
{
var
keys
=
Object
.
keys
(
obj
)
;
obj
.
foo
=
42
;
for
(
let
i
=
0
;
i
<
keys
.
length
;
i
+
+
)
{
assertEq
(
keys
[
i
]
expected
[
i
]
)
;
}
assertRecoveredOnBailout
(
keys
true
)
;
}
eval
(
{
arraysEqual
}
)
;
let
obj
=
{
a
:
0
b
:
1
c
:
2
d
:
3
}
;
for
(
let
i
=
0
;
i
<
100
;
i
+
+
)
{
objKeysIterate
(
{
.
.
.
obj
}
[
"
a
"
"
b
"
"
c
"
"
d
"
]
i
)
;
objKeysIterateMutated
(
{
.
.
.
obj
}
[
"
a
"
"
b
"
"
c
"
"
d
"
]
i
)
;
}

for
(
let
holder
of
[
"
String
.
prototype
"
"
Object
.
prototype
"
]
)
{
for
(
let
sym
of
[
"
Symbol
.
match
"
"
Symbol
.
replace
"
"
Symbol
.
search
"
"
Symbol
.
split
"
]
)
{
newGlobal
(
)
.
evaluate
(
assertEq
(
getFuseState
(
)
.
OptimizeStringPrototypeSymbolsFuse
.
intact
true
)
;
{
holder
}
[
{
sym
}
]
=
null
;
assertEq
(
getFuseState
(
)
.
OptimizeStringPrototypeSymbolsFuse
.
intact
false
)
;
)
;
}
}
newGlobal
(
)
.
evaluate
(
assertEq
(
getFuseState
(
)
.
OptimizeStringPrototypeSymbolsFuse
.
intact
true
)
;
Object
.
setPrototypeOf
(
String
.
prototype
Object
.
prototype
)
;
assertEq
(
getFuseState
(
)
.
OptimizeStringPrototypeSymbolsFuse
.
intact
true
)
;
Object
.
setPrototypeOf
(
String
.
prototype
{
}
)
;
assertEq
(
getFuseState
(
)
.
OptimizeStringPrototypeSymbolsFuse
.
intact
false
)
;
)
;

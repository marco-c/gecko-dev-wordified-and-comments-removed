function
checkPropertyDescriptor
(
obj
property
writable
enumerable
configurable
)
{
let
desc
=
Object
.
getOwnPropertyDescriptor
(
obj
property
)
;
assertEq
(
typeof
desc
"
object
"
)
;
assertEq
(
desc
.
writable
writable
)
;
assertEq
(
desc
.
enumerable
enumerable
)
;
assertEq
(
desc
.
configurable
configurable
)
;
}
function
assertThrowsTypeError
(
thunk
)
{
let
error
;
try
{
thunk
(
)
;
}
catch
(
e
)
{
error
=
e
;
}
assertEq
(
error
instanceof
TypeError
true
)
;
}
assertEq
(
typeof
this
.
FinalizationGroup
"
function
"
)
;
assertEq
(
Object
.
getPrototypeOf
(
FinalizationGroup
)
Function
.
prototype
)
;
checkPropertyDescriptor
(
FinalizationGroup
'
prototype
'
false
false
false
)
;
let
proto
=
FinalizationGroup
.
prototype
;
assertEq
(
Object
.
getPrototypeOf
(
proto
)
Object
.
prototype
)
;
assertEq
(
proto
.
constructor
FinalizationGroup
)
;
assertEq
(
proto
[
Symbol
.
toStringTag
]
"
FinalizationGroup
"
)
;
checkPropertyDescriptor
(
proto
Symbol
.
toStringTag
false
false
true
)
;
assertThrowsTypeError
(
(
)
=
>
new
FinalizationGroup
(
)
)
;
assertThrowsTypeError
(
(
)
=
>
new
FinalizationGroup
(
1
)
)
;
let
group
=
new
FinalizationGroup
(
x
=
>
1
)
;

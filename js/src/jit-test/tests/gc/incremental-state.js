if
(
!
(
"
gcstate
"
in
this
)
)
quit
(
)
;
gczeal
(
0
)
;
gc
(
)
;
assertEq
(
gcstate
(
)
"
NotActive
"
)
;
gcslice
(
1000000
)
;
while
(
gcstate
(
)
=
=
"
Finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
Decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
NotActive
"
)
;
gczeal
(
0
)
;
gcslice
(
1
)
;
assertEq
(
gcstate
(
)
"
Mark
"
)
;
gcslice
(
1000000
)
;
assertEq
(
gcstate
(
)
"
Mark
"
)
;
gcslice
(
1000000
)
;
while
(
gcstate
(
)
=
=
"
Finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
Decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
NotActive
"
)
;
gczeal
(
8
0
)
;
gcslice
(
1
)
;
assertEq
(
gcstate
(
)
"
Mark
"
)
;
gcslice
(
1
)
;
while
(
gcstate
(
)
=
=
"
Finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
Decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
NotActive
"
)
;
gczeal
(
9
0
)
;
gcslice
(
1
)
;
assertEq
(
gcstate
(
)
"
Mark
"
)
;
gcslice
(
1
)
;
while
(
gcstate
(
)
=
=
"
Finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
Decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
NotActive
"
)
;
gczeal
(
10
0
)
;
gcslice
(
1000000
)
;
assertEq
(
gcstate
(
)
"
Sweep
"
)
;
gcslice
(
1000000
)
;
while
(
gcstate
(
)
=
=
"
Finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
Decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
NotActive
"
)
;

if
(
!
(
"
gcstate
"
in
this
)
)
quit
(
)
;
gczeal
(
0
)
;
gc
(
)
;
assertEq
(
gcstate
(
)
"
none
"
)
;
gcslice
(
1000000
)
;
while
(
gcstate
(
)
=
=
"
finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
none
"
)
;
gczeal
(
0
)
;
gcslice
(
1
)
;
assertEq
(
gcstate
(
)
"
mark
"
)
;
gcslice
(
1000000
)
;
assertEq
(
gcstate
(
)
"
mark
"
)
;
gcslice
(
1000000
)
;
while
(
gcstate
(
)
=
=
"
finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
none
"
)
;
gczeal
(
8
0
)
;
gcslice
(
1
)
;
assertEq
(
gcstate
(
)
"
mark
"
)
;
gcslice
(
1
)
;
while
(
gcstate
(
)
=
=
"
finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
none
"
)
;
gczeal
(
9
0
)
;
gcslice
(
1
)
;
assertEq
(
gcstate
(
)
"
mark
"
)
;
gcslice
(
1
)
;
while
(
gcstate
(
)
=
=
"
finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
none
"
)
;
gczeal
(
10
0
)
;
gcslice
(
1000000
)
;
assertEq
(
gcstate
(
)
"
sweep
"
)
;
gcslice
(
1000000
)
;
while
(
gcstate
(
)
=
=
"
finalize
"
)
{
gcslice
(
1
)
;
}
while
(
gcstate
(
)
=
=
"
decommit
"
)
{
gcslice
(
1
)
;
}
assertEq
(
gcstate
(
)
"
none
"
)
;

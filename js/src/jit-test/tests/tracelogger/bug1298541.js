version
(
170
)
var
du
=
new
Debugger
(
)
;
if
(
typeof
du
.
drainTraceLoggerScriptCalls
=
=
"
function
"
)
{
du
.
setupTraceLoggerScriptCalls
(
)
;
du
.
startTraceLogger
(
)
;
test
(
)
;
du
.
endTraceLogger
(
)
;
var
objs
=
du
.
drainTraceLoggerScriptCalls
(
)
;
var
scripts
=
0
;
var
stops
=
0
;
for
(
var
i
=
0
;
i
<
objs
.
length
;
i
+
+
)
{
if
(
objs
[
i
]
.
logType
=
=
"
Script
"
)
{
scripts
+
+
;
}
else
if
(
objs
[
i
]
.
logType
=
=
"
Stop
"
)
{
stops
+
+
;
}
else
{
throw
"
We
shouldn
'
t
receive
non
-
script
events
.
"
;
}
}
assertEq
(
scripts
stops
+
1
)
;
}
function
test
(
)
{
for
(
var
i
in
(
function
(
)
{
for
(
var
j
=
0
;
j
<
4
;
+
+
j
)
{
yield
"
"
;
}
}
)
(
)
)
;
}

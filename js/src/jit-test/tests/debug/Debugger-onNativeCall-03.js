load
(
libdir
+
'
eqArrayHelper
.
js
'
)
;
var
g
=
newGlobal
(
{
newCompartment
:
true
}
)
;
var
dbg
=
Debugger
(
g
)
;
var
gdbg
=
dbg
.
addDebuggee
(
g
)
;
const
rv
=
[
]
;
dbg
.
onEnterFrame
=
f
=
>
{
rv
.
push
(
"
EnterFrame
"
)
;
}
;
dbg
.
onNativeCall
=
f
=
>
{
rv
.
push
(
f
.
displayName
)
;
}
;
gdbg
.
executeInGlobal
(
var
x
=
[
1
3
2
]
;
x
.
sort
(
(
a
b
)
=
>
{
print
(
a
)
}
)
;
)
;
const
validNames
=
[
"
EnterFrame
"
"
sort
"
"
print
"
]
;
const
filtered
=
rv
.
filter
(
name
=
>
validNames
.
includes
(
name
)
)
;
assertEq
(
filtered
.
length
<
rv
.
length
true
)
;
assertEqArray
(
filtered
[
"
EnterFrame
"
"
sort
"
"
EnterFrame
"
"
print
"
"
EnterFrame
"
"
print
"
]
)
;

load
(
libdir
+
"
dummyModuleResolveHook
.
js
"
)
;
let
b
=
moduleRepo
[
'
b
'
]
=
parseModule
(
"
export
var
b
=
3
;
export
var
c
=
4
;
"
)
;
let
c
=
moduleRepo
[
'
c
'
]
=
parseModule
(
"
export
*
from
'
a
'
;
export
*
from
'
b
'
;
"
)
;
let
e1
;
let
threw
=
false
;
try
{
instantiateModule
(
c
)
;
}
catch
(
exc
)
{
threw
=
true
;
e1
=
exc
;
}
assertEq
(
threw
true
)
;
assertEq
(
typeof
e1
=
=
=
"
undefined
"
false
)
;
let
a
=
moduleRepo
[
'
a
'
]
=
parseModule
(
"
export
var
a
=
1
;
export
var
b
=
2
;
"
)
;
let
d
=
moduleRepo
[
'
d
'
]
=
parseModule
(
"
import
{
a
}
from
'
c
'
;
a
;
"
)
;
threw
=
false
;
try
{
instantiateModule
(
d
)
;
}
catch
(
exc
)
{
threw
=
true
;
}
assertEq
(
threw
false
)
;

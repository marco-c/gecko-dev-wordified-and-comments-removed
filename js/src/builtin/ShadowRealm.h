#
ifndef
builtin_ShadowRealm_h
#
define
builtin_ShadowRealm_h
#
include
"
js
/
Wrapper
.
h
"
#
include
"
vm
/
GlobalObject
.
h
"
#
include
"
vm
/
NativeObject
.
h
"
namespace
js
{
class
ShadowRealmObject
:
public
NativeObject
{
public
:
static
const
JSClass
class_
;
static
const
JSClass
protoClass_
;
enum
{
GlobalSlot
SlotCount
}
;
static
bool
construct
(
JSContext
*
cx
unsigned
argc
Value
*
vp
)
;
Realm
*
getShadowRealm
(
)
{
MOZ_ASSERT
(
getWrappedGlobal
(
)
)
;
return
getWrappedGlobal
(
)
-
>
nonCCWRealm
(
)
;
}
JSObject
*
getWrappedGlobal
(
)
const
{
return
&
getFixedSlot
(
GlobalSlot
)
.
toObject
(
)
;
}
}
;
void
ReportPotentiallyDetailedMessage
(
JSContext
*
cx
const
unsigned
detailedError
const
unsigned
genericError
)
;
}
#
endif

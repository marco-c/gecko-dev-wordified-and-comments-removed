#
ifndef
builtin_intl_GlobalIntlData_h
#
define
builtin_intl_GlobalIntlData_h
#
include
"
gc
/
Barrier
.
h
"
#
include
"
js
/
TypeDecls
.
h
"
#
include
"
vm
/
JSObject
.
h
"
#
include
"
vm
/
StringType
.
h
"
class
JS_PUBLIC_API
JSTracer
;
namespace
js
{
class
CollatorObject
;
class
DateTimeFormatObject
;
class
NumberFormatObject
;
namespace
temporal
{
class
TimeZoneObject
;
}
}
namespace
js
:
:
intl
{
enum
class
DateTimeFormatKind
;
class
GlobalIntlData
{
GCPtr
<
JSLinearString
*
>
realmLocale_
;
GCPtr
<
JSLinearString
*
>
defaultLocale_
;
GCPtr
<
JSLinearString
*
>
realmTimeZone_
;
GCPtr
<
JSLinearString
*
>
defaultTimeZone_
;
GCPtr
<
JSObject
*
>
defaultTimeZoneObject_
;
GCPtr
<
JSObject
*
>
timeZoneObject_
;
GCPtr
<
JSLinearString
*
>
collatorLocale_
;
GCPtr
<
JSObject
*
>
collator_
;
GCPtr
<
JSLinearString
*
>
numberFormatLocale_
;
GCPtr
<
JSObject
*
>
numberFormat_
;
GCPtr
<
JSLinearString
*
>
dateTimeFormatLocale_
;
GCPtr
<
JSObject
*
>
dateTimeFormatToLocaleAll_
;
GCPtr
<
JSObject
*
>
dateTimeFormatToLocaleDate_
;
GCPtr
<
JSObject
*
>
dateTimeFormatToLocaleTime_
;
public
:
JSLinearString
*
defaultLocale
(
JSContext
*
cx
)
;
JSLinearString
*
defaultTimeZone
(
JSContext
*
cx
)
;
temporal
:
:
TimeZoneObject
*
getOrCreateDefaultTimeZone
(
JSContext
*
cx
)
;
temporal
:
:
TimeZoneObject
*
getOrCreateTimeZone
(
JSContext
*
cx
JS
:
:
Handle
<
JSLinearString
*
>
identifier
JS
:
:
Handle
<
JSLinearString
*
>
primaryIdentifier
)
;
CollatorObject
*
getOrCreateCollator
(
JSContext
*
cx
JS
:
:
Handle
<
JSLinearString
*
>
locale
)
;
NumberFormatObject
*
getOrCreateNumberFormat
(
JSContext
*
cx
JS
:
:
Handle
<
JSLinearString
*
>
locale
)
;
DateTimeFormatObject
*
getOrCreateDateTimeFormat
(
JSContext
*
cx
DateTimeFormatKind
kind
JS
:
:
Handle
<
JSLinearString
*
>
locale
)
;
void
trace
(
JSTracer
*
trc
)
;
private
:
bool
ensureRealmLocale
(
JSContext
*
cx
)
;
bool
ensureRealmTimeZone
(
JSContext
*
cx
)
;
void
resetCollator
(
)
;
void
resetNumberFormat
(
)
;
void
resetDateTimeFormat
(
)
;
}
;
}
#
endif

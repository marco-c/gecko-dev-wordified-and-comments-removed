function
ObjectGetOwnPropertyDescriptors
(
O
)
{
var
obj
=
ToObject
(
O
)
;
var
keys
=
OwnPropertyKeys
(
obj
JSITER_OWNONLY
|
JSITER_HIDDEN
|
JSITER_SYMBOLS
)
;
var
descriptors
=
{
}
;
for
(
var
index
=
0
len
=
keys
.
length
;
index
<
len
;
index
+
+
)
{
var
key
=
keys
[
index
]
;
var
desc
=
std_Object_getOwnPropertyDescriptor
(
obj
key
)
;
if
(
typeof
desc
!
=
=
"
undefined
"
)
_DefineDataProperty
(
descriptors
key
desc
)
;
}
return
descriptors
;
}
function
ObjectGetPrototypeOf
(
obj
)
{
return
std_Reflect_getPrototypeOf
(
ToObject
(
obj
)
)
;
}
function
ObjectIsExtensible
(
obj
)
{
return
IsObject
(
obj
)
&
&
std_Reflect_isExtensible
(
obj
)
;
}
function
Object_toLocaleString
(
)
{
var
O
=
this
;
return
callContentFunction
(
O
.
toString
O
)
;
}
function
Object_valueOf
(
)
{
return
ToObject
(
this
)
;
}
function
Object_hasOwnProperty
(
V
)
{
return
hasOwn
(
V
this
)
;
}
function
ObjectDefineSetter
(
name
setter
)
{
var
object
=
ToObject
(
this
)
;
if
(
!
IsCallable
(
setter
)
)
ThrowTypeError
(
JSMSG_BAD_GETTER_OR_SETTER
"
setter
"
)
;
var
desc
=
{
__proto__
:
null
enumerable
:
true
configurable
:
true
set
:
setter
}
;
var
key
=
ToPropertyKey
(
name
)
;
std_Object_defineProperty
(
object
key
desc
)
;
}
function
ObjectDefineGetter
(
name
getter
)
{
var
object
=
ToObject
(
this
)
;
if
(
!
IsCallable
(
getter
)
)
ThrowTypeError
(
JSMSG_BAD_GETTER_OR_SETTER
"
getter
"
)
;
var
desc
=
{
__proto__
:
null
enumerable
:
true
configurable
:
true
get
:
getter
}
;
var
key
=
ToPropertyKey
(
name
)
;
std_Object_defineProperty
(
object
key
desc
)
;
}
function
ObjectLookupSetter
(
name
)
{
var
object
=
ToObject
(
this
)
;
var
key
=
ToPropertyKey
(
name
)
do
{
var
desc
=
std_Object_getOwnPropertyDescriptor
(
object
key
)
;
if
(
desc
)
{
if
(
hasOwn
(
"
set
"
desc
)
)
return
desc
.
set
;
return
undefined
;
}
object
=
std_Reflect_getPrototypeOf
(
object
)
;
}
while
(
object
!
=
=
null
)
;
}
function
ObjectLookupGetter
(
name
)
{
var
object
=
ToObject
(
this
)
;
var
key
=
ToPropertyKey
(
name
)
do
{
var
desc
=
std_Object_getOwnPropertyDescriptor
(
object
key
)
;
if
(
desc
)
{
if
(
hasOwn
(
"
get
"
desc
)
)
return
desc
.
get
;
return
undefined
;
}
object
=
std_Reflect_getPrototypeOf
(
object
)
;
}
while
(
object
!
=
=
null
)
;
}

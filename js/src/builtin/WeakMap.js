function
WeakMapConstructorInit
(
iterable
)
{
var
map
=
this
;
var
adder
=
map
.
set
;
if
(
!
IsCallable
(
adder
)
)
ThrowTypeError
(
JSMSG_NOT_FUNCTION
typeof
adder
)
;
var
iterFn
=
iterable
[
std_iterator
]
;
if
(
!
IsCallable
(
iterFn
)
)
ThrowTypeError
(
JSMSG_NOT_ITERABLE
DecompileArg
(
0
iterable
)
)
;
var
iter
=
callContentFunction
(
iterFn
iterable
)
;
if
(
!
IsObject
(
iter
)
)
ThrowTypeError
(
JSMSG_NOT_NONNULL_OBJECT
typeof
iter
)
;
while
(
true
)
{
var
next
=
callContentFunction
(
iter
.
next
iter
)
;
if
(
!
IsObject
(
next
)
)
ThrowTypeError
(
JSMSG_NOT_NONNULL_OBJECT
typeof
next
)
;
if
(
next
.
done
)
return
;
var
nextItem
=
next
.
value
;
if
(
!
IsObject
(
nextItem
)
)
ThrowTypeError
(
JSMSG_INVALID_MAP_ITERABLE
"
WeakMap
"
)
;
callContentFunction
(
adder
map
nextItem
[
0
]
nextItem
[
1
]
)
;
}
}

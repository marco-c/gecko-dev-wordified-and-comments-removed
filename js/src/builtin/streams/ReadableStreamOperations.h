#
ifndef
builtin_streams_ReadableStreamOperations_h
#
define
builtin_streams_ReadableStreamOperations_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
#
include
"
js
/
Value
.
h
"
namespace
js
{
class
ReadableStream
;
class
ReadableStreamDefaultController
;
class
TeeState
;
enum
class
SourceAlgorithms
{
Script
Tee
}
;
extern
MOZ_MUST_USE
bool
SetUpReadableStreamDefaultController
(
JSContext
*
cx
JS
:
:
Handle
<
ReadableStream
*
>
stream
SourceAlgorithms
sourceAlgorithms
JS
:
:
Handle
<
JS
:
:
Value
>
underlyingSource
JS
:
:
Handle
<
JS
:
:
Value
>
pullMethod
JS
:
:
Handle
<
JS
:
:
Value
>
cancelMethod
double
highWaterMark
JS
:
:
Handle
<
JS
:
:
Value
>
size
)
;
extern
MOZ_MUST_USE
JSObject
*
ReadableStreamTee_Pull
(
JSContext
*
cx
JS
:
:
Handle
<
TeeState
*
>
unwrappedTeeState
)
;
extern
MOZ_MUST_USE
JSObject
*
ReadableStreamTee_Cancel
(
JSContext
*
cx
JS
:
:
Handle
<
TeeState
*
>
unwrappedTeeState
JS
:
:
Handle
<
ReadableStreamDefaultController
*
>
unwrappedBranch
JS
:
:
Handle
<
JS
:
:
Value
>
reason
)
;
extern
MOZ_MUST_USE
bool
ReadableStreamTee
(
JSContext
*
cx
JS
:
:
Handle
<
ReadableStream
*
>
unwrappedStream
bool
cloneForBranch2
JS
:
:
MutableHandle
<
ReadableStream
*
>
branch1Stream
JS
:
:
MutableHandle
<
ReadableStream
*
>
branch2Stream
)
;
}
#
endif

#
ifndef
debugger_Environment_h
#
define
debugger_Environment_h
#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
jstypes
.
h
"
#
include
"
NamespaceImports
.
h
"
#
include
"
debugger
/
Debugger
.
h
"
#
include
"
gc
/
Rooting
.
h
"
#
include
"
js
/
PropertySpec
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
#
include
"
vm
/
NativeObject
.
h
"
#
include
"
vm
/
Scope
.
h
"
class
JS_PUBLIC_API
JSObject
;
struct
JS_PUBLIC_API
JSContext
;
class
JSTracer
;
namespace
js
{
class
GlobalObject
;
enum
class
DebuggerEnvironmentType
{
Declarative
With
Object
}
;
class
DebuggerEnvironment
:
public
NativeObject
{
public
:
enum
{
OWNER_SLOT
}
;
static
const
unsigned
RESERVED_SLOTS
=
1
;
static
const
JSClass
class_
;
static
NativeObject
*
initClass
(
JSContext
*
cx
Handle
<
GlobalObject
*
>
global
HandleObject
dbgCtor
)
;
static
DebuggerEnvironment
*
create
(
JSContext
*
cx
HandleObject
proto
HandleObject
referent
HandleNativeObject
debugger
)
;
void
trace
(
JSTracer
*
trc
)
;
DebuggerEnvironmentType
type
(
)
const
;
mozilla
:
:
Maybe
<
ScopeKind
>
scopeKind
(
)
const
;
MOZ_MUST_USE
bool
getParent
(
JSContext
*
cx
MutableHandleDebuggerEnvironment
result
)
const
;
MOZ_MUST_USE
bool
getObject
(
JSContext
*
cx
MutableHandleDebuggerObject
result
)
const
;
MOZ_MUST_USE
bool
getCallee
(
JSContext
*
cx
MutableHandleDebuggerObject
result
)
const
;
bool
isDebuggee
(
)
const
;
bool
isOptimized
(
)
const
;
static
MOZ_MUST_USE
bool
getNames
(
JSContext
*
cx
HandleDebuggerEnvironment
environment
MutableHandle
<
IdVector
>
result
)
;
static
MOZ_MUST_USE
bool
find
(
JSContext
*
cx
HandleDebuggerEnvironment
environment
HandleId
id
MutableHandleDebuggerEnvironment
result
)
;
static
MOZ_MUST_USE
bool
getVariable
(
JSContext
*
cx
HandleDebuggerEnvironment
environment
HandleId
id
MutableHandleValue
result
)
;
static
MOZ_MUST_USE
bool
setVariable
(
JSContext
*
cx
HandleDebuggerEnvironment
environment
HandleId
id
HandleValue
value
)
;
bool
isInstance
(
)
const
;
Debugger
*
owner
(
)
const
;
Env
*
referent
(
)
const
{
Env
*
env
=
static_cast
<
Env
*
>
(
getPrivate
(
)
)
;
MOZ_ASSERT
(
env
)
;
return
env
;
}
private
:
static
const
JSClassOps
classOps_
;
static
const
JSPropertySpec
properties_
[
]
;
static
const
JSFunctionSpec
methods_
[
]
;
bool
requireDebuggee
(
JSContext
*
cx
)
const
;
static
MOZ_MUST_USE
bool
construct
(
JSContext
*
cx
unsigned
argc
Value
*
vp
)
;
struct
CallData
;
}
;
}
#
endif

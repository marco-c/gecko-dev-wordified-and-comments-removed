#
ifndef
js_shadow_Function_h
#
define
js_shadow_Function_h
#
include
<
stdint
.
h
>
#
include
"
jstypes
.
h
"
#
include
"
js
/
CallArgs
.
h
"
#
include
"
js
/
shadow
/
Object
.
h
"
#
include
"
js
/
Value
.
h
"
class
JS_PUBLIC_API
JSFunction
;
class
JSJitInfo
;
namespace
JS
{
namespace
shadow
{
struct
Function
:
shadow
:
:
Object
{
enum
{
FlagsAndArgCountSlot
NativeFuncOrInterpretedEnvSlot
NativeJitInfoOrInterpretedScriptSlot
AtomSlot
}
;
uint32_t
flagsAndArgCount
(
)
const
{
return
fixedSlots
(
)
[
FlagsAndArgCountSlot
]
.
toPrivateUint32
(
)
;
}
void
*
jitInfoOrScript
(
)
const
{
return
fixedSlots
(
)
[
NativeJitInfoOrInterpretedScriptSlot
]
.
toPrivate
(
)
;
}
void
setJitInfoOrScript
(
void
*
ptr
)
{
fixedSlots
(
)
[
NativeJitInfoOrInterpretedScriptSlot
]
=
JS
:
:
PrivateValue
(
ptr
)
;
}
}
;
}
}
#
endif

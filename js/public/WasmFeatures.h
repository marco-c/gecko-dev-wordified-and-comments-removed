#
ifndef
js_WasmFeatures_h
#
define
js_WasmFeatures_h
#
ifdef
ENABLE_WASM_RELAXED_SIMD
#
define
WASM_RELAXED_SIMD_ENABLED
1
#
else
#
define
WASM_RELAXED_SIMD_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_MEMORY_CONTROL
#
define
WASM_MEMORY_CONTROL_ENABLED
1
#
else
#
define
WASM_MEMORY_CONTROL_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_JSPI
#
define
WASM_JSPI_ENABLED
1
#
else
#
define
WASM_JSPI_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_MOZ_INTGEMM
#
define
WASM_MOZ_INTGEMM_ENABLED
1
#
else
#
define
WASM_MOZ_INTGEMM_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_BRANCH_HINTING
#
define
WASM_BRANCH_HINTING_ENABLED
1
#
else
#
define
WASM_BRANCH_HINTING_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_CUSTOM_PAGE_SIZES
#
define
WASM_CUSTOM_PAGE_SIZES_ENABLED
1
#
else
#
define
WASM_CUSTOM_PAGE_SIZES_ENABLED
0
#
endif
#
define
JS_FOR_WASM_FEATURES
(
FEATURE
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
RelaxedSimd
\
/
*
lower
case
name
*
/
v128Relaxed
\
/
*
compile
predicate
*
/
WASM_RELAXED_SIMD_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
js
:
:
jit
:
:
JitSupportsWasmSimd
(
)
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
relaxed_simd
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
MemoryControl
\
/
*
lower
case
name
*
/
memoryControl
\
/
*
compile
predicate
*
/
WASM_MEMORY_CONTROL_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
memory_control
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
JSPromiseIntegration
\
/
*
lower
case
name
*
/
jsPromiseIntegration
\
/
*
compile
predicate
*
/
WASM_JSPI_ENABLED
\
/
*
compiler
predicate
*
/
IonPlatformSupport
(
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
js_promise_integration
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
MozIntGemm
\
/
*
lower
case
name
*
/
mozIntGemm
\
/
*
compile
predicate
*
/
WASM_MOZ_INTGEMM_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
IsPrivilegedContext
(
cx
)
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
moz_intgemm
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
TestSerialization
\
/
*
lower
case
name
*
/
testSerialization
\
/
*
compile
predicate
*
/
1
\
/
*
compiler
predicate
*
/
IonAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
test_serialization
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
BranchHinting
\
/
*
lower
case
name
*
/
branchHinting
\
/
*
compile
predicate
*
/
WASM_BRANCH_HINTING_ENABLED
\
/
*
compiler
predicate
*
/
true
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
branch_hinting
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
CustomPageSizes
\
/
*
lower
case
name
*
/
customPageSizes
\
/
*
compile
predicate
*
/
WASM_CUSTOM_PAGE_SIZES_ENABLED
\
/
*
compiler
predicate
*
/
BaselineAvailable
(
cx
)
\
/
*
flag
predicate
*
/
!
IsFuzzingIon
(
cx
)
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
custom_page_sizes
)
#
endif

#
ifndef
js_WasmFeatures_h
#
define
js_WasmFeatures_h
#
ifdef
ENABLE_WASM_RELAXED_SIMD
#
define
WASM_RELAXED_SIMD_ENABLED
1
#
else
#
define
WASM_RELAXED_SIMD_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_GC
#
define
WASM_GC_ENABLED
1
#
else
#
define
WASM_GC_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_MEMORY64
#
define
WASM_MEMORY64_ENABLED
1
#
else
#
define
WASM_MEMORY64_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_MEMORY_CONTROL
#
define
WASM_MEMORY_CONTROL_ENABLED
1
#
else
#
define
WASM_MEMORY_CONTROL_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_TAIL_CALLS
#
define
WASM_TAIL_CALLS_ENABLED
1
#
else
#
define
WASM_TAIL_CALLS_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_JSPI
#
define
WASM_JSPI_ENABLED
1
#
else
#
define
WASM_JSPI_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_MOZ_INTGEMM
#
define
WASM_MOZ_INTGEMM_ENABLED
1
#
else
#
define
WASM_MOZ_INTGEMM_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_MULTI_MEMORY
#
define
WASM_MULTI_MEMORY_ENABLED
1
#
else
#
define
WASM_MULTI_MEMORY_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_BRANCH_HINTING
#
define
WASM_BRANCH_HINTING_ENABLED
1
#
else
#
define
WASM_BRANCH_HINTING_ENABLED
0
#
endif
#
ifdef
ENABLE_WASM_JS_STRING_BUILTINS
#
define
WASM_JS_STRING_BUILTINS_ENABLED
1
#
else
#
define
WASM_JS_STRING_BUILTINS_ENABLED
0
#
endif
#
define
JS_FOR_WASM_FEATURES
(
FEATURE
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
ExnRef
\
/
*
lower
case
name
*
/
exnref
\
/
*
compile
predicate
*
/
true
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
exnref
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
Gc
\
/
*
lower
case
name
*
/
gc
\
/
*
compile
predicate
*
/
WASM_GC_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
gc
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
JSStringBuiltins
\
/
*
lower
case
name
*
/
jsStringBuiltins
\
/
*
compile
predicate
*
/
WASM_JS_STRING_BUILTINS_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
js_string_builtins
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
RelaxedSimd
\
/
*
lower
case
name
*
/
v128Relaxed
\
/
*
compile
predicate
*
/
WASM_RELAXED_SIMD_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
js
:
:
jit
:
:
JitSupportsWasmSimd
(
)
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
relaxed_simd
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
Memory64
\
/
*
lower
case
name
*
/
memory64
\
/
*
compile
predicate
*
/
WASM_MEMORY64_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
memory64
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
MemoryControl
\
/
*
lower
case
name
*
/
memoryControl
\
/
*
compile
predicate
*
/
WASM_MEMORY_CONTROL_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
memory_control
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
MultiMemory
\
/
*
lower
case
name
*
/
multiMemory
\
/
*
compile
predicate
*
/
WASM_MULTI_MEMORY_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
multi_memory
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
TailCalls
\
/
*
lower
case
name
*
/
tailCalls
\
/
*
compile
predicate
*
/
WASM_TAIL_CALLS_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
tail_calls
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
JSPromiseIntegration
\
/
*
lower
case
name
*
/
jsPromiseIntegration
\
/
*
compile
predicate
*
/
WASM_JSPI_ENABLED
\
/
*
compiler
predicate
*
/
IonAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
js_promise_integration
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
MozIntGemm
\
/
*
lower
case
name
*
/
mozIntGemm
\
/
*
compile
predicate
*
/
WASM_MOZ_INTGEMM_ENABLED
\
/
*
compiler
predicate
*
/
AnyCompilerAvailable
(
cx
)
\
/
*
flag
predicate
*
/
IsSimdPrivilegedContext
(
cx
)
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
moz_intgemm
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
TestSerialization
\
/
*
lower
case
name
*
/
testSerialization
\
/
*
compile
predicate
*
/
1
\
/
*
compiler
predicate
*
/
IonAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
test_serialization
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
ExperimentalCompilePipeline
\
/
*
lower
case
name
*
/
experimentalCompilePipeline
\
/
*
compile
predicate
*
/
true
\
/
*
compiler
predicate
*
/
true
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
false
\
/
*
preference
name
*
/
experimental_compile_pipeline
)
\
FEATURE
(
\
/
*
capitalized
name
*
/
BranchHinting
\
/
*
lower
case
name
*
/
branchHinting
\
/
*
compile
predicate
*
/
WASM_BRANCH_HINTING_ENABLED
\
/
*
compiler
predicate
*
/
IonAvailable
(
cx
)
\
/
*
flag
predicate
*
/
true
\
/
*
flag
force
enable
*
/
false
\
/
*
flag
fuzz
enable
*
/
true
\
/
*
preference
name
*
/
branch_hinting
)
#
endif

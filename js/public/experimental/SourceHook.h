#
ifndef
js_experimental_SourceHook_h
#
define
js_experimental_SourceHook_h
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
<
stddef
.
h
>
#
include
"
jstypes
.
h
"
struct
JS_PUBLIC_API
JSContext
;
namespace
js
{
class
SourceHook
{
public
:
virtual
~
SourceHook
(
)
=
default
;
virtual
bool
load
(
JSContext
*
cx
const
char
*
filename
char16_t
*
*
twoByteSource
char
*
*
utf8Source
size_t
*
length
)
=
0
;
}
;
extern
JS_PUBLIC_API
void
SetSourceHook
(
JSContext
*
cx
mozilla
:
:
UniquePtr
<
SourceHook
>
hook
)
;
extern
JS_PUBLIC_API
mozilla
:
:
UniquePtr
<
SourceHook
>
ForgetSourceHook
(
JSContext
*
cx
)
;
}
#
endif

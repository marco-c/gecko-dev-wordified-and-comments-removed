#
ifndef
js_Exception_h
#
define
js_Exception_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
jspubtd
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
#
include
"
js
/
Value
.
h
"
namespace
JS
{
class
MOZ_STACK_CLASS
ExceptionStack
{
Rooted
<
Value
>
exception_
;
Rooted
<
JSObject
*
>
stack_
;
friend
JS_PUBLIC_API
bool
GetPendingExceptionStack
(
JSContext
*
cx
JS
:
:
ExceptionStack
*
exceptionStack
)
;
void
init
(
HandleValue
exception
HandleObject
stack
)
{
exception_
=
exception
;
stack_
=
stack
;
}
public
:
explicit
ExceptionStack
(
JSContext
*
cx
)
:
exception_
(
cx
)
stack_
(
cx
)
{
}
ExceptionStack
(
JSContext
*
cx
HandleValue
exception
HandleObject
stack
)
:
exception_
(
cx
exception
)
stack_
(
cx
stack
)
{
}
HandleValue
exception
(
)
const
{
return
exception_
;
}
HandleObject
stack
(
)
const
{
return
stack_
;
}
}
;
extern
JS_PUBLIC_API
bool
GetPendingExceptionStack
(
JSContext
*
cx
JS
:
:
ExceptionStack
*
exceptionStack
)
;
extern
JS_PUBLIC_API
bool
StealPendingExceptionStack
(
JSContext
*
cx
JS
:
:
ExceptionStack
*
exceptionStack
)
;
extern
JS_PUBLIC_API
void
SetPendingExceptionStack
(
JSContext
*
cx
const
JS
:
:
ExceptionStack
&
exceptionStack
)
;
}
#
endif

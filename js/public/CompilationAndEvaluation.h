#
ifndef
js_CompilationAndEvaluation_h
#
define
js_CompilationAndEvaluation_h
#
include
"
mozilla
/
Utf8
.
h
"
#
include
<
stddef
.
h
>
#
include
<
stdio
.
h
>
#
include
"
jstypes
.
h
"
#
include
"
js
/
CompileOptions
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
#
include
"
js
/
Value
.
h
"
struct
JSContext
;
class
JSFunction
;
class
JSObject
;
class
JSScript
;
namespace
JS
{
template
<
typename
UnitT
>
class
SourceText
;
}
extern
JS_PUBLIC_API
bool
JS_Utf8BufferIsCompilableUnit
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
obj
const
char
*
utf8
size_t
length
)
;
extern
JS_PUBLIC_API
bool
JS_ExecuteScript
(
JSContext
*
cx
JS
:
:
Handle
<
JSScript
*
>
script
JS
:
:
MutableHandle
<
JS
:
:
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
JS_ExecuteScript
(
JSContext
*
cx
JS
:
:
Handle
<
JSScript
*
>
script
)
;
extern
JS_PUBLIC_API
bool
JS_ExecuteScript
(
JSContext
*
cx
JS
:
:
HandleObjectVector
envChain
JS
:
:
Handle
<
JSScript
*
>
script
JS
:
:
MutableHandle
<
JS
:
:
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
JS_ExecuteScript
(
JSContext
*
cx
JS
:
:
HandleObjectVector
envChain
JS
:
:
Handle
<
JSScript
*
>
script
)
;
namespace
JS
{
extern
JS_PUBLIC_API
bool
CloneAndExecuteScript
(
JSContext
*
cx
Handle
<
JSScript
*
>
script
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
CloneAndExecuteScript
(
JSContext
*
cx
HandleObjectVector
envChain
Handle
<
JSScript
*
>
script
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
Evaluate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
char16_t
>
&
srcBuf
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
Evaluate
(
JSContext
*
cx
HandleObjectVector
envChain
const
ReadOnlyCompileOptions
&
options
SourceText
<
char16_t
>
&
srcBuf
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
Evaluate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
EvaluateDontInflate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
EvaluateUtf8Path
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
const
char
*
filename
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
bool
EvaluateUtf8PathDontInflate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
const
char
*
filename
MutableHandle
<
Value
>
rval
)
;
extern
JS_PUBLIC_API
JSScript
*
Compile
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
char16_t
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSScript
*
Compile
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileDontInflate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileUtf8File
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
FILE
*
file
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileUtf8FileDontInflate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
FILE
*
file
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileUtf8Path
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
const
char
*
filename
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileUtf8PathDontInflate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
const
char
*
filename
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileForNonSyntacticScope
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
char16_t
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileForNonSyntacticScope
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSScript
*
CompileForNonSyntacticScopeDontInflate
(
JSContext
*
cx
const
ReadOnlyCompileOptions
&
options
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSFunction
*
CompileFunction
(
JSContext
*
cx
HandleObjectVector
envChain
const
ReadOnlyCompileOptions
&
options
const
char
*
name
unsigned
nargs
const
char
*
const
*
argnames
SourceText
<
char16_t
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSFunction
*
CompileFunction
(
JSContext
*
cx
HandleObjectVector
envChain
const
ReadOnlyCompileOptions
&
options
const
char
*
name
unsigned
nargs
const
char
*
const
*
argnames
SourceText
<
mozilla
:
:
Utf8Unit
>
&
srcBuf
)
;
extern
JS_PUBLIC_API
JSFunction
*
CompileFunctionUtf8
(
JSContext
*
cx
HandleObjectVector
envChain
const
ReadOnlyCompileOptions
&
options
const
char
*
name
unsigned
nargs
const
char
*
const
*
argnames
const
char
*
utf8
size_t
length
)
;
extern
JS_PUBLIC_API
bool
InitScriptSourceElement
(
JSContext
*
cx
Handle
<
JSScript
*
>
script
Handle
<
JSObject
*
>
element
Handle
<
JSString
*
>
elementAttrName
=
nullptr
)
;
extern
JS_PUBLIC_API
void
ExposeScriptToDebugger
(
JSContext
*
cx
Handle
<
JSScript
*
>
script
)
;
}
#
endif

#
ifndef
mozilla_jsipc_JavaScriptChild_h_
#
define
mozilla_jsipc_JavaScriptChild_h_
#
include
"
JavaScriptBase
.
h
"
#
include
"
mozilla
/
jsipc
/
PJavaScriptChild
.
h
"
namespace
mozilla
{
namespace
jsipc
{
class
JavaScriptChild
:
public
JavaScriptBase
<
PJavaScriptChild
>
{
public
:
JavaScriptChild
(
)
:
strongReferenceObjIdMinimum_
(
0
)
{
}
virtual
~
JavaScriptChild
(
)
;
bool
init
(
)
;
void
trace
(
JSTracer
*
trc
)
;
void
updateWeakPointers
(
)
;
void
drop
(
JSObject
*
obj
)
;
bool
allowMessage
(
JSContext
*
cx
)
override
{
return
true
;
}
protected
:
virtual
bool
isParent
(
)
override
{
return
false
;
}
virtual
JSObject
*
scopeForTargetObjects
(
)
override
;
bool
RecvDropTemporaryStrongReferences
(
const
uint64_t
&
upToObjId
)
override
;
private
:
bool
fail
(
JSContext
*
cx
ReturnStatus
*
rs
)
;
bool
ok
(
ReturnStatus
*
rs
)
;
uint64_t
strongReferenceObjIdMinimum_
;
}
;
}
}
#
endif

#
ifndef
__CrossOriginWrapper_h__
#
define
__CrossOriginWrapper_h__
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
js
/
Wrapper
.
h
"
namespace
xpc
{
class
WaiveXrayWrapper
:
public
js
:
:
CrossCompartmentWrapper
{
public
:
explicit
constexpr
WaiveXrayWrapper
(
unsigned
flags
)
:
js
:
:
CrossCompartmentWrapper
(
flags
)
{
}
virtual
bool
getOwnPropertyDescriptor
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
wrapper
JS
:
:
Handle
<
jsid
>
id
JS
:
:
MutableHandle
<
JS
:
:
PropertyDescriptor
>
desc
)
const
override
;
virtual
bool
getPrototype
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
wrapper
JS
:
:
MutableHandle
<
JSObject
*
>
protop
)
const
override
;
virtual
bool
getPrototypeIfOrdinary
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
wrapper
bool
*
isOrdinary
JS
:
:
MutableHandle
<
JSObject
*
>
protop
)
const
override
;
virtual
bool
get
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
wrapper
JS
:
:
Handle
<
JS
:
:
Value
>
receiver
JS
:
:
Handle
<
jsid
>
id
JS
:
:
MutableHandle
<
JS
:
:
Value
>
vp
)
const
override
;
virtual
bool
call
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
wrapper
const
JS
:
:
CallArgs
&
args
)
const
override
;
virtual
bool
construct
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
wrapper
const
JS
:
:
CallArgs
&
args
)
const
override
;
virtual
bool
nativeCall
(
JSContext
*
cx
JS
:
:
IsAcceptableThis
test
JS
:
:
NativeImpl
impl
const
JS
:
:
CallArgs
&
args
)
const
override
;
virtual
bool
hasInstance
(
JSContext
*
cx
JS
:
:
HandleObject
wrapper
JS
:
:
MutableHandleValue
v
bool
*
bp
)
const
override
;
static
const
WaiveXrayWrapper
singleton
;
}
;
}
#
endif

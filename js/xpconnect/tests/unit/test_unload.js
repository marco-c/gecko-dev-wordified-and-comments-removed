function
run_test
(
)
{
var
scope1
=
{
}
;
var
exports1
=
ChromeUtils
.
import
(
"
resource
:
/
/
test
/
TestBlob
.
jsm
"
scope1
)
;
var
scope2
=
{
}
;
var
exports2
=
ChromeUtils
.
import
(
"
resource
:
/
/
test
/
TestBlob
.
jsm
"
scope2
)
;
Assert
.
ok
(
exports1
=
=
=
exports2
)
;
Assert
.
ok
(
scope1
.
TestBlob
=
=
=
scope2
.
TestBlob
)
;
Cu
.
unload
(
"
resource
:
/
/
test
/
TestBlob
.
jsm
"
)
;
var
scope3
=
{
}
;
var
exports3
=
ChromeUtils
.
import
(
"
resource
:
/
/
test
/
TestBlob
.
jsm
"
scope3
)
;
Assert
.
equal
(
false
exports1
=
=
=
exports3
)
;
Assert
.
equal
(
false
scope1
.
TestBlob
=
=
=
scope3
.
TestBlob
)
;
try
{
scope1
.
TestBlob
.
doTest
(
(
)
=
>
{
}
)
;
}
catch
(
e
)
{
}
try
{
scope3
.
TestBlob
.
doTest
(
(
)
=
>
{
}
)
;
}
catch
(
e
)
{
}
}

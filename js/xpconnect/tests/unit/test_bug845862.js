function
run_test
(
)
{
var
sb
=
new
Cu
.
Sandbox
(
'
http
:
/
/
www
.
example
.
com
'
{
wantXrays
:
false
}
)
;
Cu
.
evalInSandbox
(
"
this
.
foo
=
{
}
;
Object
.
defineProperty
(
foo
'
bar
'
{
get
:
function
(
)
{
return
{
}
;
}
}
)
;
"
sb
)
;
Assert
.
ok
(
sb
.
foo
!
=
XPCNativeWrapper
(
sb
.
foo
)
"
sb
.
foo
is
waived
"
)
;
var
desc
=
Object
.
getOwnPropertyDescriptor
(
sb
.
foo
'
bar
'
)
;
var
b
=
desc
.
get
(
)
;
Assert
.
ok
(
b
!
=
XPCNativeWrapper
(
b
)
"
results
from
accessor
descriptors
are
waived
"
)
;
}

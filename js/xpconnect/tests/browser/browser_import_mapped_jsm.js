"
use
strict
"
;
const
JSMs
=
[
"
resource
:
/
/
/
modules
/
AboutNewTab
.
jsm
"
"
resource
:
/
/
/
modules
/
CustomizableUI
.
jsm
"
"
resource
:
/
/
/
modules
/
UITour
.
jsm
"
"
resource
:
/
/
/
modules
/
distribution
.
js
"
"
resource
:
/
/
gre
/
modules
/
AddonManager
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
AppConstants
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
AsyncShutdown
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
Console
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
FileUtils
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
LightweightThemeManager
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
NetUtil
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
PlacesUtils
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
PrivateBrowsingUtils
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
Timer
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
addons
/
XPIDatabase
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
addons
/
XPIProvider
.
jsm
"
"
resource
:
/
/
gre
/
modules
/
addons
/
XPIInstall
.
jsm
"
"
resource
:
/
/
/
modules
/
BrowserWindowTracker
.
jsm
"
]
;
if
(
AppConstants
.
platform
=
=
=
"
win
"
)
{
JSMs
.
push
(
"
resource
:
/
/
/
modules
/
WindowsJumpLists
.
jsm
"
)
;
}
add_task
(
async
function
test_chrome_utils_import
(
)
{
for
(
const
file
of
JSMs
)
{
try
{
ChromeUtils
.
import
(
file
)
;
ok
(
true
Imported
{
file
}
)
;
}
catch
(
e
)
{
ok
(
false
Failed
to
import
{
file
}
)
;
}
}
}
)
;
add_task
(
async
function
test_cu_import
(
)
{
for
(
const
file
of
JSMs
)
{
try
{
Cu
.
import
(
file
{
}
)
;
ok
(
true
Imported
{
file
}
)
;
}
catch
(
e
)
{
ok
(
false
Failed
to
import
{
file
}
)
;
}
}
}
)
;

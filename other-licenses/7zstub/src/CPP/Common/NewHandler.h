#
ifndef
__COMMON_NEW_HANDLER_H
#
define
__COMMON_NEW_HANDLER_H
#
include
<
stddef
.
h
>
#
ifdef
_WIN32
#
endif
#
if
defined
(
_MSC_VER
)
&
&
(
_MSC_VER
<
1900
)
#
define
_7ZIP_REDEFINE_OPERATOR_NEW
#
endif
#
ifdef
_7ZIP_REDEFINE_OPERATOR_NEW
class
CNewException
{
}
;
void
*
#
ifdef
_MSC_VER
__cdecl
#
endif
operator
new
(
size_t
size
)
;
void
#
ifdef
_MSC_VER
__cdecl
#
endif
operator
delete
(
void
*
p
)
throw
(
)
;
#
else
#
include
<
new
>
#
define
CNewException
std
:
:
bad_alloc
#
endif
#
endif

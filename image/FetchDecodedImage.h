#
ifndef
mozilla_image_FetchDecodedImage_h
#
define
mozilla_image_FetchDecodedImage_h
#
include
"
mozilla
/
MozPromise
.
h
"
#
include
"
mozilla
/
gfx
/
Point
.
h
"
#
include
"
nsILoadInfo
.
h
"
#
include
"
nsIContentPolicy
.
h
"
class
imgIContainer
;
class
nsIChannel
;
namespace
mozilla
:
:
image
{
using
FetchDecodedImagePromise
=
mozilla
:
:
MozPromise
<
already_AddRefed
<
imgIContainer
>
nsresult
true
>
;
RefPtr
<
FetchDecodedImagePromise
>
FetchDecodedImage
(
nsIURI
*
aURI
gfx
:
:
IntSize
aSize
nsIPrincipal
*
aLoadingPrincipal
nsSecurityFlags
aSecurityFlags
=
nsILoadInfo
:
:
SEC_ALLOW_CROSS_ORIGIN_SEC_CONTEXT_IS_NULL
nsContentPolicyType
aContentPolicyType
=
nsIContentPolicy
:
:
TYPE_INTERNAL_IMAGE
)
;
RefPtr
<
FetchDecodedImagePromise
>
FetchDecodedImage
(
nsIURI
*
aURI
nsIChannel
*
aChannel
gfx
:
:
IntSize
aSize
)
;
}
#
endif

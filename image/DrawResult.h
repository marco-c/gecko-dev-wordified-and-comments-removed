#
ifndef
mozilla_image_DrawResult_h
#
define
mozilla_image_DrawResult_h
#
include
<
cstdint
>
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Likely
.
h
"
namespace
mozilla
{
namespace
image
{
enum
class
MOZ_MUST_USE_TYPE
DrawResult
:
uint8_t
{
SUCCESS
INCOMPLETE
WRONG_SIZE
NOT_READY
TEMPORARY_ERROR
BAD_IMAGE
BAD_ARGS
}
;
inline
DrawResult
operator
&
(
const
DrawResult
aLeft
const
DrawResult
aRight
)
{
if
(
MOZ_LIKELY
(
aLeft
=
=
DrawResult
:
:
SUCCESS
)
)
{
return
aRight
;
}
if
(
aLeft
=
=
DrawResult
:
:
BAD_IMAGE
&
&
aRight
!
=
DrawResult
:
:
SUCCESS
)
{
return
aRight
;
}
return
aLeft
;
}
inline
DrawResult
&
operator
&
=
(
DrawResult
&
aLeft
const
DrawResult
aRight
)
{
aLeft
=
aLeft
&
aRight
;
return
aLeft
;
}
struct
imgDrawingParams
{
explicit
imgDrawingParams
(
uint32_t
aImageFlags
=
0
)
:
imageFlags
(
aImageFlags
)
result
(
DrawResult
:
:
SUCCESS
)
{
}
const
uint32_t
imageFlags
;
DrawResult
result
;
}
;
}
}
#
endif

#
ifndef
mozilla_image_decoders_nsIconDecoder_h
#
define
mozilla_image_decoders_nsIconDecoder_h
#
include
"
Decoder
.
h
"
#
include
"
nsCOMPtr
.
h
"
namespace
mozilla
{
namespace
image
{
class
RasterImage
;
class
nsIconDecoder
:
public
Decoder
{
public
:
virtual
~
nsIconDecoder
(
)
;
virtual
void
WriteInternal
(
const
char
*
aBuffer
uint32_t
aCount
)
override
;
private
:
friend
class
DecoderFactory
;
explicit
nsIconDecoder
(
RasterImage
*
aImage
)
;
uint32_t
mExpectedDataLength
;
uint32_t
mPixBytesRead
;
uint32_t
mState
;
uint8_t
mWidth
;
uint8_t
mHeight
;
}
;
enum
{
iconStateStart
=
0
iconStateHaveHeight
=
1
iconStateReadPixels
=
2
iconStateFinished
=
3
}
;
}
}
#
endif

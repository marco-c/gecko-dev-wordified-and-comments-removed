#
include
"
FrozenImage
.
h
"
namespace
mozilla
{
using
namespace
gfx
;
using
layers
:
:
ImageContainer
;
using
layers
:
:
LayerManager
;
namespace
image
{
void
FrozenImage
:
:
IncrementAnimationConsumers
(
)
{
}
void
FrozenImage
:
:
DecrementAnimationConsumers
(
)
{
}
NS_IMETHODIMP
FrozenImage
:
:
GetAnimated
(
bool
*
aAnimated
)
{
bool
dummy
;
nsresult
rv
=
InnerImage
(
)
-
>
GetAnimated
(
&
dummy
)
;
if
(
NS_SUCCEEDED
(
rv
)
)
{
*
aAnimated
=
false
;
}
return
rv
;
}
NS_IMETHODIMP_
(
already_AddRefed
<
SourceSurface
>
)
FrozenImage
:
:
GetFrame
(
uint32_t
aWhichFrame
uint32_t
aFlags
)
{
return
InnerImage
(
)
-
>
GetFrame
(
FRAME_FIRST
aFlags
)
;
}
NS_IMETHODIMP_
(
already_AddRefed
<
SourceSurface
>
)
FrozenImage
:
:
GetFrameAtSize
(
const
IntSize
&
aSize
uint32_t
aWhichFrame
uint32_t
aFlags
)
{
return
InnerImage
(
)
-
>
GetFrameAtSize
(
aSize
FRAME_FIRST
aFlags
)
;
}
NS_IMETHODIMP_
(
bool
)
FrozenImage
:
:
IsImageContainerAvailable
(
LayerManager
*
aManager
uint32_t
aFlags
)
{
return
false
;
}
NS_IMETHODIMP_
(
already_AddRefed
<
ImageContainer
>
)
FrozenImage
:
:
GetImageContainer
(
layers
:
:
LayerManager
*
aManager
uint32_t
aFlags
)
{
return
nullptr
;
}
NS_IMETHODIMP_
(
bool
)
FrozenImage
:
:
IsImageContainerAvailableAtSize
(
LayerManager
*
aManager
const
IntSize
&
aSize
uint32_t
aFlags
)
{
return
false
;
}
NS_IMETHODIMP_
(
already_AddRefed
<
ImageContainer
>
)
FrozenImage
:
:
GetImageContainerAtSize
(
layers
:
:
LayerManager
*
aManager
const
IntSize
&
aSize
const
Maybe
<
SVGImageContext
>
&
aSVGContext
uint32_t
aFlags
)
{
return
nullptr
;
}
NS_IMETHODIMP_
(
ImgDrawResult
)
FrozenImage
:
:
Draw
(
gfxContext
*
aContext
const
nsIntSize
&
aSize
const
ImageRegion
&
aRegion
uint32_t
SamplingFilter
aSamplingFilter
const
Maybe
<
SVGImageContext
>
&
aSVGContext
uint32_t
aFlags
float
aOpacity
)
{
return
InnerImage
(
)
-
>
Draw
(
aContext
aSize
aRegion
FRAME_FIRST
aSamplingFilter
aSVGContext
aFlags
aOpacity
)
;
}
NS_IMETHODIMP_
(
void
)
FrozenImage
:
:
RequestRefresh
(
const
TimeStamp
&
aTime
)
{
}
NS_IMETHODIMP
FrozenImage
:
:
GetAnimationMode
(
uint16_t
*
aAnimationMode
)
{
*
aAnimationMode
=
kNormalAnimMode
;
return
NS_OK
;
}
NS_IMETHODIMP
FrozenImage
:
:
SetAnimationMode
(
uint16_t
aAnimationMode
)
{
return
NS_OK
;
}
NS_IMETHODIMP
FrozenImage
:
:
ResetAnimation
(
)
{
return
NS_OK
;
}
NS_IMETHODIMP_
(
float
)
FrozenImage
:
:
GetFrameIndex
(
uint32_t
aWhichFrame
)
{
MOZ_ASSERT
(
aWhichFrame
<
=
FRAME_MAX_VALUE
"
Invalid
argument
"
)
;
return
0
;
}
}
}

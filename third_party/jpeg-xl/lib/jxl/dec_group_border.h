#
ifndef
LIB_JXL_DEC_GROUP_BORDER_H_
#
define
LIB_JXL_DEC_GROUP_BORDER_H_
#
include
<
atomic
>
#
include
<
cstddef
>
#
include
<
cstdint
>
#
include
<
vector
>
#
include
"
lib
/
jxl
/
base
/
rect
.
h
"
#
include
"
lib
/
jxl
/
frame_dimensions
.
h
"
namespace
jxl
{
class
GroupBorderAssigner
{
public
:
void
Init
(
const
FrameDimensions
&
frame_dim
)
;
void
GroupDone
(
size_t
group_id
size_t
padx
size_t
pady
Rect
*
rects_to_finalize
size_t
*
num_to_finalize
)
;
void
ClearDone
(
size_t
group_id
)
;
static
constexpr
size_t
kMaxToFinalize
=
3
;
private
:
FrameDimensions
frame_dim_
;
std
:
:
vector
<
std
:
:
atomic
<
uint8_t
>
>
counters_
;
static
constexpr
uint8_t
kTopLeft
=
0x01
;
static
constexpr
uint8_t
kTopRight
=
0x02
;
static
constexpr
uint8_t
kBottomRight
=
0x04
;
static
constexpr
uint8_t
kBottomLeft
=
0x08
;
}
;
}
#
endif

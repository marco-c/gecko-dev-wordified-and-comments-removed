#
ifndef
LIB_JXL_ENC_FAST_LOSSLESS_H_
#
define
LIB_JXL_ENC_FAST_LOSSLESS_H_
#
include
<
stdlib
.
h
>
#
ifndef
FJXL_STANDALONE
#
ifdef
JPEGXL_MAJOR_VERSION
#
define
FJXL_STANDALONE
0
#
else
#
define
FJXL_STANDALONE
1
#
endif
#
endif
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
typedef
void
(
FJxlParallelRunner
)
(
void
*
runner_opaque
void
*
opaque
void
fun
(
void
*
size_t
)
size_t
count
)
;
#
if
FJXL_STANDALONE
size_t
JxlFastLosslessEncode
(
const
unsigned
char
*
rgba
size_t
width
size_t
row_stride
size_t
height
size_t
nb_chans
size_t
bitdepth
int
big_endian
int
effort
unsigned
char
*
*
output
void
*
runner_opaque
FJxlParallelRunner
runner
)
;
#
endif
struct
JxlFastLosslessFrameState
;
JxlFastLosslessFrameState
*
JxlFastLosslessPrepareFrame
(
const
unsigned
char
*
rgba
size_t
width
size_t
row_stride
size_t
height
size_t
nb_chans
size_t
bitdepth
int
big_endian
int
effort
void
*
runner_opaque
FJxlParallelRunner
runner
)
;
void
JxlFastLosslessPrepareHeader
(
JxlFastLosslessFrameState
*
frame
int
add_image_header
int
is_last
)
;
size_t
JxlFastLosslessMaxRequiredOutput
(
const
JxlFastLosslessFrameState
*
frame
)
;
size_t
JxlFastLosslessOutputSize
(
const
JxlFastLosslessFrameState
*
frame
)
;
size_t
JxlFastLosslessWriteOutput
(
JxlFastLosslessFrameState
*
frame
unsigned
char
*
output
size_t
output_size
)
;
void
JxlFastLosslessFreeFrameState
(
JxlFastLosslessFrameState
*
frame
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

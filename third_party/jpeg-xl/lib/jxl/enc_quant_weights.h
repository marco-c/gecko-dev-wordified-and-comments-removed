#
ifndef
LIB_JXL_ENC_QUANT_WEIGHTS_H_
#
define
LIB_JXL_ENC_QUANT_WEIGHTS_H_
#
include
<
jxl
/
memory_manager
.
h
>
#
include
<
cstdint
>
#
include
<
vector
>
#
include
"
lib
/
jxl
/
base
/
status
.
h
"
#
include
"
lib
/
jxl
/
quant_weights
.
h
"
namespace
jxl
{
struct
AuxOut
;
enum
class
LayerType
:
uint8_t
;
struct
BitWriter
;
Status
DequantMatricesEncode
(
JxlMemoryManager
*
memory_manager
const
DequantMatrices
&
matrices
BitWriter
*
writer
LayerType
layer
AuxOut
*
aux_out
ModularFrameEncoder
*
modular_frame_encoder
=
nullptr
)
;
Status
DequantMatricesEncodeDC
(
const
DequantMatrices
&
matrices
BitWriter
*
writer
LayerType
layer
AuxOut
*
aux_out
)
;
void
DequantMatricesSetCustomDC
(
JxlMemoryManager
*
memory_manager
DequantMatrices
*
matrices
const
float
*
dc
)
;
void
DequantMatricesScaleDC
(
JxlMemoryManager
*
memory_manager
DequantMatrices
*
matrices
float
scale
)
;
Status
DequantMatricesSetCustom
(
DequantMatrices
*
matrices
const
std
:
:
vector
<
QuantEncoding
>
&
encodings
ModularFrameEncoder
*
encoder
)
;
void
DequantMatricesRoundtrip
(
JxlMemoryManager
*
memory_manager
DequantMatrices
*
matrices
)
;
}
#
endif

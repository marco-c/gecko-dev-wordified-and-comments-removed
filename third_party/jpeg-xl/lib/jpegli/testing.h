#
ifndef
LIB_JPEGLI_TESTING_H_
#
define
LIB_JPEGLI_TESTING_H_
#
include
"
gtest
/
gtest
.
h
"
#
ifdef
INSTANTIATE_TEST_SUITE_P
#
define
JPEGLI_INSTANTIATE_TEST_SUITE_P
INSTANTIATE_TEST_SUITE_P
#
else
#
define
JPEGLI_INSTANTIATE_TEST_SUITE_P
INSTANTIATE_TEST_CASE_P
#
endif
#
define
JPEGLI_TEST_ENSURE_TRUE
(
C
)
\
if
(
!
(
C
)
)
return
false
;
#
define
QUIT
(
M
)
FAIL
(
)
<
<
M
#
define
EXPECT_SLIGHTLY_BELOW
(
A
E
)
\
{
\
double
_actual
=
(
A
)
;
\
double
_expected
=
(
E
)
;
\
EXPECT_LE
(
_actual
_expected
)
;
\
EXPECT_GE
(
_actual
0
.
75
*
_expected
)
;
\
}
#
endif

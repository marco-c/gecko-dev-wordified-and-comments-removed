#
ifndef
JXL_BUTTERAUGLI_H_
#
define
JXL_BUTTERAUGLI_H_
#
if
defined
(
__cplusplus
)
|
|
defined
(
c_plusplus
)
extern
"
C
"
{
#
endif
#
include
<
jxl
/
jxl_export
.
h
>
#
include
<
jxl
/
memory_manager
.
h
>
#
include
<
jxl
/
parallel_runner
.
h
>
#
include
<
jxl
/
types
.
h
>
typedef
struct
JxlButteraugliApiStruct
JxlButteraugliApi
;
typedef
struct
JxlButteraugliResultStruct
JxlButteraugliResult
;
JXL_EXPORT
void
JxlButteraugliResultDestroy
(
JxlButteraugliResult
*
result
)
;
JXL_EXPORT
JxlButteraugliApi
*
JxlButteraugliApiCreate
(
const
JxlMemoryManager
*
memory_manager
)
;
JXL_EXPORT
void
JxlButteraugliApiSetParallelRunner
(
JxlButteraugliApi
*
api
JxlParallelRunner
parallel_runner
void
*
parallel_runner_opaque
)
;
JXL_EXPORT
void
JxlButteraugliApiSetHFAsymmetry
(
JxlButteraugliApi
*
api
float
v
)
;
JXL_EXPORT
void
JxlButteraugliApiSetIntensityTarget
(
JxlButteraugliApi
*
api
float
v
)
;
JXL_EXPORT
void
JxlButteraugliApiDestroy
(
JxlButteraugliApi
*
api
)
;
JXL_EXPORT
JxlButteraugliResult
*
JxlButteraugliCompute
(
const
JxlButteraugliApi
*
api
uint32_t
xsize
uint32_t
ysize
const
JxlPixelFormat
*
pixel_format_orig
const
void
*
buffer_orig
size_t
size_orig
const
JxlPixelFormat
*
pixel_format_dist
const
void
*
buffer_dist
size_t
size_dist
)
;
JXL_EXPORT
float
JxlButteraugliResultGetMaxDistance
(
const
JxlButteraugliResult
*
result
)
;
JXL_EXPORT
float
JxlButteraugliResultGetDistance
(
const
JxlButteraugliResult
*
result
float
pnorm
)
;
JXL_EXPORT
void
JxlButteraugliResultGetDistmap
(
const
JxlButteraugliResult
*
result
const
float
*
*
buffer
uint32_t
*
row_stride
)
;
#
if
defined
(
__cplusplus
)
|
|
defined
(
c_plusplus
)
}
#
endif
#
endif

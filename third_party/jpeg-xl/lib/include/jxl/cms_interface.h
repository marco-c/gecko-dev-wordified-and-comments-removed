#
ifndef
JXL_CMS_INTERFACE_H_
#
define
JXL_CMS_INTERFACE_H_
#
include
"
jxl
/
color_encoding
.
h
"
#
include
"
jxl
/
types
.
h
"
#
if
defined
(
__cplusplus
)
|
|
defined
(
c_plusplus
)
extern
"
C
"
{
#
endif
typedef
struct
{
struct
{
const
uint8_t
*
data
;
size_t
size
;
}
icc
;
JxlColorEncoding
color_encoding
;
size_t
num_channels
;
}
JxlColorProfile
;
typedef
void
*
(
*
jpegxl_cms_init_func
)
(
void
*
init_data
size_t
num_threads
size_t
pixels_per_thread
const
JxlColorProfile
*
input_profile
const
JxlColorProfile
*
output_profile
float
intensity_target
)
;
typedef
float
*
(
*
jpegxl_cms_get_buffer_func
)
(
void
*
user_data
size_t
thread
)
;
typedef
JXL_BOOL
(
*
jpegxl_cms_run_func
)
(
void
*
user_data
size_t
thread
const
float
*
input_buffer
float
*
output_buffer
size_t
num_pixels
)
;
typedef
void
(
*
jpegxl_cms_destroy_func
)
(
void
*
)
;
typedef
struct
{
void
*
init_data
;
jpegxl_cms_init_func
init
;
jpegxl_cms_get_buffer_func
get_src_buf
;
jpegxl_cms_get_buffer_func
get_dst_buf
;
jpegxl_cms_run_func
run
;
jpegxl_cms_destroy_func
destroy
;
}
JxlCmsInterface
;
#
if
defined
(
__cplusplus
)
|
|
defined
(
c_plusplus
)
}
#
endif
#
endif

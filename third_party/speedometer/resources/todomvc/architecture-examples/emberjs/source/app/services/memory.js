(
function
(
root
)
{
var
localStorageMemory
=
{
}
;
var
cache
=
{
}
;
localStorageMemory
.
length
=
0
;
localStorageMemory
.
getItem
=
function
(
key
)
{
return
cache
[
key
]
|
|
null
;
}
;
localStorageMemory
.
setItem
=
function
(
key
value
)
{
if
(
typeof
value
=
=
=
'
undefined
'
)
{
localStorageMemory
.
removeItem
(
key
)
;
}
else
{
if
(
!
(
cache
.
hasOwnProperty
(
key
)
)
)
{
localStorageMemory
.
length
+
+
;
}
cache
[
key
]
=
'
'
+
value
;
}
}
;
localStorageMemory
.
removeItem
=
function
(
key
)
{
if
(
cache
.
hasOwnProperty
(
key
)
)
{
delete
cache
[
key
]
;
localStorageMemory
.
length
-
-
;
}
}
;
localStorageMemory
.
key
=
function
(
index
)
{
return
Object
.
keys
(
cache
)
[
index
]
|
|
null
;
}
;
localStorageMemory
.
clear
=
function
(
)
{
cache
=
{
}
;
localStorageMemory
.
length
=
0
;
}
;
root
.
localStorageMemory
=
localStorageMemory
;
}
)
(
window
)
;

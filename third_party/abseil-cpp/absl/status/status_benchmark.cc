#
include
<
utility
>
#
include
"
absl
/
status
/
status
.
h
"
#
include
"
benchmark
/
benchmark
.
h
"
namespace
{
void
BM_CreateOk
(
benchmark
:
:
State
&
state
)
{
for
(
auto
_
:
state
)
{
absl
:
:
Status
s
;
benchmark
:
:
DoNotOptimize
(
s
)
;
}
}
BENCHMARK
(
BM_CreateOk
)
;
void
BM_CreateBad
(
benchmark
:
:
State
&
state
)
{
for
(
auto
_
:
state
)
{
absl
:
:
Status
s
(
absl
:
:
StatusCode
:
:
kInvalidArgument
"
message
"
)
;
benchmark
:
:
DoNotOptimize
(
s
)
;
}
}
BENCHMARK
(
BM_CreateBad
)
;
}

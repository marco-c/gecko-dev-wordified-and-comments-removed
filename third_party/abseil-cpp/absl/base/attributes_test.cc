#
include
"
absl
/
base
/
attributes
.
h
"
#
include
"
gtest
/
gtest
.
h
"
#
include
"
absl
/
base
/
config
.
h
"
namespace
{
TEST
(
Attributes
RequireExplicitInit
)
{
struct
Agg
{
int
f1
;
int
f2
ABSL_REQUIRE_EXPLICIT_INIT
;
}
;
Agg
good1
ABSL_ATTRIBUTE_UNUSED
=
{
1
2
}
;
#
if
ABSL_INTERNAL_CPLUSPLUS_LANG
>
=
202002L
Agg
good2
ABSL_ATTRIBUTE_UNUSED
(
1
2
)
;
#
endif
Agg
good3
ABSL_ATTRIBUTE_UNUSED
{
1
2
}
;
Agg
good4
ABSL_ATTRIBUTE_UNUSED
=
{
1
2
}
;
Agg
good5
ABSL_ATTRIBUTE_UNUSED
=
Agg
{
1
2
}
;
Agg
good6
[
1
]
ABSL_ATTRIBUTE_UNUSED
=
{
{
1
2
}
}
;
Agg
good7
[
1
]
ABSL_ATTRIBUTE_UNUSED
=
{
Agg
{
1
2
}
}
;
union
{
Agg
agg
;
}
good8
ABSL_ATTRIBUTE_UNUSED
=
{
{
1
2
}
}
;
constexpr
Agg
good9
ABSL_ATTRIBUTE_UNUSED
=
{
1
2
}
;
constexpr
Agg
good10
ABSL_ATTRIBUTE_UNUSED
{
1
2
}
;
}
}

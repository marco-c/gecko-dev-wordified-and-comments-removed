#
include
"
absl
/
flags
/
config
.
h
"
#
ifdef
__APPLE__
#
include
<
TargetConditionals
.
h
>
#
endif
#
include
"
gtest
/
gtest
.
h
"
#
ifndef
ABSL_FLAGS_STRIP_NAMES
#
error
ABSL_FLAGS_STRIP_NAMES
is
not
defined
#
endif
#
ifndef
ABSL_FLAGS_STRIP_HELP
#
error
ABSL_FLAGS_STRIP_HELP
is
not
defined
#
endif
namespace
{
TEST
(
FlagsConfigTest
Test
)
{
#
if
defined
(
__ANDROID__
)
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
1
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
1
)
;
#
elif
defined
(
__myriad2__
)
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
0
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
0
)
;
#
elif
defined
(
TARGET_OS_IPHONE
)
&
&
TARGET_OS_IPHONE
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
1
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
1
)
;
#
elif
defined
(
TARGET_OS_EMBEDDED
)
&
&
TARGET_OS_EMBEDDED
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
1
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
1
)
;
#
elif
defined
(
__APPLE__
)
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
0
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
0
)
;
#
elif
defined
(
_WIN32
)
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
0
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
0
)
;
#
elif
defined
(
__linux__
)
EXPECT_EQ
(
ABSL_FLAGS_STRIP_NAMES
0
)
;
EXPECT_EQ
(
ABSL_FLAGS_STRIP_HELP
0
)
;
#
endif
}
}

#
include
"
absl
/
strings
/
internal
/
memutil
.
h
"
#
include
<
cstdlib
>
#
include
"
absl
/
strings
/
ascii
.
h
"
namespace
absl
{
ABSL_NAMESPACE_BEGIN
namespace
strings_internal
{
int
memcasecmp
(
const
char
*
s1
const
char
*
s2
size_t
len
)
{
const
unsigned
char
*
us1
=
reinterpret_cast
<
const
unsigned
char
*
>
(
s1
)
;
const
unsigned
char
*
us2
=
reinterpret_cast
<
const
unsigned
char
*
>
(
s2
)
;
for
(
size_t
i
=
0
;
i
<
len
;
i
+
+
)
{
unsigned
char
c1
=
us1
[
i
]
;
unsigned
char
c2
=
us2
[
i
]
;
if
(
c1
!
=
c2
)
{
c1
=
c1
>
=
'
A
'
&
&
c1
<
=
'
Z
'
?
c1
-
'
A
'
+
'
a
'
:
c1
;
c2
=
c2
>
=
'
A
'
&
&
c2
<
=
'
Z
'
?
c2
-
'
A
'
+
'
a
'
:
c2
;
const
int
diff
=
int
{
c1
}
-
int
{
c2
}
;
if
(
diff
!
=
0
)
return
diff
;
}
}
return
0
;
}
}
ABSL_NAMESPACE_END
}

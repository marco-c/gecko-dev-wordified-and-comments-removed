#
include
"
absl
/
strings
/
internal
/
cordz_update_scope
.
h
"
#
include
"
gmock
/
gmock
.
h
"
#
include
"
gtest
/
gtest
.
h
"
#
include
"
absl
/
base
/
config
.
h
"
#
include
"
absl
/
strings
/
cordz_test_helpers
.
h
"
#
include
"
absl
/
strings
/
internal
/
cord_rep_flat
.
h
"
#
include
"
absl
/
strings
/
internal
/
cordz_info
.
h
"
#
include
"
absl
/
strings
/
internal
/
cordz_update_tracker
.
h
"
namespace
absl
{
ABSL_NAMESPACE_BEGIN
namespace
cord_internal
{
namespace
{
auto
constexpr
kTrackCordMethod
=
CordzUpdateTracker
:
:
kConstructorString
;
TEST
(
CordzUpdateScopeTest
ScopeNullptr
)
{
CordzUpdateScope
scope
(
nullptr
kTrackCordMethod
)
;
}
TEST
(
CordzUpdateScopeTest
ScopeSampledCord
)
{
TestCordData
cord
;
CordzInfo
:
:
TrackCord
(
cord
.
data
kTrackCordMethod
)
;
CordzUpdateScope
scope
(
cord
.
data
.
cordz_info
(
)
kTrackCordMethod
)
;
cord
.
data
.
cordz_info
(
)
-
>
SetCordRep
(
nullptr
)
;
}
}
ABSL_NAMESPACE_END
}
}

#
include
"
hwy
/
per_target
.
h
"
#
undef
HWY_TARGET_INCLUDE
#
define
HWY_TARGET_INCLUDE
"
hwy
/
per_target
.
cc
"
#
include
"
hwy
/
foreach_target
.
h
"
#
include
"
hwy
/
highway
.
h
"
HWY_BEFORE_NAMESPACE
(
)
;
namespace
hwy
{
namespace
HWY_NAMESPACE
{
#
if
HWY_TARGET
=
=
HWY_SVE
|
|
HWY_TARGET
=
=
HWY_SVE2
|
|
HWY_TARGET
=
=
HWY_SVE_256
size_t
GetVectorBytes
(
)
{
return
detail
:
:
AllHardwareLanes
(
hwy
:
:
SizeTag
<
1
>
(
)
)
;
}
#
else
size_t
GetVectorBytes
(
)
{
return
Lanes
(
ScalableTag
<
uint8_t
>
(
)
)
;
}
#
endif
}
}
HWY_AFTER_NAMESPACE
(
)
;
#
if
HWY_ONCE
namespace
hwy
{
namespace
{
HWY_EXPORT
(
GetVectorBytes
)
;
}
size_t
VectorBytes
(
)
{
return
HWY_DYNAMIC_DISPATCH
(
GetVectorBytes
)
(
)
;
}
}
#
endif

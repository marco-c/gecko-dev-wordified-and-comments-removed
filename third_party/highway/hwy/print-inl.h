#
include
<
stddef
.
h
>
#
include
"
hwy
/
highway
.
h
"
#
include
"
hwy
/
print
.
h
"
#
if
defined
(
HIGHWAY_HWY_PRINT_INL_H_
)
=
=
defined
(
HWY_TARGET_TOGGLE
)
#
ifdef
HIGHWAY_HWY_PRINT_INL_H_
#
undef
HIGHWAY_HWY_PRINT_INL_H_
#
else
#
define
HIGHWAY_HWY_PRINT_INL_H_
#
endif
#
if
HWY_TARGET
=
=
HWY_RVV
#
include
"
hwy
/
aligned_allocator
.
h
"
#
endif
HWY_BEFORE_NAMESPACE
(
)
;
namespace
hwy
{
namespace
HWY_NAMESPACE
{
template
<
class
D
class
V
=
VFromD
<
D
>
>
HWY_API
void
Print
(
const
D
d
const
char
*
caption
V
v
size_t
lane_u
=
0
size_t
max_lanes
=
7
)
{
const
size_t
N
=
Lanes
(
d
)
;
using
T
=
TFromD
<
D
>
;
#
if
HWY_TARGET
=
=
HWY_RVV
auto
storage
=
AllocateAligned
<
T
>
(
N
)
;
T
*
HWY_RESTRICT
lanes
=
storage
.
get
(
)
;
#
else
HWY_ALIGN
T
lanes
[
MaxLanes
(
d
)
]
;
#
endif
Store
(
v
d
lanes
)
;
const
auto
info
=
hwy
:
:
detail
:
:
MakeTypeInfo
<
T
>
(
)
;
hwy
:
:
detail
:
:
PrintArray
(
info
caption
lanes
N
lane_u
max_lanes
)
;
}
}
}
HWY_AFTER_NAMESPACE
(
)
;
#
endif

"
"
"
Add
soft
dependencies
and
configuration
to
code
-
review
tasks
.
"
"
"
from
taskgraph
.
transforms
.
base
import
TransformSequence
transforms
=
TransformSequence
(
)
transforms
.
add
def
add_dependencies
(
config
tasks
)
:
    
for
task
in
tasks
:
        
task
.
setdefault
(
"
soft
-
dependencies
"
[
]
)
        
task
[
"
soft
-
dependencies
"
]
+
=
[
            
dep_task
.
label
            
for
dep_task
in
config
.
kind_dependencies_tasks
.
values
(
)
            
if
dep_task
.
attributes
.
get
(
"
code
-
review
"
)
is
True
        
]
        
yield
task

"
"
"
Make
sure
we
don
'
t
cause
unnecessary
builds
due
to
import
libs
appearing
to
be
out
of
date
.
"
"
"
from
__future__
import
print_function
import
TestGyp
import
os
import
sys
import
time
if
sys
.
platform
=
=
'
win32
'
:
  
test
=
TestGyp
.
TestGyp
(
formats
=
[
'
msvs
'
'
ninja
'
]
)
  
if
not
os
.
environ
.
get
(
'
ProgramFiles
(
x86
)
'
)
:
    
print
(
'
Skipping
test
on
x86
http
:
/
/
crbug
.
com
/
365833
'
)
    
test
.
pass_test
(
)
  
CHDIR
=
'
importlib
'
  
test
.
run_gyp
(
'
importlib
.
gyp
'
chdir
=
CHDIR
)
  
test
.
build
(
'
importlib
.
gyp
'
test
.
ALL
chdir
=
CHDIR
)
  
test
.
sleep
(
)
  
test
.
touch
(
'
importlib
/
has
-
exports
.
cc
'
)
  
test
.
build
(
'
importlib
.
gyp
'
'
test_importlib
'
chdir
=
CHDIR
)
  
test
.
up_to_date
(
'
importlib
.
gyp
'
test
.
ALL
chdir
=
CHDIR
)
  
test
.
pass_test
(
)

"
"
"
Verifies
that
dependencies
on
generated
headers
work
even
if
the
header
has
a
mixed
-
case
file
name
.
"
"
"
import
TestGyp
test
=
TestGyp
.
TestGyp
(
)
CHDIR
=
'
generated
-
header
'
test
.
run_gyp
(
'
test
.
gyp
'
chdir
=
CHDIR
)
test
.
build
(
'
test
.
gyp
'
'
program
'
chdir
=
CHDIR
)
test
.
up_to_date
(
'
test
.
gyp
'
'
program
'
chdir
=
CHDIR
)
expect
=
'
foobar
output
\
n
'
test
.
run_built_executable
(
'
program
'
chdir
=
CHDIR
stdout
=
expect
)
test
.
sleep
(
)
test
.
write
(
'
generated
-
header
/
test
.
gyp
'
           
test
.
read
(
'
generated
-
header
/
test
.
gyp
'
)
.
replace
(
'
foobar
'
'
barbaz
'
)
)
test
.
run_gyp
(
'
test
.
gyp
'
chdir
=
CHDIR
)
test
.
build
(
'
test
.
gyp
'
'
program
'
chdir
=
CHDIR
)
test
.
up_to_date
(
'
test
.
gyp
'
'
program
'
chdir
=
CHDIR
)
expect
=
'
barbaz
output
\
n
'
test
.
run_built_executable
(
'
program
'
chdir
=
CHDIR
stdout
=
expect
)
test
.
pass_test
(
)

"
"
"
Verifies
that
kext
bundles
are
built
correctly
.
"
"
"
import
TestGyp
import
TestMac
import
os
import
plistlib
import
subprocess
import
sys
if
sys
.
platform
=
=
'
darwin
'
:
  
test
=
TestGyp
.
TestGyp
(
formats
=
[
'
xcode
'
]
)
  
test
.
run_gyp
(
'
kext
.
gyp
'
chdir
=
'
kext
'
)
  
test
.
build
(
'
kext
.
gyp
'
test
.
ALL
chdir
=
'
kext
'
)
  
test
.
built_file_must_exist
(
'
GypKext
.
kext
/
Contents
/
MacOS
/
GypKext
'
                             
chdir
=
'
kext
'
)
  
test
.
built_file_must_exist
(
'
GypKext
.
kext
/
Contents
/
Info
.
plist
'
                             
chdir
=
'
kext
'
)
  
test
.
pass_test
(
)

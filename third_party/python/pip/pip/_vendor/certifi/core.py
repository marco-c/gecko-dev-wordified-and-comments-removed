#
-
*
-
coding
:
utf
-
8
-
*
-
"
"
"
certifi
.
py
~
~
~
~
~
~
~
~
~
~
This
module
returns
the
installation
location
of
cacert
.
pem
or
its
contents
.
"
"
"
import
os
class
_PipPatchedCertificate
(
Exception
)
:
    
pass
try
:
    
_PIP_STANDALONE_CERT
=
os
.
environ
.
get
(
"
_PIP_STANDALONE_CERT
"
)
    
if
_PIP_STANDALONE_CERT
:
        
def
where
(
)
:
            
return
_PIP_STANDALONE_CERT
        
raise
_PipPatchedCertificate
(
)
    
from
importlib
.
resources
import
path
as
get_path
read_text
    
_CACERT_CTX
=
None
    
_CACERT_PATH
=
None
    
def
where
(
)
:
        
global
_CACERT_CTX
        
global
_CACERT_PATH
        
if
_CACERT_PATH
is
None
:
            
_CACERT_CTX
=
get_path
(
"
pip
.
_vendor
.
certifi
"
"
cacert
.
pem
"
)
            
_CACERT_PATH
=
str
(
_CACERT_CTX
.
__enter__
(
)
)
        
return
_CACERT_PATH
except
_PipPatchedCertificate
:
    
pass
except
ImportError
:
    
def
read_text
(
_module
_path
encoding
=
"
ascii
"
)
:
        
with
open
(
where
(
)
"
r
"
encoding
=
encoding
)
as
data
:
            
return
data
.
read
(
)
    
def
where
(
)
:
        
f
=
os
.
path
.
dirname
(
__file__
)
        
return
os
.
path
.
join
(
f
"
cacert
.
pem
"
)
def
contents
(
)
:
    
return
read_text
(
"
certifi
"
"
cacert
.
pem
"
encoding
=
"
ascii
"
)

"
"
"
A
platform
independent
file
lock
that
supports
the
with
-
statement
.
.
.
autodata
:
:
filelock
.
__version__
   
:
no
-
value
:
"
"
"
import
sys
import
warnings
from
typing
import
Type
from
.
_api
import
AcquireReturnProxy
BaseFileLock
from
.
_error
import
Timeout
from
.
_soft
import
SoftFileLock
from
.
_unix
import
UnixFileLock
has_fcntl
from
.
_windows
import
WindowsFileLock
from
.
version
import
version
__version__
:
str
=
version
if
sys
.
platform
=
=
"
win32
"
:
    
_FileLock
:
Type
[
BaseFileLock
]
=
WindowsFileLock
else
:
    
if
has_fcntl
:
        
_FileLock
:
Type
[
BaseFileLock
]
=
UnixFileLock
    
else
:
        
_FileLock
=
SoftFileLock
        
if
warnings
is
not
None
:
            
warnings
.
warn
(
"
only
soft
file
lock
is
available
"
)
FileLock
:
Type
[
BaseFileLock
]
=
_FileLock
__all__
=
[
    
"
__version__
"
    
"
FileLock
"
    
"
SoftFileLock
"
    
"
Timeout
"
    
"
UnixFileLock
"
    
"
WindowsFileLock
"
    
"
BaseFileLock
"
    
"
AcquireReturnProxy
"
]

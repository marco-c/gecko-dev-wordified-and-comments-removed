#
-
*
-
coding
:
utf
-
8
-
*
-
"
"
"
Use
this
rule
to
force
the
type
of
new
line
characters
.
.
.
rubric
:
:
Options
*
Set
type
to
unix
to
use
UNIX
-
typed
new
line
characters
(
\
\
n
)
or
  
dos
to
use
DOS
-
typed
new
line
characters
(
\
\
r
\
\
n
)
.
"
"
"
from
yamllint
.
linter
import
LintProblem
ID
=
'
new
-
lines
'
TYPE
=
'
line
'
CONF
=
{
'
type
'
:
(
'
unix
'
'
dos
'
)
}
DEFAULT
=
{
'
type
'
:
'
unix
'
}
def
check
(
conf
line
)
:
    
if
line
.
start
=
=
0
and
len
(
line
.
buffer
)
>
line
.
end
:
        
if
conf
[
'
type
'
]
=
=
'
dos
'
:
            
if
(
line
.
end
+
2
>
len
(
line
.
buffer
)
or
                    
line
.
buffer
[
line
.
end
:
line
.
end
+
2
]
!
=
'
\
r
\
n
'
)
:
                
yield
LintProblem
(
1
line
.
end
-
line
.
start
+
1
                                  
'
wrong
new
line
character
:
expected
\
\
r
\
\
n
'
)
        
else
:
            
if
line
.
buffer
[
line
.
end
]
=
=
'
\
r
'
:
                
yield
LintProblem
(
1
line
.
end
-
line
.
start
+
1
                                  
'
wrong
new
line
character
:
expected
\
\
n
'
)

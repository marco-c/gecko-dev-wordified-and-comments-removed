#
ifndef
CONTENT_ANALYSIS_BROWSER_INCLUDE_CONTENT_ANALYSIS_SDK_ANALYSIS_CLIENT_H_
#
define
CONTENT_ANALYSIS_BROWSER_INCLUDE_CONTENT_ANALYSIS_SDK_ANALYSIS_CLIENT_H_
#
include
<
memory
>
#
include
<
string
>
#
include
"
content_analysis
/
sdk
/
analysis
.
pb
.
h
"
namespace
content_analysis
{
namespace
sdk
{
struct
AgentInfo
{
unsigned
long
pid
=
0
;
std
:
:
string
binary_path
;
}
;
class
Client
{
public
:
struct
Config
{
std
:
:
string
name
;
bool
user_specific
=
false
;
}
;
static
std
:
:
unique_ptr
<
Client
>
Create
(
Config
config
)
;
virtual
~
Client
(
)
=
default
;
virtual
const
Config
&
GetConfig
(
)
const
=
0
;
virtual
const
AgentInfo
&
GetAgentInfo
(
)
const
=
0
;
virtual
int
Send
(
ContentAnalysisRequest
request
ContentAnalysisResponse
*
response
)
=
0
;
virtual
int
Acknowledge
(
const
ContentAnalysisAcknowledgement
&
ack
)
=
0
;
virtual
int
CancelRequests
(
const
ContentAnalysisCancelRequests
&
cancel
)
=
0
;
protected
:
Client
(
)
=
default
;
Client
(
const
Client
&
rhs
)
=
delete
;
Client
(
Client
&
&
rhs
)
=
delete
;
Client
&
operator
=
(
const
Client
&
rhs
)
=
delete
;
Client
&
operator
=
(
Client
&
&
rhs
)
=
delete
;
}
;
}
}
#
endif

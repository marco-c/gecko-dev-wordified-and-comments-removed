#
ifndef
CONTENT_ANALYSIS_AGENT_SRC_EVENT_WIN_H_
#
define
CONTENT_ANALYSIS_AGENT_SRC_EVENT_WIN_H_
#
include
<
windows
.
h
>
#
include
"
event_base
.
h
"
namespace
content_analysis
{
namespace
sdk
{
class
ContentAnalysisEventWin
:
public
ContentAnalysisEventBase
{
public
:
ContentAnalysisEventWin
(
HANDLE
handle
const
BrowserInfo
&
browser_info
ContentAnalysisRequest
request
)
;
~
ContentAnalysisEventWin
(
)
override
;
ResultCode
Init
(
)
;
ResultCode
Close
(
)
override
;
ResultCode
Send
(
)
override
;
std
:
:
string
DebugString
(
)
const
override
;
std
:
:
string
SerializeStringToSendToBrowser
(
)
{
return
agent_to_chrome
(
)
-
>
SerializeAsString
(
)
;
}
void
SetResponseSent
(
)
{
response_sent_
=
true
;
}
HANDLE
Pipe
(
)
const
{
return
hPipe_
;
}
private
:
void
Shutdown
(
)
;
HANDLE
hPipe_
=
INVALID_HANDLE_VALUE
;
bool
response_sent_
=
false
;
}
;
}
}
#
endif

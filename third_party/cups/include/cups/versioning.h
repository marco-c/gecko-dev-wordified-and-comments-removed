#
ifndef
_CUPS_VERSIONING_H_
#
define
_CUPS_VERSIONING_H_
#
ifdef
__APPLE__
#
include
<
os
/
availability
.
h
>
#
endif
#
ifdef
__has_extension
#
define
_CUPS_HAS_DEPRECATED
#
define
_CUPS_HAS_FORMAT
#
define
_CUPS_HAS_NORETURN
#
define
_CUPS_HAS_VISIBILITY
#
if
__has_extension
(
attribute_deprecated_with_message
)
#
define
_CUPS_HAS_DEPRECATED_WITH_MESSAGE
#
endif
#
if
__has_extension
(
attribute_unavailable_with_message
)
#
define
_CUPS_HAS_UNAVAILABLE_WITH_MESSAGE
#
endif
#
elif
defined
(
__GNUC__
)
#
if
__GNUC__
>
=
3
#
define
_CUPS_HAS_DEPRECATED
#
define
_CUPS_HAS_FORMAT
#
define
_CUPS_HAS_NORETURN
#
define
_CUPS_HAS_VISIBILITY
#
endif
#
if
__GNUC__
>
=
5
#
define
_CUPS_HAS_DEPRECATED_WITH_MESSAGE
#
elif
__GNUC__
=
=
4
&
&
__GNUC_MINOR__
>
=
5
#
define
_CUPS_HAS_DEPRECATED_WITH_MESSAGE
#
endif
#
elif
defined
(
_WIN32
)
#
define
__attribute__
(
.
.
.
)
#
endif
#
ifdef
_CUPS_HAS_VISIBILITY
#
define
_CUPS_INTERNAL
__attribute__
(
(
visibility
(
"
hidden
"
)
)
)
#
define
_CUPS_PRIVATE
__attribute__
(
(
visibility
(
"
default
"
)
)
)
#
define
_CUPS_PUBLIC
__attribute__
(
(
visibility
(
"
default
"
)
)
)
#
elif
defined
(
_WIN32
)
&
&
defined
(
LIBCUPS2_EXPORTS
)
&
&
0
#
define
_CUPS_INTERNAL
#
define
_CUPS_PRIVATE
__declspec
(
dllexport
)
#
define
_CUPS_PUBLIC
__declspec
(
dllexport
)
#
else
#
define
_CUPS_INTERNAL
#
define
_CUPS_PRIVATE
#
define
_CUPS_PUBLIC
#
endif
#
if
defined
(
__APPLE__
)
&
&
!
defined
(
_CUPS_SOURCE
)
&
&
TARGET_OS_OSX
#
define
_CUPS_API_1_1_19
API_AVAILABLE
(
macos
(
10
.
3
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_1_20
API_AVAILABLE
(
macos
(
10
.
4
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_1_21
API_AVAILABLE
(
macos
(
10
.
4
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_2
API_AVAILABLE
(
macos
(
10
.
5
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_3
API_AVAILABLE
(
macos
(
10
.
5
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_4
API_AVAILABLE
(
macos
(
10
.
6
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_5
API_AVAILABLE
(
macos
(
10
.
7
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_6
API_AVAILABLE
(
macos
(
10
.
8
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_1_7
API_AVAILABLE
(
macos
(
10
.
9
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_2_0
API_AVAILABLE
(
macos
(
10
.
10
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_2_2
API_AVAILABLE
(
macos
(
10
.
12
)
ios
(
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_2_2_4
API_AVAILABLE
(
macos
(
10
.
13
)
ios
(
12
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_2_2_7
API_AVAILABLE
(
macos
(
10
.
14
)
ios
(
13
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_API_2_3
API_AVAILABLE
(
macos
(
10
.
14
)
ios
(
13
.
0
)
)
_CUPS_PUBLIC
#
else
#
define
_CUPS_API_1_1_19
_CUPS_PUBLIC
#
define
_CUPS_API_1_1_20
_CUPS_PUBLIC
#
define
_CUPS_API_1_1_21
_CUPS_PUBLIC
#
define
_CUPS_API_1_2
_CUPS_PUBLIC
#
define
_CUPS_API_1_3
_CUPS_PUBLIC
#
define
_CUPS_API_1_4
_CUPS_PUBLIC
#
define
_CUPS_API_1_5
_CUPS_PUBLIC
#
define
_CUPS_API_1_6
_CUPS_PUBLIC
#
define
_CUPS_API_1_7
_CUPS_PUBLIC
#
define
_CUPS_API_2_0
_CUPS_PUBLIC
#
define
_CUPS_API_2_2
_CUPS_PUBLIC
#
define
_CUPS_API_2_2_4
_CUPS_PUBLIC
#
define
_CUPS_API_2_2_7
_CUPS_PUBLIC
#
define
_CUPS_API_2_3
_CUPS_PUBLIC
#
endif
#
if
!
defined
(
_CUPS_HAS_DEPRECATED
)
|
|
(
defined
(
_CUPS_SOURCE
)
&
&
!
defined
(
_CUPS_NO_DEPRECATED
)
)
#
define
_CUPS_DEPRECATED
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_MSG
(
m
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_2_MSG
(
m
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_6_MSG
(
m
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_7_MSG
(
m
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_2_2_MSG
(
m
)
_CUPS_PUBLIC
#
elif
defined
(
__APPLE__
)
&
&
defined
(
_CUPS_NO_DEPRECATED
)
#
define
_CUPS_DEPRECATED
__attribute__
(
(
unavailable
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_2_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
5
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_6_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
8
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_7_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
9
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_2_2_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
12
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
elif
defined
(
__APPLE__
)
#
define
_CUPS_DEPRECATED
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_2_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
5
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_6_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
8
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_7_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
9
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_2_2_MSG
(
m
)
API_DEPRECATED
(
m
macos
(
10
.
2
10
.
12
)
ios
(
11
.
0
11
.
0
)
)
_CUPS_PUBLIC
#
elif
defined
(
_CUPS_HAS_UNAVAILABLE_WITH_MESSAGE
)
&
&
defined
(
_CUPS_NO_DEPRECATED
)
#
define
_CUPS_DEPRECATED
__attribute__
(
(
unavailable
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_2_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_6_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_7_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_2_2_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
else
#
define
_CUPS_DEPRECATED
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
ifdef
_CUPS_HAS_DEPRECATED_WITH_MESSAGE
#
define
_CUPS_DEPRECATED_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_2_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_6_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_7_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_2_2_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
else
#
define
_CUPS_DEPRECATED_MSG
(
m
)
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_2_MSG
(
m
)
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_6_MSG
(
m
)
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_1_7_MSG
(
m
)
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
define
_CUPS_DEPRECATED_2_2_MSG
(
m
)
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
endif
#
endif
#
ifdef
_CUPS_HAS_FORMAT
#
define
_CUPS_FORMAT
(
a
b
)
__attribute__
(
(
__format__
(
__printf__
a
b
)
)
)
#
else
#
define
_CUPS_FORMAT
(
a
b
)
#
endif
#
ifdef
_CUPS_SOURCE
#
define
_CUPS_INTERNAL_MSG
(
m
)
_CUPS_PUBLIC
#
elif
defined
(
_CUPS_HAS_UNAVAILABLE_WITH_MESSAGE
)
#
define
_CUPS_INTERNAL_MSG
(
m
)
__attribute__
(
(
unavailable
(
m
)
)
)
_CUPS_PUBLIC
#
elif
defined
(
_CUPS_HAS_DEPRECATED_WITH_MESSAGE
)
#
define
_CUPS_INTERNAL_MSG
(
m
)
__attribute__
(
(
deprecated
(
m
)
)
)
_CUPS_PUBLIC
#
else
#
define
_CUPS_INTERNAL_MSG
(
m
)
__attribute__
(
(
deprecated
)
)
_CUPS_PUBLIC
#
endif
#
ifdef
_CUPS_HAS_NONNULL
#
define
_CUPS_NONNULL
(
.
.
.
)
__attribute__
(
(
nonnull
(
__VA_ARGS__
)
)
)
#
else
#
define
_CUPS_NONNULL
(
.
.
.
)
#
endif
#
ifdef
_CUPS_HAS_NORETURN
#
define
_CUPS_NORETURN
__attribute__
(
(
noreturn
)
)
#
else
#
define
_CUPS_NORETURN
#
endif
#
endif

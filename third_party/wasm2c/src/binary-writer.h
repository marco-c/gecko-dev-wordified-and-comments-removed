#
ifndef
WABT_BINARY_WRITER_H_
#
define
WABT_BINARY_WRITER_H_
#
include
"
src
/
common
.
h
"
#
include
"
src
/
feature
.
h
"
#
include
"
src
/
opcode
.
h
"
#
include
"
src
/
stream
.
h
"
namespace
wabt
{
struct
Module
;
struct
Script
;
struct
WriteBinaryOptions
{
WriteBinaryOptions
(
)
=
default
;
WriteBinaryOptions
(
const
Features
&
features
bool
canonicalize_lebs
bool
relocatable
bool
write_debug_names
)
:
features
(
features
)
canonicalize_lebs
(
canonicalize_lebs
)
relocatable
(
relocatable
)
write_debug_names
(
write_debug_names
)
{
}
Features
features
;
bool
canonicalize_lebs
=
true
;
bool
relocatable
=
false
;
bool
write_debug_names
=
false
;
}
;
Result
WriteBinaryModule
(
Stream
*
const
Module
*
const
WriteBinaryOptions
&
)
;
void
WriteType
(
Stream
*
stream
Type
type
const
char
*
desc
=
nullptr
)
;
void
WriteStr
(
Stream
*
stream
string_view
s
const
char
*
desc
PrintChars
print_chars
=
PrintChars
:
:
No
)
;
void
WriteOpcode
(
Stream
*
stream
Opcode
opcode
)
;
void
WriteLimits
(
Stream
*
stream
const
Limits
*
limits
)
;
}
#
endif

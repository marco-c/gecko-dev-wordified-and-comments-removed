#
ifndef
COMPONENTS_ZUCCHINI_ZUCCHINI_H_
#
define
COMPONENTS_ZUCCHINI_ZUCCHINI_H_
#
include
<
string
>
#
include
"
components
/
zucchini
/
buffer_view
.
h
"
#
include
"
components
/
zucchini
/
patch_reader
.
h
"
#
include
"
components
/
zucchini
/
patch_writer
.
h
"
#
if
defined
(
MOZ_ZUCCHINI
)
#
include
"
mozilla
/
moz_zucchini
.
h
"
#
endif
namespace
zucchini
{
#
if
!
defined
(
MOZ_ZUCCHINI
)
namespace
status
{
enum
Code
{
kStatusSuccess
=
0
kStatusInvalidParam
=
1
kStatusFileReadError
=
2
kStatusFileWriteError
=
3
kStatusPatchReadError
=
4
kStatusPatchWriteError
=
5
kStatusInvalidOldImage
=
6
kStatusInvalidNewImage
=
7
kStatusDiskFull
=
8
kStatusIoError
=
9
kStatusFatal
=
10
}
;
}
#
endif
status
:
:
Code
GenerateBuffer
(
ConstBufferView
old_image
ConstBufferView
new_image
EnsemblePatchWriter
*
patch_writer
)
;
status
:
:
Code
GenerateBufferImposed
(
ConstBufferView
old_image
ConstBufferView
new_image
std
:
:
string
imposed_matches
EnsemblePatchWriter
*
patch_writer
)
;
status
:
:
Code
GenerateBufferRaw
(
ConstBufferView
old_image
ConstBufferView
new_image
EnsemblePatchWriter
*
patch_writer
)
;
status
:
:
Code
ApplyBuffer
(
ConstBufferView
old_image
const
EnsemblePatchReader
&
patch_reader
MutableBufferView
new_image
)
;
}
#
endif

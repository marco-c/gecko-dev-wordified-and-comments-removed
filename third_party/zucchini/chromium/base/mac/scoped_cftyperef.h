#
ifndef
BASE_MAC_SCOPED_CFTYPEREF_H_
#
define
BASE_MAC_SCOPED_CFTYPEREF_H_
#
include
<
CoreFoundation
/
CoreFoundation
.
h
>
#
include
"
base
/
mac
/
scoped_typeref
.
h
"
namespace
base
{
namespace
internal
{
template
<
typename
CFT
>
struct
ScopedCFTypeRefTraits
{
static
CFT
InvalidValue
(
)
{
return
nullptr
;
}
static
CFT
Retain
(
CFT
object
)
{
CFRetain
(
object
)
;
return
object
;
}
static
void
Release
(
CFT
object
)
{
CFRelease
(
object
)
;
}
}
;
}
template
<
typename
CFT
>
using
ScopedCFTypeRef
=
ScopedTypeRef
<
CFT
internal
:
:
ScopedCFTypeRefTraits
<
CFT
>
>
;
}
#
endif

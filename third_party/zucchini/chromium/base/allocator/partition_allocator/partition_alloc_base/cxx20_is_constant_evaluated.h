#
ifndef
BASE_ALLOCATOR_PARTITION_ALLOCATOR_PARTITION_ALLOC_BASE_CXX20_IS_CONSTANT_EVALUATED_H_
#
define
BASE_ALLOCATOR_PARTITION_ALLOCATOR_PARTITION_ALLOC_BASE_CXX20_IS_CONSTANT_EVALUATED_H_
namespace
partition_alloc
:
:
internal
:
:
base
{
#
if
defined
(
__cpp_lib_is_constant_evaluated
)
&
&
\
__cpp_lib_is_constant_evaluated
>
=
201811L
#
include
<
type_traits
>
using
std
:
:
is_constant_evaluated
;
#
else
#
if
defined
(
MOZ_ZUCCHINI
)
#
include
"
base
/
compiler_specific
.
h
"
#
endif
constexpr
bool
is_constant_evaluated
(
)
noexcept
{
#
if
!
defined
(
MOZ_ZUCCHINI
)
|
|
HAS_BUILTIN
(
__builtin_is_constant_evaluated
)
return
__builtin_is_constant_evaluated
(
)
;
#
else
return
false
;
#
endif
}
#
endif
}
#
endif

#
ifndef
BASE_CONTAINERS_ADAPTERS_H_
#
define
BASE_CONTAINERS_ADAPTERS_H_
#
include
<
stddef
.
h
>
#
include
<
iterator
>
#
include
<
utility
>
#
include
"
base
/
memory
/
raw_ptr_exclusion
.
h
"
namespace
base
{
namespace
internal
{
template
<
typename
T
>
class
ReversedAdapter
{
public
:
using
Iterator
=
decltype
(
std
:
:
rbegin
(
std
:
:
declval
<
T
&
>
(
)
)
)
;
explicit
ReversedAdapter
(
T
&
t
)
:
t_
(
t
)
{
}
ReversedAdapter
(
const
ReversedAdapter
&
ra
)
:
t_
(
ra
.
t_
)
{
}
ReversedAdapter
&
operator
=
(
const
ReversedAdapter
&
)
=
delete
;
Iterator
begin
(
)
const
{
return
std
:
:
rbegin
(
t_
)
;
}
Iterator
end
(
)
const
{
return
std
:
:
rend
(
t_
)
;
}
private
:
RAW_PTR_EXCLUSION
T
&
t_
;
}
;
}
template
<
typename
T
>
internal
:
:
ReversedAdapter
<
T
>
Reversed
(
T
&
t
)
{
return
internal
:
:
ReversedAdapter
<
T
>
(
t
)
;
}
}
#
endif

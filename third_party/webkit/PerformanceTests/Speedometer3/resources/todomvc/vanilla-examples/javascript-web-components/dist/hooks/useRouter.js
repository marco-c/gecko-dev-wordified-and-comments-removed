export
const
useRouter
=
(
callback
)
=
>
{
let
onChange
=
callback
;
let
current
=
"
"
;
const
handleChange
=
(
)
=
>
{
current
=
document
.
location
.
hash
;
if
(
onChange
)
onChange
(
document
.
location
.
hash
)
;
}
;
const
initRouter
=
(
callback
)
=
>
{
onChange
=
callback
;
window
.
addEventListener
(
"
hashchange
"
handleChange
)
;
window
.
addEventListener
(
"
load
"
handleChange
)
;
}
;
const
disableRouter
=
(
)
=
>
{
window
.
removeEventListener
(
"
hashchange
"
handleChange
)
;
window
.
removeEventListener
(
"
load
"
handleChange
)
;
}
;
const
getRoute
=
(
)
=
>
current
.
split
(
"
/
"
)
.
slice
(
-
1
)
[
0
]
;
return
{
initRouter
getRoute
disableRouter
}
;
}
;

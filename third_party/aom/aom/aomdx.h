#
ifndef
AOM_AOM_AOMDX_H_
#
define
AOM_AOM_AOMDX_H_
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
include
"
aom
/
aom
.
h
"
extern
aom_codec_iface_t
aom_codec_av1_dx_algo
;
extern
aom_codec_iface_t
*
aom_codec_av1_dx
(
void
)
;
typedef
struct
Accounting
Accounting
;
#
ifndef
AOM_INSPECTION_H_
typedef
void
(
*
aom_inspect_cb
)
(
void
*
decoder
void
*
ctx
)
;
#
endif
typedef
struct
aom_inspect_init
{
aom_inspect_cb
inspect_cb
;
void
*
inspect_ctx
;
}
aom_inspect_init
;
typedef
struct
aom_tile_data
{
size_t
coded_tile_data_size
;
const
void
*
coded_tile_data
;
size_t
extra_size
;
}
aom_tile_data
;
typedef
struct
av1_ext_ref_frame
{
aom_image_t
*
img
;
int
num
;
}
av1_ext_ref_frame_t
;
enum
aom_dec_control_id
{
AOMD_GET_LAST_REF_UPDATES
=
AOM_DECODER_CTRL_ID_START
AOMD_GET_FRAME_CORRUPTED
AOMD_GET_LAST_REF_USED
AV1D_GET_FRAME_SIZE
AV1D_GET_DISPLAY_SIZE
AV1D_GET_BIT_DEPTH
AV1D_GET_IMG_FORMAT
AV1D_GET_TILE_SIZE
AV1_SET_BYTE_ALIGNMENT
AV1_INVERT_TILE_DECODE_ORDER
AV1_SET_SKIP_LOOP_FILTER
AV1_GET_ACCOUNTING
AOMD_GET_LAST_QUANTIZER
AV1_SET_DECODE_TILE_ROW
AV1_SET_DECODE_TILE_COL
AV1_SET_TILE_MODE
AV1D_GET_FRAME_HEADER_INFO
AV1D_GET_TILE_DATA
AV1D_SET_EXT_REF_PTR
AV1D_EXT_TILE_DEBUG
AV1D_SET_ROW_MT
AV1D_SET_IS_ANNEXB
AV1D_SET_OPERATING_POINT
AV1D_SET_OUTPUT_ALL_LAYERS
AV1_SET_INSPECTION_CALLBACK
AV1D_SET_SKIP_FILM_GRAIN
AOM_DECODER_CTRL_ID_MAX
}
;
AOM_CTRL_USE_TYPE
(
AOMD_GET_LAST_REF_UPDATES
int
*
)
#
define
AOM_CTRL_AOMD_GET_LAST_REF_UPDATES
AOM_CTRL_USE_TYPE
(
AOMD_GET_FRAME_CORRUPTED
int
*
)
#
define
AOM_CTRL_AOMD_GET_FRAME_CORRUPTED
AOM_CTRL_USE_TYPE
(
AOMD_GET_LAST_REF_USED
int
*
)
#
define
AOM_CTRL_AOMD_GET_LAST_REF_USED
AOM_CTRL_USE_TYPE
(
AOMD_GET_LAST_QUANTIZER
int
*
)
#
define
AOM_CTRL_AOMD_GET_LAST_QUANTIZER
AOM_CTRL_USE_TYPE
(
AV1D_GET_DISPLAY_SIZE
int
*
)
#
define
AOM_CTRL_AV1D_GET_DISPLAY_SIZE
AOM_CTRL_USE_TYPE
(
AV1D_GET_BIT_DEPTH
unsigned
int
*
)
#
define
AOM_CTRL_AV1D_GET_BIT_DEPTH
AOM_CTRL_USE_TYPE
(
AV1D_GET_IMG_FORMAT
aom_img_fmt_t
*
)
#
define
AOM_CTRL_AV1D_GET_IMG_FORMAT
AOM_CTRL_USE_TYPE
(
AV1D_GET_TILE_SIZE
unsigned
int
*
)
#
define
AOM_CTRL_AV1D_GET_TILE_SIZE
AOM_CTRL_USE_TYPE
(
AV1D_GET_FRAME_SIZE
int
*
)
#
define
AOM_CTRL_AV1D_GET_FRAME_SIZE
AOM_CTRL_USE_TYPE
(
AV1_INVERT_TILE_DECODE_ORDER
int
)
#
define
AOM_CTRL_AV1_INVERT_TILE_DECODE_ORDER
AOM_CTRL_USE_TYPE
(
AV1_GET_ACCOUNTING
Accounting
*
*
)
#
define
AOM_CTRL_AV1_GET_ACCOUNTING
AOM_CTRL_USE_TYPE
(
AV1_SET_DECODE_TILE_ROW
int
)
#
define
AOM_CTRL_AV1_SET_DECODE_TILE_ROW
AOM_CTRL_USE_TYPE
(
AV1_SET_DECODE_TILE_COL
int
)
#
define
AOM_CTRL_AV1_SET_DECODE_TILE_COL
AOM_CTRL_USE_TYPE
(
AV1_SET_TILE_MODE
unsigned
int
)
#
define
AOM_CTRL_AV1_SET_TILE_MODE
AOM_CTRL_USE_TYPE
(
AV1D_GET_FRAME_HEADER_INFO
aom_tile_data
*
)
#
define
AOM_CTRL_AV1D_GET_FRAME_HEADER_INFO
AOM_CTRL_USE_TYPE
(
AV1D_GET_TILE_DATA
aom_tile_data
*
)
#
define
AOM_CTRL_AV1D_GET_TILE_DATA
AOM_CTRL_USE_TYPE
(
AV1D_SET_EXT_REF_PTR
av1_ext_ref_frame_t
*
)
#
define
AOM_CTRL_AV1D_SET_EXT_REF_PTR
AOM_CTRL_USE_TYPE
(
AV1D_EXT_TILE_DEBUG
unsigned
int
)
#
define
AOM_CTRL_AV1D_EXT_TILE_DEBUG
AOM_CTRL_USE_TYPE
(
AV1D_SET_ROW_MT
unsigned
int
)
#
define
AOM_CTRL_AV1D_SET_ROW_MT
AOM_CTRL_USE_TYPE
(
AV1D_SET_SKIP_FILM_GRAIN
int
)
#
define
AOM_CTRL_AV1D_SET_SKIP_FILM_GRAIN
AOM_CTRL_USE_TYPE
(
AV1D_SET_IS_ANNEXB
unsigned
int
)
#
define
AOM_CTRL_AV1D_SET_IS_ANNEXB
AOM_CTRL_USE_TYPE
(
AV1D_SET_OPERATING_POINT
int
)
#
define
AOM_CTRL_AV1D_SET_OPERATING_POINT
AOM_CTRL_USE_TYPE
(
AV1D_SET_OUTPUT_ALL_LAYERS
int
)
#
define
AOM_CTRL_AV1D_SET_OUTPUT_ALL_LAYERS
AOM_CTRL_USE_TYPE
(
AV1_SET_INSPECTION_CALLBACK
aom_inspect_init
*
)
#
define
AOM_CTRL_AV1_SET_INSPECTION_CALLBACK
#
ifdef
__cplusplus
}
#
endif
#
endif

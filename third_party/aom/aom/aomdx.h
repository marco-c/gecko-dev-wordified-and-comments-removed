#
ifndef
AOM_AOMDX_H_
#
define
AOM_AOMDX_H_
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
include
"
.
/
aom
.
h
"
extern
aom_codec_iface_t
aom_codec_av1_dx_algo
;
extern
aom_codec_iface_t
*
aom_codec_av1_dx
(
void
)
;
typedef
struct
Accounting
Accounting
;
typedef
void
(
*
aom_inspect_cb
)
(
void
*
decoder
void
*
ctx
)
;
typedef
struct
aom_inspect_init
{
aom_inspect_cb
inspect_cb
;
void
*
inspect_ctx
;
}
aom_inspect_init
;
enum
aom_dec_control_id
{
AOMD_GET_LAST_REF_UPDATES
=
AOM_DECODER_CTRL_ID_START
AOMD_GET_FRAME_CORRUPTED
AOMD_GET_LAST_REF_USED
AOMD_SET_DECRYPTOR
AV1D_GET_FRAME_SIZE
AV1D_GET_DISPLAY_SIZE
AV1D_GET_BIT_DEPTH
AV1_SET_BYTE_ALIGNMENT
AV1_INVERT_TILE_DECODE_ORDER
AV1_SET_SKIP_LOOP_FILTER
AV1_GET_ACCOUNTING
AOMD_GET_LAST_QUANTIZER
AV1_SET_DECODE_TILE_ROW
AV1_SET_DECODE_TILE_COL
AV1_SET_INSPECTION_CALLBACK
AOM_DECODER_CTRL_ID_MAX
}
;
typedef
void
(
*
aom_decrypt_cb
)
(
void
*
decrypt_state
const
unsigned
char
*
input
unsigned
char
*
output
int
count
)
;
typedef
struct
aom_decrypt_init
{
aom_decrypt_cb
decrypt_cb
;
void
*
decrypt_state
;
}
aom_decrypt_init
;
AOM_CTRL_USE_TYPE
(
AOMD_GET_LAST_REF_UPDATES
int
*
)
#
define
AOM_CTRL_AOMD_GET_LAST_REF_UPDATES
AOM_CTRL_USE_TYPE
(
AOMD_GET_FRAME_CORRUPTED
int
*
)
#
define
AOM_CTRL_AOMD_GET_FRAME_CORRUPTED
AOM_CTRL_USE_TYPE
(
AOMD_GET_LAST_REF_USED
int
*
)
#
define
AOM_CTRL_AOMD_GET_LAST_REF_USED
AOM_CTRL_USE_TYPE
(
AOMD_GET_LAST_QUANTIZER
int
*
)
#
define
AOM_CTRL_AOMD_GET_LAST_QUANTIZER
AOM_CTRL_USE_TYPE
(
AOMD_SET_DECRYPTOR
aom_decrypt_init
*
)
#
define
AOM_CTRL_AOMD_SET_DECRYPTOR
AOM_CTRL_USE_TYPE
(
AV1D_GET_DISPLAY_SIZE
int
*
)
#
define
AOM_CTRL_AV1D_GET_DISPLAY_SIZE
AOM_CTRL_USE_TYPE
(
AV1D_GET_BIT_DEPTH
unsigned
int
*
)
#
define
AOM_CTRL_AV1D_GET_BIT_DEPTH
AOM_CTRL_USE_TYPE
(
AV1D_GET_FRAME_SIZE
int
*
)
#
define
AOM_CTRL_AV1D_GET_FRAME_SIZE
AOM_CTRL_USE_TYPE
(
AV1_INVERT_TILE_DECODE_ORDER
int
)
#
define
AOM_CTRL_AV1_INVERT_TILE_DECODE_ORDER
AOM_CTRL_USE_TYPE
(
AV1_GET_ACCOUNTING
Accounting
*
*
)
#
define
AOM_CTRL_AV1_GET_ACCOUNTING
AOM_CTRL_USE_TYPE
(
AV1_SET_DECODE_TILE_ROW
int
)
#
define
AOM_CTRL_AV1_SET_DECODE_TILE_ROW
AOM_CTRL_USE_TYPE
(
AV1_SET_DECODE_TILE_COL
int
)
#
define
AOM_CTRL_AV1_SET_DECODE_TILE_COL
AOM_CTRL_USE_TYPE
(
AV1_SET_INSPECTION_CALLBACK
aom_inspect_init
*
)
#
define
AOM_CTRL_AV1_SET_INSPECTION_CALLBACK
#
ifdef
__cplusplus
}
#
endif
#
endif

#
ifndef
AV1_ENCODER_PALETTE_H_
#
define
AV1_ENCODER_PALETTE_H_
#
include
"
av1
/
common
/
blockd
.
h
"
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
void
av1_calc_indices
(
const
float
*
data
const
float
*
centroids
uint8_t
*
indices
int
n
int
k
int
dim
)
;
void
av1_k_means
(
const
float
*
data
float
*
centroids
uint8_t
*
indices
int
n
int
k
int
dim
int
max_itr
)
;
int
av1_remove_duplicates
(
float
*
centroids
int
num_centroids
)
;
int
av1_count_colors
(
const
uint8_t
*
src
int
stride
int
rows
int
cols
)
;
#
if
CONFIG_HIGHBITDEPTH
int
av1_count_colors_highbd
(
const
uint8_t
*
src8
int
stride
int
rows
int
cols
int
bit_depth
)
;
#
endif
#
if
CONFIG_PALETTE_DELTA_ENCODING
int
av1_index_color_cache
(
const
uint16_t
*
color_cache
int
n_cache
const
uint16_t
*
colors
int
n_colors
uint8_t
*
cache_color_found
int
*
out_cache_colors
)
;
int
av1_get_palette_delta_bits_v
(
const
PALETTE_MODE_INFO
*
const
pmi
int
bit_depth
int
*
zero_count
int
*
min_bits
)
;
#
endif
int
av1_palette_color_cost_y
(
const
PALETTE_MODE_INFO
*
const
pmi
#
if
CONFIG_PALETTE_DELTA_ENCODING
uint16_t
*
color_cache
int
n_cache
#
endif
int
bit_depth
)
;
int
av1_palette_color_cost_uv
(
const
PALETTE_MODE_INFO
*
const
pmi
#
if
CONFIG_PALETTE_DELTA_ENCODING
uint16_t
*
color_cache
int
n_cache
#
endif
int
bit_depth
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

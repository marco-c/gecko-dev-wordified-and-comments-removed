#
ifndef
AV1_COMMON_TILE_COMMON_H_
#
define
AV1_COMMON_TILE_COMMON_H_
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
include
"
.
/
aom_config
.
h
"
struct
AV1Common
;
#
define
DEFAULT_MAX_NUM_TG
1
typedef
struct
TileInfo
{
int
mi_row_start
mi_row_end
;
int
mi_col_start
mi_col_end
;
int
tg_horz_boundary
;
}
TileInfo
;
void
av1_tile_init
(
TileInfo
*
tile
const
struct
AV1Common
*
cm
int
row
int
col
)
;
void
av1_tile_set_row
(
TileInfo
*
tile
const
struct
AV1Common
*
cm
int
row
)
;
void
av1_tile_set_col
(
TileInfo
*
tile
const
struct
AV1Common
*
cm
int
col
)
;
#
if
CONFIG_DEPENDENT_HORZTILES
void
av1_tile_set_tg_boundary
(
TileInfo
*
tile
const
struct
AV1Common
*
const
cm
int
row
int
col
)
;
#
endif
void
av1_get_tile_n_bits
(
int
mi_cols
int
*
min_log2_tile_cols
int
*
max_log2_tile_cols
)
;
void
av1_setup_frame_boundary_info
(
const
struct
AV1Common
*
const
cm
)
;
int
get_tile_size
(
int
mi_frame_size
int
log2_tile_num
int
*
ntiles
)
;
#
if
CONFIG_LOOPFILTERING_ACROSS_TILES
void
av1_setup_across_tile_boundary_info
(
const
struct
AV1Common
*
const
cm
const
TileInfo
*
const
tile_info
)
;
int
av1_disable_loopfilter_on_tile_boundary
(
const
struct
AV1Common
*
cm
)
;
#
endif
#
if
CONFIG_MAX_TILE
#
define
MAX_TILE_WIDTH
(
4096
)
/
/
Max
Tile
width
in
pixels
#
define
MAX_TILE_WIDTH_SB
(
MAX_TILE_WIDTH
>
>
MAX_SB_SIZE_LOG2
)
#
define
MAX_TILE_AREA
(
4096
*
2304
)
/
/
Maximum
tile
area
in
pixels
#
define
MAX_TILE_AREA_SB
(
MAX_TILE_AREA
>
>
(
2
*
MAX_SB_SIZE_LOG2
)
)
void
av1_get_tile_limits
(
struct
AV1Common
*
const
cm
)
;
void
av1_calculate_tile_cols
(
struct
AV1Common
*
const
cm
)
;
void
av1_calculate_tile_rows
(
struct
AV1Common
*
const
cm
)
;
#
endif
#
ifdef
__cplusplus
}
#
endif
#
endif

#
ifndef
AOM_COMMON_WEBMENC_H_
#
define
AOM_COMMON_WEBMENC_H_
#
include
<
stdio
.
h
>
#
include
<
stdlib
.
h
>
#
include
"
tools_common
.
h
"
#
include
"
aom
/
aom_encoder
.
h
"
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
struct
WebmOutputContext
{
int
debug
;
FILE
*
stream
;
int64_t
last_pts_ns
;
void
*
writer
;
void
*
segment
;
}
;
enum
{
STEREO_FORMAT_MONO
=
0
STEREO_FORMAT_LEFT_RIGHT
=
1
STEREO_FORMAT_BOTTOM_TOP
=
2
STEREO_FORMAT_TOP_BOTTOM
=
3
STEREO_FORMAT_RIGHT_LEFT
=
11
}
UENUM1BYTE
(
stereo_format_t
)
;
char
*
extract_encoder_settings
(
const
char
*
version
const
char
*
*
argv
int
argc
const
char
*
input_fname
)
;
int
write_webm_file_header
(
struct
WebmOutputContext
*
webm_ctx
aom_codec_ctx_t
*
encoder_ctx
const
aom_codec_enc_cfg_t
*
cfg
stereo_format_t
stereo_fmt
unsigned
int
fourcc
const
struct
AvxRational
*
par
const
char
*
encoder_settings
)
;
int
write_webm_block
(
struct
WebmOutputContext
*
webm_ctx
const
aom_codec_enc_cfg_t
*
cfg
const
aom_codec_cx_pkt_t
*
pkt
)
;
int
write_webm_file_footer
(
struct
WebmOutputContext
*
webm_ctx
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

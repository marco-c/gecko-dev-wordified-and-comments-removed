#
ifndef
AOM_AOM_DSP_QUANTIZE_H_
#
define
AOM_AOM_DSP_QUANTIZE_H_
#
include
"
config
/
aom_config
.
h
"
#
include
"
aom_dsp
/
aom_dsp_common
.
h
"
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
define
EOB_FACTOR
325
#
define
SKIP_EOB_FACTOR_ADJUST
200
void
aom_quantize_b_adaptive_helper_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
const
qm_val_t
*
qm_ptr
const
qm_val_t
*
iqm_ptr
const
int
log_scale
)
;
void
aom_quantize_b_adaptive_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
void
aom_quantize_b_32x32_adaptive_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
void
aom_quantize_b_64x64_adaptive_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
#
if
CONFIG_AV1_HIGHBITDEPTH
void
aom_highbd_quantize_b_adaptive_helper_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
const
qm_val_t
*
qm_ptr
const
qm_val_t
*
iqm_ptr
const
int
log_scale
)
;
void
aom_highbd_quantize_b_adaptive_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
void
aom_highbd_quantize_b_32x32_adaptive_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
void
aom_highbd_quantize_b_64x64_adaptive_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
#
endif
void
aom_quantize_b_helper_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
const
qm_val_t
*
qm_ptr
const
qm_val_t
*
iqm_ptr
const
int
log_scale
)
;
void
aom_quantize_b_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
#
if
CONFIG_AV1_HIGHBITDEPTH
void
aom_highbd_quantize_b_helper_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
const
qm_val_t
*
qm_ptr
const
qm_val_t
*
iqm_ptr
const
int
log_scale
)
;
void
aom_highbd_quantize_b_c
(
const
tran_low_t
*
coeff_ptr
intptr_t
n_coeffs
const
int16_t
*
zbin_ptr
const
int16_t
*
round_ptr
const
int16_t
*
quant_ptr
const
int16_t
*
quant_shift_ptr
tran_low_t
*
qcoeff_ptr
tran_low_t
*
dqcoeff_ptr
const
int16_t
*
dequant_ptr
uint16_t
*
eob_ptr
const
int16_t
*
scan
const
int16_t
*
iscan
)
;
#
endif
#
ifdef
__cplusplus
}
#
endif
#
endif

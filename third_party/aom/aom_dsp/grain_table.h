#
ifndef
AOM_AOM_DSP_GRAIN_TABLE_H_
#
define
AOM_AOM_DSP_GRAIN_TABLE_H_
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
include
"
aom_dsp
/
grain_params
.
h
"
#
include
"
aom
/
internal
/
aom_codec_internal
.
h
"
typedef
struct
aom_film_grain_table_entry_t
{
aom_film_grain_t
params
;
int64_t
start_time
;
int64_t
end_time
;
struct
aom_film_grain_table_entry_t
*
next
;
}
aom_film_grain_table_entry_t
;
typedef
struct
{
aom_film_grain_table_entry_t
*
head
;
aom_film_grain_table_entry_t
*
tail
;
}
aom_film_grain_table_t
;
void
aom_film_grain_table_append
(
aom_film_grain_table_t
*
table
int64_t
time_stamp
int64_t
end_time
const
aom_film_grain_t
*
grain
)
;
int
aom_film_grain_table_lookup
(
aom_film_grain_table_t
*
t
int64_t
time_stamp
int64_t
end_time
int
erase
aom_film_grain_t
*
grain
)
;
aom_codec_err_t
aom_film_grain_table_read
(
aom_film_grain_table_t
*
table
const
char
*
filename
struct
aom_internal_error_info
*
error_info
)
;
aom_codec_err_t
aom_film_grain_table_write
(
const
aom_film_grain_table_t
*
t
const
char
*
filename
struct
aom_internal_error_info
*
error_info
)
;
void
aom_film_grain_table_free
(
aom_film_grain_table_t
*
t
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

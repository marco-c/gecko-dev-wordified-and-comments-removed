#
ifndef
AOM_AOM_GRAIN_SYNTHESIS_H_
#
define
AOM_AOM_GRAIN_SYNTHESIS_H_
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
include
"
aom_dsp
/
aom_dsp_common
.
h
"
#
include
"
aom
/
aom_image
.
h
"
typedef
struct
{
int
apply_grain
;
int
update_parameters
;
int
scaling_points_y
[
14
]
[
2
]
;
int
num_y_points
;
int
scaling_points_cb
[
10
]
[
2
]
;
int
num_cb_points
;
int
scaling_points_cr
[
10
]
[
2
]
;
int
num_cr_points
;
int
scaling_shift
;
int
ar_coeff_lag
;
int
ar_coeffs_y
[
24
]
;
int
ar_coeffs_cb
[
25
]
;
int
ar_coeffs_cr
[
25
]
;
int
ar_coeff_shift
;
int
cb_mult
;
int
cb_luma_mult
;
int
cb_offset
;
int
cr_mult
;
int
cr_luma_mult
;
int
cr_offset
;
int
overlap_flag
;
int
clip_to_restricted_range
;
unsigned
int
bit_depth
;
int
chroma_scaling_from_luma
;
int
grain_scale_shift
;
uint16_t
random_seed
;
}
aom_film_grain_t
;
void
av1_add_film_grain_run
(
const
aom_film_grain_t
*
grain_params
uint8_t
*
luma
uint8_t
*
cb
uint8_t
*
cr
int
height
int
width
int
luma_stride
int
chroma_stride
int
use_high_bit_depth
int
chroma_subsamp_y
int
chroma_subsamp_x
int
mc_identity
)
;
void
av1_add_film_grain
(
const
aom_film_grain_t
*
grain_params
const
aom_image_t
*
src
aom_image_t
*
dst
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

#
ifndef
AOM_SCALE_YV12CONFIG_H_
#
define
AOM_SCALE_YV12CONFIG_H_
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
include
"
config
/
aom_config
.
h
"
#
include
"
aom
/
aom_codec
.
h
"
#
include
"
aom
/
aom_frame_buffer
.
h
"
#
include
"
aom
/
aom_integer
.
h
"
#
define
AOMINNERBORDERINPIXELS
160
#
define
AOM_INTERP_EXTEND
4
#
define
AOM_BORDER_IN_PIXELS
288
typedef
struct
yv12_buffer_config
{
union
{
struct
{
int
y_width
;
int
uv_width
;
int
alpha_width
;
}
;
int
widths
[
3
]
;
}
;
union
{
struct
{
int
y_height
;
int
uv_height
;
int
alpha_height
;
}
;
int
heights
[
3
]
;
}
;
union
{
struct
{
int
y_crop_width
;
int
uv_crop_width
;
}
;
int
crop_widths
[
2
]
;
}
;
union
{
struct
{
int
y_crop_height
;
int
uv_crop_height
;
}
;
int
crop_heights
[
2
]
;
}
;
union
{
struct
{
int
y_stride
;
int
uv_stride
;
int
alpha_stride
;
}
;
int
strides
[
3
]
;
}
;
union
{
struct
{
uint8_t
*
y_buffer
;
uint8_t
*
u_buffer
;
uint8_t
*
v_buffer
;
uint8_t
*
alpha_buffer
;
}
;
uint8_t
*
buffers
[
4
]
;
}
;
int
use_external_reference_buffers
;
uint8_t
*
store_buf_adr
[
3
]
;
uint8_t
*
y_buffer_8bit
;
int
buf_8bit_valid
;
uint8_t
*
buffer_alloc
;
size_t
buffer_alloc_sz
;
int
border
;
size_t
frame_size
;
int
subsampling_x
;
int
subsampling_y
;
unsigned
int
bit_depth
;
aom_color_primaries_t
color_primaries
;
aom_transfer_characteristics_t
transfer_characteristics
;
aom_matrix_coefficients_t
matrix_coefficients
;
int
monochrome
;
aom_chroma_sample_position_t
chroma_sample_position
;
aom_color_range_t
color_range
;
int
render_width
;
int
render_height
;
int
corrupted
;
int
flags
;
}
YV12_BUFFER_CONFIG
;
#
define
YV12_FLAG_HIGHBITDEPTH
8
int
aom_alloc_frame_buffer
(
YV12_BUFFER_CONFIG
*
ybf
int
width
int
height
int
ss_x
int
ss_y
int
use_highbitdepth
int
border
int
byte_alignment
)
;
int
aom_realloc_frame_buffer
(
YV12_BUFFER_CONFIG
*
ybf
int
width
int
height
int
ss_x
int
ss_y
int
use_highbitdepth
int
border
int
byte_alignment
aom_codec_frame_buffer_t
*
fb
aom_get_frame_buffer_cb_fn_t
cb
void
*
cb_priv
)
;
int
aom_free_frame_buffer
(
YV12_BUFFER_CONFIG
*
ybf
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

#
ifndef
DAV1D_SRC_CDEF_H
#
define
DAV1D_SRC_CDEF_H
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
"
common
/
bitdepth
.
h
"
enum
CdefEdgeFlags
{
CDEF_HAVE_LEFT
=
1
<
<
0
CDEF_HAVE_RIGHT
=
1
<
<
1
CDEF_HAVE_TOP
=
1
<
<
2
CDEF_HAVE_BOTTOM
=
1
<
<
3
}
;
#
ifdef
BITDEPTH
typedef
const
pixel
(
*
const_left_pixel_row_2px
)
[
2
]
;
#
else
typedef
const
void
*
const_left_pixel_row_2px
;
#
endif
#
define
decl_cdef_fn
(
name
)
\
void
(
name
)
(
pixel
*
dst
ptrdiff_t
stride
const_left_pixel_row_2px
left
\
const
pixel
*
top
int
pri_strength
int
sec_strength
\
int
dir
int
damping
enum
CdefEdgeFlags
edges
HIGHBD_DECL_SUFFIX
)
typedef
decl_cdef_fn
(
*
cdef_fn
)
;
#
define
decl_cdef_dir_fn
(
name
)
\
int
(
name
)
(
const
pixel
*
dst
ptrdiff_t
dst_stride
unsigned
*
var
HIGHBD_DECL_SUFFIX
)
typedef
decl_cdef_dir_fn
(
*
cdef_dir_fn
)
;
typedef
struct
Dav1dCdefDSPContext
{
cdef_dir_fn
dir
;
cdef_fn
fb
[
3
]
;
}
Dav1dCdefDSPContext
;
bitfn_decls
(
void
dav1d_cdef_dsp_init
Dav1dCdefDSPContext
*
c
)
;
bitfn_decls
(
void
dav1d_cdef_dsp_init_arm
Dav1dCdefDSPContext
*
c
)
;
bitfn_decls
(
void
dav1d_cdef_dsp_init_ppc
Dav1dCdefDSPContext
*
c
)
;
bitfn_decls
(
void
dav1d_cdef_dsp_init_x86
Dav1dCdefDSPContext
*
c
)
;
#
endif

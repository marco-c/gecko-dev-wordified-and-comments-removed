#
ifndef
__DAV1D_SRC_CDEF_H__
#
define
__DAV1D_SRC_CDEF_H__
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
"
common
/
bitdepth
.
h
"
enum
CdefEdgeFlags
{
HAVE_LEFT
=
1
<
<
0
HAVE_RIGHT
=
1
<
<
1
HAVE_TOP
=
1
<
<
2
HAVE_BOTTOM
=
1
<
<
3
}
;
#
ifdef
BITDEPTH
typedef
const
pixel
(
*
const_left_pixel_row_2px
)
[
2
]
;
#
else
typedef
const
void
*
const_left_pixel_row_2px
;
#
endif
#
define
decl_cdef_fn
(
name
)
\
void
(
name
)
(
pixel
*
dst
ptrdiff_t
stride
const_left_pixel_row_2px
left
\
/
*
const
*
/
pixel
*
const
top
[
2
]
int
pri_strength
int
sec_strength
\
int
dir
int
damping
enum
CdefEdgeFlags
edges
)
typedef
decl_cdef_fn
(
*
cdef_fn
)
;
#
define
decl_cdef_dir_fn
(
name
)
\
int
(
name
)
(
const
pixel
*
dst
ptrdiff_t
dst_stride
unsigned
*
var
)
typedef
decl_cdef_dir_fn
(
*
cdef_dir_fn
)
;
typedef
struct
Dav1dCdefDSPContext
{
cdef_dir_fn
dir
;
cdef_fn
fb
[
3
]
;
}
Dav1dCdefDSPContext
;
void
dav1d_cdef_dsp_init_8bpc
(
Dav1dCdefDSPContext
*
c
)
;
void
dav1d_cdef_dsp_init_10bpc
(
Dav1dCdefDSPContext
*
c
)
;
void
dav1d_cdef_dsp_init_x86_8bpc
(
Dav1dCdefDSPContext
*
c
)
;
void
dav1d_cdef_dsp_init_x86_10bpc
(
Dav1dCdefDSPContext
*
c
)
;
#
endif

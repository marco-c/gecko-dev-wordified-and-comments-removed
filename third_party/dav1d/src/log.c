#
include
"
config
.
h
"
#
include
<
stdarg
.
h
>
#
include
<
stdio
.
h
>
#
include
"
dav1d
/
dav1d
.
h
"
#
include
"
common
/
validate
.
h
"
#
include
"
src
/
internal
.
h
"
#
include
"
src
/
log
.
h
"
void
dav1d_log_default_callback
(
void
*
const
cookie
const
char
*
const
format
va_list
ap
)
{
vfprintf
(
stderr
format
ap
)
;
}
#
if
CONFIG_LOG
void
dav1d_log
(
Dav1dContext
*
const
c
const
char
*
const
format
.
.
.
)
{
validate_input
(
c
!
=
NULL
)
;
if
(
!
c
-
>
logger
.
callback
)
return
;
va_list
ap
;
va_start
(
ap
format
)
;
c
-
>
logger
.
callback
(
c
-
>
logger
.
cookie
format
ap
)
;
va_end
(
ap
)
;
}
#
endif

#
ifndef
DAV1D_SRC_GETBITS_H
#
define
DAV1D_SRC_GETBITS_H
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
typedef
struct
GetBits
{
int
error
eof
;
uint64_t
state
;
unsigned
bits_left
;
const
uint8_t
*
ptr
*
ptr_start
*
ptr_end
;
}
GetBits
;
void
dav1d_init_get_bits
(
GetBits
*
c
const
uint8_t
*
data
size_t
sz
)
;
unsigned
dav1d_get_bits
(
GetBits
*
c
unsigned
n
)
;
int
dav1d_get_sbits
(
GetBits
*
c
unsigned
n
)
;
unsigned
dav1d_get_uleb128
(
GetBits
*
c
)
;
unsigned
dav1d_get_uniform
(
GetBits
*
c
unsigned
max
)
;
unsigned
dav1d_get_vlc
(
GetBits
*
c
)
;
int
dav1d_get_bits_subexp
(
GetBits
*
c
int
ref
unsigned
n
)
;
void
dav1d_bytealign_get_bits
(
GetBits
*
c
)
;
static
inline
unsigned
dav1d_get_bits_pos
(
const
GetBits
*
c
)
{
return
(
unsigned
)
(
c
-
>
ptr
-
c
-
>
ptr_start
)
*
8
-
c
-
>
bits_left
;
}
#
endif

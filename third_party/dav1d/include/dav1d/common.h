#
ifndef
DAV1D_COMMON_H
#
define
DAV1D_COMMON_H
#
include
<
errno
.
h
>
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
ifndef
DAV1D_API
#
if
defined
_WIN32
#
if
defined
DAV1D_BUILDING_DLL
#
define
DAV1D_API
__declspec
(
dllexport
)
#
else
#
define
DAV1D_API
#
endif
#
else
#
if
__GNUC__
>
=
4
#
define
DAV1D_API
__attribute__
(
(
visibility
(
"
default
"
)
)
)
#
else
#
define
DAV1D_API
#
endif
#
endif
#
endif
#
if
EPERM
>
0
#
define
DAV1D_ERR
(
e
)
(
-
(
e
)
)
/
/
/
<
Negate
POSIX
error
code
.
#
else
#
define
DAV1D_ERR
(
e
)
(
e
)
#
endif
typedef
struct
Dav1dUserData
{
const
uint8_t
*
data
;
struct
Dav1dRef
*
ref
;
}
Dav1dUserData
;
typedef
struct
Dav1dDataProps
{
int64_t
timestamp
;
int64_t
duration
;
int64_t
offset
;
size_t
size
;
struct
Dav1dUserData
user_data
;
}
Dav1dDataProps
;
DAV1D_API
void
dav1d_data_props_unref
(
Dav1dDataProps
*
props
)
;
#
endif

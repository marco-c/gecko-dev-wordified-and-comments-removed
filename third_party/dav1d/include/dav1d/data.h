#
ifndef
__DAV1D_DATA_H__
#
define
__DAV1D_DATA_H__
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
"
common
.
h
"
typedef
struct
Dav1dData
{
const
uint8_t
*
data
;
size_t
sz
;
struct
Dav1dRef
*
ref
;
Dav1dDataProps
m
;
}
Dav1dData
;
DAV1D_API
uint8_t
*
dav1d_data_create
(
Dav1dData
*
data
size_t
sz
)
;
DAV1D_API
int
dav1d_data_wrap
(
Dav1dData
*
data
const
uint8_t
*
buf
size_t
sz
void
(
*
free_callback
)
(
const
uint8_t
*
buf
void
*
cookie
)
void
*
cookie
)
;
DAV1D_API
int
dav1d_data_wrap_user_data
(
Dav1dData
*
data
const
uint8_t
*
user_data
void
(
*
free_callback
)
(
const
uint8_t
*
user_data
void
*
cookie
)
void
*
cookie
)
;
DAV1D_API
void
dav1d_data_unref
(
Dav1dData
*
data
)
;
#
endif

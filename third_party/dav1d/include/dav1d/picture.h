#
ifndef
__DAV1D_PICTURE_H__
#
define
__DAV1D_PICTURE_H__
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
"
common
.
h
"
#
include
"
headers
.
h
"
typedef
struct
Dav1dPictureParameters
{
int
w
;
int
h
;
enum
Dav1dPixelLayout
layout
;
int
bpc
;
}
Dav1dPictureParameters
;
typedef
struct
Dav1dPicture
{
Dav1dSequenceHeader
*
seq_hdr
;
Dav1dFrameHeader
*
frame_hdr
;
void
*
data
[
3
]
;
ptrdiff_t
stride
[
2
]
;
Dav1dPictureParameters
p
;
Dav1dDataProps
m
;
struct
Dav1dRef
*
frame_hdr_ref
*
seq_hdr_ref
*
ref
;
void
*
allocator_data
;
}
Dav1dPicture
;
typedef
struct
Dav1dPicAllocator
{
void
*
cookie
;
int
(
*
alloc_picture_callback
)
(
Dav1dPicture
*
pic
void
*
cookie
)
;
void
(
*
release_picture_callback
)
(
Dav1dPicture
*
pic
void
*
cookie
)
;
}
Dav1dPicAllocator
;
DAV1D_API
void
dav1d_picture_unref
(
Dav1dPicture
*
p
)
;
#
endif

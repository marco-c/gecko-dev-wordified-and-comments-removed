with
Files
(
'
*
*
'
)
:
BUG_COMPONENT
=
(
'
Core
'
'
Networking
'
)
EXPORTS
.
zstd
+
=
[
'
lib
/
zstd
.
h
'
]
UNIFIED_SOURCES
+
=
[
'
lib
/
common
/
debug
.
c
'
'
lib
/
common
/
entropy_common
.
c
'
'
lib
/
common
/
error_private
.
c
'
'
lib
/
common
/
fse_decompress
.
c
'
'
lib
/
common
/
pool
.
c
'
'
lib
/
common
/
threading
.
c
'
'
lib
/
common
/
xxhash
.
c
'
'
lib
/
common
/
zstd_common
.
c
'
'
lib
/
decompress
/
huf_decompress
.
c
'
'
lib
/
decompress
/
zstd_ddict
.
c
'
'
lib
/
decompress
/
zstd_decompress
.
c
'
'
lib
/
decompress
/
zstd_decompress_block
.
c
'
]
CFLAGS
+
=
[
'
-
Wall
'
'
-
Wextra
'
'
-
Wcast
-
qual
'
'
-
Wcast
-
align
'
'
-
Wshadow
'
'
-
Wstrict
-
aliasing
=
1
'
'
-
Wswitch
-
enum
'
'
-
Wdeclaration
-
after
-
statement
'
'
-
Wstrict
-
prototypes
'
'
-
Wundef
'
'
-
Wpointer
-
arith
'
'
-
Wvla
'
'
-
Wformat
=
2
'
'
-
Winit
-
self
'
'
-
Wfloat
-
equal
'
'
-
Wwrite
-
strings
'
'
-
Wredundant
-
decls
'
'
-
Wmissing
-
prototypes
'
'
-
Wc
+
+
-
compat
'
]
CXXFLAGS
+
=
[
'
-
DXXH_NAMESPACE
=
ZSTD_
'
'
-
DDEBUGLEVEL
=
0
'
'
-
DZSTD_MULTITHREAD
=
1
'
]
LOCAL_INCLUDES
+
=
[
'
lib
/
decompress
'
]
if
CONFIG
[
"
OS_ARCH
"
]
=
=
"
WINNT
"
:
CXXFLAGS
+
=
[
'
-
DZSTD_DISABLE_ASM
=
1
'
]
else
:
if
CONFIG
[
"
TARGET_CPU
"
]
=
=
"
x86_64
"
and
CONFIG
[
"
OS_ARCH
"
]
=
=
"
WINNT
"
:
if
CONFIG
[
"
CC_TYPE
"
]
=
=
"
clang
-
cl
"
:
GeneratedFile
(
"
win64_intel
.
asm
"
inputs
=
[
"
lib
/
decompress
/
huf_decompress_amd64
.
S
"
]
script
=
"
preprocess_asm
.
py
"
flags
=
[
"
(
DEFINES
)
"
"
(
LOCAL_INCLUDES
)
"
]
)
SOURCES
+
=
[
"
!
win64_intel
.
asm
"
]
else
:
SOURCES
+
=
[
'
lib
/
decompress
/
huf_decompress_amd64
.
S
'
]
else
:
SOURCES
+
=
[
'
lib
/
decompress
/
huf_decompress_amd64
.
S
'
]
AllowCompilerWarnings
(
)
Library
(
'
zstd
'
)
FINAL_LIBRARY
=
'
xul
'

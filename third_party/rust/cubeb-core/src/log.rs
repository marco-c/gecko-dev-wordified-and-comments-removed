use
ffi
;
#
[
derive
(
PartialEq
Eq
Clone
Debug
Copy
PartialOrd
Ord
)
]
pub
enum
LogLevel
{
Disabled
Normal
Verbose
}
impl
From
<
ffi
:
:
cubeb_log_level
>
for
LogLevel
{
fn
from
(
x
:
ffi
:
:
cubeb_log_level
)
-
>
Self
{
use
LogLevel
:
:
*
;
match
x
{
ffi
:
:
CUBEB_LOG_NORMAL
=
>
Normal
ffi
:
:
CUBEB_LOG_VERBOSE
=
>
Verbose
_
=
>
Disabled
}
}
}
pub
fn
log_enabled
(
)
-
>
bool
{
unsafe
{
ffi
:
:
cubeb_log_get_level
(
)
!
=
LogLevel
:
:
Disabled
as
_
}
}
#
[
cfg
(
test
)
]
mod
tests
{
use
super
:
:
*
;
#
[
test
]
fn
test_logging_disabled_by_default
(
)
{
assert
!
(
!
log_enabled
(
)
)
;
}
}

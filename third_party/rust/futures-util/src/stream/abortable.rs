use
super
:
:
assert_stream
;
use
crate
:
:
stream
:
:
{
AbortHandle
Abortable
}
;
use
crate
:
:
Stream
;
pub
fn
abortable
<
St
>
(
stream
:
St
)
-
>
(
Abortable
<
St
>
AbortHandle
)
where
St
:
Stream
{
let
(
handle
reg
)
=
AbortHandle
:
:
new_pair
(
)
;
let
abortable
=
assert_stream
:
:
<
St
:
:
Item
_
>
(
Abortable
:
:
new
(
stream
reg
)
)
;
(
abortable
handle
)
}

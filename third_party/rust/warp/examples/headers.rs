#
!
[
deny
(
warnings
)
]
use
std
:
:
net
:
:
SocketAddr
;
use
warp
:
:
Filter
;
#
[
tokio
:
:
main
]
async
fn
main
(
)
{
pretty_env_logger
:
:
init
(
)
;
let
host
=
warp
:
:
header
:
:
<
SocketAddr
>
(
"
host
"
)
;
let
accept_stars
=
warp
:
:
header
:
:
exact
(
"
accept
"
"
*
/
*
"
)
;
let
routes
=
host
.
and
(
accept_stars
)
.
map
(
|
addr
|
format
!
(
"
accepting
stars
on
{
}
"
addr
)
)
;
warp
:
:
serve
(
routes
)
.
run
(
(
[
127
0
0
1
]
3030
)
)
.
await
;
}

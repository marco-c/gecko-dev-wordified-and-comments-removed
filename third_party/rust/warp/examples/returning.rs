use
warp
:
:
{
filters
:
:
BoxedFilter
Filter
Rejection
Reply
}
;
pub
fn
assets_filter
(
)
-
>
BoxedFilter
<
(
impl
Reply
)
>
{
warp
:
:
path
(
"
assets
"
)
.
and
(
warp
:
:
fs
:
:
dir
(
"
.
/
assets
"
)
)
.
boxed
(
)
}
pub
fn
index_filter
(
)
-
>
impl
Filter
<
Extract
=
(
&
'
static
str
)
Error
=
Rejection
>
+
Clone
{
warp
:
:
path
:
:
end
(
)
.
map
(
|
|
"
Index
page
"
)
}
#
[
tokio
:
:
main
]
async
fn
main
(
)
{
let
routes
=
index_filter
(
)
.
or
(
assets_filter
(
)
)
;
warp
:
:
serve
(
routes
)
.
run
(
(
[
127
0
0
1
]
3030
)
)
.
await
;
}

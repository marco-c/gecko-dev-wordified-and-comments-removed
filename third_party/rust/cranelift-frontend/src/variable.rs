use
core
:
:
u32
;
use
cranelift_codegen
:
:
entity
:
:
EntityRef
;
#
[
derive
(
Copy
Clone
PartialEq
Eq
Debug
)
]
pub
struct
Variable
(
u32
)
;
impl
Variable
{
pub
fn
with_u32
(
index
:
u32
)
-
>
Self
{
debug_assert
!
(
index
<
u32
:
:
MAX
)
;
Variable
(
index
)
}
}
impl
EntityRef
for
Variable
{
fn
new
(
index
:
usize
)
-
>
Self
{
debug_assert
!
(
index
<
(
u32
:
:
MAX
as
usize
)
)
;
Variable
(
index
as
u32
)
}
fn
index
(
self
)
-
>
usize
{
self
.
0
as
usize
}
}

use
core
:
:
ops
:
:
Range
;
#
[
cfg
(
any
(
feature
=
"
serde
"
test
)
)
]
use
serde
:
:
{
Deserialize
Serialize
}
;
#
[
derive
(
Clone
Debug
Default
)
]
#
[
cfg_attr
(
feature
=
"
serde
"
derive
(
Serialize
Deserialize
)
)
]
pub
struct
DeviceDescriptor
<
L
>
{
pub
label
:
L
pub
required_features
:
crate
:
:
Features
pub
required_limits
:
crate
:
:
Limits
#
[
cfg_attr
(
feature
=
"
serde
"
serde
(
skip
)
)
]
pub
experimental_features
:
crate
:
:
ExperimentalFeatures
pub
memory_hints
:
MemoryHints
pub
trace
:
Trace
}
impl
<
L
>
DeviceDescriptor
<
L
>
{
#
[
must_use
]
pub
fn
map_label
<
K
>
(
&
self
fun
:
impl
FnOnce
(
&
L
)
-
>
K
)
-
>
DeviceDescriptor
<
K
>
{
DeviceDescriptor
{
label
:
fun
(
&
self
.
label
)
required_features
:
self
.
required_features
required_limits
:
self
.
required_limits
.
clone
(
)
experimental_features
:
self
.
experimental_features
memory_hints
:
self
.
memory_hints
.
clone
(
)
trace
:
self
.
trace
.
clone
(
)
}
}
}
#
[
derive
(
Clone
Debug
Default
)
]
#
[
cfg_attr
(
feature
=
"
serde
"
derive
(
Serialize
Deserialize
)
)
]
pub
enum
MemoryHints
{
#
[
default
]
Performance
MemoryUsage
Manual
{
suballocated_device_memory_block_size
:
Range
<
u64
>
}
}
#
[
derive
(
Clone
Debug
Default
)
]
#
[
cfg_attr
(
feature
=
"
serde
"
derive
(
Serialize
Deserialize
)
)
]
#
[
non_exhaustive
]
pub
enum
Trace
{
#
[
default
]
Off
#
[
cfg
(
feature
=
"
trace
"
)
]
Directory
(
std
:
:
path
:
:
PathBuf
)
}

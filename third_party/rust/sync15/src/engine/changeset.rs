use
crate
:
:
{
Payload
ServerTimestamp
}
;
#
[
derive
(
Debug
Clone
)
]
pub
struct
RecordChangeset
<
P
>
{
pub
changes
:
Vec
<
P
>
pub
timestamp
:
ServerTimestamp
pub
collection
:
std
:
:
borrow
:
:
Cow
<
'
static
str
>
}
pub
type
IncomingChangeset
=
RecordChangeset
<
(
Payload
ServerTimestamp
)
>
;
pub
type
OutgoingChangeset
=
RecordChangeset
<
Payload
>
;
impl
<
T
>
RecordChangeset
<
T
>
{
#
[
inline
]
pub
fn
new
(
collection
:
impl
Into
<
std
:
:
borrow
:
:
Cow
<
'
static
str
>
>
timestamp
:
ServerTimestamp
)
-
>
RecordChangeset
<
T
>
{
RecordChangeset
{
changes
:
vec
!
[
]
timestamp
collection
:
collection
.
into
(
)
}
}
}

#
[
cfg
(
feature
=
"
display
"
)
]
mod
document
;
mod
error
;
#
[
cfg
(
feature
=
"
display
"
)
]
mod
style
;
#
[
cfg
(
feature
=
"
display
"
)
]
mod
value
;
use
crate
:
:
alloc_prelude
:
:
*
;
#
[
cfg
(
feature
=
"
display
"
)
]
pub
use
document
:
:
Buffer
;
#
[
cfg
(
feature
=
"
display
"
)
]
pub
use
document
:
:
Serializer
;
pub
use
error
:
:
Error
;
pub
(
crate
)
use
error
:
:
ErrorInner
;
#
[
cfg
(
feature
=
"
display
"
)
]
pub
use
value
:
:
ValueSerializer
;
#
[
cfg
(
feature
=
"
display
"
)
]
pub
fn
to_string
<
T
>
(
value
:
&
T
)
-
>
Result
<
String
Error
>
where
T
:
serde_core
:
:
ser
:
:
Serialize
+
?
Sized
{
let
mut
output
=
Buffer
:
:
new
(
)
;
let
serializer
=
Serializer
:
:
new
(
&
mut
output
)
;
value
.
serialize
(
serializer
)
?
;
Ok
(
output
.
to_string
(
)
)
}
#
[
cfg
(
feature
=
"
display
"
)
]
pub
fn
to_string_pretty
<
T
>
(
value
:
&
T
)
-
>
Result
<
String
Error
>
where
T
:
serde_core
:
:
ser
:
:
Serialize
+
?
Sized
{
let
mut
output
=
Buffer
:
:
new
(
)
;
let
serializer
=
Serializer
:
:
pretty
(
&
mut
output
)
;
value
.
serialize
(
serializer
)
?
;
Ok
(
output
.
to_string
(
)
)
}

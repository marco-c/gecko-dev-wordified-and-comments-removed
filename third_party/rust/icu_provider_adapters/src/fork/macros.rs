#
[
macro_export
]
macro_rules
!
make_forking_provider
{
(
combo_p
:
path
[
a
:
expr
b
:
expr
]
)
=
>
{
combo_p
(
a
b
)
}
;
(
combo_p
:
path
[
a
:
expr
b
:
expr
(
c
:
expr
)
+
]
)
=
>
{
combo_p
(
a
crate
:
:
make_forking_provider
!
(
combo_p
[
b
(
c
)
+
]
)
)
}
;
}
#
[
cfg
(
test
)
]
mod
test
{
#
[
derive
(
Default
)
]
struct
Provider1
;
#
[
derive
(
Default
)
]
struct
Provider2
;
#
[
derive
(
Default
)
]
struct
Provider3
;
#
[
test
]
fn
test_make_forking_provider
(
)
{
make_forking_provider
!
(
crate
:
:
fork
:
:
ForkByKeyProvider
:
:
new
[
Provider1
:
:
default
(
)
Provider2
:
:
default
(
)
Provider3
:
:
default
(
)
]
)
;
}
}

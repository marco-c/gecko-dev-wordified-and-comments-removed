#
[
macro_export
]
macro_rules
!
log
{
(
target
:
target
:
expr
lvl
:
expr
(
key
:
tt
=
value
:
expr
)
+
;
(
arg
:
tt
)
+
)
=
>
(
{
let
lvl
=
lvl
;
if
lvl
<
=
crate
:
:
STATIC_MAX_LEVEL
&
&
lvl
<
=
crate
:
:
max_level
(
)
{
crate
:
:
__private_api
:
:
log
(
crate
:
:
__private_api
:
:
format_args
!
(
(
arg
)
+
)
lvl
&
(
target
crate
:
:
__private_api
:
:
module_path
!
(
)
crate
:
:
__private_api
:
:
file
!
(
)
)
crate
:
:
__private_api
:
:
line
!
(
)
crate
:
:
__private_api
:
:
Option
:
:
Some
(
&
[
(
(
crate
:
:
__log_key
!
(
key
)
&
value
)
)
+
]
)
)
;
}
}
)
;
(
target
:
target
:
expr
lvl
:
expr
(
arg
:
tt
)
+
)
=
>
(
{
let
lvl
=
lvl
;
if
lvl
<
=
crate
:
:
STATIC_MAX_LEVEL
&
&
lvl
<
=
crate
:
:
max_level
(
)
{
crate
:
:
__private_api
:
:
log
(
crate
:
:
__private_api
:
:
format_args
!
(
(
arg
)
+
)
lvl
&
(
target
crate
:
:
__private_api
:
:
module_path
!
(
)
crate
:
:
__private_api
:
:
file
!
(
)
)
crate
:
:
__private_api
:
:
line
!
(
)
crate
:
:
__private_api
:
:
Option
:
:
None
)
;
}
}
)
;
(
lvl
:
expr
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
target
:
crate
:
:
__private_api
:
:
module_path
!
(
)
lvl
(
arg
)
+
)
)
;
}
#
[
macro_export
]
macro_rules
!
error
{
(
target
:
target
:
expr
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
target
:
target
crate
:
:
Level
:
:
Error
(
arg
)
+
)
)
;
(
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
crate
:
:
Level
:
:
Error
(
arg
)
+
)
)
}
#
[
macro_export
]
macro_rules
!
warn
{
(
target
:
target
:
expr
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
target
:
target
crate
:
:
Level
:
:
Warn
(
arg
)
+
)
)
;
(
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
crate
:
:
Level
:
:
Warn
(
arg
)
+
)
)
}
#
[
macro_export
]
macro_rules
!
info
{
(
target
:
target
:
expr
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
target
:
target
crate
:
:
Level
:
:
Info
(
arg
)
+
)
)
;
(
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
crate
:
:
Level
:
:
Info
(
arg
)
+
)
)
}
#
[
macro_export
]
macro_rules
!
debug
{
(
target
:
target
:
expr
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
target
:
target
crate
:
:
Level
:
:
Debug
(
arg
)
+
)
)
;
(
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
crate
:
:
Level
:
:
Debug
(
arg
)
+
)
)
}
#
[
macro_export
]
macro_rules
!
trace
{
(
target
:
target
:
expr
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
target
:
target
crate
:
:
Level
:
:
Trace
(
arg
)
+
)
)
;
(
(
arg
:
tt
)
+
)
=
>
(
crate
:
:
log
!
(
crate
:
:
Level
:
:
Trace
(
arg
)
+
)
)
}
#
[
macro_export
]
macro_rules
!
log_enabled
{
(
target
:
target
:
expr
lvl
:
expr
)
=
>
{
{
let
lvl
=
lvl
;
lvl
<
=
crate
:
:
STATIC_MAX_LEVEL
&
&
lvl
<
=
crate
:
:
max_level
(
)
&
&
crate
:
:
__private_api
:
:
enabled
(
lvl
target
)
}
}
;
(
lvl
:
expr
)
=
>
{
crate
:
:
log_enabled
!
(
target
:
crate
:
:
__private_api
:
:
module_path
!
(
)
lvl
)
}
;
}
#
[
doc
(
hidden
)
]
#
[
macro_export
]
macro_rules
!
__log_key
{
(
(
args
:
ident
)
*
)
=
>
{
crate
:
:
__private_api
:
:
stringify
!
(
(
args
)
*
)
}
;
(
(
args
:
expr
)
*
)
=
>
{
(
args
)
*
}
;
}

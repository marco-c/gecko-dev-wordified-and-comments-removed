use
malloc_size_of_derive
:
:
MallocSizeOf
;
use
crate
:
:
metrics
:
:
PingType
;
#
[
derive
(
Debug
Clone
MallocSizeOf
)
]
pub
struct
InternalPings
{
pub
baseline
:
PingType
pub
metrics
:
PingType
pub
events
:
PingType
pub
deletion_request
:
PingType
}
impl
InternalPings
{
pub
fn
new
(
enabled
:
bool
)
-
>
InternalPings
{
InternalPings
{
baseline
:
PingType
:
:
new
(
"
baseline
"
true
true
true
true
enabled
vec
!
[
]
vec
!
[
"
active
"
.
to_string
(
)
"
dirty_startup
"
.
to_string
(
)
"
inactive
"
.
to_string
(
)
]
true
vec
!
[
]
)
metrics
:
PingType
:
:
new
(
"
metrics
"
true
false
true
true
enabled
vec
!
[
]
vec
!
[
"
overdue
"
.
to_string
(
)
"
reschedule
"
.
to_string
(
)
"
today
"
.
to_string
(
)
"
tomorrow
"
.
to_string
(
)
"
upgrade
"
.
to_string
(
)
]
true
vec
!
[
]
)
events
:
PingType
:
:
new
(
"
events
"
true
false
true
true
enabled
vec
!
[
]
vec
!
[
"
startup
"
.
to_string
(
)
"
inactive
"
.
to_string
(
)
"
max_capacity
"
.
to_string
(
)
]
true
vec
!
[
]
)
deletion_request
:
PingType
:
:
new
(
"
deletion
-
request
"
true
true
true
true
true
vec
!
[
]
vec
!
[
"
at_init
"
.
to_string
(
)
"
set_upload_enabled
"
.
to_string
(
)
]
true
vec
!
[
]
)
}
}
}

pub
mod
fs
{
use
crate
:
:
{
SourceDestError
SourceDestErrorKind
}
;
use
std
:
:
io
;
use
std
:
:
path
:
:
Path
;
pub
fn
symlink_dir
<
P
:
AsRef
<
Path
>
Q
:
AsRef
<
Path
>
>
(
src
:
P
dst
:
Q
)
-
>
io
:
:
Result
<
(
)
>
{
let
src
=
src
.
as_ref
(
)
;
let
dst
=
dst
.
as_ref
(
)
;
std
:
:
os
:
:
windows
:
:
fs
:
:
symlink_dir
(
src
dst
)
.
map_err
(
|
err
|
SourceDestError
:
:
build
(
err
SourceDestErrorKind
:
:
SymlinkDir
src
dst
)
)
}
pub
fn
symlink_file
<
P
:
AsRef
<
Path
>
Q
:
AsRef
<
Path
>
>
(
src
:
P
dst
:
Q
)
-
>
io
:
:
Result
<
(
)
>
{
let
src
=
src
.
as_ref
(
)
;
let
dst
=
dst
.
as_ref
(
)
;
std
:
:
os
:
:
windows
:
:
fs
:
:
symlink_file
(
src
dst
)
.
map_err
(
|
err
|
SourceDestError
:
:
build
(
err
SourceDestErrorKind
:
:
SymlinkFile
src
dst
)
)
}
pub
trait
FileExt
:
crate
:
:
Sealed
{
fn
seek_read
(
&
self
buf
:
&
mut
[
u8
]
offset
:
u64
)
-
>
io
:
:
Result
<
usize
>
;
fn
seek_write
(
&
self
buf
:
&
[
u8
]
offset
:
u64
)
-
>
io
:
:
Result
<
usize
>
;
}
pub
trait
OpenOptionsExt
:
crate
:
:
Sealed
{
fn
access_mode
(
&
mut
self
access
:
u32
)
-
>
&
mut
Self
;
fn
share_mode
(
&
mut
self
val
:
u32
)
-
>
&
mut
Self
;
fn
custom_flags
(
&
mut
self
flags
:
u32
)
-
>
&
mut
Self
;
fn
attributes
(
&
mut
self
val
:
u32
)
-
>
&
mut
Self
;
fn
security_qos_flags
(
&
mut
self
flags
:
u32
)
-
>
&
mut
Self
;
}
}

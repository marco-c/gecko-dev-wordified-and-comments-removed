use
syn
:
:
spanned
:
:
Spanned
;
const
ERR_MSG
:
&
str
=
"
Expected
#
[
handle_error
(
path
:
:
to
:
:
Error
)
]
"
;
pub
(
crate
)
fn
validate
(
arguments
:
&
syn
:
:
AttributeArgs
)
-
>
syn
:
:
Result
<
&
syn
:
:
Path
>
{
if
arguments
.
len
(
)
!
=
1
{
return
Err
(
syn
:
:
Error
:
:
new
(
proc_macro2
:
:
Span
:
:
call_site
(
)
ERR_MSG
)
)
;
}
let
nested_meta
=
arguments
.
iter
(
)
.
next
(
)
.
unwrap
(
)
;
if
let
syn
:
:
NestedMeta
:
:
Meta
(
syn
:
:
Meta
:
:
Path
(
path
)
)
=
nested_meta
{
Ok
(
path
)
}
else
{
Err
(
syn
:
:
Error
:
:
new
(
nested_meta
.
span
(
)
ERR_MSG
)
)
}
}

pub
const
MD_CONTEXT_ARM_GPR_COUNT
:
usize
=
16
;
pub
const
MD_FLOATINGSAVEAREA_ARM_FPR_COUNT
:
usize
=
32
;
pub
const
MD_FLOATINGSAVEAREA_ARM_FPEXTRA_COUNT
:
usize
=
8
;
#
[
repr
(
C
)
]
pub
struct
MDFloatingSaveAreaARM
{
pub
fpscr
:
u64
pub
regs
:
[
u64
;
MD_FLOATINGSAVEAREA_ARM_FPR_COUNT
]
pub
extra
:
[
u32
;
MD_FLOATINGSAVEAREA_ARM_FPEXTRA_COUNT
]
}
impl
Default
for
MDFloatingSaveAreaARM
{
#
[
inline
]
fn
default
(
)
-
>
Self
{
MDFloatingSaveAreaARM
{
fpscr
:
0
regs
:
[
0
;
MD_FLOATINGSAVEAREA_ARM_FPR_COUNT
]
extra
:
[
0
;
MD_FLOATINGSAVEAREA_ARM_FPEXTRA_COUNT
]
}
}
}
#
[
repr
(
C
)
]
pub
struct
MDRawContextARM
{
pub
context_flags
:
u32
pub
iregs
:
[
u32
;
MD_CONTEXT_ARM_GPR_COUNT
]
pub
cpsr
:
u32
pub
float_save
:
MDFloatingSaveAreaARM
}
impl
Default
for
MDRawContextARM
{
#
[
inline
]
fn
default
(
)
-
>
Self
{
MDRawContextARM
{
context_flags
:
0
iregs
:
[
0
;
MD_CONTEXT_ARM_GPR_COUNT
]
cpsr
:
0
float_save
:
Default
:
:
default
(
)
}
}
}
pub
const
MD_CONTEXT_ARM_OLD
:
u32
=
0x00000040
;
pub
const
MD_CONTEXT_ARM
:
u32
=
0x40000000
;
pub
const
MD_CONTEXT_ARM_INTEGER
:
u32
=
MD_CONTEXT_ARM
|
0x00000002
;
pub
const
MD_CONTEXT_ARM_FLOATING_POINT
:
u32
=
MD_CONTEXT_ARM
|
0x00000004
;
pub
const
MD_CONTEXT_ARM_FULL
:
u32
=
MD_CONTEXT_ARM_INTEGER
|
MD_CONTEXT_ARM_FLOATING_POINT
;
pub
const
MD_CONTEXT_ARM_ALL
:
u32
=
MD_CONTEXT_ARM_INTEGER
|
MD_CONTEXT_ARM_FLOATING_POINT
;

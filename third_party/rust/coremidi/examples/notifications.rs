extern
crate
core_foundation
;
extern
crate
coremidi
;
use
coremidi
:
:
{
Client
Notification
}
;
use
core_foundation
:
:
runloop
:
:
{
kCFRunLoopDefaultMode
CFRunLoopRunInMode
}
;
fn
main
(
)
{
println
!
(
"
Logging
MIDI
Client
Notifications
"
)
;
println
!
(
"
Will
Quit
Automatically
After
10
Seconds
"
)
;
println
!
(
)
;
let
_client
=
Client
:
:
new_with_notifications
(
"
example
-
client
"
print_notification
)
.
unwrap
(
)
;
unsafe
{
CFRunLoopRunInMode
(
kCFRunLoopDefaultMode
10
.
0
0
)
}
;
}
fn
print_notification
(
notification
:
&
Notification
)
{
println
!
(
"
Received
Notification
:
{
:
?
}
\
r
"
notification
)
;
}

#
!
[
no_std
]
#
[
cfg
(
feature
=
"
std
"
)
]
extern
crate
std
;
extern
crate
alloc
;
#
[
cfg
(
not
(
feature
=
"
alloc
"
)
)
]
compile_error
!
(
"
the
alloc
feature
must
be
enabled
"
)
;
#
[
cfg
(
test
)
]
#
[
macro_use
]
extern
crate
assert_matches
;
use
alloc
:
:
string
:
:
String
;
pub
mod
punycode
;
mod
uts46
;
pub
use
crate
:
:
uts46
:
:
{
Config
Errors
Idna
}
;
pub
fn
domain_to_ascii
(
domain
:
&
str
)
-
>
Result
<
String
uts46
:
:
Errors
>
{
Config
:
:
default
(
)
.
to_ascii
(
domain
)
}
pub
fn
domain_to_ascii_strict
(
domain
:
&
str
)
-
>
Result
<
String
uts46
:
:
Errors
>
{
Config
:
:
default
(
)
.
use_std3_ascii_rules
(
true
)
.
verify_dns_length
(
true
)
.
to_ascii
(
domain
)
}
pub
fn
domain_to_unicode
(
domain
:
&
str
)
-
>
(
String
Result
<
(
)
uts46
:
:
Errors
>
)
{
Config
:
:
default
(
)
.
to_unicode
(
domain
)
}

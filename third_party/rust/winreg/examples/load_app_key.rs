extern
crate
winreg
;
use
std
:
:
io
;
use
winreg
:
:
enums
:
:
*
;
use
winreg
:
:
RegKey
;
fn
main
(
)
-
>
io
:
:
Result
<
(
)
>
{
{
let
app_key_1
=
RegKey
:
:
load_app_key
(
"
myhive
.
dat
"
true
)
?
;
app_key_1
.
set_value
(
"
answer
"
&
42u32
)
?
;
}
let
answer
:
u32
=
{
let
app_key_2
=
RegKey
:
:
load_app_key_with_flags
(
"
myhive
.
dat
"
KEY_READ
REG_PROCESS_APPKEY
)
?
;
app_key_2
.
get_value
(
"
answer
"
)
?
}
;
println
!
(
"
The
Answer
is
{
}
"
answer
)
;
Ok
(
(
)
)
}

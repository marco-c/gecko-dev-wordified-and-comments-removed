#
!
[
allow
(
clippy
:
:
needless_doctest_main
)
]
#
!
[
warn
(
missing_debug_implementations
missing_docs
rust_2018_idioms
unreachable_pub
)
]
#
!
[
doc
(
test
(
no_crate_inject
attr
(
deny
(
warnings
rust_2018_idioms
)
allow
(
dead_code
unused_variables
)
)
)
)
]
#
[
allow
(
unused_extern_crates
)
]
extern
crate
proc_macro
;
mod
entry
;
mod
select
;
use
proc_macro
:
:
TokenStream
;
#
[
proc_macro_attribute
]
#
[
cfg
(
not
(
test
)
)
]
pub
fn
main
(
args
:
TokenStream
item
:
TokenStream
)
-
>
TokenStream
{
entry
:
:
main
(
args
item
true
)
}
#
[
proc_macro_attribute
]
#
[
cfg
(
not
(
test
)
)
]
pub
fn
main_rt
(
args
:
TokenStream
item
:
TokenStream
)
-
>
TokenStream
{
entry
:
:
main
(
args
item
false
)
}
#
[
proc_macro_attribute
]
pub
fn
test
(
args
:
TokenStream
item
:
TokenStream
)
-
>
TokenStream
{
entry
:
:
test
(
args
item
true
)
}
#
[
proc_macro_attribute
]
pub
fn
test_rt
(
args
:
TokenStream
item
:
TokenStream
)
-
>
TokenStream
{
entry
:
:
test
(
args
item
false
)
}
#
[
proc_macro_attribute
]
pub
fn
main_fail
(
_args
:
TokenStream
_item
:
TokenStream
)
-
>
TokenStream
{
syn
:
:
Error
:
:
new
(
proc_macro2
:
:
Span
:
:
call_site
(
)
"
The
#
[
tokio
:
:
main
]
macro
requires
rt
or
rt
-
multi
-
thread
.
"
)
.
to_compile_error
(
)
.
into
(
)
}
#
[
proc_macro_attribute
]
pub
fn
test_fail
(
_args
:
TokenStream
_item
:
TokenStream
)
-
>
TokenStream
{
syn
:
:
Error
:
:
new
(
proc_macro2
:
:
Span
:
:
call_site
(
)
"
The
#
[
tokio
:
:
test
]
macro
requires
rt
or
rt
-
multi
-
thread
.
"
)
.
to_compile_error
(
)
.
into
(
)
}
#
[
proc_macro
]
#
[
doc
(
hidden
)
]
pub
fn
select_priv_declare_output_enum
(
input
:
TokenStream
)
-
>
TokenStream
{
select
:
:
declare_output_enum
(
input
)
}
#
[
proc_macro
]
#
[
doc
(
hidden
)
]
pub
fn
select_priv_clean_pattern
(
input
:
TokenStream
)
-
>
TokenStream
{
select
:
:
clean_pattern_macro
(
input
)
}

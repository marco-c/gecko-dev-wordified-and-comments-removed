use
ffi_support
:
:
FfiStr
;
use
glean_core
:
:
Result
;
pub
trait
FallibleToString
{
fn
to_string_fallible
(
&
self
)
-
>
Result
<
String
>
;
}
impl
<
'
a
>
FallibleToString
for
FfiStr
<
'
a
>
{
fn
to_string_fallible
(
&
self
)
-
>
Result
<
String
>
{
self
.
as_opt_str
(
)
.
map
(
|
s
|
s
.
to_string
(
)
)
.
ok_or_else
(
glean_core
:
:
Error
:
:
utf8_error
)
}
}

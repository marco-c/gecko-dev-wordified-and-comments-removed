#
include
<
assert
.
h
>
#
include
<
sys
/
resource
.
h
>
extern
int
getrusage
(
int
who
struct
rusage
*
usage
)
;
int
main
(
)
{
struct
rusage
ru1
;
getrusage
(
RUSAGE_SELF
&
ru1
)
;
for
(
int
i
=
0
;
i
<
1000
;
i
+
+
)
{
}
struct
rusage
ru2
;
getrusage
(
RUSAGE_SELF
&
ru2
)
;
long
long
s1
=
ru1
.
ru_utime
.
tv_sec
;
long
long
us1
=
ru1
.
ru_utime
.
tv_usec
;
long
long
s2
=
ru2
.
ru_utime
.
tv_sec
;
long
long
us2
=
ru2
.
ru_utime
.
tv_usec
;
assert
(
s1
<
=
s2
)
;
if
(
s1
=
=
s2
)
{
assert
(
us1
<
us2
)
;
}
}

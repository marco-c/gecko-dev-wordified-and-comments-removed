#
!
[
doc
(
test
(
no_crate_inject
attr
(
deny
(
warnings
rust_2018_idioms
single_use_lifetimes
)
allow
(
dead_code
)
)
)
)
]
#
!
[
warn
(
unsafe_code
)
]
#
!
[
warn
(
rust_2018_idioms
single_use_lifetimes
unreachable_pub
)
]
#
!
[
warn
(
clippy
:
:
all
clippy
:
:
default_trait_access
)
]
#
!
[
allow
(
clippy
:
:
mem_replace_with_default
clippy
:
:
manual_non_exhaustive
)
]
#
!
[
allow
(
clippy
:
:
needless_doctest_main
)
]
#
[
allow
(
unused_extern_crates
)
]
extern
crate
proc_macro
;
#
[
macro_use
]
mod
utils
;
mod
pin_project
;
mod
pinned_drop
;
mod
project
;
use
proc_macro
:
:
TokenStream
;
use
crate
:
:
utils
:
:
ProjKind
;
#
[
proc_macro_attribute
]
pub
fn
pin_project
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
pin_project
:
:
attribute
(
&
args
.
into
(
)
input
.
into
(
)
)
.
into
(
)
}
#
[
proc_macro_attribute
]
pub
fn
pinned_drop
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
pinned_drop
:
:
attribute
(
&
args
.
into
(
)
input
)
.
into
(
)
}
#
[
cfg_attr
(
deprecated_proc_macro
deprecated
(
since
=
"
0
.
4
.
21
"
note
=
"
consider
naming
projected
type
by
passing
project
\
argument
to
#
[
pin_project
]
attribute
instead
see
release
note
\
<
https
:
/
/
github
.
com
/
taiki
-
e
/
pin
-
project
/
releases
/
tag
/
v0
.
4
.
21
>
\
for
details
"
)
)
]
#
[
proc_macro_attribute
]
pub
fn
project
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
project
:
:
attribute
(
&
args
.
into
(
)
input
ProjKind
:
:
Mutable
)
.
into
(
)
}
#
[
cfg_attr
(
deprecated_proc_macro
deprecated
(
since
=
"
0
.
4
.
21
"
note
=
"
consider
naming
projected
type
by
passing
project_ref
\
argument
to
#
[
pin_project
]
attribute
instead
see
release
note
\
<
https
:
/
/
github
.
com
/
taiki
-
e
/
pin
-
project
/
releases
/
tag
/
v0
.
4
.
21
>
\
for
details
"
)
)
]
#
[
proc_macro_attribute
]
pub
fn
project_ref
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
project
:
:
attribute
(
&
args
.
into
(
)
input
ProjKind
:
:
Immutable
)
.
into
(
)
}
#
[
cfg_attr
(
deprecated_proc_macro
deprecated
(
since
=
"
0
.
4
.
21
"
note
=
"
consider
naming
projected
type
by
passing
project_replace
\
argument
to
#
[
pin_project
]
attribute
instead
see
release
note
\
<
https
:
/
/
github
.
com
/
taiki
-
e
/
pin
-
project
/
releases
/
tag
/
v0
.
4
.
21
>
\
for
details
"
)
)
]
#
[
proc_macro_attribute
]
pub
fn
project_replace
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
project
:
:
attribute
(
&
args
.
into
(
)
input
ProjKind
:
:
Owned
)
.
into
(
)
}
#
[
doc
(
hidden
)
]
#
[
proc_macro_derive
(
__PinProjectInternalDerive
attributes
(
pin
)
)
]
pub
fn
__pin_project_internal_derive
(
input
:
TokenStream
)
-
>
TokenStream
{
pin_project
:
:
derive
(
input
.
into
(
)
)
.
into
(
)
}

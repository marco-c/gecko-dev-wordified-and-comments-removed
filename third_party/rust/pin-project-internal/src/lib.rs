#
!
[
doc
(
test
(
no_crate_inject
attr
(
deny
(
warnings
rust_2018_idioms
single_use_lifetimes
)
allow
(
dead_code
unused_variables
)
)
)
)
]
#
!
[
forbid
(
unsafe_code
)
]
#
!
[
warn
(
rust_2018_idioms
single_use_lifetimes
unreachable_pub
)
]
#
!
[
warn
(
clippy
:
:
pedantic
)
]
#
!
[
allow
(
clippy
:
:
needless_doctest_main
clippy
:
:
similar_names
clippy
:
:
single_match_else
clippy
:
:
too_many_lines
clippy
:
:
unnested_or_patterns
)
]
#
[
allow
(
unused_extern_crates
)
]
extern
crate
proc_macro
;
#
[
macro_use
]
mod
utils
;
mod
pin_project
;
mod
pinned_drop
;
use
proc_macro
:
:
TokenStream
;
#
[
proc_macro_attribute
]
pub
fn
pin_project
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
pin_project
:
:
attribute
(
&
args
.
into
(
)
input
.
into
(
)
)
.
into
(
)
}
#
[
proc_macro_attribute
]
pub
fn
pinned_drop
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
pinned_drop
:
:
attribute
(
&
args
.
into
(
)
input
)
.
into
(
)
}
#
[
doc
(
hidden
)
]
#
[
proc_macro_derive
(
__PinProjectInternalDerive
attributes
(
pin
)
)
]
pub
fn
__pin_project_internal_derive
(
input
:
TokenStream
)
-
>
TokenStream
{
pin_project
:
:
derive
(
input
.
into
(
)
)
.
into
(
)
}

#
!
[
recursion_limit
=
"
256
"
]
#
!
[
doc
(
html_root_url
=
"
https
:
/
/
docs
.
rs
/
pin
-
project
-
internal
/
0
.
4
.
9
"
)
]
#
!
[
doc
(
test
(
no_crate_inject
attr
(
deny
(
warnings
rust_2018_idioms
single_use_lifetimes
)
allow
(
dead_code
)
)
)
)
]
#
!
[
warn
(
unsafe_code
)
]
#
!
[
warn
(
rust_2018_idioms
single_use_lifetimes
unreachable_pub
)
]
#
!
[
warn
(
clippy
:
:
all
)
]
#
!
[
allow
(
clippy
:
:
mem_replace_with_default
)
]
#
!
[
allow
(
clippy
:
:
needless_doctest_main
)
]
#
!
[
cfg_attr
(
pin_project_show_unpin_struct
feature
(
proc_macro_def_site
)
)
]
#
[
allow
(
unused_extern_crates
)
]
extern
crate
proc_macro
;
#
[
macro_use
]
mod
utils
;
mod
pin_project
;
mod
pinned_drop
;
mod
project
;
use
proc_macro
:
:
TokenStream
;
use
utils
:
:
{
Immutable
Mutable
}
;
#
[
proc_macro_attribute
]
pub
fn
pin_project
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
pin_project
:
:
attribute
(
&
args
.
into
(
)
input
.
into
(
)
)
.
into
(
)
}
#
[
proc_macro_attribute
]
pub
fn
pinned_drop
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
pinned_drop
:
:
attribute
(
&
args
.
into
(
)
input
)
.
into
(
)
}
#
[
proc_macro_attribute
]
pub
fn
project
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
project
:
:
attribute
(
&
args
.
into
(
)
input
Mutable
)
.
into
(
)
}
#
[
proc_macro_attribute
]
pub
fn
project_ref
(
args
:
TokenStream
input
:
TokenStream
)
-
>
TokenStream
{
let
input
=
syn
:
:
parse_macro_input
!
(
input
)
;
project
:
:
attribute
(
&
args
.
into
(
)
input
Immutable
)
.
into
(
)
}
#
[
doc
(
hidden
)
]
#
[
proc_macro_derive
(
__PinProjectInternalDerive
attributes
(
pin
)
)
]
pub
fn
__pin_project_internal_derive
(
input
:
TokenStream
)
-
>
TokenStream
{
pin_project
:
:
derive
(
input
.
into
(
)
)
.
into
(
)
}

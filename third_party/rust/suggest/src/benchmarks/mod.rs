use
std
:
:
sync
:
:
atomic
:
:
{
AtomicU32
Ordering
}
;
pub
mod
client
;
pub
mod
ingest
;
pub
mod
query
;
pub
trait
Benchmark
{
fn
benchmarked_code
(
&
self
)
;
}
pub
trait
BenchmarkWithInput
{
type
Input
;
fn
generate_input
(
&
self
)
-
>
Self
:
:
Input
;
fn
benchmarked_code
(
&
self
input
:
Self
:
:
Input
)
;
}
fn
unique_db_filename
(
)
-
>
String
{
static
COUNTER
:
AtomicU32
=
AtomicU32
:
:
new
(
0
)
;
format
!
(
"
db
{
}
.
sqlite
"
COUNTER
.
fetch_add
(
1
Ordering
:
:
Relaxed
)
)
}

use
std
:
:
io
;
#
[
cfg
(
not
(
target_os
=
"
hermit
"
)
)
]
use
std
:
:
os
:
:
fd
:
:
RawFd
;
#
[
cfg
(
target_os
=
"
hermit
"
)
]
use
std
:
:
os
:
:
hermit
:
:
io
:
:
RawFd
;
use
crate
:
:
{
event
Interest
Registry
Token
}
;
#
[
cfg_attr
(
all
(
feature
=
"
os
-
poll
"
feature
=
"
net
"
feature
=
"
os
-
ext
"
)
doc
=
"
"
)
]
#
[
cfg_attr
(
not
(
all
(
feature
=
"
os
-
poll
"
feature
=
"
net
"
feature
=
"
os
-
ext
"
)
)
doc
=
"
ignore
"
)
]
#
[
cfg_attr
(
all
(
feature
=
"
os
-
poll
"
feature
=
"
os
-
ext
"
)
doc
=
"
"
)
]
#
[
cfg_attr
(
not
(
all
(
feature
=
"
os
-
poll
"
feature
=
"
os
-
ext
"
)
)
doc
=
"
ignore
"
)
]
#
[
derive
(
Debug
)
]
pub
struct
SourceFd
<
'
a
>
(
pub
&
'
a
RawFd
)
;
impl
<
'
a
>
event
:
:
Source
for
SourceFd
<
'
a
>
{
fn
register
(
&
mut
self
registry
:
&
Registry
token
:
Token
interests
:
Interest
)
-
>
io
:
:
Result
<
(
)
>
{
registry
.
selector
(
)
.
register
(
*
self
.
0
token
interests
)
}
fn
reregister
(
&
mut
self
registry
:
&
Registry
token
:
Token
interests
:
Interest
)
-
>
io
:
:
Result
<
(
)
>
{
registry
.
selector
(
)
.
reregister
(
*
self
.
0
token
interests
)
}
fn
deregister
(
&
mut
self
registry
:
&
Registry
)
-
>
io
:
:
Result
<
(
)
>
{
registry
.
selector
(
)
.
deregister
(
*
self
.
0
)
}
}

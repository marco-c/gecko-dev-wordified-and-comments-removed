pub
use
core_foundation_sys
:
:
bundle
:
:
*
;
use
core_foundation_sys
:
:
base
:
:
CFRelease
;
use
base
:
:
{
TCFType
}
;
use
dictionary
:
:
CFDictionary
;
pub
struct
CFBundle
(
CFBundleRef
)
;
impl
Drop
for
CFBundle
{
fn
drop
(
&
mut
self
)
{
unsafe
{
CFRelease
(
self
.
as_CFTypeRef
(
)
)
}
}
}
impl
CFBundle
{
pub
fn
main_bundle
(
)
-
>
CFBundle
{
unsafe
{
let
bundle_ref
=
CFBundleGetMainBundle
(
)
;
TCFType
:
:
wrap_under_get_rule
(
bundle_ref
)
}
}
pub
fn
info_dictionary
(
&
self
)
-
>
CFDictionary
{
unsafe
{
let
info_dictionary
=
CFBundleGetInfoDictionary
(
self
.
0
)
;
TCFType
:
:
wrap_under_get_rule
(
info_dictionary
)
}
}
}
impl_TCFType
!
(
CFBundle
CFBundleRef
CFBundleGetTypeID
)
;

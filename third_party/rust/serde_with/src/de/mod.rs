pub
(
crate
)
mod
impls
;
use
super
:
:
*
;
pub
trait
DeserializeAs
<
'
de
T
>
:
Sized
{
fn
deserialize_as
<
D
>
(
deserializer
:
D
)
-
>
Result
<
T
D
:
:
Error
>
where
D
:
Deserializer
<
'
de
>
;
}
#
[
derive
(
Debug
)
]
pub
struct
DeserializeAsWrap
<
T
U
>
{
value
:
T
marker
:
PhantomData
<
U
>
}
impl
<
'
de
T
U
>
DeserializeAsWrap
<
T
U
>
{
pub
fn
into_inner
(
self
)
-
>
T
{
self
.
value
}
}
impl
<
'
de
T
U
>
Deserialize
<
'
de
>
for
DeserializeAsWrap
<
T
U
>
where
U
:
DeserializeAs
<
'
de
T
>
{
fn
deserialize
<
D
>
(
deserializer
:
D
)
-
>
Result
<
Self
D
:
:
Error
>
where
D
:
Deserializer
<
'
de
>
{
U
:
:
deserialize_as
(
deserializer
)
.
map
(
|
value
|
Self
{
value
marker
:
PhantomData
}
)
}
}

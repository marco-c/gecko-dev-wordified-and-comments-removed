use
std
:
:
str
:
:
FromStr
;
use
http
:
:
header
:
:
HeaderValue
;
#
[
derive
(
Debug
Clone
PartialEq
)
]
pub
struct
Referer
(
HeaderValue
)
;
derive_header
!
{
Referer
(
_
)
name
:
REFERER
}
impl
Referer
{
pub
fn
from_static
(
s
:
&
'
static
str
)
-
>
Referer
{
Referer
(
HeaderValue
:
:
from_static
(
s
)
)
}
}
error_type
!
(
InvalidReferer
)
;
impl
FromStr
for
Referer
{
type
Err
=
InvalidReferer
;
fn
from_str
(
src
:
&
str
)
-
>
Result
<
Self
Self
:
:
Err
>
{
HeaderValue
:
:
from_str
(
src
)
.
map
(
Referer
)
.
map_err
(
|
_
|
InvalidReferer
{
_inner
:
(
)
}
)
}
}

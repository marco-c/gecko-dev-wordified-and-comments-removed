use
HeaderValue
;
#
[
derive
(
Clone
Debug
PartialEq
)
]
pub
struct
Location
(
HeaderValue
)
;
derive_header
!
{
Location
(
_
)
name
:
LOCATION
}
#
[
cfg
(
test
)
]
mod
tests
{
use
super
:
:
super
:
:
test_decode
;
use
super
:
:
*
;
#
[
test
]
fn
absolute_uri
(
)
{
let
s
=
"
http
:
/
/
www
.
example
.
net
/
index
.
html
"
;
let
loc
=
test_decode
:
:
<
Location
>
(
&
[
s
]
)
.
unwrap
(
)
;
assert_eq
!
(
loc
Location
(
HeaderValue
:
:
from_static
(
s
)
)
)
;
}
#
[
test
]
fn
relative_uri_with_fragment
(
)
{
let
s
=
"
/
People
.
html
#
tim
"
;
let
loc
=
test_decode
:
:
<
Location
>
(
&
[
s
]
)
.
unwrap
(
)
;
assert_eq
!
(
loc
Location
(
HeaderValue
:
:
from_static
(
s
)
)
)
;
}
}

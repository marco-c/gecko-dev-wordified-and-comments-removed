use
std
:
:
fmt
;
use
std
:
:
str
:
:
FromStr
;
use
util
:
:
HeaderValueString
;
#
[
derive
(
Clone
Debug
PartialEq
Eq
PartialOrd
Ord
Hash
)
]
pub
struct
Server
(
HeaderValueString
)
;
derive_header
!
{
Server
(
_
)
name
:
SERVER
}
impl
Server
{
pub
fn
from_static
(
s
:
&
'
static
str
)
-
>
Server
{
Server
(
HeaderValueString
:
:
from_static
(
s
)
)
}
pub
fn
as_str
(
&
self
)
-
>
&
str
{
self
.
0
.
as_str
(
)
}
}
error_type
!
(
InvalidServer
)
;
impl
FromStr
for
Server
{
type
Err
=
InvalidServer
;
fn
from_str
(
src
:
&
str
)
-
>
Result
<
Self
Self
:
:
Err
>
{
HeaderValueString
:
:
from_str
(
src
)
.
map
(
Server
)
.
map_err
(
|
_
|
InvalidServer
{
_inner
:
(
)
}
)
}
}
impl
fmt
:
:
Display
for
Server
{
fn
fmt
(
&
self
f
:
&
mut
fmt
:
:
Formatter
)
-
>
fmt
:
:
Result
{
fmt
:
:
Display
:
:
fmt
(
&
self
.
0
f
)
}
}

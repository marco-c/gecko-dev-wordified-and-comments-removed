#
[
macro_use
]
extern
crate
log
;
extern
crate
env_logger
;
use
std
:
:
io
:
:
Write
;
use
env_logger
:
:
{
Env
Builder
fmt
}
;
fn
init_logger
(
)
{
let
env
=
Env
:
:
default
(
)
.
filter
(
"
MY_LOG_LEVEL
"
)
.
write_style
(
"
MY_LOG_STYLE
"
)
;
let
mut
builder
=
Builder
:
:
from_env
(
env
)
;
#
[
cfg
(
feature
=
"
termcolor
"
)
]
builder
.
format
(
|
buf
record
|
{
let
mut
style
=
buf
.
style
(
)
;
style
.
set_bg
(
fmt
:
:
Color
:
:
Yellow
)
.
set_bold
(
true
)
;
let
timestamp
=
buf
.
timestamp
(
)
;
writeln
!
(
buf
"
My
formatted
log
(
{
}
)
:
{
}
"
timestamp
style
.
value
(
record
.
args
(
)
)
)
}
)
;
builder
.
init
(
)
;
}
fn
main
(
)
{
init_logger
(
)
;
info
!
(
"
a
log
from
MyLogger
"
)
;
}

#
[
cfg_attr
(
test
macro_use
)
]
extern
crate
log
;
fn
main
(
)
{
}
#
[
cfg
(
test
)
]
mod
tests
{
fn
init_logger
(
)
{
let
_
=
env_logger
:
:
builder
(
)
.
filter_level
(
log
:
:
LevelFilter
:
:
max
(
)
)
.
is_test
(
true
)
.
try_init
(
)
;
}
#
[
test
]
fn
it_works
(
)
{
init_logger
(
)
;
let
a
=
1
;
let
b
=
2
;
debug
!
(
"
checking
whether
{
}
+
{
}
=
3
"
a
b
)
;
assert_eq
!
(
3
a
+
b
)
;
}
#
[
test
]
fn
it_does_not_work
(
)
{
init_logger
(
)
;
let
a
=
1
;
let
b
=
2
;
debug
!
(
"
checking
whether
{
}
+
{
}
=
6
"
a
b
)
;
assert_eq
!
(
6
a
+
b
)
;
}
}

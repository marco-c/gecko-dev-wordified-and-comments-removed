cfg_resource_drivers
!
{
mod
either
;
pub
(
crate
)
use
self
:
:
either
:
:
Either
;
}
mod
thread
;
pub
(
crate
)
use
self
:
:
thread
:
:
ParkThread
;
cfg_block_on
!
{
pub
(
crate
)
use
self
:
:
thread
:
:
{
CachedParkThread
ParkError
}
;
}
use
std
:
:
sync
:
:
Arc
;
use
std
:
:
time
:
:
Duration
;
pub
(
crate
)
trait
Park
{
type
Unpark
:
Unpark
;
type
Error
;
fn
unpark
(
&
self
)
-
>
Self
:
:
Unpark
;
fn
park
(
&
mut
self
)
-
>
Result
<
(
)
Self
:
:
Error
>
;
fn
park_timeout
(
&
mut
self
duration
:
Duration
)
-
>
Result
<
(
)
Self
:
:
Error
>
;
fn
shutdown
(
&
mut
self
)
;
}
pub
(
crate
)
trait
Unpark
:
Sync
+
Send
+
'
static
{
fn
unpark
(
&
self
)
;
}
impl
Unpark
for
Box
<
dyn
Unpark
>
{
fn
unpark
(
&
self
)
{
(
*
*
self
)
.
unpark
(
)
}
}
impl
Unpark
for
Arc
<
dyn
Unpark
>
{
fn
unpark
(
&
self
)
{
(
*
*
self
)
.
unpark
(
)
}
}

use
std
:
:
cell
:
:
UnsafeCell
;
use
winapi
:
:
ctypes
:
:
wchar_t
;
use
winapi
:
:
um
:
:
dwrite
:
:
IDWriteTextAnalysisSource
;
use
com_helpers
:
:
Com
;
use
super
:
:
*
;
pub
struct
TextAnalysisSource
{
native
:
UnsafeCell
<
ComPtr
<
IDWriteTextAnalysisSource
>
>
}
impl
TextAnalysisSource
{
pub
fn
from_text_and_number_subst
(
inner
:
Box
<
dyn
TextAnalysisSourceMethods
>
text
:
Vec
<
wchar_t
>
number_subst
:
NumberSubstitution
)
-
>
TextAnalysisSource
{
let
native
=
CustomTextAnalysisSourceImpl
:
:
from_text_and_number_subst_native
(
inner
text
number_subst
)
;
TextAnalysisSource
:
:
take
(
native
)
}
pub
unsafe
fn
as_ptr
(
&
self
)
-
>
*
mut
IDWriteTextAnalysisSource
{
(
*
self
.
native
.
get
(
)
)
.
as_ptr
(
)
}
pub
fn
take
(
native
:
ComPtr
<
IDWriteTextAnalysisSource
>
)
-
>
TextAnalysisSource
{
TextAnalysisSource
{
native
:
UnsafeCell
:
:
new
(
native
)
}
}
}

use
crate
:
:
Result
;
use
remote_settings
:
:
RemoteSettingsResponse
;
use
serde
:
:
Deserialize
;
pub
(
crate
)
const
REMOTE_SETTINGS_COLLECTION
:
&
str
=
"
content
-
relevance
"
;
pub
(
crate
)
trait
RelevancyRemoteSettingsClient
{
fn
get_records
(
&
self
)
-
>
Result
<
RemoteSettingsResponse
>
;
fn
get_attachment
(
&
self
location
:
&
str
)
-
>
Result
<
Vec
<
u8
>
>
;
}
impl
RelevancyRemoteSettingsClient
for
remote_settings
:
:
Client
{
fn
get_records
(
&
self
)
-
>
Result
<
RemoteSettingsResponse
>
{
Ok
(
remote_settings
:
:
Client
:
:
get_records
(
self
)
?
)
}
fn
get_attachment
(
&
self
location
:
&
str
)
-
>
Result
<
Vec
<
u8
>
>
{
Ok
(
remote_settings
:
:
Client
:
:
get_attachment
(
self
location
)
?
)
}
}
#
[
derive
(
Clone
Debug
Deserialize
)
]
pub
struct
RelevancyRecord
{
#
[
serde
(
rename
=
"
type
"
)
]
pub
record_type
:
String
pub
record_custom_details
:
RecordCustomDetails
}
#
[
derive
(
Clone
Debug
Deserialize
)
]
pub
struct
RecordCustomDetails
{
pub
category_to_domains
:
CategoryToDomains
}
#
[
derive
(
Clone
Debug
Deserialize
)
]
pub
struct
CategoryToDomains
{
pub
version
:
i32
pub
category
:
String
pub
category_code
:
i32
}
#
[
derive
(
Clone
Debug
Deserialize
)
]
pub
struct
RelevancyAttachmentData
{
pub
domain
:
String
}

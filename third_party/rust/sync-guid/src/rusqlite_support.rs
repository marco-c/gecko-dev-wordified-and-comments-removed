#
!
[
cfg
(
feature
=
"
rusqlite_support
"
)
]
use
crate
:
:
Guid
;
use
rusqlite
:
:
{
self
types
:
:
{
FromSql
FromSqlResult
ToSql
ToSqlOutput
ValueRef
}
}
;
impl
ToSql
for
Guid
{
fn
to_sql
(
&
self
)
-
>
rusqlite
:
:
Result
<
ToSqlOutput
<
'
_
>
>
{
Ok
(
ToSqlOutput
:
:
from
(
self
.
as_str
(
)
)
)
}
}
impl
FromSql
for
Guid
{
fn
column_result
(
value
:
ValueRef
<
'
_
>
)
-
>
FromSqlResult
<
Self
>
{
value
.
as_str
(
)
.
map
(
Guid
:
:
from
)
}
}

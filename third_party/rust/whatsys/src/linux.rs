pub
fn
kernel_version
(
)
-
>
Option
<
String
>
{
let
mut
raw
=
std
:
:
mem
:
:
MaybeUninit
:
:
<
libc
:
:
utsname
>
:
:
zeroed
(
)
;
unsafe
{
if
libc
:
:
uname
(
raw
.
as_mut_ptr
(
)
)
=
=
0
{
let
info
=
raw
.
assume_init
(
)
;
let
release
=
info
.
release
.
iter
(
)
.
filter
(
|
c
|
*
*
c
!
=
0
)
.
map
(
|
c
|
*
c
as
u8
as
char
)
.
collect
:
:
<
String
>
(
)
;
Some
(
release
)
}
else
{
None
}
}
}

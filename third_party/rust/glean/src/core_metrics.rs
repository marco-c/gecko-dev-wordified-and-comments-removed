use
crate
:
:
system
;
#
[
derive
(
Debug
)
]
pub
struct
ClientInfoMetrics
{
pub
app_build
:
String
pub
app_display_version
:
String
pub
channel
:
Option
<
String
>
pub
locale
:
Option
<
String
>
}
impl
ClientInfoMetrics
{
pub
fn
unknown
(
)
-
>
Self
{
ClientInfoMetrics
{
app_build
:
"
Unknown
"
.
to_string
(
)
app_display_version
:
"
Unknown
"
.
to_string
(
)
channel
:
None
locale
:
None
}
}
}
impl
From
<
ClientInfoMetrics
>
for
glean_core
:
:
ClientInfoMetrics
{
fn
from
(
metrics
:
ClientInfoMetrics
)
-
>
Self
{
glean_core
:
:
ClientInfoMetrics
{
app_build
:
metrics
.
app_build
app_display_version
:
metrics
.
app_display_version
channel
:
metrics
.
channel
locale
:
metrics
.
locale
os_version
:
system
:
:
get_os_version
(
)
windows_build_number
:
system
:
:
get_windows_build_number
(
)
architecture
:
system
:
:
ARCH
.
to_string
(
)
.
.
Default
:
:
default
(
)
}
}
}

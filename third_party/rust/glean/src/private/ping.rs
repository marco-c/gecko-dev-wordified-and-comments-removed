#
[
derive
(
Clone
Debug
)
]
pub
struct
PingType
{
pub
(
crate
)
name
:
String
pub
(
crate
)
ping_type
:
glean_core
:
:
metrics
:
:
PingType
}
impl
PingType
{
pub
fn
new
<
A
:
Into
<
String
>
>
(
name
:
A
include_client_id
:
bool
send_if_empty
:
bool
reason_codes
:
Vec
<
String
>
)
-
>
Self
{
let
name
=
name
.
into
(
)
;
let
ping_type
=
glean_core
:
:
metrics
:
:
PingType
:
:
new
(
name
.
clone
(
)
include_client_id
send_if_empty
reason_codes
)
;
let
me
=
Self
{
name
ping_type
}
;
crate
:
:
register_ping_type
(
&
me
)
;
me
}
pub
fn
submit
(
&
self
reason
:
Option
<
&
str
>
)
{
crate
:
:
submit_ping
(
self
reason
)
}
}

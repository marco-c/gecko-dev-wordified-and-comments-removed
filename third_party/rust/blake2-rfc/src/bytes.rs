use
core
:
:
ptr
;
pub
trait
BytesExt
{
fn
set_bytes
(
&
mut
self
value
:
u8
)
;
fn
copy_bytes_from
(
&
mut
self
src
:
&
[
u8
]
)
;
}
impl
BytesExt
for
[
u8
]
{
#
[
inline
]
fn
set_bytes
(
&
mut
self
value
:
u8
)
{
unsafe
{
ptr
:
:
write_bytes
(
self
.
as_mut_ptr
(
)
value
self
.
len
(
)
)
;
}
}
#
[
inline
]
fn
copy_bytes_from
(
&
mut
self
src
:
&
[
u8
]
)
{
assert
!
(
src
.
len
(
)
<
=
self
.
len
(
)
)
;
unsafe
{
ptr
:
:
copy_nonoverlapping
(
src
.
as_ptr
(
)
self
.
as_mut_ptr
(
)
src
.
len
(
)
)
;
}
}
}

#
!
[
allow
(
unused_macros
)
]
macro_rules
!
bitcast
{
(
x
:
expr
)
=
>
{
{
if
false
{
/
/
Ensure
the
source
and
destinations
are
primitive
integer
types
.
let
_
=
!
x
;
let
_
=
x
as
u8
;
0
}
else
if
false
{
/
/
Ensure
that
the
source
and
destinations
are
the
same
size
.
/
/
SAFETY
:
This
code
is
under
an
if
false
.
#
[
allow
(
unsafe_code
unused_unsafe
clippy
:
:
useless_transmute
clippy
:
:
missing_transmute_annotations
)
]
unsafe
{
:
:
core
:
:
mem
:
:
transmute
(
x
)
}
}
else
{
/
/
Do
the
conversion
.
x
as
_
}
}
}
;
}
macro_rules
!
bitflags_bits
{
(
x
:
expr
)
=
>
{
{
bitcast
!
(
x
.
bits
(
)
)
}
}
;
}

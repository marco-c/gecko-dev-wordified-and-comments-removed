#
[
cfg
(
not
(
any
(
target_os
=
"
emscripten
"
target_os
=
"
espidf
"
target_os
=
"
fuchsia
"
target_os
=
"
redox
"
target_os
=
"
wasi
"
)
)
)
]
use
crate
:
:
fs
:
:
FlockOperation
;
use
crate
:
:
{
backend
io
}
;
use
backend
:
:
fd
:
:
AsFd
;
use
backend
:
:
fs
:
:
types
:
:
OFlags
;
#
[
cfg
(
not
(
any
(
target_os
=
"
espidf
"
target_os
=
"
wasi
"
)
)
)
]
pub
use
crate
:
:
io
:
:
fcntl_dupfd_cloexec
;
pub
use
crate
:
:
io
:
:
{
fcntl_getfd
fcntl_setfd
}
;
#
[
inline
]
#
[
doc
(
alias
=
"
F_GETFL
"
)
]
pub
fn
fcntl_getfl
<
Fd
:
AsFd
>
(
fd
:
Fd
)
-
>
io
:
:
Result
<
OFlags
>
{
backend
:
:
fs
:
:
syscalls
:
:
fcntl_getfl
(
fd
.
as_fd
(
)
)
}
#
[
inline
]
#
[
doc
(
alias
=
"
F_SETFL
"
)
]
pub
fn
fcntl_setfl
<
Fd
:
AsFd
>
(
fd
:
Fd
flags
:
OFlags
)
-
>
io
:
:
Result
<
(
)
>
{
backend
:
:
fs
:
:
syscalls
:
:
fcntl_setfl
(
fd
.
as_fd
(
)
flags
)
}
#
[
cfg
(
any
(
linux_kernel
target_os
=
"
freebsd
"
target_os
=
"
fuchsia
"
)
)
]
#
[
inline
]
#
[
doc
(
alias
=
"
F_GET_SEALS
"
)
]
pub
fn
fcntl_get_seals
<
Fd
:
AsFd
>
(
fd
:
Fd
)
-
>
io
:
:
Result
<
SealFlags
>
{
backend
:
:
fs
:
:
syscalls
:
:
fcntl_get_seals
(
fd
.
as_fd
(
)
)
}
#
[
cfg
(
any
(
linux_kernel
target_os
=
"
freebsd
"
target_os
=
"
fuchsia
"
)
)
]
pub
use
backend
:
:
fs
:
:
types
:
:
SealFlags
;
#
[
cfg
(
any
(
linux_kernel
target_os
=
"
freebsd
"
target_os
=
"
fuchsia
"
)
)
]
#
[
inline
]
#
[
doc
(
alias
=
"
F_ADD_SEALS
"
)
]
pub
fn
fcntl_add_seals
<
Fd
:
AsFd
>
(
fd
:
Fd
seals
:
SealFlags
)
-
>
io
:
:
Result
<
(
)
>
{
backend
:
:
fs
:
:
syscalls
:
:
fcntl_add_seals
(
fd
.
as_fd
(
)
seals
)
}
#
[
cfg
(
not
(
any
(
target_os
=
"
emscripten
"
target_os
=
"
espidf
"
target_os
=
"
fuchsia
"
target_os
=
"
redox
"
target_os
=
"
wasi
"
)
)
)
]
#
[
inline
]
#
[
doc
(
alias
=
"
F_SETLK
"
)
]
#
[
doc
(
alias
=
"
F_SETLKW
"
)
]
pub
fn
fcntl_lock
<
Fd
:
AsFd
>
(
fd
:
Fd
operation
:
FlockOperation
)
-
>
io
:
:
Result
<
(
)
>
{
backend
:
:
fs
:
:
syscalls
:
:
fcntl_lock
(
fd
.
as_fd
(
)
operation
)
}

use
{
RngCore
SeedableRng
Error
}
;
#
[
cfg
(
all
(
all
(
rustc_1_26
not
(
target_os
=
"
emscripten
"
)
)
target_pointer_width
=
"
64
"
)
)
]
type
Rng
=
:
:
rand_pcg
:
:
Pcg64Mcg
;
#
[
cfg
(
not
(
all
(
all
(
rustc_1_26
not
(
target_os
=
"
emscripten
"
)
)
target_pointer_width
=
"
64
"
)
)
)
]
type
Rng
=
:
:
rand_pcg
:
:
Pcg32
;
#
[
derive
(
Clone
Debug
)
]
pub
struct
SmallRng
(
Rng
)
;
impl
RngCore
for
SmallRng
{
#
[
inline
(
always
)
]
fn
next_u32
(
&
mut
self
)
-
>
u32
{
self
.
0
.
next_u32
(
)
}
#
[
inline
(
always
)
]
fn
next_u64
(
&
mut
self
)
-
>
u64
{
self
.
0
.
next_u64
(
)
}
fn
fill_bytes
(
&
mut
self
dest
:
&
mut
[
u8
]
)
{
self
.
0
.
fill_bytes
(
dest
)
;
}
fn
try_fill_bytes
(
&
mut
self
dest
:
&
mut
[
u8
]
)
-
>
Result
<
(
)
Error
>
{
self
.
0
.
try_fill_bytes
(
dest
)
}
}
impl
SeedableRng
for
SmallRng
{
type
Seed
=
<
Rng
as
SeedableRng
>
:
:
Seed
;
fn
from_seed
(
seed
:
Self
:
:
Seed
)
-
>
Self
{
SmallRng
(
Rng
:
:
from_seed
(
seed
)
)
}
fn
from_rng
<
R
:
RngCore
>
(
rng
:
R
)
-
>
Result
<
Self
Error
>
{
Rng
:
:
from_rng
(
rng
)
.
map
(
SmallRng
)
}
}

#
[
doc
(
alias
=
"
available
"
)
]
#
[
doc
(
alias
=
"
#
available
"
)
]
#
[
macro_export
]
macro_rules
!
available
{
(
(
os
:
ident
(
=
major
:
literal
(
.
minor
:
literal
(
.
patch
:
literal
)
?
)
?
)
?
)
*
(
)
?
)
=
>
{
crate
:
:
__macro_helpers
:
:
is_available
(
{
/
/
TODO
:
Use
inline
const
once
in
MSRV
#
[
allow
(
clippy
:
:
needless_update
)
]
const
VERSION
:
crate
:
:
__macro_helpers
:
:
AvailableVersion
=
crate
:
:
__macro_helpers
:
:
AvailableVersion
{
(
/
/
os
:
(
crate
:
:
__available_version
!
(
major
(
.
minor
(
.
patch
)
?
)
?
)
)
?
)
*
/
/
A
version
this
high
will
never
be
lower
than
the
deployment
/
/
target
and
hence
will
always
return
false
from
/
/
is_available
.
.
.
crate
:
:
__macro_helpers
:
:
AvailableVersion
:
:
MAX
}
;
VERSION
}
)
}
;
(
(
os
:
ident
(
=
major
:
literal
(
.
minor
:
literal
(
.
patch
:
literal
)
?
)
?
)
?
)
*
.
.
)
=
>
{
crate
:
:
__macro_helpers
:
:
is_available
(
{
#
[
allow
(
clippy
:
:
needless_update
)
]
const
VERSION
:
crate
:
:
__macro_helpers
:
:
AvailableVersion
=
crate
:
:
__macro_helpers
:
:
AvailableVersion
{
(
os
:
(
crate
:
:
__available_version
!
(
major
(
.
minor
(
.
patch
)
?
)
?
)
)
?
)
*
/
/
A
version
of
0
.
0
.
0
will
always
be
lower
than
the
deployment
/
/
target
and
hence
will
always
return
true
from
/
/
is_available
.
/
/
/
/
We
do
this
when
.
.
is
specified
.
.
.
crate
:
:
__macro_helpers
:
:
AvailableVersion
:
:
MIN
}
;
VERSION
}
)
}
;
}
#
[
doc
(
hidden
)
]
#
[
macro_export
]
macro_rules
!
__available_version
{
(
(
version_part_or_period
:
tt
)
*
)
=
>
{
crate
:
:
__macro_helpers
:
:
OSVersion
:
:
from_str
(
crate
:
:
__macro_helpers
:
:
concat
!
(
(
crate
:
:
__macro_helpers
:
:
stringify
!
(
version_part_or_period
)
)
*
)
)
}
;
}

use
collector
:
:
{
Collector
Handle
}
;
use
guard
:
:
Guard
;
lazy_static
!
{
/
/
/
The
global
data
for
the
default
garbage
collector
.
static
ref
COLLECTOR
:
Collector
=
Collector
:
:
new
(
)
;
}
thread_local
!
{
/
/
/
The
per
-
thread
participant
for
the
default
garbage
collector
.
static
HANDLE
:
Handle
=
COLLECTOR
.
handle
(
)
;
}
#
[
inline
]
pub
fn
pin
(
)
-
>
Guard
{
HANDLE
.
with
(
|
handle
|
handle
.
pin
(
)
)
}
#
[
inline
]
pub
fn
is_pinned
(
)
-
>
bool
{
HANDLE
.
with
(
|
handle
|
handle
.
is_pinned
(
)
)
}
#
[
inline
]
pub
fn
default_handle
(
)
-
>
Handle
{
HANDLE
.
with
(
|
handle
|
handle
.
clone
(
)
)
}

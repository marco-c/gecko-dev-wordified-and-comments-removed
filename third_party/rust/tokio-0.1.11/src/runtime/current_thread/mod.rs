mod
builder
;
mod
runtime
;
pub
use
self
:
:
builder
:
:
Builder
;
pub
use
self
:
:
runtime
:
:
{
Runtime
Handle
}
;
pub
use
tokio_current_thread
:
:
spawn
;
pub
use
tokio_current_thread
:
:
TaskExecutor
;
use
futures
:
:
Future
;
pub
fn
block_on_all
<
F
>
(
future
:
F
)
-
>
Result
<
F
:
:
Item
F
:
:
Error
>
where
F
:
Future
{
let
mut
r
=
Runtime
:
:
new
(
)
.
expect
(
"
failed
to
start
runtime
on
current
thread
"
)
;
let
v
=
r
.
block_on
(
future
)
?
;
r
.
run
(
)
.
expect
(
"
failed
to
resolve
remaining
futures
"
)
;
Ok
(
v
)
}

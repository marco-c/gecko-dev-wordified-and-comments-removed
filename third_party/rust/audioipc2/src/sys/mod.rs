use
std
:
:
io
:
:
Result
;
use
mio
:
:
{
event
:
:
Source
Interest
Registry
Token
}
;
#
[
cfg
(
unix
)
]
mod
unix
;
#
[
cfg
(
unix
)
]
pub
use
self
:
:
unix
:
:
*
;
#
[
cfg
(
windows
)
]
mod
windows
;
#
[
cfg
(
windows
)
]
pub
use
self
:
:
windows
:
:
*
;
impl
Source
for
Pipe
{
fn
register
(
&
mut
self
registry
:
&
Registry
token
:
Token
interests
:
Interest
)
-
>
Result
<
(
)
>
{
self
.
0
.
register
(
registry
token
interests
)
}
fn
reregister
(
&
mut
self
registry
:
&
Registry
token
:
Token
interests
:
Interest
)
-
>
Result
<
(
)
>
{
self
.
0
.
reregister
(
registry
token
interests
)
}
fn
deregister
(
&
mut
self
registry
:
&
Registry
)
-
>
Result
<
(
)
>
{
self
.
0
.
deregister
(
registry
)
}
}
pub
trait
RecvMsg
{
fn
recv_msg
(
&
mut
self
buf
:
&
mut
ConnectionBuffer
)
-
>
Result
<
usize
>
;
}
pub
trait
SendMsg
{
fn
send_msg
(
&
mut
self
buf
:
&
mut
ConnectionBuffer
)
-
>
Result
<
usize
>
;
}

#
!
[
allow
(
non_snake_case
)
]
extern
"
C
"
{
pub
fn
capture_context
(
ctx
:
*
mut
CONTEXT
)
;
}
pub
use
winapi
:
:
um
:
:
winnt
:
:
EXCEPTION_RECORD
;
cfg_if
:
:
cfg_if
!
{
if
#
[
cfg
(
target_arch
=
"
x86_64
"
)
]
{
mod
x86_64
;
pub
use
x86_64
:
:
*
;
}
else
if
#
[
cfg
(
target_arch
=
"
x86
"
)
]
{
compile_error
!
(
"
Please
file
an
issue
if
you
care
about
this
target
"
)
;
/
/
mod
x86
;
}
else
if
#
[
cfg
(
target_arch
=
"
aarch64
"
)
]
{
mod
aarch64
;
pub
use
aarch64
:
:
*
;
}
}
#
[
derive
(
Copy
Clone
)
]
#
[
repr
(
C
)
]
pub
struct
EXCEPTION_POINTERS
{
pub
ExceptionRecord
:
*
mut
EXCEPTION_RECORD
pub
ContextRecord
:
*
mut
CONTEXT
}

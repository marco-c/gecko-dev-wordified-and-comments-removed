#
[
macro_export
]
macro_rules
!
log
{
(
target
:
target
:
expr
lvl
:
expr
(
arg
:
tt
)
+
)
=
>
(
{
static
_LOC
:
crate
:
:
LogLocation
=
crate
:
:
LogLocation
{
__line
:
line
!
(
)
__file
:
file
!
(
)
__module_path
:
module_path
!
(
)
}
;
let
lvl
=
lvl
;
if
lvl
<
=
crate
:
:
__static_max_level
(
)
&
&
lvl
<
=
crate
:
:
max_log_level
(
)
{
crate
:
:
__log
(
lvl
target
&
_LOC
format_args
!
(
(
arg
)
+
)
)
}
}
)
;
(
lvl
:
expr
(
arg
:
tt
)
+
)
=
>
(
log
!
(
target
:
module_path
!
(
)
lvl
(
arg
)
+
)
)
}
#
[
macro_export
]
macro_rules
!
error
{
(
target
:
target
:
expr
(
arg
:
tt
)
*
)
=
>
(
log
!
(
target
:
target
crate
:
:
LogLevel
:
:
Error
(
arg
)
*
)
;
)
;
(
(
arg
:
tt
)
*
)
=
>
(
log
!
(
crate
:
:
LogLevel
:
:
Error
(
arg
)
*
)
;
)
}
#
[
macro_export
]
macro_rules
!
warn
{
(
target
:
target
:
expr
(
arg
:
tt
)
*
)
=
>
(
log
!
(
target
:
target
crate
:
:
LogLevel
:
:
Warn
(
arg
)
*
)
;
)
;
(
(
arg
:
tt
)
*
)
=
>
(
log
!
(
crate
:
:
LogLevel
:
:
Warn
(
arg
)
*
)
;
)
}
#
[
macro_export
]
macro_rules
!
info
{
(
target
:
target
:
expr
(
arg
:
tt
)
*
)
=
>
(
log
!
(
target
:
target
crate
:
:
LogLevel
:
:
Info
(
arg
)
*
)
;
)
;
(
(
arg
:
tt
)
*
)
=
>
(
log
!
(
crate
:
:
LogLevel
:
:
Info
(
arg
)
*
)
;
)
}
#
[
macro_export
]
macro_rules
!
debug
{
(
target
:
target
:
expr
(
arg
:
tt
)
*
)
=
>
(
log
!
(
target
:
target
crate
:
:
LogLevel
:
:
Debug
(
arg
)
*
)
;
)
;
(
(
arg
:
tt
)
*
)
=
>
(
log
!
(
crate
:
:
LogLevel
:
:
Debug
(
arg
)
*
)
;
)
}
#
[
macro_export
]
macro_rules
!
trace
{
(
target
:
target
:
expr
(
arg
:
tt
)
*
)
=
>
(
log
!
(
target
:
target
crate
:
:
LogLevel
:
:
Trace
(
arg
)
*
)
;
)
;
(
(
arg
:
tt
)
*
)
=
>
(
log
!
(
crate
:
:
LogLevel
:
:
Trace
(
arg
)
*
)
;
)
}
#
[
macro_export
]
macro_rules
!
log_enabled
{
(
target
:
target
:
expr
lvl
:
expr
)
=
>
(
{
let
lvl
=
lvl
;
lvl
<
=
crate
:
:
__static_max_level
(
)
&
&
lvl
<
=
crate
:
:
max_log_level
(
)
&
&
crate
:
:
__enabled
(
lvl
target
)
}
)
;
(
lvl
:
expr
)
=
>
(
log_enabled
!
(
target
:
module_path
!
(
)
lvl
)
)
}

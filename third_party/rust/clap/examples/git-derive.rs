use
std
:
:
ffi
:
:
OsString
;
use
std
:
:
path
:
:
PathBuf
;
use
clap
:
:
{
AppSettings
Parser
Subcommand
}
;
#
[
derive
(
Parser
)
]
#
[
clap
(
name
=
"
git
"
)
]
#
[
clap
(
about
=
"
A
fictional
versioning
CLI
"
long_about
=
None
)
]
struct
Cli
{
#
[
clap
(
subcommand
)
]
command
:
Commands
}
#
[
derive
(
Subcommand
)
]
enum
Commands
{
#
[
clap
(
setting
(
AppSettings
:
:
ArgRequiredElseHelp
)
)
]
Clone
{
remote
:
String
}
#
[
clap
(
setting
(
AppSettings
:
:
ArgRequiredElseHelp
)
)
]
Push
{
remote
:
String
}
#
[
clap
(
setting
(
AppSettings
:
:
ArgRequiredElseHelp
)
)
]
Add
{
#
[
clap
(
required
=
true
parse
(
from_os_str
)
)
]
path
:
Vec
<
PathBuf
>
}
#
[
clap
(
external_subcommand
)
]
External
(
Vec
<
OsString
>
)
}
fn
main
(
)
{
let
args
=
Cli
:
:
parse
(
)
;
match
&
args
.
command
{
Commands
:
:
Clone
{
remote
}
=
>
{
println
!
(
"
Cloning
{
}
"
remote
)
;
}
Commands
:
:
Push
{
remote
}
=
>
{
println
!
(
"
Pushing
to
{
}
"
remote
)
;
}
Commands
:
:
Add
{
path
}
=
>
{
println
!
(
"
Adding
{
:
?
}
"
path
)
;
}
Commands
:
:
External
(
args
)
=
>
{
println
!
(
"
Calling
out
to
{
:
?
}
with
{
:
?
}
"
&
args
[
0
]
&
args
[
1
.
.
]
)
;
}
}
}

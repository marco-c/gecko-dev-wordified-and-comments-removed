use
clap
:
:
{
arg
Args
Command
FromArgMatches
as
_
}
;
#
[
derive
(
Args
Debug
)
]
struct
DerivedArgs
{
#
[
arg
(
short
long
)
]
derived
:
bool
}
fn
main
(
)
{
let
cli
=
Command
:
:
new
(
"
CLI
"
)
.
arg
(
arg
!
(
-
b
-
-
built
)
.
action
(
clap
:
:
ArgAction
:
:
SetTrue
)
)
;
let
cli
=
DerivedArgs
:
:
augment_args
(
cli
)
;
let
matches
=
cli
.
get_matches
(
)
;
println
!
(
"
Value
of
built
:
{
:
?
}
"
matches
.
get_flag
(
"
built
"
)
)
;
println
!
(
"
Value
of
derived
via
ArgMatches
:
{
:
?
}
"
matches
.
get_flag
(
"
derived
"
)
)
;
let
derived_matches
=
DerivedArgs
:
:
from_arg_matches
(
&
matches
)
.
map_err
(
|
err
|
err
.
exit
(
)
)
.
unwrap
(
)
;
println
!
(
"
Value
of
derived
:
{
derived_matches
:
#
?
}
"
)
;
}

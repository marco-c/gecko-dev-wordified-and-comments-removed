use
pin_project
:
:
{
pin_project
UnsafeUnpin
}
;
#
[
pin_project
]
struct
Foo
<
T
U
>
{
#
[
pin
]
future
:
T
field
:
U
}
unsafe
impl
<
T
U
>
UnsafeUnpin
for
Foo
<
T
U
>
where
T
:
Unpin
{
}
#
[
pin_project
]
struct
Bar
<
T
U
>
{
#
[
pin
]
future
:
T
field
:
U
}
unsafe
impl
<
T
U
>
UnsafeUnpin
for
Bar
<
T
U
>
{
}
#
[
pin_project
]
struct
Baz
<
T
U
>
{
#
[
pin
]
future
:
T
field
:
U
}
unsafe
impl
<
T
:
Unpin
U
:
Unpin
>
UnsafeUnpin
for
Baz
<
T
U
>
{
}
fn
main
(
)
{
}

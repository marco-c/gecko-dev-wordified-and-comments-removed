use
crate
:
:
backend
:
:
{
CodeOracle
CodeType
}
;
pub
struct
ExternalCodeType
{
name
:
String
}
impl
ExternalCodeType
{
pub
fn
new
(
name
:
String
)
-
>
Self
{
Self
{
name
}
}
}
impl
CodeType
for
ExternalCodeType
{
fn
type_label
(
&
self
_oracle
:
&
dyn
CodeOracle
)
-
>
String
{
self
.
name
.
clone
(
)
}
fn
canonical_name
(
&
self
_oracle
:
&
dyn
CodeOracle
)
-
>
String
{
format
!
(
"
Type
{
}
"
self
.
name
)
}
fn
coerce
(
&
self
_oracle
:
&
dyn
CodeOracle
_nm
:
&
str
)
-
>
String
{
panic
!
(
"
should
not
be
necessary
to
coerce
External
types
"
)
;
}
}

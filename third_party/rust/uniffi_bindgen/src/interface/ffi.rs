#
[
derive
(
Debug
Clone
Hash
PartialEq
Eq
)
]
pub
enum
FFIType
{
UInt8
Int8
UInt16
Int16
UInt32
Int32
UInt64
Int64
Float32
Float64
RustArcPtr
(
String
)
RustBuffer
ForeignBytes
ForeignCallback
}
#
[
derive
(
Debug
Default
Clone
)
]
pub
struct
FFIFunction
{
pub
(
super
)
name
:
String
pub
(
super
)
arguments
:
Vec
<
FFIArgument
>
pub
(
super
)
return_type
:
Option
<
FFIType
>
}
impl
FFIFunction
{
pub
fn
name
(
&
self
)
-
>
&
str
{
&
self
.
name
}
pub
fn
arguments
(
&
self
)
-
>
Vec
<
&
FFIArgument
>
{
self
.
arguments
.
iter
(
)
.
collect
(
)
}
pub
fn
return_type
(
&
self
)
-
>
Option
<
&
FFIType
>
{
self
.
return_type
.
as_ref
(
)
}
}
#
[
derive
(
Debug
Clone
)
]
pub
struct
FFIArgument
{
pub
(
super
)
name
:
String
pub
(
super
)
type_
:
FFIType
}
impl
FFIArgument
{
pub
fn
name
(
&
self
)
-
>
&
str
{
&
self
.
name
}
pub
fn
type_
(
&
self
)
-
>
FFIType
{
self
.
type_
.
clone
(
)
}
}
#
[
cfg
(
test
)
]
mod
test
{
}

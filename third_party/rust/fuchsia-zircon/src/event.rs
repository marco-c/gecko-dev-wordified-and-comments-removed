use
{
AsHandleRef
Cookied
HandleBased
Handle
HandleRef
Status
}
;
use
{
sys
ok
}
;
#
[
derive
(
Debug
Eq
PartialEq
)
]
pub
struct
Event
(
Handle
)
;
impl_handle_based
!
(
Event
)
;
impl
Cookied
for
Event
{
}
impl
Event
{
pub
fn
create
(
)
-
>
Result
<
Event
Status
>
{
let
mut
out
=
0
;
let
opts
=
0
;
let
status
=
unsafe
{
sys
:
:
zx_event_create
(
opts
&
mut
out
)
}
;
ok
(
status
)
?
;
unsafe
{
Ok
(
Self
:
:
from
(
Handle
:
:
from_raw
(
out
)
)
)
}
}
}

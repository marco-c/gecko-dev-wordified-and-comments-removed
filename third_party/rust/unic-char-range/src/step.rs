use
core
:
:
char
;
pub
const
BEFORE_SURROGATE
:
char
=
'
\
u
{
D7FF
}
'
;
pub
const
AFTER_SURROGATE
:
char
=
'
\
u
{
E000
}
'
;
#
[
inline
]
#
[
allow
(
unsafe_code
)
]
pub
unsafe
fn
forward
(
ch
:
char
)
-
>
char
{
if
ch
=
=
BEFORE_SURROGATE
{
AFTER_SURROGATE
}
else
{
char
:
:
from_u32_unchecked
(
ch
as
u32
+
1
)
}
}
#
[
inline
]
#
[
allow
(
unsafe_code
)
]
pub
unsafe
fn
backward
(
ch
:
char
)
-
>
char
{
if
ch
=
=
AFTER_SURROGATE
{
BEFORE_SURROGATE
}
else
{
char
:
:
from_u32_unchecked
(
ch
as
u32
-
1
)
}
}

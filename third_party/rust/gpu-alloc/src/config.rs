#
[
derive
(
Clone
Copy
Debug
PartialEq
Eq
)
]
#
[
cfg_attr
(
feature
=
"
serde
"
derive
(
serde
:
:
Serialize
serde
:
:
Deserialize
)
)
]
pub
struct
Config
{
pub
dedicated_threshold
:
u64
pub
preferred_dedicated_threshold
:
u64
pub
transient_dedicated_threshold
:
u64
pub
starting_free_list_chunk
:
u64
pub
final_free_list_chunk
:
u64
pub
minimal_buddy_size
:
u64
pub
initial_buddy_dedicated_size
:
u64
}
impl
Config
{
pub
fn
i_am_prototyping
(
)
-
>
Self
{
let
potato
=
Config
:
:
i_am_potato
(
)
;
Config
{
dedicated_threshold
:
potato
.
dedicated_threshold
*
1024
preferred_dedicated_threshold
:
potato
.
preferred_dedicated_threshold
*
1024
transient_dedicated_threshold
:
potato
.
transient_dedicated_threshold
*
1024
starting_free_list_chunk
:
potato
.
starting_free_list_chunk
*
1024
final_free_list_chunk
:
potato
.
final_free_list_chunk
*
1024
minimal_buddy_size
:
potato
.
minimal_buddy_size
*
1024
initial_buddy_dedicated_size
:
potato
.
initial_buddy_dedicated_size
*
1024
}
}
pub
fn
i_am_potato
(
)
-
>
Self
{
Config
{
dedicated_threshold
:
32
*
1024
preferred_dedicated_threshold
:
1024
transient_dedicated_threshold
:
128
*
1024
starting_free_list_chunk
:
8
*
1024
final_free_list_chunk
:
128
*
1024
minimal_buddy_size
:
1
initial_buddy_dedicated_size
:
8
*
1024
}
}
}

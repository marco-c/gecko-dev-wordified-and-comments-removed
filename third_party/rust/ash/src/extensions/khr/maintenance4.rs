use
crate
:
:
vk
;
use
core
:
:
mem
;
use
core
:
:
ptr
;
impl
crate
:
:
khr
:
:
maintenance4
:
:
Device
{
#
[
inline
]
pub
unsafe
fn
get_device_buffer_memory_requirements
(
&
self
memory_requirements
:
&
vk
:
:
DeviceBufferMemoryRequirementsKHR
<
'
_
>
out
:
&
mut
vk
:
:
MemoryRequirements2
<
'
_
>
)
{
(
self
.
fp
.
get_device_buffer_memory_requirements_khr
)
(
self
.
handle
memory_requirements
out
)
}
#
[
inline
]
pub
unsafe
fn
get_device_image_memory_requirements
(
&
self
memory_requirements
:
&
vk
:
:
DeviceImageMemoryRequirementsKHR
<
'
_
>
out
:
&
mut
vk
:
:
MemoryRequirements2
<
'
_
>
)
{
(
self
.
fp
.
get_device_image_memory_requirements_khr
)
(
self
.
handle
memory_requirements
out
)
}
#
[
inline
]
pub
unsafe
fn
get_device_image_sparse_memory_requirements_len
(
&
self
memory_requirements
:
&
vk
:
:
DeviceImageMemoryRequirementsKHR
<
'
_
>
)
-
>
usize
{
let
mut
count
=
mem
:
:
MaybeUninit
:
:
uninit
(
)
;
(
self
.
fp
.
get_device_image_sparse_memory_requirements_khr
)
(
self
.
handle
memory_requirements
count
.
as_mut_ptr
(
)
ptr
:
:
null_mut
(
)
)
;
count
.
assume_init
(
)
as
usize
}
#
[
inline
]
pub
unsafe
fn
get_device_image_sparse_memory_requirements
(
&
self
memory_requirements
:
&
vk
:
:
DeviceImageMemoryRequirementsKHR
<
'
_
>
out
:
&
mut
[
vk
:
:
SparseImageMemoryRequirements2
<
'
_
>
]
)
{
let
mut
count
=
out
.
len
(
)
as
u32
;
(
self
.
fp
.
get_device_image_sparse_memory_requirements_khr
)
(
self
.
handle
memory_requirements
&
mut
count
out
.
as_mut_ptr
(
)
)
;
assert_eq
!
(
count
as
usize
out
.
len
(
)
)
;
}
}

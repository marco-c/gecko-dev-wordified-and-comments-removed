#
!
[
cfg_attr
(
any
(
unix
windows
)
deny
(
missing_docs
clippy
:
:
all
unreachable_pub
unused
)
)
]
#
!
[
cfg_attr
(
libloading_docs
feature
(
doc_cfg
)
)
]
pub
mod
changelog
;
pub
mod
os
;
mod
util
;
mod
error
;
#
[
cfg
(
any
(
unix
windows
libloading_docs
)
)
]
mod
safe
;
pub
use
self
:
:
error
:
:
Error
;
#
[
cfg
(
any
(
unix
windows
libloading_docs
)
)
]
pub
use
self
:
:
safe
:
:
{
Library
Symbol
}
;
use
std
:
:
env
:
:
consts
:
:
{
DLL_PREFIX
DLL_SUFFIX
}
;
use
std
:
:
ffi
:
:
{
OsStr
OsString
}
;
pub
fn
library_filename
<
S
:
AsRef
<
OsStr
>
>
(
name
:
S
)
-
>
OsString
{
let
name
=
name
.
as_ref
(
)
;
let
mut
string
=
OsString
:
:
with_capacity
(
name
.
len
(
)
+
DLL_PREFIX
.
len
(
)
+
DLL_SUFFIX
.
len
(
)
)
;
string
.
push
(
DLL_PREFIX
)
;
string
.
push
(
name
)
;
string
.
push
(
DLL_SUFFIX
)
;
string
}

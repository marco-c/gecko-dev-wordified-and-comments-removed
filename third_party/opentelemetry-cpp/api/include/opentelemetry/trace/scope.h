#
pragma
once
#
include
"
opentelemetry
/
context
/
context
.
h
"
#
include
"
opentelemetry
/
context
/
runtime_context
.
h
"
#
include
"
opentelemetry
/
nostd
/
shared_ptr
.
h
"
#
include
"
opentelemetry
/
nostd
/
unique_ptr
.
h
"
#
include
"
opentelemetry
/
trace
/
span
.
h
"
#
include
"
opentelemetry
/
trace
/
span_metadata
.
h
"
#
include
"
opentelemetry
/
version
.
h
"
OPENTELEMETRY_BEGIN_NAMESPACE
namespace
trace
{
class
Scope
final
{
public
:
Scope
(
const
nostd
:
:
shared_ptr
<
Span
>
&
span
)
noexcept
:
token_
(
context
:
:
RuntimeContext
:
:
Attach
(
context
:
:
RuntimeContext
:
:
GetCurrent
(
)
.
SetValue
(
kSpanKey
span
)
)
)
{
}
private
:
nostd
:
:
unique_ptr
<
context
:
:
Token
>
token_
;
}
;
}
OPENTELEMETRY_END_NAMESPACE

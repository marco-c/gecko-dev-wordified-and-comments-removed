#
include
"
net
/
dcsctp
/
packet
/
parameter
/
add_outgoing_streams_request_parameter
.
h
"
#
include
<
cstdint
>
#
include
<
vector
>
#
include
"
net
/
dcsctp
/
common
/
internal_types
.
h
"
#
include
"
net
/
dcsctp
/
testing
/
testing_macros
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
dcsctp
{
namespace
{
TEST
(
AddOutgoingStreamsRequestParameterTest
SerializeAndDeserialize
)
{
AddOutgoingStreamsRequestParameter
parameter
(
ReconfigRequestSN
(
1
)
2
)
;
std
:
:
vector
<
uint8_t
>
serialized
;
parameter
.
SerializeTo
(
serialized
)
;
ASSERT_HAS_VALUE_AND_ASSIGN
(
AddOutgoingStreamsRequestParameter
deserialized
AddOutgoingStreamsRequestParameter
:
:
Parse
(
serialized
)
)
;
EXPECT_EQ
(
*
deserialized
.
request_sequence_number
(
)
1u
)
;
EXPECT_EQ
(
deserialized
.
nbr_of_new_streams
(
)
2u
)
;
}
}
}

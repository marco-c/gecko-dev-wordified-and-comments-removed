#
ifndef
PC_MEDIA_STREAM_OBSERVER_H_
#
define
PC_MEDIA_STREAM_OBSERVER_H_
#
include
"
api
/
media_stream_interface
.
h
"
#
include
"
api
/
scoped_refptr
.
h
"
#
include
"
rtc_base
/
third_party
/
sigslot
/
sigslot
.
h
"
namespace
webrtc
{
class
MediaStreamObserver
:
public
ObserverInterface
{
public
:
explicit
MediaStreamObserver
(
MediaStreamInterface
*
stream
)
;
~
MediaStreamObserver
(
)
override
;
const
MediaStreamInterface
*
stream
(
)
const
{
return
stream_
;
}
void
OnChanged
(
)
override
;
sigslot
:
:
signal2
<
AudioTrackInterface
*
MediaStreamInterface
*
>
SignalAudioTrackAdded
;
sigslot
:
:
signal2
<
AudioTrackInterface
*
MediaStreamInterface
*
>
SignalAudioTrackRemoved
;
sigslot
:
:
signal2
<
VideoTrackInterface
*
MediaStreamInterface
*
>
SignalVideoTrackAdded
;
sigslot
:
:
signal2
<
VideoTrackInterface
*
MediaStreamInterface
*
>
SignalVideoTrackRemoved
;
private
:
rtc
:
:
scoped_refptr
<
MediaStreamInterface
>
stream_
;
AudioTrackVector
cached_audio_tracks_
;
VideoTrackVector
cached_video_tracks_
;
}
;
}
#
endif

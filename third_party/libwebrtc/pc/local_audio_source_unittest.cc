#
include
"
pc
/
local_audio_source
.
h
"
#
include
<
optional
>
#
include
"
api
/
audio_options
.
h
"
#
include
"
api
/
scoped_refptr
.
h
"
#
include
"
test
/
gtest
.
h
"
using
webrtc
:
:
LocalAudioSource
;
TEST
(
LocalAudioSourceTest
InitWithAudioOptions
)
{
cricket
:
:
AudioOptions
audio_options
;
audio_options
.
highpass_filter
=
true
;
rtc
:
:
scoped_refptr
<
LocalAudioSource
>
source
=
LocalAudioSource
:
:
Create
(
&
audio_options
)
;
EXPECT_EQ
(
true
source
-
>
options
(
)
.
highpass_filter
)
;
}
TEST
(
LocalAudioSourceTest
InitWithNoOptions
)
{
rtc
:
:
scoped_refptr
<
LocalAudioSource
>
source
=
LocalAudioSource
:
:
Create
(
nullptr
)
;
EXPECT_EQ
(
std
:
:
nullopt
source
-
>
options
(
)
.
highpass_filter
)
;
}

#
include
"
pc
/
media_protocol_names
.
h
"
#
include
<
ctype
.
h
>
#
include
<
stddef
.
h
>
#
include
<
string
>
namespace
cricket
{
const
char
kMediaProtocolRtpPrefix
[
]
=
"
RTP
/
"
;
const
char
kMediaProtocolSctp
[
]
=
"
SCTP
"
;
const
char
kMediaProtocolDtlsSctp
[
]
=
"
DTLS
/
SCTP
"
;
const
char
kMediaProtocolUdpDtlsSctp
[
]
=
"
UDP
/
DTLS
/
SCTP
"
;
const
char
kMediaProtocolTcpDtlsSctp
[
]
=
"
TCP
/
DTLS
/
SCTP
"
;
bool
IsDtlsSctp
(
absl
:
:
string_view
protocol
)
{
return
protocol
=
=
kMediaProtocolDtlsSctp
|
|
protocol
=
=
kMediaProtocolUdpDtlsSctp
|
|
protocol
=
=
kMediaProtocolTcpDtlsSctp
;
}
bool
IsPlainSctp
(
absl
:
:
string_view
protocol
)
{
return
protocol
=
=
kMediaProtocolSctp
;
}
bool
IsRtpProtocol
(
absl
:
:
string_view
protocol
)
{
if
(
protocol
.
empty
(
)
)
{
return
true
;
}
size_t
pos
=
protocol
.
find
(
cricket
:
:
kMediaProtocolRtpPrefix
)
;
if
(
pos
=
=
std
:
:
string
:
:
npos
)
{
return
false
;
}
if
(
pos
=
=
0
|
|
!
isalpha
(
protocol
[
pos
-
1
]
)
)
{
return
true
;
}
return
false
;
}
bool
IsSctpProtocol
(
absl
:
:
string_view
protocol
)
{
return
IsPlainSctp
(
protocol
)
|
|
IsDtlsSctp
(
protocol
)
;
}
}

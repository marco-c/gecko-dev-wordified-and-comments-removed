#
ifndef
PC_JITTER_BUFFER_DELAY_H_
#
define
PC_JITTER_BUFFER_DELAY_H_
#
include
<
stdint
.
h
>
#
include
"
absl
/
types
/
optional
.
h
"
#
include
"
media
/
base
/
delayable
.
h
"
#
include
"
pc
/
jitter_buffer_delay_interface
.
h
"
#
include
"
rtc_base
/
thread
.
h
"
namespace
webrtc
{
class
JitterBufferDelay
:
public
JitterBufferDelayInterface
{
public
:
explicit
JitterBufferDelay
(
rtc
:
:
Thread
*
worker_thread
)
;
void
OnStart
(
cricket
:
:
Delayable
*
media_channel
uint32_t
ssrc
)
override
;
void
OnStop
(
)
override
;
void
Set
(
absl
:
:
optional
<
double
>
delay_seconds
)
override
;
private
:
rtc
:
:
Thread
*
const
signaling_thread_
;
rtc
:
:
Thread
*
const
worker_thread_
;
cricket
:
:
Delayable
*
media_channel_
=
nullptr
;
absl
:
:
optional
<
uint32_t
>
ssrc_
;
absl
:
:
optional
<
double
>
cached_delay_seconds_
;
}
;
}
#
endif

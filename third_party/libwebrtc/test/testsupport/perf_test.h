#
ifndef
TEST_TESTSUPPORT_PERF_TEST_H_
#
define
TEST_TESTSUPPORT_PERF_TEST_H_
#
include
<
sstream
>
#
include
<
string
>
#
include
<
vector
>
#
include
"
absl
/
strings
/
string_view
.
h
"
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
numerics
/
samples_stats_counter
.
h
"
namespace
webrtc
{
namespace
test
{
enum
class
ImproveDirection
{
kNone
kSmallerIsBetter
kBiggerIsBetter
}
;
void
PrintResult
(
absl
:
:
string_view
measurement
absl
:
:
string_view
modifier
absl
:
:
string_view
user_story
double
value
absl
:
:
string_view
units
bool
important
ImproveDirection
improve_direction
=
ImproveDirection
:
:
kNone
)
;
void
PrintResultMeanAndError
(
absl
:
:
string_view
measurement
absl
:
:
string_view
modifier
absl
:
:
string_view
user_story
double
mean
double
error
absl
:
:
string_view
units
bool
important
ImproveDirection
improve_direction
=
ImproveDirection
:
:
kNone
)
;
void
PrintResultList
(
absl
:
:
string_view
measurement
absl
:
:
string_view
modifier
absl
:
:
string_view
user_story
rtc
:
:
ArrayView
<
const
double
>
values
absl
:
:
string_view
units
bool
important
ImproveDirection
improve_direction
=
ImproveDirection
:
:
kNone
)
;
void
PrintResult
(
absl
:
:
string_view
measurement
absl
:
:
string_view
modifier
absl
:
:
string_view
user_story
const
SamplesStatsCounter
&
counter
absl
:
:
string_view
units
bool
important
ImproveDirection
improve_direction
=
ImproveDirection
:
:
kNone
)
;
std
:
:
string
GetPerfResults
(
)
;
void
PrintPlottableResults
(
const
std
:
:
vector
<
std
:
:
string
>
&
desired_graphs
)
;
bool
WritePerfResults
(
const
std
:
:
string
&
output_path
)
;
void
SetPerfResultsOutput
(
FILE
*
output
)
;
void
ClearPerfResults
(
)
;
}
}
#
endif

#
include
<
memory
>
#
include
"
absl
/
debugging
/
failure_signal_handler
.
h
"
#
include
"
absl
/
debugging
/
symbolize
.
h
"
#
include
"
absl
/
flags
/
parse
.
h
"
#
include
"
test
/
gmock
.
h
"
#
include
"
test
/
test_main_lib
.
h
"
int
main
(
int
argc
char
*
argv
[
]
)
{
absl
:
:
InitializeSymbolizer
(
argv
[
0
]
)
;
testing
:
:
InitGoogleMock
(
&
argc
argv
)
;
absl
:
:
ParseCommandLine
(
argc
argv
)
;
#
if
!
defined
(
WEBRTC_FUCHSIA
)
absl
:
:
FailureSignalHandlerOptions
options
;
absl
:
:
InstallFailureSignalHandler
(
options
)
;
#
endif
std
:
:
unique_ptr
<
webrtc
:
:
TestMain
>
main
=
webrtc
:
:
TestMain
:
:
Create
(
)
;
int
err_code
=
main
-
>
Init
(
)
;
if
(
err_code
!
=
0
)
{
return
err_code
;
}
return
main
-
>
Run
(
argc
argv
)
;
}

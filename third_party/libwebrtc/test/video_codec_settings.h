#
ifndef
TEST_VIDEO_CODEC_SETTINGS_H_
#
define
TEST_VIDEO_CODEC_SETTINGS_H_
#
include
"
api
/
video_codecs
/
video_encoder
.
h
"
namespace
webrtc
{
namespace
test
{
const
uint16_t
kTestWidth
=
352
;
const
uint16_t
kTestHeight
=
288
;
const
uint32_t
kTestFrameRate
=
30
;
const
unsigned
int
kTestMinBitrateKbps
=
30
;
const
unsigned
int
kTestStartBitrateKbps
=
300
;
const
uint8_t
kTestPayloadType
=
100
;
const
int64_t
kTestTimingFramesDelayMs
=
200
;
const
uint16_t
kTestOutlierFrameSizePercent
=
250
;
static
void
CodecSettings
(
VideoCodecType
codec_type
VideoCodec
*
settings
)
{
memset
(
settings
0
sizeof
(
VideoCodec
)
)
;
settings
-
>
width
=
kTestWidth
;
settings
-
>
height
=
kTestHeight
;
settings
-
>
startBitrate
=
kTestStartBitrateKbps
;
settings
-
>
maxBitrate
=
0
;
settings
-
>
minBitrate
=
kTestMinBitrateKbps
;
settings
-
>
maxFramerate
=
kTestFrameRate
;
settings
-
>
active
=
true
;
settings
-
>
qpMax
=
56
;
settings
-
>
numberOfSimulcastStreams
=
0
;
settings
-
>
timing_frame_thresholds
=
{
kTestTimingFramesDelayMs
kTestOutlierFrameSizePercent
}
;
settings
-
>
codecType
=
codec_type
;
switch
(
codec_type
)
{
case
kVideoCodecVP8
:
*
(
settings
-
>
VP8
(
)
)
=
VideoEncoder
:
:
GetDefaultVp8Settings
(
)
;
return
;
case
kVideoCodecVP9
:
*
(
settings
-
>
VP9
(
)
)
=
VideoEncoder
:
:
GetDefaultVp9Settings
(
)
;
return
;
case
kVideoCodecH264
:
*
(
settings
-
>
H264
(
)
)
=
VideoEncoder
:
:
GetDefaultH264Settings
(
)
;
return
;
default
:
return
;
}
}
}
}
#
endif

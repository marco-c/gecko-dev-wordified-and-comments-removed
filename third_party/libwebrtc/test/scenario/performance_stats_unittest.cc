#
include
"
api
/
units
/
time_delta
.
h
"
#
include
"
api
/
units
/
timestamp
.
h
"
#
include
"
rtc_base
/
numerics
/
event_rate_counter
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
namespace
test
{
TEST
(
EventRateCounter
ReturnsCorrectTotalDuration
)
{
EventRateCounter
event_rate_counter
;
EXPECT_EQ
(
event_rate_counter
.
TotalDuration
(
)
TimeDelta
:
:
Zero
(
)
)
;
event_rate_counter
.
AddEvent
(
Timestamp
:
:
Seconds
(
1
)
)
;
EXPECT_EQ
(
event_rate_counter
.
TotalDuration
(
)
TimeDelta
:
:
Zero
(
)
)
;
event_rate_counter
.
AddEvent
(
Timestamp
:
:
Seconds
(
2
)
)
;
EXPECT_EQ
(
event_rate_counter
.
TotalDuration
(
)
TimeDelta
:
:
Seconds
(
1
)
)
;
}
}
}

#
ifndef
TEST_PC_E2E_ANALYZER_HELPER_H_
#
define
TEST_PC_E2E_ANALYZER_HELPER_H_
#
include
<
map
>
#
include
<
string
>
#
include
"
absl
/
strings
/
string_view
.
h
"
#
include
"
api
/
test
/
track_id_stream_info_map
.
h
"
#
include
"
rtc_base
/
synchronization
/
sequence_checker
.
h
"
#
include
"
rtc_base
/
thread_annotations
.
h
"
namespace
webrtc
{
namespace
webrtc_pc_e2e
{
class
AnalyzerHelper
:
public
TrackIdStreamInfoMap
{
public
:
AnalyzerHelper
(
)
;
void
AddTrackToStreamMapping
(
std
:
:
string
track_id
std
:
:
string
stream_label
)
;
void
AddTrackToStreamMapping
(
std
:
:
string
track_id
std
:
:
string
stream_label
std
:
:
string
sync_group
)
;
absl
:
:
string_view
GetStreamLabelFromTrackId
(
absl
:
:
string_view
track_id
)
const
override
;
absl
:
:
string_view
GetSyncGroupLabelFromTrackId
(
absl
:
:
string_view
track_id
)
const
override
;
private
:
struct
StreamInfo
{
std
:
:
string
stream_label
;
std
:
:
string
sync_group
;
}
;
const
StreamInfo
&
GetStreamInfoFromTrackId
(
absl
:
:
string_view
track_id
)
const
;
SequenceChecker
signaling_sequence_checker_
;
std
:
:
map
<
std
:
:
string
StreamInfo
>
track_to_stream_map_
RTC_GUARDED_BY
(
signaling_sequence_checker_
)
;
}
;
}
}
#
endif

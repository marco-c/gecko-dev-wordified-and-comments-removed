#
ifndef
MODULES_VIDEO_PROCESSING_UTIL_DENOISER_FILTER_H_
#
define
MODULES_VIDEO_PROCESSING_UTIL_DENOISER_FILTER_H_
#
include
<
stdint
.
h
>
#
include
<
memory
>
namespace
webrtc
{
extern
const
int
kMotionMagnitudeThreshold
;
extern
const
int
kSumDiffThreshold
;
extern
const
int
kSumDiffThresholdHigh
;
enum
DenoiserDecision
{
COPY_BLOCK
FILTER_BLOCK
}
;
enum
CpuType
{
CPU_NEON
CPU_NOT_NEON
}
;
class
DenoiserFilter
{
public
:
static
std
:
:
unique_ptr
<
DenoiserFilter
>
Create
(
bool
runtime_cpu_detection
CpuType
*
cpu_type
)
;
virtual
~
DenoiserFilter
(
)
{
}
virtual
uint32_t
Variance16x8
(
const
uint8_t
*
a
int
a_stride
const
uint8_t
*
b
int
b_stride
unsigned
int
*
sse
)
=
0
;
virtual
DenoiserDecision
MbDenoise
(
const
uint8_t
*
mc_running_avg_y
int
mc_avg_y_stride
uint8_t
*
running_avg_y
int
avg_y_stride
const
uint8_t
*
sig
int
sig_stride
uint8_t
motion_magnitude
int
increase_denoising
)
=
0
;
}
;
}
#
endif

#
ifndef
MODULES_AUDIO_CODING_CODECS_LEGACY_ENCODED_AUDIO_FRAME_H_
#
define
MODULES_AUDIO_CODING_CODECS_LEGACY_ENCODED_AUDIO_FRAME_H_
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
<
optional
>
#
include
<
vector
>
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
audio_codecs
/
audio_decoder
.
h
"
#
include
"
rtc_base
/
buffer
.
h
"
namespace
webrtc
{
class
LegacyEncodedAudioFrame
final
:
public
AudioDecoder
:
:
EncodedAudioFrame
{
public
:
LegacyEncodedAudioFrame
(
AudioDecoder
*
decoder
Buffer
&
&
payload
)
;
~
LegacyEncodedAudioFrame
(
)
override
;
static
std
:
:
vector
<
AudioDecoder
:
:
ParseResult
>
SplitBySamples
(
AudioDecoder
*
decoder
Buffer
&
&
payload
uint32_t
timestamp
size_t
bytes_per_ms
uint32_t
timestamps_per_ms
)
;
size_t
Duration
(
)
const
override
;
std
:
:
optional
<
DecodeResult
>
Decode
(
ArrayView
<
int16_t
>
decoded
)
const
override
;
const
Buffer
&
payload
(
)
const
{
return
payload_
;
}
private
:
AudioDecoder
*
const
decoder_
;
const
Buffer
payload_
;
}
;
}
#
endif

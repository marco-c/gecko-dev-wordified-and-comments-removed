#
ifndef
MODULES_RTP_RTCP_SOURCE_NTP_TIME_UTIL_H_
#
define
MODULES_RTP_RTCP_SOURCE_NTP_TIME_UTIL_H_
#
include
<
stdint
.
h
>
#
include
"
api
/
units
/
time_delta
.
h
"
#
include
"
rtc_base
/
numerics
/
safe_conversions
.
h
"
#
include
"
system_wrappers
/
include
/
ntp_time
.
h
"
namespace
webrtc
{
inline
uint32_t
CompactNtp
(
NtpTime
ntp
)
{
return
(
ntp
.
seconds
(
)
<
<
16
)
|
(
ntp
.
fractions
(
)
>
>
16
)
;
}
uint32_t
SaturatedToCompactNtp
(
TimeDelta
delta
)
;
inline
constexpr
int64_t
ToNtpUnits
(
TimeDelta
delta
)
{
return
(
rtc
:
:
saturated_cast
<
int32_t
>
(
delta
.
us
(
)
)
*
(
int64_t
{
1
}
<
<
32
)
)
/
1
'
000
'
000
;
}
TimeDelta
CompactNtpIntervalToTimeDelta
(
uint32_t
compact_ntp_interval
)
;
TimeDelta
CompactNtpRttToTimeDelta
(
uint32_t
compact_ntp_interval
)
;
}
#
endif

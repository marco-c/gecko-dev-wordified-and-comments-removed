#
ifndef
MODULES_RTP_RTCP_SOURCE_RTP_FORMAT_VP9_H_
#
define
MODULES_RTP_RTCP_SOURCE_RTP_FORMAT_VP9_H_
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
<
vector
>
#
include
"
api
/
array_view
.
h
"
#
include
"
modules
/
rtp_rtcp
/
source
/
rtp_format
.
h
"
#
include
"
modules
/
rtp_rtcp
/
source
/
rtp_packet_to_send
.
h
"
#
include
"
modules
/
video_coding
/
codecs
/
vp9
/
include
/
vp9_globals
.
h
"
namespace
webrtc
{
class
RtpPacketizerVp9
:
public
RtpPacketizer
{
public
:
RtpPacketizerVp9
(
ArrayView
<
const
uint8_t
>
payload
PayloadSizeLimits
limits
const
RTPVideoHeaderVP9
&
hdr
)
;
~
RtpPacketizerVp9
(
)
override
;
RtpPacketizerVp9
(
const
RtpPacketizerVp9
&
)
=
delete
;
RtpPacketizerVp9
&
operator
=
(
const
RtpPacketizerVp9
&
)
=
delete
;
size_t
NumPackets
(
)
const
override
;
bool
NextPacket
(
RtpPacketToSend
*
packet
)
override
;
private
:
bool
WriteHeader
(
bool
layer_begin
bool
layer_end
ArrayView
<
uint8_t
>
rtp_payload
)
const
;
const
RTPVideoHeaderVP9
hdr_
;
const
int
header_size_
;
const
int
first_packet_extra_header_size_
;
ArrayView
<
const
uint8_t
>
remaining_payload_
;
std
:
:
vector
<
int
>
payload_sizes_
;
std
:
:
vector
<
int
>
:
:
const_iterator
current_packet_
;
}
;
}
#
endif

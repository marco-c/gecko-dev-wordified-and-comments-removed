#
ifndef
MODULES_RTP_RTCP_SOURCE_RTCP_TRANSCEIVER_CONFIG_H_
#
define
MODULES_RTP_RTCP_SOURCE_RTCP_TRANSCEIVER_CONFIG_H_
#
include
<
string
>
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
rtp_headers
.
h
"
#
include
"
api
/
task_queue
/
task_queue_base
.
h
"
#
include
"
api
/
units
/
data_rate
.
h
"
#
include
"
api
/
units
/
time_delta
.
h
"
#
include
"
api
/
units
/
timestamp
.
h
"
#
include
"
api
/
video
/
video_bitrate_allocation
.
h
"
#
include
"
modules
/
rtp_rtcp
/
include
/
rtp_rtcp_defines
.
h
"
#
include
"
modules
/
rtp_rtcp
/
source
/
rtcp_packet
/
report_block
.
h
"
#
include
"
modules
/
rtp_rtcp
/
source
/
rtcp_packet
/
transport_feedback
.
h
"
#
include
"
system_wrappers
/
include
/
clock
.
h
"
#
include
"
system_wrappers
/
include
/
ntp_time
.
h
"
namespace
webrtc
{
class
ReceiveStatisticsProvider
;
class
Transport
;
class
NetworkLinkRtcpObserver
{
public
:
virtual
~
NetworkLinkRtcpObserver
(
)
=
default
;
virtual
void
OnTransportFeedback
(
Timestamp
receive_time
const
rtcp
:
:
TransportFeedback
&
feedback
)
{
}
virtual
void
OnReceiverEstimatedMaxBitrate
(
Timestamp
receive_time
DataRate
bitrate
)
{
}
virtual
void
OnReportBlocks
(
Timestamp
receive_time
rtc
:
:
ArrayView
<
const
rtcp
:
:
ReportBlock
>
report_blocks
)
{
}
virtual
void
OnRttUpdate
(
Timestamp
receive_time
TimeDelta
rtt
)
{
}
}
;
class
MediaReceiverRtcpObserver
{
public
:
virtual
~
MediaReceiverRtcpObserver
(
)
=
default
;
virtual
void
OnSenderReport
(
uint32_t
sender_ssrc
NtpTime
ntp_time
uint32_t
rtp_time
)
{
}
virtual
void
OnBye
(
uint32_t
sender_ssrc
)
{
}
virtual
void
OnBitrateAllocation
(
uint32_t
sender_ssrc
const
VideoBitrateAllocation
&
allocation
)
{
}
}
;
struct
RtcpTransceiverConfig
{
RtcpTransceiverConfig
(
)
;
RtcpTransceiverConfig
(
const
RtcpTransceiverConfig
&
)
;
RtcpTransceiverConfig
&
operator
=
(
const
RtcpTransceiverConfig
&
)
;
~
RtcpTransceiverConfig
(
)
;
bool
Validate
(
)
const
;
std
:
:
string
debug_id
;
uint32_t
feedback_ssrc
=
1
;
std
:
:
string
cname
;
size_t
max_packet_size
=
1200
;
Clock
*
clock
=
nullptr
;
Transport
*
outgoing_transport
=
nullptr
;
TaskQueueBase
*
task_queue
=
nullptr
;
ReceiveStatisticsProvider
*
receive_statistics
=
nullptr
;
NetworkLinkRtcpObserver
*
network_link_observer
=
nullptr
;
RtcpMode
rtcp_mode
=
RtcpMode
:
:
kCompound
;
bool
initial_ready_to_send
=
true
;
int
initial_report_delay_ms
=
500
;
int
report_period_ms
=
1000
;
bool
schedule_periodic_compound_packets
=
true
;
bool
non_sender_rtt_measurement
=
false
;
bool
send_remb_on_change
=
false
;
}
;
}
#
endif

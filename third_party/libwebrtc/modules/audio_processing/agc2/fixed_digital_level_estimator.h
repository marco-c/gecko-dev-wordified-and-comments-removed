#
ifndef
MODULES_AUDIO_PROCESSING_AGC2_FIXED_DIGITAL_LEVEL_ESTIMATOR_H_
#
define
MODULES_AUDIO_PROCESSING_AGC2_FIXED_DIGITAL_LEVEL_ESTIMATOR_H_
#
include
<
array
>
#
include
<
vector
>
#
include
"
modules
/
audio_processing
/
agc2
/
agc2_common
.
h
"
#
include
"
modules
/
audio_processing
/
include
/
audio_frame_view
.
h
"
#
include
"
rtc_base
/
constructor_magic
.
h
"
namespace
webrtc
{
class
ApmDataDumper
;
class
FixedDigitalLevelEstimator
{
public
:
FixedDigitalLevelEstimator
(
int
sample_rate_hz
ApmDataDumper
*
apm_data_dumper
)
;
std
:
:
array
<
float
kSubFramesInFrame
>
ComputeLevel
(
const
AudioFrameView
<
const
float
>
&
float_frame
)
;
void
SetSampleRate
(
int
sample_rate_hz
)
;
void
Reset
(
)
;
float
LastAudioLevel
(
)
const
{
return
filter_state_level_
;
}
private
:
void
CheckParameterCombination
(
)
;
ApmDataDumper
*
const
apm_data_dumper_
=
nullptr
;
float
filter_state_level_
;
int
samples_in_frame_
;
int
samples_in_sub_frame_
;
RTC_DISALLOW_COPY_AND_ASSIGN
(
FixedDigitalLevelEstimator
)
;
}
;
}
#
endif

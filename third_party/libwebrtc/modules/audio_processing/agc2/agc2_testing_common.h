#
ifndef
MODULES_AUDIO_PROCESSING_AGC2_AGC2_TESTING_COMMON_H_
#
define
MODULES_AUDIO_PROCESSING_AGC2_AGC2_TESTING_COMMON_H_
#
include
<
limits
>
#
include
<
vector
>
#
include
"
rtc_base
/
random
.
h
"
namespace
webrtc
{
namespace
test
{
constexpr
float
kMinS16
=
static_cast
<
float
>
(
std
:
:
numeric_limits
<
int16_t
>
:
:
min
(
)
)
;
constexpr
float
kMaxS16
=
static_cast
<
float
>
(
std
:
:
numeric_limits
<
int16_t
>
:
:
max
(
)
)
;
constexpr
float
kDecayMs
=
500
.
f
;
constexpr
float
kLimiterMaxInputLevelDbFs
=
1
.
f
;
constexpr
float
kLimiterKneeSmoothnessDb
=
1
.
f
;
constexpr
float
kLimiterCompressionRatio
=
5
.
f
;
std
:
:
vector
<
double
>
LinSpace
(
double
l
double
r
int
num_points
)
;
class
WhiteNoiseGenerator
{
public
:
WhiteNoiseGenerator
(
int
min_amplitude
int
max_amplitude
)
;
float
operator
(
)
(
)
;
private
:
Random
rand_gen_
;
const
int
min_amplitude_
;
const
int
max_amplitude_
;
}
;
class
SineGenerator
{
public
:
SineGenerator
(
float
amplitude
float
frequency_hz
int
sample_rate_hz
)
;
float
operator
(
)
(
)
;
private
:
const
float
amplitude_
;
const
float
frequency_hz_
;
const
int
sample_rate_hz_
;
float
x_radians_
;
}
;
class
PulseGenerator
{
public
:
PulseGenerator
(
float
pulse_amplitude
float
no_pulse_amplitude
float
frequency_hz
int
sample_rate_hz
)
;
float
operator
(
)
(
)
;
private
:
const
float
pulse_amplitude_
;
const
float
no_pulse_amplitude_
;
const
int
samples_period_
;
int
sample_counter_
;
}
;
}
}
#
endif

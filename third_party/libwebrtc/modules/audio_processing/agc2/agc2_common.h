#
ifndef
MODULES_AUDIO_PROCESSING_AGC2_AGC2_COMMON_H_
#
define
MODULES_AUDIO_PROCESSING_AGC2_AGC2_COMMON_H_
namespace
webrtc
{
constexpr
float
kMinFloatS16Value
=
-
32768
.
0f
;
constexpr
float
kMaxFloatS16Value
=
32767
.
0f
;
constexpr
float
kMaxAbsFloatS16Value
=
32768
.
0f
;
constexpr
float
kMinLevelDbfs
=
-
90
.
31f
;
constexpr
int
kFrameDurationMs
=
10
;
constexpr
int
kSubFramesInFrame
=
20
;
constexpr
int
kMaximalNumberOfSamplesPerChannel
=
480
;
constexpr
float
kHeadroomDbfs
=
1
.
0f
;
constexpr
float
kMaxGainDb
=
30
.
0f
;
constexpr
float
kInitialAdaptiveDigitalGainDb
=
8
.
0f
;
constexpr
float
kLimiterThresholdForAgcGainDbfs
=
-
kHeadroomDbfs
;
constexpr
float
kVadConfidenceThreshold
=
0
.
95f
;
constexpr
float
kLevelEstimatorTimeToConfidenceMs
=
400
;
constexpr
float
kLevelEstimatorLeakFactor
=
1
.
0f
-
1
.
0f
/
kLevelEstimatorTimeToConfidenceMs
;
constexpr
int
kDefaultVadRnnResetPeriodMs
=
1500
;
static_assert
(
kDefaultVadRnnResetPeriodMs
%
kFrameDurationMs
=
=
0
"
"
)
;
constexpr
int
kDefaultLevelEstimatorAdjacentSpeechFramesThreshold
=
12
;
constexpr
float
kSaturationProtectorInitialHeadroomDb
=
20
.
0f
;
constexpr
float
kSaturationProtectorExtraHeadroomDb
=
5
.
0f
;
constexpr
int
kSaturationProtectorBufferSize
=
4
;
constexpr
float
kInitialSpeechLevelEstimateDbfs
=
-
kSaturationProtectorExtraHeadroomDb
-
kSaturationProtectorInitialHeadroomDb
-
kInitialAdaptiveDigitalGainDb
-
kHeadroomDbfs
;
constexpr
int
kInterpolatedGainCurveKneePoints
=
22
;
constexpr
int
kInterpolatedGainCurveBeyondKneePoints
=
10
;
constexpr
int
kInterpolatedGainCurveTotalPoints
=
kInterpolatedGainCurveKneePoints
+
kInterpolatedGainCurveBeyondKneePoints
;
}
#
endif

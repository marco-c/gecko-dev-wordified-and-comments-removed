#
include
"
modules
/
audio_processing
/
agc2
/
biquad_filter
.
h
"
#
include
<
stddef
.
h
>
namespace
webrtc
{
void
BiQuadFilter
:
:
Process
(
rtc
:
:
ArrayView
<
const
float
>
x
rtc
:
:
ArrayView
<
float
>
y
)
{
for
(
size_t
k
=
0
;
k
<
x
.
size
(
)
;
+
+
k
)
{
const
float
tmp
=
x
[
k
]
;
y
[
k
]
=
coefficients_
.
b
[
0
]
*
tmp
+
coefficients_
.
b
[
1
]
*
biquad_state_
.
b
[
0
]
+
coefficients_
.
b
[
2
]
*
biquad_state_
.
b
[
1
]
-
coefficients_
.
a
[
0
]
*
biquad_state_
.
a
[
0
]
-
coefficients_
.
a
[
1
]
*
biquad_state_
.
a
[
1
]
;
biquad_state_
.
b
[
1
]
=
biquad_state_
.
b
[
0
]
;
biquad_state_
.
b
[
0
]
=
tmp
;
biquad_state_
.
a
[
1
]
=
biquad_state_
.
a
[
0
]
;
biquad_state_
.
a
[
0
]
=
y
[
k
]
;
}
}
}

#
ifndef
MODULES_AUDIO_PROCESSING_AEC3_MULTI_CHANNEL_CONTENT_DETECTOR_H_
#
define
MODULES_AUDIO_PROCESSING_AEC3_MULTI_CHANNEL_CONTENT_DETECTOR_H_
#
include
<
stddef
.
h
>
#
include
<
vector
>
#
include
"
absl
/
types
/
optional
.
h
"
namespace
webrtc
{
class
MultiChannelContentDetector
{
public
:
MultiChannelContentDetector
(
bool
detect_stereo_content
int
num_render_input_channels
float
detection_threshold
int
stereo_detection_timeout_threshold_seconds
)
;
bool
UpdateDetection
(
const
std
:
:
vector
<
std
:
:
vector
<
std
:
:
vector
<
float
>
>
>
&
frame
)
;
bool
IsMultiChannelContentDetected
(
)
const
{
return
proper_multichannel_content_detected_
;
}
private
:
const
bool
detect_stereo_content_
;
const
float
detection_threshold_
;
const
absl
:
:
optional
<
int
>
detection_timeout_threshold_frames_
;
bool
proper_multichannel_content_detected_
;
int
frames_since_stereo_detected_
=
0
;
}
;
}
#
endif

#
ifndef
MODULES_AUDIO_PROCESSING_AEC3_API_CALL_JITTER_METRICS_H_
#
define
MODULES_AUDIO_PROCESSING_AEC3_API_CALL_JITTER_METRICS_H_
namespace
webrtc
{
class
ApiCallJitterMetrics
{
public
:
class
Jitter
{
public
:
Jitter
(
)
;
void
Update
(
int
num_api_calls_in_a_row
)
;
void
Reset
(
)
;
int
min
(
)
const
{
return
min_
;
}
int
max
(
)
const
{
return
max_
;
}
private
:
int
max_
;
int
min_
;
}
;
ApiCallJitterMetrics
(
)
{
Reset
(
)
;
}
void
ReportRenderCall
(
)
;
void
ReportCaptureCall
(
)
;
const
Jitter
&
render_jitter
(
)
const
{
return
render_jitter_
;
}
const
Jitter
&
capture_jitter
(
)
const
{
return
capture_jitter_
;
}
bool
WillReportMetricsAtNextCapture
(
)
const
;
private
:
void
Reset
(
)
;
Jitter
render_jitter_
;
Jitter
capture_jitter_
;
int
num_api_calls_in_a_row_
=
0
;
int
frames_since_last_report_
=
0
;
bool
last_call_was_render_
=
false
;
bool
proper_call_observed_
=
false
;
}
;
}
#
endif

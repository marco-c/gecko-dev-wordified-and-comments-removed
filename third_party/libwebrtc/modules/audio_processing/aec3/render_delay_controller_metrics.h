#
ifndef
MODULES_AUDIO_PROCESSING_AEC3_RENDER_DELAY_CONTROLLER_METRICS_H_
#
define
MODULES_AUDIO_PROCESSING_AEC3_RENDER_DELAY_CONTROLLER_METRICS_H_
#
include
<
stddef
.
h
>
#
include
<
optional
>
#
include
"
modules
/
audio_processing
/
aec3
/
clockdrift_detector
.
h
"
namespace
webrtc
{
class
RenderDelayControllerMetrics
{
public
:
RenderDelayControllerMetrics
(
)
;
RenderDelayControllerMetrics
(
const
RenderDelayControllerMetrics
&
)
=
delete
;
RenderDelayControllerMetrics
&
operator
=
(
const
RenderDelayControllerMetrics
&
)
=
delete
;
void
Update
(
std
:
:
optional
<
size_t
>
delay_samples
std
:
:
optional
<
size_t
>
buffer_delay_blocks
ClockdriftDetector
:
:
Level
clockdrift
)
;
private
:
void
ResetMetrics
(
)
;
size_t
delay_blocks_
=
0
;
int
reliable_delay_estimate_counter_
=
0
;
int
delay_change_counter_
=
0
;
int
call_counter_
=
0
;
int
initial_call_counter_
=
0
;
bool
initial_update
=
true
;
}
;
}
#
endif

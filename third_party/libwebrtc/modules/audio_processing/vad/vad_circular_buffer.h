#
ifndef
MODULES_AUDIO_PROCESSING_VAD_VAD_CIRCULAR_BUFFER_H_
#
define
MODULES_AUDIO_PROCESSING_VAD_VAD_CIRCULAR_BUFFER_H_
#
include
<
memory
>
namespace
webrtc
{
class
VadCircularBuffer
{
public
:
static
VadCircularBuffer
*
Create
(
int
buffer_size
)
;
~
VadCircularBuffer
(
)
;
bool
is_full
(
)
const
{
return
is_full_
;
}
double
Oldest
(
)
const
;
void
Insert
(
double
value
)
;
void
Reset
(
)
;
double
Mean
(
)
;
int
RemoveTransient
(
int
width_threshold
double
val_threshold
)
;
private
:
explicit
VadCircularBuffer
(
int
buffer_size
)
;
int
Get
(
int
index
double
*
value
)
const
;
int
Set
(
int
index
double
value
)
;
int
BufferLevel
(
)
;
int
ConvertToLinearIndex
(
int
*
index
)
const
;
std
:
:
unique_ptr
<
double
[
]
>
buffer_
;
bool
is_full_
;
int
index_
;
int
buffer_size_
;
double
sum_
;
}
;
}
#
endif

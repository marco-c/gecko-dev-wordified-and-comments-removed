#
ifndef
MODULES_AUDIO_PROCESSING_TEST_WAV_BASED_SIMULATOR_H_
#
define
MODULES_AUDIO_PROCESSING_TEST_WAV_BASED_SIMULATOR_H_
#
include
<
vector
>
#
include
"
modules
/
audio_processing
/
test
/
audio_processing_simulator
.
h
"
namespace
webrtc
{
namespace
test
{
class
WavBasedSimulator
final
:
public
AudioProcessingSimulator
{
public
:
WavBasedSimulator
(
const
SimulationSettings
&
settings
rtc
:
:
scoped_refptr
<
AudioProcessing
>
audio_processing
std
:
:
unique_ptr
<
AudioProcessingBuilder
>
ap_builder
)
;
WavBasedSimulator
(
)
=
delete
;
WavBasedSimulator
(
const
WavBasedSimulator
&
)
=
delete
;
WavBasedSimulator
&
operator
=
(
const
WavBasedSimulator
&
)
=
delete
;
~
WavBasedSimulator
(
)
override
;
void
Process
(
)
override
;
void
Analyze
(
)
override
;
private
:
enum
SimulationEventType
{
kProcessStream
kProcessReverseStream
}
;
void
Initialize
(
)
;
bool
HandleProcessStreamCall
(
)
;
bool
HandleProcessReverseStreamCall
(
)
;
void
PrepareProcessStreamCall
(
)
;
void
PrepareReverseProcessStreamCall
(
)
;
static
std
:
:
vector
<
SimulationEventType
>
GetDefaultEventChain
(
)
;
static
std
:
:
vector
<
SimulationEventType
>
GetCustomEventChain
(
const
std
:
:
string
&
filename
)
;
std
:
:
vector
<
SimulationEventType
>
call_chain_
;
}
;
}
}
#
endif

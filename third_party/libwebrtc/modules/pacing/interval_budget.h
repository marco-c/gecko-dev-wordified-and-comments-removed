#
ifndef
MODULES_PACING_INTERVAL_BUDGET_H_
#
define
MODULES_PACING_INTERVAL_BUDGET_H_
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
namespace
webrtc
{
class
IntervalBudget
{
public
:
explicit
IntervalBudget
(
int
initial_target_rate_kbps
)
;
IntervalBudget
(
int
initial_target_rate_kbps
bool
can_build_up_underuse
)
;
void
set_target_rate_kbps
(
int
target_rate_kbps
)
;
void
IncreaseBudget
(
int64_t
delta_time_ms
)
;
void
UseBudget
(
size_t
bytes
)
;
size_t
bytes_remaining
(
)
const
;
double
budget_ratio
(
)
const
;
int
target_rate_kbps
(
)
const
;
private
:
int
target_rate_kbps_
;
int64_t
max_bytes_in_budget_
;
int64_t
bytes_remaining_
;
bool
can_build_up_underuse_
;
}
;
}
#
endif

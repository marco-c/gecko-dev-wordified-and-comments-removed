#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
mac
/
screen_capturer_mac
.
h
"
namespace
webrtc
{
std
:
:
unique_ptr
<
DesktopCapturer
>
DesktopCapturer
:
:
CreateRawScreenCapturer
(
const
DesktopCaptureOptions
&
options
)
{
if
(
!
options
.
configuration_monitor
(
)
)
{
return
nullptr
;
}
std
:
:
unique_ptr
<
ScreenCapturerMac
>
capturer
(
new
ScreenCapturerMac
(
options
.
configuration_monitor
(
)
options
.
detect_updated_region
(
)
options
.
allow_iosurface
(
)
)
)
;
if
(
!
capturer
.
get
(
)
-
>
Init
(
)
)
{
return
nullptr
;
}
return
capturer
;
}
}

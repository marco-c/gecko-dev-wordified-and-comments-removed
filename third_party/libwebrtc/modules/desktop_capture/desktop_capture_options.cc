#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
#
if
defined
(
WEBRTC_MAC
)
&
&
!
defined
(
WEBRTC_IOS
)
#
include
"
modules
/
desktop_capture
/
mac
/
full_screen_mac_application_handler
.
h
"
#
elif
defined
(
WEBRTC_WIN
)
#
include
"
modules
/
desktop_capture
/
win
/
full_screen_win_application_handler
.
h
"
#
endif
#
if
defined
(
WEBRTC_USE_PIPEWIRE
)
&
&
!
defined
(
WEBRTC_MOZILLA_BUILD
)
#
include
"
modules
/
desktop_capture
/
linux
/
wayland
/
shared_screencast_stream
.
h
"
#
endif
#
include
"
rtc_base
/
ref_counted_object
.
h
"
namespace
webrtc
{
DesktopCaptureOptions
:
:
DesktopCaptureOptions
(
)
{
}
DesktopCaptureOptions
:
:
DesktopCaptureOptions
(
const
DesktopCaptureOptions
&
options
)
=
default
;
DesktopCaptureOptions
:
:
DesktopCaptureOptions
(
DesktopCaptureOptions
&
&
options
)
=
default
;
DesktopCaptureOptions
:
:
~
DesktopCaptureOptions
(
)
{
}
DesktopCaptureOptions
&
DesktopCaptureOptions
:
:
operator
=
(
const
DesktopCaptureOptions
&
options
)
=
default
;
DesktopCaptureOptions
&
DesktopCaptureOptions
:
:
operator
=
(
DesktopCaptureOptions
&
&
options
)
=
default
;
DesktopCaptureOptions
DesktopCaptureOptions
:
:
CreateDefault
(
)
{
DesktopCaptureOptions
result
;
#
if
defined
(
WEBRTC_USE_X11
)
result
.
set_x_display
(
SharedXDisplay
:
:
CreateDefault
(
)
)
;
#
endif
#
if
defined
(
WEBRTC_USE_PIPEWIRE
)
&
&
!
defined
(
WEBRTC_MOZILLA_BUILD
)
result
.
set_screencast_stream
(
SharedScreenCastStream
:
:
CreateDefault
(
)
)
;
#
endif
#
if
defined
(
WEBRTC_MAC
)
&
&
!
defined
(
WEBRTC_IOS
)
result
.
set_configuration_monitor
(
rtc
:
:
make_ref_counted
<
DesktopConfigurationMonitor
>
(
)
)
;
result
.
set_full_screen_window_detector
(
rtc
:
:
make_ref_counted
<
FullScreenWindowDetector
>
(
CreateFullScreenMacApplicationHandler
)
)
;
#
elif
defined
(
WEBRTC_WIN
)
result
.
set_full_screen_window_detector
(
rtc
:
:
make_ref_counted
<
FullScreenWindowDetector
>
(
CreateFullScreenWinApplicationHandler
)
)
;
#
endif
return
result
;
}
}

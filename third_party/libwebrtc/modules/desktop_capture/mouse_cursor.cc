#
include
"
modules
/
desktop_capture
/
mouse_cursor
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
MouseCursor
:
:
MouseCursor
(
)
=
default
;
MouseCursor
:
:
MouseCursor
(
std
:
:
unique_ptr
<
DesktopFrame
>
image
const
DesktopVector
&
hotspot
)
:
image_
(
std
:
:
move
(
image
)
)
hotspot_
(
hotspot
)
{
RTC_DCHECK
(
0
<
=
hotspot_
.
x
(
)
&
&
hotspot_
.
x
(
)
<
=
image_
-
>
size
(
)
.
width
(
)
)
;
RTC_DCHECK
(
0
<
=
hotspot_
.
y
(
)
&
&
hotspot_
.
y
(
)
<
=
image_
-
>
size
(
)
.
height
(
)
)
;
}
MouseCursor
:
:
MouseCursor
(
DesktopFrame
*
image
const
DesktopVector
&
hotspot
)
:
MouseCursor
(
std
:
:
unique_ptr
<
DesktopFrame
>
(
image
)
hotspot
)
{
}
MouseCursor
:
:
~
MouseCursor
(
)
=
default
;
MouseCursor
*
MouseCursor
:
:
CopyOf
(
const
MouseCursor
&
cursor
)
{
return
cursor
.
image
(
)
?
new
MouseCursor
(
BasicDesktopFrame
:
:
CopyOf
(
*
cursor
.
image
(
)
)
cursor
.
hotspot
(
)
)
:
new
MouseCursor
(
)
;
}
std
:
:
unique_ptr
<
DesktopFrame
>
MouseCursor
:
:
TakeImage
(
)
{
return
std
:
:
move
(
image_
)
;
}
}

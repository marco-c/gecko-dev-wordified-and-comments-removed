#
ifndef
MODULES_DESKTOP_CAPTURE_MAC_DESKTOP_FRAME_CGIMAGE_H_
#
define
MODULES_DESKTOP_CAPTURE_MAC_DESKTOP_FRAME_CGIMAGE_H_
#
include
<
CoreGraphics
/
CoreGraphics
.
h
>
#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
sdk
/
objc
/
helpers
/
scoped_cftyperef
.
h
"
namespace
webrtc
{
class
DesktopFrameCGImage
final
:
public
DesktopFrame
{
public
:
static
std
:
:
unique_ptr
<
DesktopFrameCGImage
>
CreateForDisplay
(
CGDirectDisplayID
display_id
)
;
static
std
:
:
unique_ptr
<
DesktopFrameCGImage
>
CreateForWindow
(
CGWindowID
window_id
)
;
~
DesktopFrameCGImage
(
)
override
;
DesktopFrameCGImage
(
const
DesktopFrameCGImage
&
)
=
delete
;
DesktopFrameCGImage
&
operator
=
(
const
DesktopFrameCGImage
&
)
=
delete
;
private
:
static
std
:
:
unique_ptr
<
DesktopFrameCGImage
>
CreateFromCGImage
(
rtc
:
:
ScopedCFTypeRef
<
CGImageRef
>
cg_image
)
;
DesktopFrameCGImage
(
DesktopSize
size
int
stride
uint8_t
*
data
rtc
:
:
ScopedCFTypeRef
<
CGImageRef
>
cg_image
rtc
:
:
ScopedCFTypeRef
<
CFDataRef
>
cg_data
)
;
const
rtc
:
:
ScopedCFTypeRef
<
CGImageRef
>
cg_image_
;
const
rtc
:
:
ScopedCFTypeRef
<
CFDataRef
>
cg_data_
;
}
;
}
#
endif

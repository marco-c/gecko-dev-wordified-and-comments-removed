#
ifndef
MODULES_CONGESTION_CONTROLLER_GOOG_CC_ROBUST_THROUGHPUT_ESTIMATOR_H_
#
define
MODULES_CONGESTION_CONTROLLER_GOOG_CC_ROBUST_THROUGHPUT_ESTIMATOR_H_
#
include
<
deque
>
#
include
<
vector
>
#
include
"
absl
/
types
/
optional
.
h
"
#
include
"
api
/
transport
/
network_types
.
h
"
#
include
"
api
/
units
/
data_rate
.
h
"
#
include
"
api
/
units
/
timestamp
.
h
"
#
include
"
modules
/
congestion_controller
/
goog_cc
/
acknowledged_bitrate_estimator_interface
.
h
"
namespace
webrtc
{
class
RobustThroughputEstimator
:
public
AcknowledgedBitrateEstimatorInterface
{
public
:
explicit
RobustThroughputEstimator
(
const
RobustThroughputEstimatorSettings
&
settings
)
;
~
RobustThroughputEstimator
(
)
override
;
void
IncomingPacketFeedbackVector
(
const
std
:
:
vector
<
PacketResult
>
&
packet_feedback_vector
)
override
;
absl
:
:
optional
<
DataRate
>
bitrate
(
)
const
override
;
absl
:
:
optional
<
DataRate
>
PeekRate
(
)
const
override
{
return
bitrate
(
)
;
}
void
SetAlr
(
bool
)
override
{
}
void
SetAlrEndedTime
(
Timestamp
)
override
{
}
private
:
bool
FirstPacketOutsideWindow
(
)
;
const
RobustThroughputEstimatorSettings
settings_
;
std
:
:
deque
<
PacketResult
>
window_
;
Timestamp
latest_discarded_send_time_
=
Timestamp
:
:
MinusInfinity
(
)
;
}
;
}
#
endif

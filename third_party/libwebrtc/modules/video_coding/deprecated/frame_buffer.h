#
ifndef
MODULES_VIDEO_CODING_DEPRECATED_FRAME_BUFFER_H_
#
define
MODULES_VIDEO_CODING_DEPRECATED_FRAME_BUFFER_H_
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
<
vector
>
#
include
"
api
/
scoped_refptr
.
h
"
#
include
"
api
/
video
/
encoded_image
.
h
"
#
include
"
api
/
video
/
video_frame_type
.
h
"
#
include
"
modules
/
video_coding
/
codecs
/
h264
/
include
/
h264_globals
.
h
"
#
include
"
modules
/
video_coding
/
codecs
/
vp9
/
include
/
vp9_globals
.
h
"
#
include
"
modules
/
video_coding
/
deprecated
/
jitter_buffer_common
.
h
"
#
include
"
modules
/
video_coding
/
deprecated
/
packet
.
h
"
#
include
"
modules
/
video_coding
/
deprecated
/
session_info
.
h
"
#
include
"
modules
/
video_coding
/
encoded_frame
.
h
"
namespace
webrtc
{
class
VCMFrameBuffer
:
public
VCMEncodedFrame
{
public
:
VCMFrameBuffer
(
)
;
virtual
~
VCMFrameBuffer
(
)
;
virtual
void
Reset
(
)
;
VCMFrameBufferEnum
InsertPacket
(
const
VCMPacket
&
packet
int64_t
timeInMs
const
FrameData
&
frame_data
)
;
VCMFrameBufferStateEnum
GetState
(
)
const
;
void
PrepareForDecode
(
bool
continuous
)
;
bool
IsSessionComplete
(
)
const
;
bool
HaveFirstPacket
(
)
const
;
int
NumPackets
(
)
const
;
int32_t
GetLowSeqNum
(
)
const
;
int32_t
GetHighSeqNum
(
)
const
;
int
PictureId
(
)
const
;
int
TemporalId
(
)
const
;
bool
LayerSync
(
)
const
;
int
Tl0PicId
(
)
const
;
std
:
:
vector
<
NaluInfo
>
GetNaluInfos
(
)
const
;
void
SetGofInfo
(
const
GofInfoVP9
&
gof_info
size_t
idx
)
;
void
IncrementNackCount
(
)
;
int16_t
GetNackCount
(
)
const
;
int64_t
LatestPacketTimeMs
(
)
const
;
webrtc
:
:
VideoFrameType
FrameType
(
)
const
;
private
:
void
SetState
(
VCMFrameBufferStateEnum
state
)
;
VCMFrameBufferStateEnum
_state
;
scoped_refptr
<
EncodedImageBuffer
>
encoded_image_buffer_
;
VCMSessionInfo
_sessionInfo
;
uint16_t
_nackCount
;
int64_t
_latestPacketTimeMs
;
}
;
}
#
endif

#
ifndef
MODULES_VIDEO_CODING_CODECS_TEST_VIDEO_CODEC_TESTER_IMPL_H_
#
define
MODULES_VIDEO_CODING_CODECS_TEST_VIDEO_CODEC_TESTER_IMPL_H_
#
include
<
memory
>
#
include
"
api
/
task_queue
/
task_queue_factory
.
h
"
#
include
"
api
/
test
/
video_codec_tester
.
h
"
namespace
webrtc
{
namespace
test
{
class
VideoCodecTesterImpl
:
public
VideoCodecTester
{
public
:
VideoCodecTesterImpl
(
)
;
explicit
VideoCodecTesterImpl
(
TaskQueueFactory
*
task_queue_factory
)
;
std
:
:
unique_ptr
<
VideoCodecStats
>
RunDecodeTest
(
std
:
:
unique_ptr
<
CodedVideoSource
>
video_source
std
:
:
unique_ptr
<
Decoder
>
decoder
const
DecoderSettings
&
decoder_settings
)
override
;
std
:
:
unique_ptr
<
VideoCodecStats
>
RunEncodeTest
(
std
:
:
unique_ptr
<
RawVideoSource
>
video_source
std
:
:
unique_ptr
<
Encoder
>
encoder
const
EncoderSettings
&
encoder_settings
)
override
;
std
:
:
unique_ptr
<
VideoCodecStats
>
RunEncodeDecodeTest
(
std
:
:
unique_ptr
<
RawVideoSource
>
video_source
std
:
:
unique_ptr
<
Encoder
>
encoder
std
:
:
unique_ptr
<
Decoder
>
decoder
const
EncoderSettings
&
encoder_settings
const
DecoderSettings
&
decoder_settings
)
override
;
protected
:
std
:
:
unique_ptr
<
TaskQueueFactory
>
owned_task_queue_factory_
;
TaskQueueFactory
*
task_queue_factory_
;
}
;
}
}
#
endif

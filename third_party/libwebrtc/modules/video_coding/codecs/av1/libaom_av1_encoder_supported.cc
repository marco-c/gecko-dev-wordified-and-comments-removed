#
include
"
modules
/
video_coding
/
codecs
/
av1
/
libaom_av1_encoder_supported
.
h
"
#
include
"
modules
/
video_coding
/
svc
/
create_scalability_structure
.
h
"
#
include
"
modules
/
video_coding
/
svc
/
scalability_mode_util
.
h
"
#
if
defined
(
RTC_USE_LIBAOM_AV1_ENCODER
)
#
include
"
modules
/
video_coding
/
codecs
/
av1
/
libaom_av1_encoder
.
h
"
#
endif
namespace
webrtc
{
#
if
defined
(
RTC_USE_LIBAOM_AV1_ENCODER
)
ABSL_CONST_INIT
const
bool
kIsLibaomAv1EncoderSupported
=
true
;
std
:
:
unique_ptr
<
VideoEncoder
>
CreateLibaomAv1EncoderIfSupported
(
)
{
return
CreateLibaomAv1Encoder
(
)
;
}
bool
LibaomAv1EncoderSupportsScalabilityMode
(
absl
:
:
string_view
mode_string
)
{
absl
:
:
optional
<
ScalabilityMode
>
scalability_mode
=
ScalabilityModeFromString
(
mode_string
)
;
return
scalability_mode
.
has_value
(
)
&
&
ScalabilityStructureConfig
(
*
scalability_mode
)
!
=
absl
:
:
nullopt
;
}
#
else
const
bool
kIsLibaomAv1EncoderSupported
=
false
;
std
:
:
unique_ptr
<
VideoEncoder
>
CreateLibaomAv1EncoderIfSupported
(
)
{
return
nullptr
;
}
bool
LibaomAv1EncoderSupportsScalabilityMode
(
absl
:
:
string_view
scalability_mode
)
{
return
false
;
}
#
endif
}

#
ifndef
MODULES_VIDEO_CODING_FRAME_DEPENDENCIES_CALCULATOR_H_
#
define
MODULES_VIDEO_CODING_FRAME_DEPENDENCIES_CALCULATOR_H_
#
include
<
stdint
.
h
>
#
include
<
vector
>
#
include
"
absl
/
container
/
inlined_vector
.
h
"
#
include
"
absl
/
types
/
optional
.
h
"
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
video
/
video_frame_type
.
h
"
#
include
"
common_video
/
generic_frame_descriptor
/
generic_frame_info
.
h
"
namespace
webrtc
{
class
FrameDependenciesCalculator
{
public
:
FrameDependenciesCalculator
(
)
=
default
;
FrameDependenciesCalculator
(
const
FrameDependenciesCalculator
&
)
=
default
;
FrameDependenciesCalculator
&
operator
=
(
const
FrameDependenciesCalculator
&
)
=
default
;
absl
:
:
InlinedVector
<
int64_t
5
>
FromBuffersUsage
(
VideoFrameType
frame_type
int64_t
frame_id
rtc
:
:
ArrayView
<
const
CodecBufferUsage
>
buffers_usage
)
;
private
:
struct
BufferUsage
{
absl
:
:
optional
<
int64_t
>
frame_id
;
absl
:
:
InlinedVector
<
int64_t
4
>
dependencies
;
}
;
absl
:
:
InlinedVector
<
BufferUsage
4
>
buffers_
;
}
;
}
#
endif

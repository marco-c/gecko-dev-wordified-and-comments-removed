#
ifndef
MODULES_VIDEO_CODING_INCLUDE_VIDEO_CODING_H_
#
define
MODULES_VIDEO_CODING_INCLUDE_VIDEO_CODING_H_
#
include
<
cstddef
>
#
include
<
cstdint
>
#
include
<
memory
>
#
include
"
api
/
environment
/
environment
.
h
"
#
include
"
api
/
rtp_headers
.
h
"
#
include
"
api
/
video_codecs
/
video_decoder
.
h
"
#
include
"
modules
/
rtp_rtcp
/
source
/
rtp_video_header
.
h
"
#
include
"
modules
/
video_coding
/
include
/
video_coding_defines
.
h
"
namespace
webrtc
{
class
VideoCodingModule
{
public
:
[
[
deprecated
]
]
static
std
:
:
unique_ptr
<
VideoCodingModule
>
CreateDeprecated
(
const
Environment
&
env
)
;
virtual
~
VideoCodingModule
(
)
=
default
;
virtual
void
RegisterReceiveCodec
(
uint8_t
payload_type
const
VideoDecoder
:
:
Settings
&
settings
)
=
0
;
virtual
void
RegisterExternalDecoder
(
VideoDecoder
*
externalDecoder
uint8_t
payloadType
)
=
0
;
virtual
int32_t
RegisterReceiveCallback
(
VCMReceiveCallback
*
receiveCallback
)
=
0
;
virtual
int32_t
RegisterFrameTypeCallback
(
VCMFrameTypeCallback
*
frameTypeCallback
)
=
0
;
virtual
int32_t
RegisterPacketRequestCallback
(
VCMPacketRequestCallback
*
callback
)
=
0
;
virtual
int32_t
Decode
(
uint16_t
maxWaitTimeMs
=
200
)
=
0
;
virtual
int32_t
IncomingPacket
(
const
uint8_t
*
incomingPayload
size_t
payloadLength
const
RTPHeader
&
rtp_header
const
RTPVideoHeader
&
video_header
)
=
0
;
virtual
void
SetNackSettings
(
size_t
max_nack_list_size
int
max_packet_age_to_nack
int
max_incomplete_time_ms
)
=
0
;
virtual
void
Process
(
)
=
0
;
}
;
}
#
endif

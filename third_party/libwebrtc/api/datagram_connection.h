#
ifndef
API_DATAGRAM_CONNECTION_H_
#
define
API_DATAGRAM_CONNECTION_H_
#
include
<
memory
>
#
include
"
absl
/
functional
/
any_invocable
.
h
"
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
candidate
.
h
"
#
include
"
api
/
ref_count
.
h
"
#
include
"
p2p
/
base
/
transport_description
.
h
"
#
include
"
rtc_base
/
system
/
rtc_export
.
h
"
namespace
webrtc
{
class
RTC_EXPORT
DatagramConnection
:
public
RefCountInterface
{
public
:
class
Observer
{
public
:
virtual
~
Observer
(
)
=
default
;
virtual
void
OnCandidateGathered
(
const
Candidate
&
candidate
)
=
0
;
virtual
void
OnPacketReceived
(
ArrayView
<
const
uint8_t
>
data
)
=
0
;
virtual
void
OnSendError
(
)
=
0
;
virtual
void
OnConnectionError
(
)
=
0
;
virtual
void
OnWritableChange
(
)
=
0
;
}
;
virtual
~
DatagramConnection
(
)
=
default
;
virtual
void
SetRemoteIceParameters
(
const
IceParameters
&
ice_parameters
)
=
0
;
virtual
void
AddRemoteCandidate
(
const
Candidate
&
candidate
)
=
0
;
virtual
bool
Writable
(
)
=
0
;
enum
class
SSLRole
{
kClient
kServer
}
;
virtual
void
SetRemoteDtlsParameters
(
absl
:
:
string_view
digestAlgorithm
const
uint8_t
*
digest
size_t
digest_len
SSLRole
ssl_role
)
=
0
;
virtual
bool
SendPacket
(
ArrayView
<
const
uint8_t
>
data
)
=
0
;
virtual
void
Terminate
(
absl
:
:
AnyInvocable
<
void
(
)
>
terminate_complete_callback
)
=
0
;
}
;
}
#
endif

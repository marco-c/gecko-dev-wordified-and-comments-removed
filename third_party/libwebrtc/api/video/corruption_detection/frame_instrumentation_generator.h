#
ifndef
API_VIDEO_CORRUPTION_DETECTION_FRAME_INSTRUMENTATION_GENERATOR_H_
#
define
API_VIDEO_CORRUPTION_DETECTION_FRAME_INSTRUMENTATION_GENERATOR_H_
#
include
<
memory
>
#
include
<
optional
>
#
include
"
api
/
video
/
corruption_detection
/
frame_instrumentation_data
.
h
"
#
include
"
api
/
video
/
encoded_image
.
h
"
#
include
"
api
/
video
/
video_codec_type
.
h
"
#
include
"
api
/
video
/
video_frame
.
h
"
namespace
webrtc
{
class
FrameInstrumentationGenerator
{
public
:
static
std
:
:
unique_ptr
<
FrameInstrumentationGenerator
>
Create
(
VideoCodecType
video_codec_type
)
;
virtual
~
FrameInstrumentationGenerator
(
)
=
default
;
virtual
void
OnCapturedFrame
(
VideoFrame
frame
)
=
0
;
virtual
std
:
:
optional
<
FrameInstrumentationData
>
OnEncodedImage
(
const
EncodedImage
&
encoded_image
)
=
0
;
virtual
std
:
:
optional
<
int
>
GetHaltonSequenceIndex
(
int
layer_id
)
const
=
0
;
virtual
void
SetHaltonSequenceIndex
(
int
index
int
layer_id
)
=
0
;
protected
:
FrameInstrumentationGenerator
(
)
=
default
;
}
;
}
#
endif

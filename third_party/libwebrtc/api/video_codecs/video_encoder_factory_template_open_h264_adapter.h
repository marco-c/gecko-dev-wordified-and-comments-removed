#
ifndef
API_VIDEO_CODECS_VIDEO_ENCODER_FACTORY_TEMPLATE_OPEN_H264_ADAPTER_H_
#
define
API_VIDEO_CODECS_VIDEO_ENCODER_FACTORY_TEMPLATE_OPEN_H264_ADAPTER_H_
#
include
<
memory
>
#
include
<
vector
>
#
include
"
api
/
environment
/
environment
.
h
"
#
include
"
api
/
video_codecs
/
scalability_mode
.
h
"
#
include
"
api
/
video_codecs
/
sdp_video_format
.
h
"
#
include
"
api
/
video_codecs
/
video_encoder
.
h
"
#
include
"
modules
/
video_coding
/
codecs
/
h264
/
include
/
h264
.
h
"
namespace
webrtc
{
struct
OpenH264EncoderTemplateAdapter
{
static
std
:
:
vector
<
SdpVideoFormat
>
SupportedFormats
(
)
{
#
if
defined
(
WEBRTC_USE_H264
)
return
SupportedH264Codecs
(
true
)
;
#
else
return
{
}
;
#
endif
}
static
std
:
:
unique_ptr
<
VideoEncoder
>
CreateEncoder
(
const
Environment
&
env
const
SdpVideoFormat
&
format
)
{
#
if
defined
(
WEBRTC_USE_H264
)
return
CreateH264Encoder
(
env
H264EncoderSettings
:
:
Parse
(
format
)
)
;
#
else
return
nullptr
;
#
endif
}
static
bool
IsScalabilityModeSupported
(
ScalabilityMode
scalability_mode
)
{
#
if
defined
(
WEBRTC_USE_H264
)
return
H264Encoder
:
:
SupportsScalabilityMode
(
scalability_mode
)
;
#
else
return
false
;
#
endif
}
}
;
}
#
endif

#
ifndef
API_VIDEO_CODECS_VIDEO_ENCODER_FACTORY_TEMPLATE_LIBVPX_VP8_ADAPTER_H_
#
define
API_VIDEO_CODECS_VIDEO_ENCODER_FACTORY_TEMPLATE_LIBVPX_VP8_ADAPTER_H_
#
include
<
memory
>
#
include
<
vector
>
#
include
"
absl
/
container
/
inlined_vector
.
h
"
#
include
"
modules
/
video_coding
/
codecs
/
vp8
/
include
/
vp8
.
h
"
#
include
"
modules
/
video_coding
/
codecs
/
vp8
/
vp8_scalability
.
h
"
namespace
webrtc
{
struct
LibvpxVp8EncoderTemplateAdapter
{
static
std
:
:
vector
<
SdpVideoFormat
>
SupportedFormats
(
)
{
absl
:
:
InlinedVector
<
ScalabilityMode
kScalabilityModeCount
>
scalability_modes
;
for
(
const
auto
scalability_mode
:
kVP8SupportedScalabilityModes
)
{
scalability_modes
.
push_back
(
scalability_mode
)
;
}
return
{
SdpVideoFormat
(
"
VP8
"
SdpVideoFormat
:
:
Parameters
(
)
scalability_modes
)
}
;
}
static
std
:
:
unique_ptr
<
VideoEncoder
>
CreateEncoder
(
const
SdpVideoFormat
&
format
)
{
return
VP8Encoder
:
:
Create
(
)
;
}
static
bool
IsScalabilityModeSupported
(
ScalabilityMode
scalability_mode
)
{
return
VP8SupportsScalabilityMode
(
scalability_mode
)
;
}
}
;
}
#
endif

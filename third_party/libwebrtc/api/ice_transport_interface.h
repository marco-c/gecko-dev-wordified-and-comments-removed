#
ifndef
API_ICE_TRANSPORT_INTERFACE_H_
#
define
API_ICE_TRANSPORT_INTERFACE_H_
#
include
<
string
>
#
include
"
api
/
async_dns_resolver
.
h
"
#
include
"
api
/
ref_count
.
h
"
#
include
"
api
/
rtc_event_log
/
rtc_event_log
.
h
"
#
include
"
api
/
scoped_refptr
.
h
"
namespace
webrtc
{
class
ActiveIceControllerFactoryInterface
;
class
FieldTrialsView
;
class
IceControllerFactoryInterface
;
class
IceTransportInternal
;
class
PortAllocator
;
class
IceTransportInterface
:
public
RefCountInterface
{
public
:
virtual
IceTransportInternal
*
internal
(
)
=
0
;
}
;
struct
IceTransportInit
final
{
public
:
IceTransportInit
(
)
=
default
;
IceTransportInit
(
const
IceTransportInit
&
)
=
delete
;
IceTransportInit
(
IceTransportInit
&
&
)
=
default
;
IceTransportInit
&
operator
=
(
const
IceTransportInit
&
)
=
delete
;
IceTransportInit
&
operator
=
(
IceTransportInit
&
&
)
=
default
;
PortAllocator
*
port_allocator
(
)
{
return
port_allocator_
;
}
void
set_port_allocator
(
PortAllocator
*
port_allocator
)
{
port_allocator_
=
port_allocator
;
}
AsyncDnsResolverFactoryInterface
*
async_dns_resolver_factory
(
)
{
return
async_dns_resolver_factory_
;
}
void
set_async_dns_resolver_factory
(
AsyncDnsResolverFactoryInterface
*
async_dns_resolver_factory
)
{
async_dns_resolver_factory_
=
async_dns_resolver_factory
;
}
RtcEventLog
*
event_log
(
)
{
return
event_log_
;
}
void
set_event_log
(
RtcEventLog
*
event_log
)
{
event_log_
=
event_log
;
}
void
set_ice_controller_factory
(
IceControllerFactoryInterface
*
ice_controller_factory
)
{
ice_controller_factory_
=
ice_controller_factory
;
}
IceControllerFactoryInterface
*
ice_controller_factory
(
)
{
return
ice_controller_factory_
;
}
void
set_active_ice_controller_factory
(
ActiveIceControllerFactoryInterface
*
active_ice_controller_factory
)
{
active_ice_controller_factory_
=
active_ice_controller_factory
;
}
ActiveIceControllerFactoryInterface
*
active_ice_controller_factory
(
)
{
return
active_ice_controller_factory_
;
}
const
FieldTrialsView
*
field_trials
(
)
{
return
field_trials_
;
}
void
set_field_trials
(
const
FieldTrialsView
*
field_trials
)
{
field_trials_
=
field_trials
;
}
private
:
PortAllocator
*
port_allocator_
=
nullptr
;
AsyncDnsResolverFactoryInterface
*
async_dns_resolver_factory_
=
nullptr
;
RtcEventLog
*
event_log_
=
nullptr
;
IceControllerFactoryInterface
*
ice_controller_factory_
=
nullptr
;
ActiveIceControllerFactoryInterface
*
active_ice_controller_factory_
=
nullptr
;
const
FieldTrialsView
*
field_trials_
=
nullptr
;
}
;
class
IceTransportFactory
{
public
:
virtual
~
IceTransportFactory
(
)
=
default
;
virtual
scoped_refptr
<
IceTransportInterface
>
CreateIceTransport
(
const
std
:
:
string
&
transport_name
int
component
IceTransportInit
init
)
=
0
;
}
;
}
#
endif

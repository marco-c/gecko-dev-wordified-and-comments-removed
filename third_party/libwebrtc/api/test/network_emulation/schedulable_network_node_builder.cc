#
include
"
api
/
test
/
network_emulation
/
schedulable_network_node_builder
.
h
"
#
include
<
memory
>
#
include
<
utility
>
#
include
"
api
/
test
/
network_emulation
/
network_config_schedule
.
pb
.
h
"
#
include
"
api
/
test
/
network_emulation_manager
.
h
"
#
include
"
test
/
network
/
schedulable_network_behavior
.
h
"
namespace
webrtc
{
SchedulableNetworkNodeBuilder
:
:
SchedulableNetworkNodeBuilder
(
webrtc
:
:
NetworkEmulationManager
&
net
network_behaviour
:
:
NetworkConfigSchedule
schedule
)
:
net_
(
net
)
schedule_
(
std
:
:
move
(
schedule
)
)
{
}
webrtc
:
:
EmulatedNetworkNode
*
SchedulableNetworkNodeBuilder
:
:
Build
(
)
{
return
net_
.
CreateEmulatedNode
(
std
:
:
make_unique
<
SchedulableNetworkBehavior
>
(
std
:
:
move
(
schedule_
)
*
net_
.
time_controller
(
)
-
>
GetClock
(
)
)
)
;
}
}

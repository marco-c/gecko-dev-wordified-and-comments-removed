#
ifndef
API_TEST_METRICS_METRIC_H_
#
define
API_TEST_METRICS_METRIC_H_
#
include
<
map
>
#
include
<
optional
>
#
include
<
string
>
#
include
<
vector
>
#
include
"
absl
/
strings
/
string_view
.
h
"
#
include
"
api
/
units
/
timestamp
.
h
"
namespace
webrtc
{
namespace
test
{
enum
class
Unit
{
kMilliseconds
kPercent
kBytes
kKilobitsPerSecond
kHertz
kUnitless
kCount
}
;
absl
:
:
string_view
ToString
(
Unit
unit
)
;
enum
class
ImprovementDirection
{
kBiggerIsBetter
kNeitherIsBetter
kSmallerIsBetter
}
;
absl
:
:
string_view
ToString
(
ImprovementDirection
direction
)
;
struct
Metric
{
struct
TimeSeries
{
struct
Sample
{
webrtc
:
:
Timestamp
timestamp
;
double
value
;
std
:
:
map
<
std
:
:
string
std
:
:
string
>
sample_metadata
;
}
;
std
:
:
vector
<
Sample
>
samples
;
}
;
struct
Stats
{
std
:
:
optional
<
double
>
mean
;
std
:
:
optional
<
double
>
stddev
;
std
:
:
optional
<
double
>
min
;
std
:
:
optional
<
double
>
max
;
}
;
std
:
:
string
name
;
Unit
unit
;
ImprovementDirection
improvement_direction
;
std
:
:
string
test_case
;
std
:
:
map
<
std
:
:
string
std
:
:
string
>
metric_metadata
;
TimeSeries
time_series
;
Stats
stats
;
}
;
}
}
#
endif

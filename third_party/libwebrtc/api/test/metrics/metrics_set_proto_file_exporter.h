#
ifndef
API_TEST_METRICS_METRICS_SET_PROTO_FILE_EXPORTER_H_
#
define
API_TEST_METRICS_METRICS_SET_PROTO_FILE_EXPORTER_H_
#
include
<
map
>
#
include
<
string
>
#
include
"
absl
/
strings
/
string_view
.
h
"
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
test
/
metrics
/
metric
.
h
"
#
include
"
api
/
test
/
metrics
/
metrics_exporter
.
h
"
namespace
webrtc
{
namespace
test
{
class
MetricsSetProtoFileExporter
:
public
MetricsExporter
{
public
:
struct
Options
{
explicit
Options
(
absl
:
:
string_view
export_file_path
)
;
Options
(
absl
:
:
string_view
export_file_path
bool
export_whole_time_series
)
;
Options
(
absl
:
:
string_view
export_file_path
std
:
:
map
<
std
:
:
string
std
:
:
string
>
metadata
)
;
std
:
:
string
export_file_path
;
bool
export_whole_time_series
=
true
;
std
:
:
map
<
std
:
:
string
std
:
:
string
>
metadata
;
}
;
explicit
MetricsSetProtoFileExporter
(
const
Options
&
options
)
:
options_
(
options
)
{
}
MetricsSetProtoFileExporter
(
const
MetricsSetProtoFileExporter
&
)
=
delete
;
MetricsSetProtoFileExporter
&
operator
=
(
const
MetricsSetProtoFileExporter
&
)
=
delete
;
bool
Export
(
ArrayView
<
const
Metric
>
metrics
)
override
;
private
:
const
Options
options_
;
}
;
}
}
#
endif

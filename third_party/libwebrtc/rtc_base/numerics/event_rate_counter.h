#
ifndef
RTC_BASE_NUMERICS_EVENT_RATE_COUNTER_H_
#
define
RTC_BASE_NUMERICS_EVENT_RATE_COUNTER_H_
#
include
<
cstdint
>
#
include
"
api
/
units
/
time_delta
.
h
"
#
include
"
api
/
units
/
timestamp
.
h
"
#
include
"
rtc_base
/
numerics
/
sample_stats
.
h
"
namespace
webrtc
{
class
EventRateCounter
{
public
:
void
AddEvent
(
Timestamp
event_time
)
;
void
AddEvents
(
EventRateCounter
other
)
;
bool
IsEmpty
(
)
const
;
double
Rate
(
)
const
;
SampleStats
<
TimeDelta
>
&
interval
(
)
{
return
interval_
;
}
TimeDelta
TotalDuration
(
)
const
;
int
Count
(
)
const
{
return
event_count_
;
}
private
:
Timestamp
first_time_
=
Timestamp
:
:
PlusInfinity
(
)
;
Timestamp
last_time_
=
Timestamp
:
:
MinusInfinity
(
)
;
int64_t
event_count_
=
0
;
SampleStats
<
TimeDelta
>
interval_
;
}
;
}
#
endif

#
ifndef
RTC_BASE_NUMERICS_MOVING_AVERAGE_H_
#
define
RTC_BASE_NUMERICS_MOVING_AVERAGE_H_
#
include
<
stddef
.
h
>
#
include
<
stdint
.
h
>
#
include
<
optional
>
#
include
<
vector
>
namespace
webrtc
{
class
MovingAverage
{
public
:
explicit
MovingAverage
(
size_t
window_size
)
;
~
MovingAverage
(
)
;
MovingAverage
(
const
MovingAverage
&
)
=
delete
;
MovingAverage
&
operator
=
(
const
MovingAverage
&
)
=
delete
;
void
AddSample
(
int
sample
)
;
std
:
:
optional
<
int
>
GetAverageRoundedDown
(
)
const
;
std
:
:
optional
<
int
>
GetAverageRoundedToClosest
(
)
const
;
std
:
:
optional
<
double
>
GetUnroundedAverage
(
)
const
;
void
Reset
(
)
;
size_t
Size
(
)
const
;
private
:
size_t
count_
=
0
;
int64_t
sum_
=
0
;
std
:
:
vector
<
int
>
history_
;
}
;
}
#
ifdef
WEBRTC_ALLOW_DEPRECATED_NAMESPACES
namespace
rtc
{
using
:
:
webrtc
:
:
MovingAverage
;
}
#
endif
#
endif

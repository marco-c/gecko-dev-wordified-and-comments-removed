#
include
"
rtc_base
/
gunit
.
h
"
#
include
<
string
>
#
include
"
absl
/
strings
/
match
.
h
"
#
include
"
absl
/
strings
/
string_view
.
h
"
:
:
testing
:
:
AssertionResult
AssertStartsWith
(
const
char
*
text_expr
const
char
*
prefix_expr
absl
:
:
string_view
text
absl
:
:
string_view
prefix
)
{
if
(
absl
:
:
StartsWith
(
text
prefix
)
)
{
return
:
:
testing
:
:
AssertionSuccess
(
)
;
}
else
{
return
:
:
testing
:
:
AssertionFailure
(
)
<
<
text_expr
<
<
"
\
nwhich
is
\
n
\
"
"
<
<
text
<
<
"
\
"
\
ndoes
not
start
with
\
n
"
<
<
prefix_expr
<
<
"
\
nwhich
is
\
n
\
"
"
<
<
prefix
<
<
"
\
"
"
;
}
}
:
:
testing
:
:
AssertionResult
AssertStringContains
(
const
char
*
str_expr
const
char
*
substr_expr
absl
:
:
string_view
str
absl
:
:
string_view
substr
)
{
if
(
str
.
find
(
substr
)
!
=
absl
:
:
string_view
:
:
npos
)
{
return
:
:
testing
:
:
AssertionSuccess
(
)
;
}
else
{
return
:
:
testing
:
:
AssertionFailure
(
)
<
<
str_expr
<
<
"
\
nwhich
is
\
n
\
"
"
<
<
str
<
<
"
\
"
\
ndoes
not
contain
\
n
"
<
<
substr_expr
<
<
"
\
nwhich
is
\
n
\
"
"
<
<
substr
<
<
"
\
"
"
;
}
}

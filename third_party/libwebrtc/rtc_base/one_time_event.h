#
ifndef
RTC_BASE_ONE_TIME_EVENT_H_
#
define
RTC_BASE_ONE_TIME_EVENT_H_
#
include
"
rtc_base
/
synchronization
/
mutex
.
h
"
namespace
webrtc
{
class
OneTimeEvent
{
public
:
OneTimeEvent
(
)
{
}
bool
operator
(
)
(
)
{
MutexLock
lock
(
&
mutex_
)
;
if
(
happened_
)
{
return
false
;
}
happened_
=
true
;
return
true
;
}
private
:
bool
happened_
=
false
;
Mutex
mutex_
;
}
;
class
ThreadUnsafeOneTimeEvent
{
public
:
ThreadUnsafeOneTimeEvent
(
)
{
}
bool
operator
(
)
(
)
{
if
(
happened_
)
{
return
false
;
}
happened_
=
true
;
return
true
;
}
private
:
bool
happened_
=
false
;
}
;
}
#
endif

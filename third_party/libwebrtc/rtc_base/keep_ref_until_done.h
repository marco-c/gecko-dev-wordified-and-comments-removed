#
ifndef
RTC_BASE_KEEP_REF_UNTIL_DONE_H_
#
define
RTC_BASE_KEEP_REF_UNTIL_DONE_H_
#
include
"
api
/
scoped_refptr
.
h
"
#
include
"
rtc_base
/
callback
.
h
"
namespace
rtc
{
template
<
class
ObjectT
>
static
inline
Callback0
<
void
>
KeepRefUntilDone
(
ObjectT
*
object
)
{
scoped_refptr
<
ObjectT
>
p
(
object
)
;
return
[
p
]
{
}
;
}
template
<
class
ObjectT
>
static
inline
Callback0
<
void
>
KeepRefUntilDone
(
const
scoped_refptr
<
ObjectT
>
&
object
)
{
return
[
object
]
{
}
;
}
}
#
endif

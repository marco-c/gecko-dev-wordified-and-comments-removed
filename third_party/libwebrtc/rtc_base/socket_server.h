#
ifndef
RTC_BASE_SOCKET_SERVER_H_
#
define
RTC_BASE_SOCKET_SERVER_H_
#
include
<
memory
>
#
include
"
api
/
units
/
time_delta
.
h
"
#
include
"
rtc_base
/
event
.
h
"
#
include
"
rtc_base
/
socket_factory
.
h
"
namespace
webrtc
{
class
NetworkBinderInterface
;
class
Thread
;
class
ThreadManager
;
class
SocketServer
:
public
SocketFactory
{
public
:
static
constexpr
TimeDelta
kForever
=
Event
:
:
kForever
;
static
std
:
:
unique_ptr
<
SocketServer
>
CreateDefault
(
)
;
virtual
void
SetMessageQueue
(
Thread
*
)
{
}
virtual
bool
Wait
(
TimeDelta
max_wait_duration
bool
process_io
)
=
0
;
virtual
void
WakeUp
(
)
=
0
;
void
set_network_binder
(
NetworkBinderInterface
*
binder
)
{
network_binder_
=
binder
;
}
NetworkBinderInterface
*
network_binder
(
)
const
{
return
network_binder_
;
}
private
:
NetworkBinderInterface
*
network_binder_
=
nullptr
;
}
;
}
#
ifdef
WEBRTC_ALLOW_DEPRECATED_NAMESPACES
namespace
rtc
{
using
:
:
webrtc
:
:
SocketServer
;
}
#
endif
#
endif

#
include
"
rtc_base
/
experiments
/
rtt_mult_experiment
.
h
"
#
include
"
test
/
field_trial
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
TEST
(
RttMultExperimentTest
RttMultEnabledByDefault
)
{
EXPECT_TRUE
(
RttMultExperiment
:
:
RttMultEnabled
(
)
)
;
ASSERT_TRUE
(
RttMultExperiment
:
:
GetRttMultValue
(
)
)
;
EXPECT_EQ
(
0
.
9f
RttMultExperiment
:
:
GetRttMultValue
(
)
-
>
rtt_mult_setting
)
;
EXPECT_EQ
(
200
.
0f
RttMultExperiment
:
:
GetRttMultValue
(
)
-
>
rtt_mult_add_cap_ms
)
;
}
TEST
(
RttMultExperimentTest
RttMultDisabledByFieldTrial
)
{
webrtc
:
:
test
:
:
ScopedFieldTrials
field_trials
(
"
WebRTC
-
RttMult
/
Disabled
/
"
)
;
EXPECT_FALSE
(
RttMultExperiment
:
:
RttMultEnabled
(
)
)
;
EXPECT_FALSE
(
RttMultExperiment
:
:
GetRttMultValue
(
)
)
;
}
}

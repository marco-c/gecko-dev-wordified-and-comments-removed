#
ifndef
RTC_BASE_EXPERIMENTS_QUALITY_RAMPUP_EXPERIMENT_H_
#
define
RTC_BASE_EXPERIMENTS_QUALITY_RAMPUP_EXPERIMENT_H_
#
include
"
absl
/
types
/
optional
.
h
"
#
include
"
api
/
transport
/
webrtc_key_value_config
.
h
"
#
include
"
rtc_base
/
experiments
/
field_trial_parser
.
h
"
namespace
webrtc
{
class
QualityRampupExperiment
final
{
public
:
static
QualityRampupExperiment
ParseSettings
(
)
;
absl
:
:
optional
<
int
>
MinPixels
(
)
const
;
absl
:
:
optional
<
int
>
MinDurationMs
(
)
const
;
absl
:
:
optional
<
double
>
MaxBitrateFactor
(
)
const
;
void
SetMaxBitrate
(
int
pixels
uint32_t
max_bitrate_kbps
)
;
bool
BwHigh
(
int64_t
now_ms
uint32_t
available_bw_kbps
)
;
void
Reset
(
)
;
bool
Enabled
(
)
const
;
private
:
explicit
QualityRampupExperiment
(
const
WebRtcKeyValueConfig
*
const
key_value_config
)
;
FieldTrialOptional
<
int
>
min_pixels_
;
FieldTrialOptional
<
int
>
min_duration_ms_
;
FieldTrialOptional
<
double
>
max_bitrate_factor_
;
absl
:
:
optional
<
int64_t
>
start_ms_
;
absl
:
:
optional
<
uint32_t
>
max_bitrate_kbps_
;
}
;
}
#
endif

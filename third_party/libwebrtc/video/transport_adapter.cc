#
include
"
video
/
transport_adapter
.
h
"
#
include
<
cstdint
>
#
include
"
api
/
array_view
.
h
"
#
include
"
api
/
call
/
transport
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
namespace
internal
{
TransportAdapter
:
:
TransportAdapter
(
Transport
*
transport
)
:
transport_
(
transport
)
enabled_
(
false
)
{
RTC_DCHECK
(
nullptr
!
=
transport
)
;
}
TransportAdapter
:
:
~
TransportAdapter
(
)
=
default
;
bool
TransportAdapter
:
:
SendRtp
(
ArrayView
<
const
uint8_t
>
packet
const
PacketOptions
&
options
)
{
if
(
!
enabled_
.
load
(
)
)
return
false
;
return
transport_
-
>
SendRtp
(
packet
options
)
;
}
bool
TransportAdapter
:
:
SendRtcp
(
ArrayView
<
const
uint8_t
>
packet
const
PacketOptions
&
options
)
{
if
(
!
enabled_
.
load
(
)
)
return
false
;
return
transport_
-
>
SendRtcp
(
packet
options
)
;
}
void
TransportAdapter
:
:
Enable
(
)
{
enabled_
.
store
(
true
)
;
}
void
TransportAdapter
:
:
Disable
(
)
{
enabled_
.
store
(
false
)
;
}
}
}

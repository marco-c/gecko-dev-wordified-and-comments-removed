#
ifndef
VIDEO_CORRUPTION_DETECTION_EVALUATION_AV1_QP_PARSER_H_
#
define
VIDEO_CORRUPTION_DETECTION_EVALUATION_AV1_QP_PARSER_H_
#
include
<
cstdint
>
#
include
<
optional
>
#
include
"
api
/
array_view
.
h
"
#
include
"
third_party
/
libgav1
/
src
/
src
/
buffer_pool
.
h
"
#
include
"
third_party
/
libgav1
/
src
/
src
/
decoder_state
.
h
"
#
include
"
third_party
/
libgav1
/
src
/
src
/
obu_parser
.
h
"
namespace
webrtc
{
class
Av1QpParser
{
public
:
Av1QpParser
(
)
:
buffer_pool_
(
nullptr
nullptr
nullptr
nullptr
)
{
}
std
:
:
optional
<
uint32_t
>
Parse
(
ArrayView
<
const
uint8_t
>
frame_data
int
operating_point
=
0
)
;
private
:
libgav1
:
:
BufferPool
buffer_pool_
;
libgav1
:
:
DecoderState
decoder_state_
;
std
:
:
optional
<
libgav1
:
:
ObuSequenceHeader
>
sequence_header_
=
std
:
:
nullopt
;
}
;
}
#
endif

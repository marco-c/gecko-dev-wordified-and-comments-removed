#
ifndef
VIDEO_CORRUPTION_DETECTION_FRAME_INSTRUMENTATION_EVALUATION_H_
#
define
VIDEO_CORRUPTION_DETECTION_FRAME_INSTRUMENTATION_EVALUATION_H_
#
include
"
api
/
video
/
video_content_type
.
h
"
#
include
"
api
/
video
/
video_frame
.
h
"
#
include
"
common_video
/
frame_instrumentation_data
.
h
"
#
include
"
video
/
corruption_detection
/
corruption_classifier
.
h
"
#
include
"
video
/
corruption_detection
/
halton_frame_sampler
.
h
"
namespace
webrtc
{
class
CorruptionScoreObserver
{
public
:
CorruptionScoreObserver
(
)
=
default
;
virtual
~
CorruptionScoreObserver
(
)
=
default
;
virtual
void
OnCorruptionScore
(
double
corruption_score
VideoContentType
content_type
)
=
0
;
}
;
class
FrameInstrumentationEvaluation
{
public
:
explicit
FrameInstrumentationEvaluation
(
CorruptionScoreObserver
*
observer
)
;
void
OnInstrumentedFrame
(
const
FrameInstrumentationData
&
data
const
VideoFrame
&
frame
VideoContentType
frame_type
)
;
private
:
CorruptionScoreObserver
*
const
observer_
;
HaltonFrameSampler
frame_sampler_
;
CorruptionClassifier
classifier_
;
}
;
}
#
endif

#
ifndef
VIDEO_QUALITY_CONVERGENCE_CONTROLLER_H_
#
define
VIDEO_QUALITY_CONVERGENCE_CONTROLLER_H_
#
include
<
memory
>
#
include
<
optional
>
#
include
<
vector
>
#
include
"
api
/
field_trials_view
.
h
"
#
include
"
api
/
sequence_checker
.
h
"
#
include
"
api
/
video
/
video_codec_type
.
h
"
#
include
"
video
/
quality_convergence_monitor
.
h
"
namespace
webrtc
{
class
QualityConvergenceController
{
public
:
void
Initialize
(
int
number_of_layers
std
:
:
optional
<
int
>
static_qp_threshold
VideoCodecType
codec
const
FieldTrialsView
&
trials
)
;
bool
AddSampleAndCheckTargetQuality
(
int
layer_index
int
qp
bool
is_refresh_frame
)
;
private
:
bool
initialized_
=
false
;
int
number_of_layers_
=
0
;
std
:
:
vector
<
std
:
:
unique_ptr
<
QualityConvergenceMonitor
>
>
convergence_monitors_
;
SequenceChecker
sequence_checker_
{
SequenceChecker
:
:
kDetached
}
;
}
;
}
#
endif

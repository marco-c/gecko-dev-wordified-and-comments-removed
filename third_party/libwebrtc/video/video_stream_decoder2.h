#
ifndef
VIDEO_VIDEO_STREAM_DECODER2_H_
#
define
VIDEO_VIDEO_STREAM_DECODER2_H_
#
include
<
cstdint
>
#
include
"
api
/
video
/
video_frame
.
h
"
#
include
"
api
/
video
/
video_sink_interface
.
h
"
#
include
"
api
/
video_codecs
/
video_decoder
.
h
"
#
include
"
modules
/
video_coding
/
include
/
video_coding_defines
.
h
"
namespace
webrtc
{
class
VideoReceiver2
;
namespace
internal
{
class
ReceiveStatisticsProxy
;
class
VideoStreamDecoder
:
public
VCMReceiveCallback
{
public
:
VideoStreamDecoder
(
VideoReceiver2
*
video_receiver
ReceiveStatisticsProxy
*
receive_statistics_proxy
VideoSinkInterface
<
VideoFrame
>
*
incoming_video_stream
)
;
~
VideoStreamDecoder
(
)
override
;
int32_t
OnFrameToRender
(
const
FrameToRender
&
arguments
)
override
;
void
OnDroppedFrames
(
uint32_t
frames_dropped
)
override
;
void
OnIncomingPayloadType
(
int
payload_type
)
override
;
void
OnDecoderInfoChanged
(
const
VideoDecoder
:
:
DecoderInfo
&
decoder_info
)
override
;
private
:
VideoReceiver2
*
const
video_receiver_
;
ReceiveStatisticsProxy
*
const
receive_stats_callback_
;
VideoSinkInterface
<
VideoFrame
>
*
const
incoming_video_stream_
;
}
;
}
}
#
endif

#
include
"
modules
/
audio_processing
/
agc
/
utility
.
h
"
#
include
<
math
.
h
>
static
const
double
kLog10
=
2
.
30258509299
;
static
const
double
kLinear2DbScale
=
20
.
0
/
kLog10
;
static
const
double
kLinear2LoudnessScale
=
13
.
4
/
kLog10
;
double
Loudness2Db
(
double
loudness
)
{
return
loudness
*
kLinear2DbScale
/
kLinear2LoudnessScale
;
}
double
Linear2Loudness
(
double
rms
)
{
if
(
rms
=
=
0
)
return
-
15
;
return
kLinear2LoudnessScale
*
log
(
rms
)
;
}
double
Db2Loudness
(
double
db
)
{
return
db
*
kLinear2LoudnessScale
/
kLinear2DbScale
;
}
double
Dbfs2Loudness
(
double
dbfs
)
{
return
Db2Loudness
(
90
+
dbfs
)
;
}

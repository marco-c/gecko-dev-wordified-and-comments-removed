#
ifndef
MODULES_VIDEO_CODING_INCLUDE_VIDEO_CODEC_INITIALIZER_H_
#
define
MODULES_VIDEO_CODING_INCLUDE_VIDEO_CODEC_INITIALIZER_H_
#
include
<
memory
>
#
include
<
string
>
#
include
<
vector
>
#
include
"
call
/
video_send_stream
.
h
"
namespace
webrtc
{
class
TemporalLayersFactory
;
class
VideoBitrateAllocator
;
class
VideoCodec
;
class
VideoEncoderConfig
;
class
VideoCodecInitializer
{
public
:
static
bool
SetupCodec
(
const
VideoEncoderConfig
&
config
const
VideoSendStream
:
:
Config
:
:
EncoderSettings
settings
const
std
:
:
vector
<
VideoStream
>
&
streams
bool
nack_enabled
VideoCodec
*
codec
std
:
:
unique_ptr
<
VideoBitrateAllocator
>
*
bitrate_allocator
)
;
static
std
:
:
unique_ptr
<
VideoBitrateAllocator
>
CreateBitrateAllocator
(
const
VideoCodec
&
codec
std
:
:
unique_ptr
<
TemporalLayersFactory
>
tl_factory
)
;
private
:
static
VideoCodec
VideoEncoderConfigToVideoCodec
(
const
VideoEncoderConfig
&
config
const
std
:
:
vector
<
VideoStream
>
&
streams
const
std
:
:
string
&
payload_name
int
payload_type
bool
nack_enabled
)
;
}
;
}
#
endif

#
ifndef
MODULES_CONGESTION_CONTROLLER_BITRATE_ESTIMATOR_H_
#
define
MODULES_CONGESTION_CONTROLLER_BITRATE_ESTIMATOR_H_
#
include
<
vector
>
#
include
"
api
/
optional
.
h
"
namespace
webrtc
{
class
BitrateEstimator
{
public
:
BitrateEstimator
(
)
;
virtual
~
BitrateEstimator
(
)
;
virtual
void
Update
(
int64_t
now_ms
int
bytes
)
;
virtual
rtc
:
:
Optional
<
uint32_t
>
bitrate_bps
(
)
const
;
virtual
void
ExpectFastRateChange
(
)
;
private
:
float
UpdateWindow
(
int64_t
now_ms
int
bytes
int
rate_window_ms
)
;
int
sum_
;
int64_t
current_win_ms_
;
int64_t
prev_time_ms_
;
float
bitrate_estimate_
;
float
bitrate_estimate_var_
;
}
;
}
#
endif

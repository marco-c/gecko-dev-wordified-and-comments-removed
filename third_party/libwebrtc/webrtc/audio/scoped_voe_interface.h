#
ifndef
AUDIO_SCOPED_VOE_INTERFACE_H_
#
define
AUDIO_SCOPED_VOE_INTERFACE_H_
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
class
VoiceEngine
;
namespace
internal
{
template
<
class
T
>
class
ScopedVoEInterface
{
public
:
explicit
ScopedVoEInterface
(
webrtc
:
:
VoiceEngine
*
e
)
:
ptr_
(
T
:
:
GetInterface
(
e
)
)
{
RTC_DCHECK
(
ptr_
)
;
}
~
ScopedVoEInterface
(
)
{
if
(
ptr_
)
{
ptr_
-
>
Release
(
)
;
}
}
T
*
operator
-
>
(
)
{
RTC_DCHECK
(
ptr_
)
;
return
ptr_
;
}
private
:
T
*
ptr_
;
}
;
}
}
#
endif

#
include
"
audio
/
time_interval
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
timeutils
.
h
"
namespace
webrtc
{
TimeInterval
:
:
TimeInterval
(
)
=
default
;
TimeInterval
:
:
~
TimeInterval
(
)
=
default
;
void
TimeInterval
:
:
Extend
(
)
{
Extend
(
rtc
:
:
TimeMillis
(
)
)
;
}
void
TimeInterval
:
:
Extend
(
int64_t
time
)
{
if
(
!
interval_
)
{
interval_
.
emplace
(
time
time
)
;
}
else
{
if
(
time
<
interval_
-
>
first
)
{
interval_
-
>
first
=
time
;
}
if
(
time
>
interval_
-
>
last
)
{
interval_
-
>
last
=
time
;
}
}
}
void
TimeInterval
:
:
Extend
(
const
TimeInterval
&
other_interval
)
{
if
(
!
other_interval
.
Empty
(
)
)
{
Extend
(
other_interval
.
interval_
-
>
first
)
;
Extend
(
other_interval
.
interval_
-
>
last
)
;
}
}
bool
TimeInterval
:
:
Empty
(
)
const
{
return
!
interval_
;
}
int64_t
TimeInterval
:
:
Length
(
)
const
{
RTC_DCHECK
(
interval_
)
;
return
interval_
-
>
last
-
interval_
-
>
first
;
}
TimeInterval
:
:
Interval
:
:
Interval
(
int64_t
first
int64_t
last
)
:
first
(
first
)
last
(
last
)
{
}
}

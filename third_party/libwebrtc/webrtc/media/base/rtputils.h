#
ifndef
MEDIA_BASE_RTPUTILS_H_
#
define
MEDIA_BASE_RTPUTILS_H_
#
include
"
rtc_base
/
byteorder
.
h
"
namespace
rtc
{
struct
PacketTimeUpdateParams
;
}
namespace
cricket
{
const
size_t
kMinRtpPacketLen
=
12
;
const
size_t
kMaxRtpPacketLen
=
2048
;
const
size_t
kMinRtcpPacketLen
=
4
;
struct
RtpHeader
{
int
payload_type
;
int
seq_num
;
uint32_t
timestamp
;
uint32_t
ssrc
;
}
;
enum
RtcpTypes
{
kRtcpTypeSR
=
200
kRtcpTypeRR
=
201
kRtcpTypeSDES
=
202
kRtcpTypeBye
=
203
kRtcpTypeApp
=
204
kRtcpTypeRTPFB
=
205
kRtcpTypePSFB
=
206
}
;
bool
GetRtpPayloadType
(
const
void
*
data
size_t
len
int
*
value
)
;
bool
GetRtpSeqNum
(
const
void
*
data
size_t
len
int
*
value
)
;
bool
GetRtpTimestamp
(
const
void
*
data
size_t
len
uint32_t
*
value
)
;
bool
GetRtpSsrc
(
const
void
*
data
size_t
len
uint32_t
*
value
)
;
bool
GetRtpHeaderLen
(
const
void
*
data
size_t
len
size_t
*
value
)
;
bool
GetRtcpType
(
const
void
*
data
size_t
len
int
*
value
)
;
bool
GetRtcpSsrc
(
const
void
*
data
size_t
len
uint32_t
*
value
)
;
bool
GetRtpHeader
(
const
void
*
data
size_t
len
RtpHeader
*
header
)
;
bool
SetRtpSsrc
(
void
*
data
size_t
len
uint32_t
value
)
;
bool
SetRtpHeader
(
void
*
data
size_t
len
const
RtpHeader
&
header
)
;
bool
IsRtpPacket
(
const
void
*
data
size_t
len
)
;
bool
IsValidRtpPayloadType
(
int
payload_type
)
;
bool
IsValidRtpRtcpPacketSize
(
bool
rtcp
size_t
size
)
;
const
char
*
RtpRtcpStringLiteral
(
bool
rtcp
)
;
bool
ValidateRtpHeader
(
const
uint8_t
*
rtp
size_t
length
size_t
*
header_length
)
;
bool
UpdateRtpAbsSendTimeExtension
(
uint8_t
*
rtp
size_t
length
int
extension_id
uint64_t
time_us
)
;
bool
ApplyPacketOptions
(
uint8_t
*
data
size_t
length
const
rtc
:
:
PacketTimeUpdateParams
&
packet_time_params
uint64_t
time_us
)
;
}
#
endif

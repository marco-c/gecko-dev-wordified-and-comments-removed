#
ifndef
COMMON_VIDEO_INCLUDE_VIDEO_FRAME_H_
#
define
COMMON_VIDEO_INCLUDE_VIDEO_FRAME_H_
#
include
"
common_types
.
h
"
#
include
"
typedefs
.
h
"
namespace
webrtc
{
class
EncodedImage
{
public
:
static
const
size_t
kBufferPaddingBytesH264
;
static
size_t
GetBufferPaddingBytes
(
VideoCodecType
codec_type
)
;
EncodedImage
(
)
;
EncodedImage
(
uint8_t
*
buffer
size_t
length
size_t
size
)
;
void
SetEncodeTime
(
int64_t
encode_start_ms
int64_t
encode_finish_ms
)
;
struct
AdaptReason
{
AdaptReason
(
)
:
bw_resolutions_disabled
(
-
1
)
{
}
int
bw_resolutions_disabled
;
}
;
uint32_t
_encodedWidth
=
0
;
uint32_t
_encodedHeight
=
0
;
uint32_t
_timeStamp
=
0
;
int64_t
ntp_time_ms_
=
0
;
int64_t
capture_time_ms_
=
0
;
FrameType
_frameType
=
kVideoFrameDelta
;
uint8_t
*
_buffer
;
size_t
_length
;
size_t
_size
;
VideoRotation
rotation_
=
kVideoRotation_0
;
VideoContentType
content_type_
=
VideoContentType
:
:
UNSPECIFIED
;
bool
_completeFrame
=
false
;
AdaptReason
adapt_reason_
;
int
qp_
=
-
1
;
PlayoutDelay
playout_delay_
=
{
-
1
-
1
}
;
struct
Timing
{
uint8_t
flags
=
TimingFrameFlags
:
:
kInvalid
;
int64_t
encode_start_ms
=
0
;
int64_t
encode_finish_ms
=
0
;
int64_t
packetization_finish_ms
=
0
;
int64_t
pacer_exit_ms
=
0
;
int64_t
network_timestamp_ms
=
0
;
int64_t
network2_timestamp_ms
=
0
;
int64_t
receive_start_ms
=
0
;
int64_t
receive_finish_ms
=
0
;
}
timing_
;
}
;
}
#
endif

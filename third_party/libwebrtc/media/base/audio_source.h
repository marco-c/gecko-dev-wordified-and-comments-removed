#
ifndef
MEDIA_BASE_AUDIO_SOURCE_H_
#
define
MEDIA_BASE_AUDIO_SOURCE_H_
#
include
<
cstddef
>
#
include
<
cstdint
>
#
include
<
optional
>
namespace
cricket
{
class
AudioSource
{
public
:
class
Sink
{
public
:
virtual
void
OnData
(
const
void
*
audio_data
int
bits_per_sample
int
sample_rate
size_t
number_of_channels
size_t
number_of_frames
std
:
:
optional
<
int64_t
>
absolute_capture_timestamp_ms
)
=
0
;
virtual
void
OnClose
(
)
=
0
;
virtual
int
NumPreferredChannels
(
)
const
=
0
;
protected
:
virtual
~
Sink
(
)
{
}
}
;
virtual
void
SetSink
(
Sink
*
sink
)
=
0
;
protected
:
virtual
~
AudioSource
(
)
{
}
}
;
}
#
endif

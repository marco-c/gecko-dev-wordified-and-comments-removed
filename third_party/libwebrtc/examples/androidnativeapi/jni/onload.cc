#
include
<
jni
.
h
>
#
include
"
modules
/
utility
/
include
/
jvm_android
.
h
"
#
include
"
rtc_base
/
ssl_adapter
.
h
"
#
include
"
sdk
/
android
/
native_api
/
base
/
init
.
h
"
namespace
webrtc_examples
{
extern
"
C
"
jint
JNIEXPORT
JNICALL
JNI_OnLoad
(
JavaVM
*
jvm
void
*
reserved
)
{
webrtc
:
:
InitAndroid
(
jvm
)
;
webrtc
:
:
JVM
:
:
Initialize
(
jvm
)
;
RTC_CHECK
(
rtc
:
:
InitializeSSL
(
)
)
<
<
"
Failed
to
InitializeSSL
(
)
"
;
return
JNI_VERSION_1_6
;
}
extern
"
C
"
void
JNIEXPORT
JNICALL
JNI_OnUnLoad
(
JavaVM
*
jvm
void
*
reserved
)
{
RTC_CHECK
(
rtc
:
:
CleanupSSL
(
)
)
<
<
"
Failed
to
CleanupSSL
(
)
"
;
}
}

#
import
"
RTCSessionDescription
+
JSON
.
h
"
static
NSString
const
*
kRTCSessionDescriptionTypeKey
=
"
type
"
;
static
NSString
const
*
kRTCSessionDescriptionSdpKey
=
"
sdp
"
;
implementation
RTC_OBJC_TYPE
(
RTCSessionDescription
)
(
JSON
)
+
(
RTC_OBJC_TYPE
(
RTCSessionDescription
)
*
)
descriptionFromJSONDictionary
:
(
NSDictionary
*
)
dictionary
{
NSString
*
typeString
=
dictionary
[
kRTCSessionDescriptionTypeKey
]
;
RTCSdpType
type
=
[
[
self
class
]
typeForString
:
typeString
]
;
NSString
*
sdp
=
dictionary
[
kRTCSessionDescriptionSdpKey
]
;
return
[
[
RTC_OBJC_TYPE
(
RTCSessionDescription
)
alloc
]
initWithType
:
type
sdp
:
sdp
]
;
}
-
(
NSData
*
)
JSONData
{
NSString
*
type
=
[
[
self
class
]
stringForType
:
self
.
type
]
;
NSDictionary
*
json
=
{
kRTCSessionDescriptionTypeKey
:
type
kRTCSessionDescriptionSdpKey
:
self
.
sdp
}
;
return
[
NSJSONSerialization
dataWithJSONObject
:
json
options
:
0
error
:
nil
]
;
}
end

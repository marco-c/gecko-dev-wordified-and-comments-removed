#
ifndef
RTC_TOOLS_NETWORK_TESTER_CONFIG_READER_H_
#
define
RTC_TOOLS_NETWORK_TESTER_CONFIG_READER_H_
#
include
<
fstream
>
#
include
<
string
>
#
include
"
absl
/
types
/
optional
.
h
"
#
ifdef
WEBRTC_NETWORK_TESTER_PROTO
#
include
"
rtc_tools
/
network_tester
/
network_tester_config
.
pb
.
h
"
using
webrtc
:
:
network_tester
:
:
config
:
:
NetworkTesterAllConfigs
;
#
else
class
NetworkTesterConfigs
;
#
endif
namespace
webrtc
{
class
ConfigReader
{
public
:
struct
Config
{
int
packet_send_interval_ms
;
int
packet_size
;
int
execution_time_ms
;
}
;
explicit
ConfigReader
(
const
std
:
:
string
&
config_file_path
)
;
~
ConfigReader
(
)
;
ConfigReader
(
const
ConfigReader
&
)
=
delete
;
ConfigReader
&
operator
=
(
const
ConfigReader
&
)
=
delete
;
absl
:
:
optional
<
Config
>
GetNextConfig
(
)
;
private
:
NetworkTesterAllConfigs
proto_all_configs_
;
int
proto_config_index_
;
}
;
}
#
endif

#
ifndef
ABSL_SYNCHRONIZATION_INTERNAL_CREATE_THREAD_IDENTITY_H_
#
define
ABSL_SYNCHRONIZATION_INTERNAL_CREATE_THREAD_IDENTITY_H_
#
include
"
absl
/
base
/
internal
/
thread_identity
.
h
"
#
include
"
absl
/
base
/
port
.
h
"
namespace
absl
{
ABSL_NAMESPACE_BEGIN
namespace
synchronization_internal
{
base_internal
:
:
ThreadIdentity
*
CreateThreadIdentity
(
)
;
inline
base_internal
:
:
ThreadIdentity
*
GetOrCreateCurrentThreadIdentity
(
)
{
base_internal
:
:
ThreadIdentity
*
identity
=
base_internal
:
:
CurrentThreadIdentityIfPresent
(
)
;
if
(
ABSL_PREDICT_FALSE
(
identity
=
=
nullptr
)
)
{
return
CreateThreadIdentity
(
)
;
}
return
identity
;
}
}
ABSL_NAMESPACE_END
}
#
endif

#
ifndef
ABSL_BASE_INTERNAL_EXCEPTION_TESTING_H_
#
define
ABSL_BASE_INTERNAL_EXCEPTION_TESTING_H_
#
include
"
gtest
/
gtest
.
h
"
#
include
"
absl
/
base
/
config
.
h
"
#
ifdef
ABSL_HAVE_EXCEPTIONS
#
define
ABSL_BASE_INTERNAL_EXPECT_FAIL
(
expr
exception_t
text
)
\
EXPECT_THROW
(
expr
exception_t
)
#
elif
defined
(
__ANDROID__
)
#
define
ABSL_BASE_INTERNAL_EXPECT_FAIL
(
expr
exception_t
text
)
\
EXPECT_DEATH
(
expr
"
.
*
"
)
#
else
#
define
ABSL_BASE_INTERNAL_EXPECT_FAIL
(
expr
exception_t
text
)
\
EXPECT_DEATH_IF_SUPPORTED
(
expr
text
)
#
endif
#
endif

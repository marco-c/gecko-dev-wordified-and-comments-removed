#
include
"
absl
/
base
/
internal
/
atomic_hook_test_helper
.
h
"
#
include
"
absl
/
base
/
attributes
.
h
"
#
include
"
absl
/
base
/
internal
/
atomic_hook
.
h
"
namespace
absl
{
ABSL_NAMESPACE_BEGIN
namespace
atomic_hook_internal
{
ABSL_INTERNAL_ATOMIC_HOOK_ATTRIBUTES
absl
:
:
base_internal
:
:
AtomicHook
<
VoidF
>
func
(
DefaultFunc
)
;
ABSL_CONST_INIT
int
default_func_calls
=
0
;
void
DefaultFunc
(
)
{
default_func_calls
+
+
;
}
void
RegisterFunc
(
VoidF
f
)
{
func
.
Store
(
f
)
;
}
}
ABSL_NAMESPACE_END
}

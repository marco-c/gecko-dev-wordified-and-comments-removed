#
ifndef
COMMON_AUDIO_RESAMPLER_INCLUDE_PUSH_RESAMPLER_H_
#
define
COMMON_AUDIO_RESAMPLER_INCLUDE_PUSH_RESAMPLER_H_
#
include
<
memory
>
#
include
<
vector
>
#
include
"
api
/
array_view
.
h
"
namespace
webrtc
{
class
PushSincResampler
;
template
<
typename
T
>
class
PushResampler
{
public
:
PushResampler
(
)
;
virtual
~
PushResampler
(
)
;
int
InitializeIfNeeded
(
int
src_sample_rate_hz
int
dst_sample_rate_hz
size_t
num_channels
)
;
int
Resample
(
rtc
:
:
ArrayView
<
const
T
>
src
rtc
:
:
ArrayView
<
T
>
dst
)
;
private
:
int
src_sample_rate_hz_
;
int
dst_sample_rate_hz_
;
size_t
num_channels_
;
std
:
:
vector
<
T
*
>
channel_data_array_
;
struct
ChannelResampler
{
std
:
:
unique_ptr
<
PushSincResampler
>
resampler
;
std
:
:
vector
<
T
>
source
;
std
:
:
vector
<
T
>
destination
;
}
;
std
:
:
vector
<
ChannelResampler
>
channel_resamplers_
;
}
;
}
#
endif

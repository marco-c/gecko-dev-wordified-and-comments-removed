#
import
<
Foundation
/
Foundation
.
h
>
#
include
<
vector
>
#
include
"
rtc_base
/
gunit
.
h
"
#
import
"
api
/
peerconnection
/
RTCTracing
.
h
"
#
import
"
helpers
/
NSString
+
StdString
.
h
"
interface
RTCTracingTest
:
NSObject
-
(
void
)
tracingTestNoInitialization
;
end
implementation
RTCTracingTest
-
(
NSString
*
)
documentsFilePathForFileName
:
(
NSString
*
)
fileName
{
NSParameterAssert
(
fileName
.
length
)
;
NSArray
*
paths
=
NSSearchPathForDirectoriesInDomains
(
NSDocumentDirectory
NSUserDomainMask
YES
)
;
NSString
*
documentsDirPath
=
paths
.
firstObject
;
NSString
*
filePath
=
[
documentsDirPath
stringByAppendingPathComponent
:
fileName
]
;
return
filePath
;
}
-
(
void
)
tracingTestNoInitialization
{
NSString
*
filePath
=
[
self
documentsFilePathForFileName
:
"
webrtc
-
trace
.
txt
"
]
;
EXPECT_EQ
(
NO
RTCStartInternalCapture
(
filePath
)
)
;
RTCStopInternalCapture
(
)
;
}
end
TEST
(
RTCTracingTest
TracingTestNoInitialization
)
{
autoreleasepool
{
RTCTracingTest
*
test
=
[
[
RTCTracingTest
alloc
]
init
]
;
[
test
tracingTestNoInitialization
]
;
}
}

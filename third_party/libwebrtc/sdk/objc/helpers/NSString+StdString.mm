#
import
"
NSString
+
StdString
.
h
"
#
include
"
absl
/
strings
/
string_view
.
h
"
implementation
NSString
(
StdString
)
-
(
std
:
:
string
)
stdString
{
return
[
NSString
stdStringForString
:
self
]
;
}
+
(
std
:
:
string
)
stdStringForString
:
(
NSString
*
)
nsString
{
NSData
*
charData
=
[
nsString
dataUsingEncoding
:
NSUTF8StringEncoding
]
;
return
std
:
:
string
(
reinterpret_cast
<
const
char
*
>
(
charData
.
bytes
)
charData
.
length
)
;
}
+
(
NSString
*
)
stringForStdString
:
(
const
std
:
:
string
&
)
stdString
{
return
[
[
NSString
alloc
]
initWithBytes
:
stdString
.
data
(
)
length
:
stdString
.
length
(
)
encoding
:
NSUTF8StringEncoding
]
;
}
end
implementation
NSString
(
AbslStringView
)
+
(
NSString
*
)
stringForAbslStringView
:
(
const
absl
:
:
string_view
)
abslStringView
{
return
[
[
NSString
alloc
]
initWithBytes
:
abslStringView
.
data
(
)
length
:
abslStringView
.
length
(
)
encoding
:
NSUTF8StringEncoding
]
;
}
end

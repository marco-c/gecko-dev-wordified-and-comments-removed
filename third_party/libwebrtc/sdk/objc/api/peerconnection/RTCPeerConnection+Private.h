#
import
"
RTCPeerConnection
.
h
"
#
include
"
api
/
peer_connection_interface
.
h
"
NS_ASSUME_NONNULL_BEGIN
namespace
webrtc
{
class
PeerConnectionDelegateAdapter
:
public
PeerConnectionObserver
{
public
:
PeerConnectionDelegateAdapter
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
peerConnection
)
;
~
PeerConnectionDelegateAdapter
(
)
override
;
void
OnSignalingChange
(
PeerConnectionInterface
:
:
SignalingState
new_state
)
override
;
void
OnAddStream
(
rtc
:
:
scoped_refptr
<
MediaStreamInterface
>
stream
)
override
;
void
OnRemoveStream
(
rtc
:
:
scoped_refptr
<
MediaStreamInterface
>
stream
)
override
;
void
OnTrack
(
rtc
:
:
scoped_refptr
<
RtpTransceiverInterface
>
transceiver
)
override
;
void
OnDataChannel
(
rtc
:
:
scoped_refptr
<
DataChannelInterface
>
data_channel
)
override
;
void
OnRenegotiationNeeded
(
)
override
;
void
OnIceConnectionChange
(
PeerConnectionInterface
:
:
IceConnectionState
new_state
)
override
;
void
OnStandardizedIceConnectionChange
(
PeerConnectionInterface
:
:
IceConnectionState
new_state
)
override
;
void
OnConnectionChange
(
PeerConnectionInterface
:
:
PeerConnectionState
new_state
)
override
;
void
OnIceGatheringChange
(
PeerConnectionInterface
:
:
IceGatheringState
new_state
)
override
;
void
OnIceCandidate
(
const
IceCandidateInterface
*
candidate
)
override
;
void
OnIceCandidatesRemoved
(
const
std
:
:
vector
<
cricket
:
:
Candidate
>
&
candidates
)
override
;
void
OnIceSelectedCandidatePairChanged
(
const
cricket
:
:
CandidatePairChangeEvent
&
event
)
override
;
void
OnAddTrack
(
rtc
:
:
scoped_refptr
<
RtpReceiverInterface
>
receiver
const
std
:
:
vector
<
rtc
:
:
scoped_refptr
<
MediaStreamInterface
>
>
&
streams
)
override
;
void
OnRemoveTrack
(
rtc
:
:
scoped_refptr
<
RtpReceiverInterface
>
receiver
)
override
;
private
:
__weak
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
peer_connection_
;
}
;
}
interface
RTC_OBJC_TYPE
(
RTCPeerConnection
)
(
)
property
(
nonatomic
readonly
)
RTC_OBJC_TYPE
(
RTCPeerConnectionFactory
)
*
factory
;
property
(
nonatomic
readonly
)
rtc
:
:
scoped_refptr
<
webrtc
:
:
PeerConnectionInterface
>
nativePeerConnection
;
-
(
instancetype
)
initWithFactory
:
(
RTC_OBJC_TYPE
(
RTCPeerConnectionFactory
)
*
)
factory
configuration
:
(
RTC_OBJC_TYPE
(
RTCConfiguration
)
*
)
configuration
constraints
:
(
RTC_OBJC_TYPE
(
RTCMediaConstraints
)
*
)
constraints
delegate
:
(
nullable
id
<
RTC_OBJC_TYPE
(
RTCPeerConnectionDelegate
)
>
)
delegate
;
-
(
instancetype
)
initWithDependencies
:
(
RTC_OBJC_TYPE
(
RTCPeerConnectionFactory
)
*
)
factory
configuration
:
(
RTC_OBJC_TYPE
(
RTCConfiguration
)
*
)
configuration
constraints
:
(
RTC_OBJC_TYPE
(
RTCMediaConstraints
)
*
)
constraints
dependencies
:
(
std
:
:
unique_ptr
<
webrtc
:
:
PeerConnectionDependencies
>
)
dependencies
delegate
:
(
nullable
id
<
RTC_OBJC_TYPE
(
RTCPeerConnectionDelegate
)
>
)
delegate
NS_DESIGNATED_INITIALIZER
;
+
(
webrtc
:
:
PeerConnectionInterface
:
:
SignalingState
)
nativeSignalingStateForState
:
(
RTCSignalingState
)
state
;
+
(
RTCSignalingState
)
signalingStateForNativeState
:
(
webrtc
:
:
PeerConnectionInterface
:
:
SignalingState
)
nativeState
;
+
(
NSString
*
)
stringForSignalingState
:
(
RTCSignalingState
)
state
;
+
(
webrtc
:
:
PeerConnectionInterface
:
:
IceConnectionState
)
nativeIceConnectionStateForState
:
(
RTCIceConnectionState
)
state
;
+
(
webrtc
:
:
PeerConnectionInterface
:
:
PeerConnectionState
)
nativeConnectionStateForState
:
(
RTCPeerConnectionState
)
state
;
+
(
RTCIceConnectionState
)
iceConnectionStateForNativeState
:
(
webrtc
:
:
PeerConnectionInterface
:
:
IceConnectionState
)
nativeState
;
+
(
RTCPeerConnectionState
)
connectionStateForNativeState
:
(
webrtc
:
:
PeerConnectionInterface
:
:
PeerConnectionState
)
nativeState
;
+
(
NSString
*
)
stringForIceConnectionState
:
(
RTCIceConnectionState
)
state
;
+
(
NSString
*
)
stringForConnectionState
:
(
RTCPeerConnectionState
)
state
;
+
(
webrtc
:
:
PeerConnectionInterface
:
:
IceGatheringState
)
nativeIceGatheringStateForState
:
(
RTCIceGatheringState
)
state
;
+
(
RTCIceGatheringState
)
iceGatheringStateForNativeState
:
(
webrtc
:
:
PeerConnectionInterface
:
:
IceGatheringState
)
nativeState
;
+
(
NSString
*
)
stringForIceGatheringState
:
(
RTCIceGatheringState
)
state
;
+
(
webrtc
:
:
PeerConnectionInterface
:
:
StatsOutputLevel
)
nativeStatsOutputLevelForLevel
:
(
RTCStatsOutputLevel
)
level
;
end
NS_ASSUME_NONNULL_END

#
import
<
AvailabilityMacros
.
h
>
#
import
<
Foundation
/
Foundation
.
h
>
#
import
"
RTCMacros
.
h
"
NS_ASSUME_NONNULL_BEGIN
RTC_OBJC_EXPORT
interface
RTC_OBJC_TYPE
(
RTCDataBuffer
)
:
NSObject
property
(
nonatomic
readonly
)
NSData
*
data
;
property
(
nonatomic
readonly
)
BOOL
isBinary
;
-
(
instancetype
)
init
NS_UNAVAILABLE
;
-
(
instancetype
)
initWithData
:
(
NSData
*
)
data
isBinary
:
(
BOOL
)
isBinary
;
end
class
RTC_OBJC_TYPE
(
RTCDataChannel
)
;
RTC_OBJC_EXPORT
protocol
RTC_OBJC_TYPE
(
RTCDataChannelDelegate
)
<
NSObject
>
-
(
void
)
dataChannelDidChangeState
:
(
RTC_OBJC_TYPE
(
RTCDataChannel
)
*
)
dataChannel
;
-
(
void
)
dataChannel
:
(
RTC_OBJC_TYPE
(
RTCDataChannel
)
*
)
dataChannel
didReceiveMessageWithBuffer
:
(
RTC_OBJC_TYPE
(
RTCDataBuffer
)
*
)
buffer
;
optional
-
(
void
)
dataChannel
:
(
RTC_OBJC_TYPE
(
RTCDataChannel
)
*
)
dataChannel
didChangeBufferedAmount
:
(
uint64_t
)
amount
;
end
typedef
NS_ENUM
(
NSInteger
RTCDataChannelState
)
{
RTCDataChannelStateConnecting
RTCDataChannelStateOpen
RTCDataChannelStateClosing
RTCDataChannelStateClosed
}
;
RTC_OBJC_EXPORT
interface
RTC_OBJC_TYPE
(
RTCDataChannel
)
:
NSObject
property
(
nonatomic
readonly
)
NSString
*
label
;
property
(
nonatomic
readonly
)
BOOL
isReliable
DEPRECATED_ATTRIBUTE
;
property
(
nonatomic
readonly
)
BOOL
isOrdered
;
property
(
nonatomic
readonly
)
NSUInteger
maxRetransmitTime
DEPRECATED_ATTRIBUTE
;
property
(
nonatomic
readonly
)
uint16_t
maxPacketLifeTime
;
property
(
nonatomic
readonly
)
uint16_t
maxRetransmits
;
property
(
nonatomic
readonly
)
NSString
*
protocol
;
property
(
nonatomic
readonly
)
BOOL
isNegotiated
;
property
(
nonatomic
readonly
)
NSInteger
streamId
DEPRECATED_ATTRIBUTE
;
property
(
nonatomic
readonly
)
int
channelId
;
property
(
nonatomic
readonly
)
RTCDataChannelState
readyState
;
property
(
nonatomic
readonly
)
uint64_t
bufferedAmount
;
property
(
nonatomic
weak
)
id
<
RTC_OBJC_TYPE
(
RTCDataChannelDelegate
)
>
delegate
;
-
(
instancetype
)
init
NS_UNAVAILABLE
;
-
(
void
)
close
;
-
(
BOOL
)
sendData
:
(
RTC_OBJC_TYPE
(
RTCDataBuffer
)
*
)
data
;
end
NS_ASSUME_NONNULL_END

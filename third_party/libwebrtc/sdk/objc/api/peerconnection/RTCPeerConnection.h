#
import
<
Foundation
/
Foundation
.
h
>
#
import
"
RTCMacros
.
h
"
class
RTC_OBJC_TYPE
(
RTCConfiguration
)
;
class
RTC_OBJC_TYPE
(
RTCDataChannel
)
;
class
RTC_OBJC_TYPE
(
RTCDataChannelConfiguration
)
;
class
RTC_OBJC_TYPE
(
RTCIceCandidate
)
;
class
RTC_OBJC_TYPE
(
RTCMediaConstraints
)
;
class
RTC_OBJC_TYPE
(
RTCMediaStream
)
;
class
RTC_OBJC_TYPE
(
RTCMediaStreamTrack
)
;
class
RTC_OBJC_TYPE
(
RTCPeerConnectionFactory
)
;
class
RTC_OBJC_TYPE
(
RTCRtpReceiver
)
;
class
RTC_OBJC_TYPE
(
RTCRtpSender
)
;
class
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
;
class
RTC_OBJC_TYPE
(
RTCRtpTransceiverInit
)
;
class
RTC_OBJC_TYPE
(
RTCSessionDescription
)
;
class
RTC_OBJC_TYPE
(
RTCStatisticsReport
)
;
class
RTC_OBJC_TYPE
(
RTCLegacyStatsReport
)
;
typedef
NS_ENUM
(
NSInteger
RTCRtpMediaType
)
;
NS_ASSUME_NONNULL_BEGIN
extern
NSString
*
const
kRTCPeerConnectionErrorDomain
;
extern
int
const
kRTCSessionDescriptionErrorCode
;
typedef
NS_ENUM
(
NSInteger
RTCSignalingState
)
{
RTCSignalingStateStable
RTCSignalingStateHaveLocalOffer
RTCSignalingStateHaveLocalPrAnswer
RTCSignalingStateHaveRemoteOffer
RTCSignalingStateHaveRemotePrAnswer
RTCSignalingStateClosed
}
;
typedef
NS_ENUM
(
NSInteger
RTCIceConnectionState
)
{
RTCIceConnectionStateNew
RTCIceConnectionStateChecking
RTCIceConnectionStateConnected
RTCIceConnectionStateCompleted
RTCIceConnectionStateFailed
RTCIceConnectionStateDisconnected
RTCIceConnectionStateClosed
RTCIceConnectionStateCount
}
;
typedef
NS_ENUM
(
NSInteger
RTCPeerConnectionState
)
{
RTCPeerConnectionStateNew
RTCPeerConnectionStateConnecting
RTCPeerConnectionStateConnected
RTCPeerConnectionStateDisconnected
RTCPeerConnectionStateFailed
RTCPeerConnectionStateClosed
}
;
typedef
NS_ENUM
(
NSInteger
RTCIceGatheringState
)
{
RTCIceGatheringStateNew
RTCIceGatheringStateGathering
RTCIceGatheringStateComplete
}
;
typedef
NS_ENUM
(
NSInteger
RTCStatsOutputLevel
)
{
RTCStatsOutputLevelStandard
RTCStatsOutputLevelDebug
}
;
typedef
void
(
^
RTCCreateSessionDescriptionCompletionHandler
)
(
RTC_OBJC_TYPE
(
RTCSessionDescription
)
*
_Nullable
sdp
NSError
*
_Nullable
error
)
;
typedef
void
(
^
RTCSetSessionDescriptionCompletionHandler
)
(
NSError
*
_Nullable
error
)
;
class
RTC_OBJC_TYPE
(
RTCPeerConnection
)
;
RTC_OBJC_EXPORT
protocol
RTC_OBJC_TYPE
(
RTCPeerConnectionDelegate
)
<
NSObject
>
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didChangeSignalingState
:
(
RTCSignalingState
)
stateChanged
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didAddStream
:
(
RTC_OBJC_TYPE
(
RTCMediaStream
)
*
)
stream
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didRemoveStream
:
(
RTC_OBJC_TYPE
(
RTCMediaStream
)
*
)
stream
;
-
(
void
)
peerConnectionShouldNegotiate
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didChangeIceConnectionState
:
(
RTCIceConnectionState
)
newState
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didChangeIceGatheringState
:
(
RTCIceGatheringState
)
newState
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didGenerateIceCandidate
:
(
RTC_OBJC_TYPE
(
RTCIceCandidate
)
*
)
candidate
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didRemoveIceCandidates
:
(
NSArray
<
RTC_OBJC_TYPE
(
RTCIceCandidate
)
*
>
*
)
candidates
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didOpenDataChannel
:
(
RTC_OBJC_TYPE
(
RTCDataChannel
)
*
)
dataChannel
;
optional
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didChangeStandardizedIceConnectionState
:
(
RTCIceConnectionState
)
newState
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didChangeConnectionState
:
(
RTCPeerConnectionState
)
newState
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didStartReceivingOnTransceiver
:
(
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
*
)
transceiver
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didAddReceiver
:
(
RTC_OBJC_TYPE
(
RTCRtpReceiver
)
*
)
rtpReceiver
streams
:
(
NSArray
<
RTC_OBJC_TYPE
(
RTCMediaStream
)
*
>
*
)
mediaStreams
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didRemoveReceiver
:
(
RTC_OBJC_TYPE
(
RTCRtpReceiver
)
*
)
rtpReceiver
;
-
(
void
)
peerConnection
:
(
RTC_OBJC_TYPE
(
RTCPeerConnection
)
*
)
peerConnection
didChangeLocalCandidate
:
(
RTC_OBJC_TYPE
(
RTCIceCandidate
)
*
)
local
remoteCandidate
:
(
RTC_OBJC_TYPE
(
RTCIceCandidate
)
*
)
remote
lastReceivedMs
:
(
int
)
lastDataReceivedMs
changeReason
:
(
NSString
*
)
reason
;
end
RTC_OBJC_EXPORT
interface
RTC_OBJC_TYPE
(
RTCPeerConnection
)
:
NSObject
property
(
nonatomic
weak
nullable
)
id
<
RTC_OBJC_TYPE
(
RTCPeerConnectionDelegate
)
>
delegate
;
property
(
nonatomic
readonly
)
NSArray
<
RTC_OBJC_TYPE
(
RTCMediaStream
)
*
>
*
localStreams
;
property
(
nonatomic
readonly
nullable
)
RTC_OBJC_TYPE
(
RTCSessionDescription
)
*
localDescription
;
property
(
nonatomic
readonly
nullable
)
RTC_OBJC_TYPE
(
RTCSessionDescription
)
*
remoteDescription
;
property
(
nonatomic
readonly
)
RTCSignalingState
signalingState
;
property
(
nonatomic
readonly
)
RTCIceConnectionState
iceConnectionState
;
property
(
nonatomic
readonly
)
RTCPeerConnectionState
connectionState
;
property
(
nonatomic
readonly
)
RTCIceGatheringState
iceGatheringState
;
property
(
nonatomic
readonly
copy
)
RTC_OBJC_TYPE
(
RTCConfiguration
)
*
configuration
;
property
(
nonatomic
readonly
)
NSArray
<
RTC_OBJC_TYPE
(
RTCRtpSender
)
*
>
*
senders
;
property
(
nonatomic
readonly
)
NSArray
<
RTC_OBJC_TYPE
(
RTCRtpReceiver
)
*
>
*
receivers
;
property
(
nonatomic
readonly
)
NSArray
<
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
*
>
*
transceivers
;
-
(
instancetype
)
init
NS_UNAVAILABLE
;
-
(
BOOL
)
setConfiguration
:
(
RTC_OBJC_TYPE
(
RTCConfiguration
)
*
)
configuration
;
-
(
void
)
close
;
-
(
void
)
addIceCandidate
:
(
RTC_OBJC_TYPE
(
RTCIceCandidate
)
*
)
candidate
;
-
(
void
)
removeIceCandidates
:
(
NSArray
<
RTC_OBJC_TYPE
(
RTCIceCandidate
)
*
>
*
)
candidates
;
-
(
void
)
addStream
:
(
RTC_OBJC_TYPE
(
RTCMediaStream
)
*
)
stream
;
-
(
void
)
removeStream
:
(
RTC_OBJC_TYPE
(
RTCMediaStream
)
*
)
stream
;
-
(
nullable
RTC_OBJC_TYPE
(
RTCRtpSender
)
*
)
addTrack
:
(
RTC_OBJC_TYPE
(
RTCMediaStreamTrack
)
*
)
track
streamIds
:
(
NSArray
<
NSString
*
>
*
)
streamIds
;
-
(
BOOL
)
removeTrack
:
(
RTC_OBJC_TYPE
(
RTCRtpSender
)
*
)
sender
;
-
(
nullable
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
*
)
addTransceiverWithTrack
:
(
RTC_OBJC_TYPE
(
RTCMediaStreamTrack
)
*
)
track
;
-
(
nullable
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
*
)
addTransceiverWithTrack
:
(
RTC_OBJC_TYPE
(
RTCMediaStreamTrack
)
*
)
track
init
:
(
RTC_OBJC_TYPE
(
RTCRtpTransceiverInit
)
*
)
init
;
-
(
nullable
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
*
)
addTransceiverOfType
:
(
RTCRtpMediaType
)
mediaType
;
-
(
nullable
RTC_OBJC_TYPE
(
RTCRtpTransceiver
)
*
)
addTransceiverOfType
:
(
RTCRtpMediaType
)
mediaType
init
:
(
RTC_OBJC_TYPE
(
RTCRtpTransceiverInit
)
*
)
init
;
-
(
void
)
restartIce
;
-
(
void
)
offerForConstraints
:
(
RTC_OBJC_TYPE
(
RTCMediaConstraints
)
*
)
constraints
completionHandler
:
(
RTCCreateSessionDescriptionCompletionHandler
)
completionHandler
;
-
(
void
)
answerForConstraints
:
(
RTC_OBJC_TYPE
(
RTCMediaConstraints
)
*
)
constraints
completionHandler
:
(
RTCCreateSessionDescriptionCompletionHandler
)
completionHandler
;
-
(
void
)
setLocalDescription
:
(
RTC_OBJC_TYPE
(
RTCSessionDescription
)
*
)
sdp
completionHandler
:
(
RTCSetSessionDescriptionCompletionHandler
)
completionHandler
;
-
(
void
)
setLocalDescriptionWithCompletionHandler
:
(
RTCSetSessionDescriptionCompletionHandler
)
completionHandler
;
-
(
void
)
setRemoteDescription
:
(
RTC_OBJC_TYPE
(
RTCSessionDescription
)
*
)
sdp
completionHandler
:
(
RTCSetSessionDescriptionCompletionHandler
)
completionHandler
;
-
(
BOOL
)
setBweMinBitrateBps
:
(
nullable
NSNumber
*
)
minBitrateBps
currentBitrateBps
:
(
nullable
NSNumber
*
)
currentBitrateBps
maxBitrateBps
:
(
nullable
NSNumber
*
)
maxBitrateBps
;
-
(
BOOL
)
startRtcEventLogWithFilePath
:
(
NSString
*
)
filePath
maxSizeInBytes
:
(
int64_t
)
maxSizeInBytes
;
-
(
void
)
stopRtcEventLog
;
end
interface
RTC_OBJC_TYPE
(
RTCPeerConnection
)
(
Media
)
-
(
RTC_OBJC_TYPE
(
RTCRtpSender
)
*
)
senderWithKind
:
(
NSString
*
)
kind
streamId
:
(
NSString
*
)
streamId
;
end
interface
RTC_OBJC_TYPE
(
RTCPeerConnection
)
(
DataChannel
)
-
(
nullable
RTC_OBJC_TYPE
(
RTCDataChannel
)
*
)
dataChannelForLabel
:
(
NSString
*
)
label
configuration
:
(
RTC_OBJC_TYPE
(
RTCDataChannelConfiguration
)
*
)
configuration
;
end
typedef
void
(
^
RTCStatisticsCompletionHandler
)
(
RTC_OBJC_TYPE
(
RTCStatisticsReport
)
*
)
;
interface
RTC_OBJC_TYPE
(
RTCPeerConnection
)
(
Stats
)
-
(
void
)
statsForTrack
:
(
nullable
RTC_OBJC_TYPE
(
RTCMediaStreamTrack
)
*
)
mediaStreamTrack
statsOutputLevel
:
(
RTCStatsOutputLevel
)
statsOutputLevel
completionHandler
:
(
nullable
void
(
^
)
(
NSArray
<
RTC_OBJC_TYPE
(
RTCLegacyStatsReport
)
*
>
*
stats
)
)
completionHandler
;
-
(
void
)
statisticsWithCompletionHandler
:
(
RTCStatisticsCompletionHandler
)
completionHandler
;
-
(
void
)
statisticsForSender
:
(
RTC_OBJC_TYPE
(
RTCRtpSender
)
*
)
sender
completionHandler
:
(
RTCStatisticsCompletionHandler
)
completionHandler
;
-
(
void
)
statisticsForReceiver
:
(
RTC_OBJC_TYPE
(
RTCRtpReceiver
)
*
)
receiver
completionHandler
:
(
RTCStatisticsCompletionHandler
)
completionHandler
;
end
NS_ASSUME_NONNULL_END

#
import
<
AVFoundation
/
AVFoundation
.
h
>
#
import
"
RTCMacros
.
h
"
#
import
"
RTCVideoFrameBuffer
.
h
"
NS_ASSUME_NONNULL_BEGIN
RTC_OBJC_EXPORT
interface
RTC_OBJC_TYPE
(
RTCCVPixelBuffer
)
:
NSObject
<
RTC_OBJC_TYPE
(
RTCVideoFrameBuffer
)
>
property
(
nonatomic
readonly
)
CVPixelBufferRef
pixelBuffer
;
property
(
nonatomic
readonly
)
int
cropX
;
property
(
nonatomic
readonly
)
int
cropY
;
property
(
nonatomic
readonly
)
int
cropWidth
;
property
(
nonatomic
readonly
)
int
cropHeight
;
+
(
NSSet
<
NSNumber
*
>
*
)
supportedPixelFormats
;
-
(
instancetype
)
initWithPixelBuffer
:
(
CVPixelBufferRef
)
pixelBuffer
;
-
(
instancetype
)
initWithPixelBuffer
:
(
CVPixelBufferRef
)
pixelBuffer
adaptedWidth
:
(
int
)
adaptedWidth
adaptedHeight
:
(
int
)
adaptedHeight
cropWidth
:
(
int
)
cropWidth
cropHeight
:
(
int
)
cropHeight
cropX
:
(
int
)
cropX
cropY
:
(
int
)
cropY
;
-
(
BOOL
)
requiresCropping
;
-
(
BOOL
)
requiresScalingToWidth
:
(
int
)
width
height
:
(
int
)
height
;
-
(
int
)
bufferSizeForCroppingAndScalingToWidth
:
(
int
)
width
height
:
(
int
)
height
;
-
(
BOOL
)
cropAndScaleTo
:
(
CVPixelBufferRef
)
outputPixelBuffer
withTempBuffer
:
(
nullable
uint8_t
*
)
tmpBuffer
;
end
NS_ASSUME_NONNULL_END

#
include
"
sdk
/
objc
/
native
/
src
/
objc_video_frame
.
h
"
#
include
"
rtc_base
/
time_utils
.
h
"
#
include
"
sdk
/
objc
/
native
/
src
/
objc_frame_buffer
.
h
"
namespace
webrtc
{
RTC_OBJC_TYPE
(
RTCVideoFrame
)
*
ToObjCVideoFrame
(
const
VideoFrame
&
frame
)
{
RTC_OBJC_TYPE
(
RTCVideoFrame
)
*
videoFrame
=
[
[
RTC_OBJC_TYPE
(
RTCVideoFrame
)
alloc
]
initWithBuffer
:
ToObjCVideoFrameBuffer
(
frame
.
video_frame_buffer
(
)
)
rotation
:
RTCVideoRotation
(
frame
.
rotation
(
)
)
timeStampNs
:
frame
.
timestamp_us
(
)
*
webrtc
:
:
kNumNanosecsPerMicrosec
]
;
videoFrame
.
timeStamp
=
frame
.
rtp_timestamp
(
)
;
return
videoFrame
;
}
}

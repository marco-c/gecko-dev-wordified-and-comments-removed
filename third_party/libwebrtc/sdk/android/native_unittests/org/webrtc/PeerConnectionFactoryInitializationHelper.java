package
org
.
webrtc
;
import
android
.
content
.
Context
;
import
org
.
webrtc
.
PeerConnectionFactory
.
InitializationOptions
;
public
class
PeerConnectionFactoryInitializationHelper
{
private
static
class
MockLoader
implements
NativeLibraryLoader
{
Override
public
boolean
load
(
String
name
)
{
return
true
;
}
}
CalledByNative
public
static
void
initializeFactoryForTests
(
)
{
Context
ctx
=
ContextUtils
.
getApplicationContext
(
)
;
InitializationOptions
options
=
InitializationOptions
.
builder
(
ctx
)
.
setNativeLibraryLoader
(
new
MockLoader
(
)
)
.
createInitializationOptions
(
)
;
PeerConnectionFactory
.
initialize
(
options
)
;
}
}

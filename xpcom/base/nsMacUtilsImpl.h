#
ifndef
nsMacUtilsImpl_h___
#
define
nsMacUtilsImpl_h___
#
include
"
nsString
.
h
"
#
include
"
mozilla
/
Atomics
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
StaticMutex
.
h
"
#
include
"
mozilla
/
StaticPtr
.
h
"
using
mozilla
:
:
Atomic
;
using
mozilla
:
:
StaticAutoPtr
;
using
mozilla
:
:
StaticMutex
;
class
nsIFile
;
namespace
nsMacUtilsImpl
{
nsresult
GetRepoDir
(
nsIFile
*
*
aRepoDir
)
;
nsresult
GetObjDir
(
nsIFile
*
*
aObjDir
)
;
#
if
defined
(
MOZ_SANDBOX
)
|
|
defined
(
__aarch64__
)
bool
GetAppPath
(
nsCString
&
aAppPath
)
;
#
endif
#
if
defined
(
MOZ_SANDBOX
)
&
&
defined
(
DEBUG
)
nsresult
GetBloatLogDir
(
nsCString
&
aDirectoryPath
)
;
nsresult
GetDirectoryPath
(
const
char
*
aPath
nsCString
&
aDirectoryPath
)
;
#
endif
void
EnableTCSMIfAvailable
(
)
;
bool
IsTCSMAvailable
(
)
;
uint32_t
GetPhysicalCPUCount
(
)
;
nsresult
GetArchitecturesForBinary
(
const
char
*
aPath
uint32_t
*
aArchMask
)
;
#
if
defined
(
__aarch64__
)
int
PreTranslateXUL
(
)
;
int
PreTranslateBinary
(
nsCString
aBinaryPath
)
;
#
endif
}
#
endif

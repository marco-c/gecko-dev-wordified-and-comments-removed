#
ifndef
nsObjCExceptions_h_
#
define
nsObjCExceptions_h_
#
undef
try
#
undef
catch
class
NSException
;
void
nsObjCExceptionLog
(
NSException
*
aException
)
;
#
define
NS_OBJC_BEGIN_TRY_ABORT_BLOCK
try
{
#
define
NS_OBJC_END_TRY_ABORT_BLOCK
\
}
\
catch
(
NSException
*
_exn
)
{
\
nsObjCExceptionLog
(
_exn
)
;
\
MOZ_CRASH
(
"
Encountered
unexpected
Objective
C
exception
"
)
;
\
}
#
define
NS_OBJC_BEGIN_TRY_IGNORE_BLOCK
try
{
#
define
NS_OBJC_END_TRY_IGNORE_BLOCK
\
}
\
catch
(
NSException
*
_exn
)
{
\
nsObjCExceptionLog
(
_exn
)
;
\
}
#
define
NS_OBJC_BEGIN_TRY_BLOCK_RETURN
try
{
#
define
NS_OBJC_END_TRY_BLOCK_RETURN
(
_rv
)
\
}
\
catch
(
NSException
*
_exn
)
{
\
nsObjCExceptionLog
(
_exn
)
;
\
}
\
return
_rv
;
#
endif

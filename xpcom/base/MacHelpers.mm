#
include
"
nsString
.
h
"
#
include
"
MacHelpers
.
h
"
#
include
"
MacStringHelpers
.
h
"
#
include
"
nsObjCExceptions
.
h
"
#
import
<
Foundation
/
Foundation
.
h
>
namespace
mozilla
{
nsresult
GetSelectedCityInfo
(
nsAString
&
aCountryCode
)
{
NS_OBJC_BEGIN_TRY_BLOCK_RETURN
;
NSString
*
countryCode
=
NSLocale
.
currentLocale
.
countryCode
;
if
(
!
countryCode
)
{
return
NS_ERROR_FAILURE
;
}
mozilla
:
:
CopyNSStringToXPCOMString
(
countryCode
aCountryCode
)
;
return
NS_OK
;
NS_OBJC_END_TRY_BLOCK_RETURN
(
NS_ERROR_FAILURE
)
;
}
}

#
include
"
nsThreadUtils
.
h
"
#
include
"
mozilla
/
RecursiveMutex
.
h
"
#
include
"
gtest
/
gtest
.
h
"
using
mozilla
:
:
RecursiveMutex
;
using
mozilla
:
:
RecursiveMutexAutoLock
;
TEST
(
RecursiveMutex
SmokeTest
)
MOZ_NO_THREAD_SAFETY_ANALYSIS
{
RecursiveMutex
mutex
(
"
testing
mutex
"
)
;
RecursiveMutexAutoLock
lock1
(
mutex
)
;
RecursiveMutexAutoLock
lock2
(
mutex
)
;
}

function
run_test
(
)
{
var
nsILocalFile
=
Components
.
interfaces
.
nsILocalFile
;
var
root
=
Components
.
classes
[
"
mozilla
.
org
/
file
/
local
;
1
"
]
.
createInstance
(
nsILocalFile
)
;
if
(
mozinfo
.
os
=
=
"
win
"
)
{
root
.
initWithPath
(
"
\
\
\
\
.
"
)
;
}
else
{
return
;
root
.
initWithPath
(
"
/
"
)
;
}
var
drives
=
root
.
directoryEntries
;
do_check_true
(
drives
.
hasMoreElements
(
)
)
;
while
(
drives
.
hasMoreElements
(
)
)
{
var
newPath
=
drives
.
getNext
(
)
.
QueryInterface
(
nsILocalFile
)
.
path
;
do_check_eq
(
newPath
.
indexOf
(
"
\
0
"
)
-
1
)
;
}
}

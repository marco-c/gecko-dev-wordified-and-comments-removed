let
CC
=
Components
.
Constructor
;
function
get_test_program
(
prog
)
{
var
progPath
=
do_get_cwd
(
)
;
progPath
.
append
(
prog
)
;
progPath
.
leafName
=
progPath
.
leafName
+
mozinfo
.
bin_suffix
;
return
progPath
;
}
function
set_process_running_environment
(
)
{
var
dirSvc
=
Cc
[
"
mozilla
.
org
/
file
/
directory_service
;
1
"
]
.
getService
(
Ci
.
nsIProperties
)
;
var
greBinDir
=
dirSvc
.
get
(
"
GreBinD
"
Ci
.
nsIFile
)
;
Services
.
env
.
set
(
"
DYLD_LIBRARY_PATH
"
greBinDir
.
path
)
;
Services
.
env
.
set
(
"
LD_LIBRARY_PATH
"
greBinDir
.
path
)
;
}

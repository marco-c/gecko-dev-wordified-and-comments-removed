#
ifndef
nsStaticAtom_h__
#
define
nsStaticAtom_h__
#
include
"
nsAtom
.
h
"
#
include
"
nsStringBuffer
.
h
"
#
define
NS_STATIC_ATOM
(
buffer_name
atom_ptr
)
\
{
buffer_name
atom_ptr
}
#
define
NS_STATIC_ATOM_BUFFER
(
buffer_name
str_data
)
\
static
const
char16_t
buffer_name
[
sizeof
(
str_data
)
]
=
u
"
"
str_data
;
\
static_assert
(
sizeof
(
str_data
[
0
]
)
=
=
1
"
non
-
8
-
bit
static
atom
literal
"
)
;
struct
nsStaticAtom
{
const
char16_t
*
const
mString
;
nsAtom
*
*
const
mAtom
;
}
;
template
<
uint32_t
N
>
void
NS_RegisterStaticAtoms
(
const
nsStaticAtom
(
&
aAtoms
)
[
N
]
)
{
extern
void
RegisterStaticAtoms
(
const
nsStaticAtom
*
uint32_t
aAtomCount
)
;
RegisterStaticAtoms
(
aAtoms
N
)
;
}
#
endif

#
ifndef
SlicedInputStream_h
#
define
SlicedInputStream_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIAsyncInputStream
.
h
"
#
include
"
nsICloneableInputStream
.
h
"
#
include
"
nsIIPCSerializableInputStream
.
h
"
class
SlicedInputStream
final
:
public
nsIAsyncInputStream
public
nsICloneableInputStream
public
nsIIPCSerializableInputStream
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIINPUTSTREAM
NS_DECL_NSIASYNCINPUTSTREAM
NS_DECL_NSICLONEABLEINPUTSTREAM
NS_DECL_NSIIPCSERIALIZABLEINPUTSTREAM
SlicedInputStream
(
nsIInputStream
*
aInputStream
uint64_t
aStart
uint64_t
aLength
)
;
SlicedInputStream
(
)
;
private
:
~
SlicedInputStream
(
)
;
void
SetSourceStream
(
nsIInputStream
*
aInputStream
)
;
nsCOMPtr
<
nsIInputStream
>
mInputStream
;
nsICloneableInputStream
*
mWeakCloneableInputStream
;
nsIIPCSerializableInputStream
*
mWeakIPCSerializableInputStream
;
uint64_t
mStart
;
uint64_t
mLength
;
uint64_t
mCurPos
;
bool
mClosed
;
}
;
#
endif

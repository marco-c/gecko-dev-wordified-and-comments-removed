#
ifndef
nsStringStats_h
#
define
nsStringStats_h
#
ifdef
DEBUG
#
include
"
mozilla
/
Atomics
.
h
"
class
nsStringStats
{
public
:
nsStringStats
(
)
=
default
;
~
nsStringStats
(
)
;
using
AtomicInt
=
mozilla
:
:
Atomic
<
int32_t
mozilla
:
:
Relaxed
>
;
AtomicInt
mAllocCount
{
0
}
;
AtomicInt
mReallocCount
{
0
}
;
AtomicInt
mFreeCount
{
0
}
;
AtomicInt
mShareCount
{
0
}
;
AtomicInt
mAdoptCount
{
0
}
;
AtomicInt
mAdoptFreeCount
{
0
}
;
}
;
extern
nsStringStats
gStringStats
;
#
define
STRING_STAT_INCREMENT
(
_s
)
(
gStringStats
.
m
#
#
_s
#
#
Count
)
+
+
#
else
#
define
STRING_STAT_INCREMENT
(
_s
)
#
endif
#
endif

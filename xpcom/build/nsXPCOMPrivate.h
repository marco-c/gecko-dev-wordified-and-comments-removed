#
ifndef
nsXPCOMPrivate_h__
#
define
nsXPCOMPrivate_h__
#
include
"
nscore
.
h
"
#
include
"
nsXPCOM
.
h
"
#
include
"
xptcall
.
h
"
#
define
NS_XPCOM_SHUTDOWN_THREADS_OBSERVER_ID
"
xpcom
-
shutdown
-
threads
"
#
define
NS_XPCOM_SHUTDOWN_LOADERS_OBSERVER_ID
"
xpcom
-
shutdown
-
loaders
"
namespace
mozilla
{
nsresult
ShutdownXPCOM
(
nsIServiceManager
*
aServMgr
)
;
void
SetICUMemoryFunctions
(
)
;
void
LogTerm
(
)
;
}
#
if
defined
(
XP_WIN32
)
#
define
XPCOM_SEARCH_KEY
"
PATH
"
#
define
GRE_CONF_NAME
"
gre
.
config
"
#
define
GRE_WIN_REG_LOC
L
"
Software
\
\
mozilla
.
org
\
\
GRE
"
#
define
XPCOM_DLL
XUL_DLL
#
define
LXPCOM_DLL
LXUL_DLL
#
define
XUL_DLL
"
xul
.
dll
"
#
define
LXUL_DLL
L
"
xul
.
dll
"
#
else
#
include
<
limits
.
h
>
#
define
XPCOM_DLL
XUL_DLL
#
ifdef
XP_MACOSX
#
define
XPCOM_SEARCH_KEY
"
DYLD_LIBRARY_PATH
"
#
define
GRE_FRAMEWORK_NAME
"
XUL
.
framework
"
#
define
XUL_DLL
"
XUL
"
#
else
#
define
XPCOM_SEARCH_KEY
"
LD_LIBRARY_PATH
"
#
define
XUL_DLL
"
libxul
"
MOZ_DLL_SUFFIX
#
endif
#
define
GRE_CONF_NAME
"
.
gre
.
config
"
#
define
GRE_CONF_PATH
"
/
etc
/
gre
.
conf
"
#
define
GRE_CONF_DIR
"
/
etc
/
gre
.
d
"
#
define
GRE_USER_CONF_DIR
"
.
gre
.
d
"
#
endif
#
if
defined
(
XP_WIN
)
#
define
XPCOM_FILE_PATH_SEPARATOR
"
\
\
"
#
define
XPCOM_ENV_PATH_SEPARATOR
"
;
"
#
elif
defined
(
XP_UNIX
)
#
define
XPCOM_FILE_PATH_SEPARATOR
"
/
"
#
define
XPCOM_ENV_PATH_SEPARATOR
"
:
"
#
else
#
error
need_to_define_your_file_path_separator_and_illegal_characters
#
endif
#
ifdef
AIX
#
include
<
sys
/
param
.
h
>
#
endif
#
ifndef
MAXPATHLEN
#
ifdef
PATH_MAX
#
define
MAXPATHLEN
PATH_MAX
#
elif
defined
(
_MAX_PATH
)
#
define
MAXPATHLEN
_MAX_PATH
#
elif
defined
(
CCHMAXPATH
)
#
define
MAXPATHLEN
CCHMAXPATH
#
else
#
define
MAXPATHLEN
1024
#
endif
#
endif
extern
char16_t
*
gGREBinPath
;
namespace
mozilla
{
namespace
services
{
void
Shutdown
(
)
;
}
}
#
endif

#
include
"
.
.
/
dsp
/
dsp
.
h
"
#
include
"
mozilla
/
arm
.
h
"
#
include
"
mozilla
/
SSE
.
h
"
static
int
MozCPUInfo
(
CPUFeature
feature
)
{
switch
(
feature
)
{
case
kSSE2
:
return
mozilla
:
:
supports_sse2
(
)
;
case
kSSE3
:
return
mozilla
:
:
supports_sse3
(
)
;
case
kSSE4_1
:
return
mozilla
:
:
supports_sse4_1
(
)
;
case
kAVX
:
return
mozilla
:
:
supports_avx
(
)
;
case
kAVX2
:
return
mozilla
:
:
supports_avx2
(
)
;
case
kNEON
:
return
mozilla
:
:
supports_neon
(
)
;
#
if
defined
(
WEBP_USE_MIPS32
)
|
|
defined
(
WEBP_USE_MIPS_DSP_R2
)
|
|
defined
(
WEBP_USE_MSA
)
case
kMIPS32
:
case
kMIPSdspR2
:
case
kMSA
:
return
1
;
#
endif
default
:
return
0
;
}
}
VP8CPUInfo
VP8GetCPUInfo
=
MozCPUInfo
;
VP8CPUInfo
SharpYuvGetCPUInfo
=
MozCPUInfo
;

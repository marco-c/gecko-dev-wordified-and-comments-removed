#
ifndef
transportlayersrtp_h__
#
define
transportlayersrtp_h__
#
include
<
string
>
#
include
"
transportlayer
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
SrtpFlow
.
h
"
namespace
mozilla
{
class
TransportLayerDtls
;
class
TransportLayerSrtp
final
:
public
TransportLayer
{
public
:
explicit
TransportLayerSrtp
(
TransportLayerDtls
&
dtls
)
;
virtual
~
TransportLayerSrtp
(
)
{
}
;
void
WasInserted
(
)
override
;
TransportResult
SendPacket
(
const
unsigned
char
*
data
size_t
len
)
override
;
void
StateChange
(
TransportLayer
*
layer
State
state
)
;
void
PacketReceived
(
TransportLayer
*
layer
const
unsigned
char
*
data
size_t
len
)
;
TRANSPORT_LAYER_ID
(
"
srtp
"
)
private
:
bool
Setup
(
)
;
DISALLOW_COPY_ASSIGN
(
TransportLayerSrtp
)
;
RefPtr
<
SrtpFlow
>
mSendSrtp
;
RefPtr
<
SrtpFlow
>
mRecvSrtp
;
}
;
}
#
endif

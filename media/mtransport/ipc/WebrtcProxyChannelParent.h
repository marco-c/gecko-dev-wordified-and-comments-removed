#
ifndef
mozilla_net_WebrtcProxyChannelParent_h
#
define
mozilla_net_WebrtcProxyChannelParent_h
#
include
"
mozilla
/
net
/
PWebrtcProxyChannelParent
.
h
"
#
include
"
WebrtcProxyChannelCallback
.
h
"
class
nsIAuthPromptProvider
;
namespace
mozilla
{
namespace
net
{
class
WebrtcProxyChannel
;
class
WebrtcProxyChannelParent
:
public
PWebrtcProxyChannelParent
public
WebrtcProxyChannelCallback
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
WebrtcProxyChannelParent
override
)
mozilla
:
:
ipc
:
:
IPCResult
RecvAsyncOpen
(
const
nsCString
&
aHost
const
int
&
aPort
const
Maybe
<
LoadInfoArgs
>
&
aLoadInfoArgs
const
nsCString
&
aAlpn
)
override
;
mozilla
:
:
ipc
:
:
IPCResult
RecvWrite
(
nsTArray
<
uint8_t
>
&
&
aWriteData
)
override
;
mozilla
:
:
ipc
:
:
IPCResult
RecvClose
(
)
override
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
explicit
WebrtcProxyChannelParent
(
nsIAuthPromptProvider
*
aAuthProvider
)
;
void
OnClose
(
nsresult
aReason
)
override
;
void
OnConnected
(
)
override
;
void
OnRead
(
nsTArray
<
uint8_t
>
&
&
bytes
)
override
;
void
AddIPDLReference
(
)
{
AddRef
(
)
;
}
void
ReleaseIPDLReference
(
)
{
Release
(
)
;
}
protected
:
virtual
~
WebrtcProxyChannelParent
(
)
;
private
:
void
CleanupChannel
(
)
;
RefPtr
<
WebrtcProxyChannel
>
mChannel
;
}
;
}
}
#
endif

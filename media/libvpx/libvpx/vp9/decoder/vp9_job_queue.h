#
ifndef
VPX_VP9_DECODER_VP9_JOB_QUEUE_H_
#
define
VPX_VP9_DECODER_VP9_JOB_QUEUE_H_
#
include
"
vpx_util
/
vpx_pthread
.
h
"
typedef
struct
{
uint8_t
*
buf_base
;
uint8_t
*
volatile
buf_wr
;
uint8_t
*
volatile
buf_rd
;
uint8_t
*
buf_end
;
int
terminate
;
#
if
CONFIG_MULTITHREAD
pthread_mutex_t
mutex
;
pthread_cond_t
cond
;
#
endif
}
JobQueueRowMt
;
void
vp9_jobq_init
(
JobQueueRowMt
*
jobq
uint8_t
*
buf
size_t
buf_size
)
;
void
vp9_jobq_reset
(
JobQueueRowMt
*
jobq
)
;
void
vp9_jobq_deinit
(
JobQueueRowMt
*
jobq
)
;
void
vp9_jobq_terminate
(
JobQueueRowMt
*
jobq
)
;
int
vp9_jobq_queue
(
JobQueueRowMt
*
jobq
void
*
job
size_t
job_size
)
;
int
vp9_jobq_dequeue
(
JobQueueRowMt
*
jobq
void
*
job
size_t
job_size
int
blocking
)
;
#
endif

#
ifndef
VPX_VP8CX_H_
#
define
VPX_VP8CX_H_
#
include
"
.
/
vp8
.
h
"
#
include
"
.
/
vpx_encoder
.
h
"
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
extern
vpx_codec_iface_t
vpx_codec_vp8_cx_algo
;
extern
vpx_codec_iface_t
*
vpx_codec_vp8_cx
(
void
)
;
extern
vpx_codec_iface_t
vpx_codec_vp9_cx_algo
;
extern
vpx_codec_iface_t
*
vpx_codec_vp9_cx
(
void
)
;
#
define
VP8_EFLAG_NO_REF_LAST
(
1
<
<
16
)
#
define
VP8_EFLAG_NO_REF_GF
(
1
<
<
17
)
#
define
VP8_EFLAG_NO_REF_ARF
(
1
<
<
21
)
#
define
VP8_EFLAG_NO_UPD_LAST
(
1
<
<
18
)
#
define
VP8_EFLAG_NO_UPD_GF
(
1
<
<
22
)
#
define
VP8_EFLAG_NO_UPD_ARF
(
1
<
<
23
)
#
define
VP8_EFLAG_FORCE_GF
(
1
<
<
19
)
#
define
VP8_EFLAG_FORCE_ARF
(
1
<
<
24
)
#
define
VP8_EFLAG_NO_UPD_ENTROPY
(
1
<
<
20
)
enum
vp8e_enc_control_id
{
VP8E_SET_ROI_MAP
=
8
VP8E_SET_ACTIVEMAP
VP8E_SET_SCALEMODE
=
11
VP8E_SET_CPUUSED
=
13
VP8E_SET_ENABLEAUTOALTREF
VP8E_SET_NOISE_SENSITIVITY
VP8E_SET_SHARPNESS
VP8E_SET_STATIC_THRESHOLD
VP8E_SET_TOKEN_PARTITIONS
VP8E_GET_LAST_QUANTIZER
VP8E_GET_LAST_QUANTIZER_64
VP8E_SET_ARNR_MAXFRAMES
VP8E_SET_ARNR_STRENGTH
VP8E_SET_ARNR_TYPE
VP8E_SET_TUNING
VP8E_SET_CQ_LEVEL
VP8E_SET_MAX_INTRA_BITRATE_PCT
VP8E_SET_FRAME_FLAGS
VP9E_SET_MAX_INTER_BITRATE_PCT
VP9E_SET_GF_CBR_BOOST_PCT
VP8E_SET_TEMPORAL_LAYER_ID
VP8E_SET_SCREEN_CONTENT_MODE
VP9E_SET_LOSSLESS
VP9E_SET_TILE_COLUMNS
VP9E_SET_TILE_ROWS
VP9E_SET_FRAME_PARALLEL_DECODING
VP9E_SET_AQ_MODE
VP9E_SET_FRAME_PERIODIC_BOOST
VP9E_SET_NOISE_SENSITIVITY
VP9E_SET_SVC
VP9E_SET_SVC_PARAMETERS
VP9E_SET_SVC_LAYER_ID
VP9E_SET_TUNE_CONTENT
VP9E_GET_SVC_LAYER_ID
VP9E_REGISTER_CX_CALLBACK
VP9E_SET_COLOR_SPACE
VP9E_SET_TEMPORAL_LAYERING_MODE
VP9E_SET_MIN_GF_INTERVAL
VP9E_SET_MAX_GF_INTERVAL
VP9E_GET_ACTIVEMAP
VP9E_SET_COLOR_RANGE
VP9E_SET_SVC_REF_FRAME_CONFIG
VP9E_SET_RENDER_SIZE
VP9E_SET_TARGET_LEVEL
VP9E_GET_LEVEL
}
;
typedef
enum
vpx_scaling_mode_1d
{
VP8E_NORMAL
=
0
VP8E_FOURFIVE
=
1
VP8E_THREEFIVE
=
2
VP8E_ONETWO
=
3
}
VPX_SCALING_MODE
;
typedef
enum
vp9e_temporal_layering_mode
{
VP9E_TEMPORAL_LAYERING_MODE_NOLAYERING
=
0
VP9E_TEMPORAL_LAYERING_MODE_BYPASS
=
1
VP9E_TEMPORAL_LAYERING_MODE_0101
=
2
VP9E_TEMPORAL_LAYERING_MODE_0212
=
3
}
VP9E_TEMPORAL_LAYERING_MODE
;
typedef
struct
vpx_roi_map
{
unsigned
char
*
roi_map
;
unsigned
int
rows
;
unsigned
int
cols
;
int
delta_q
[
4
]
;
int
delta_lf
[
4
]
;
unsigned
int
static_threshold
[
4
]
;
}
vpx_roi_map_t
;
typedef
struct
vpx_active_map
{
unsigned
char
*
active_map
;
unsigned
int
rows
;
unsigned
int
cols
;
}
vpx_active_map_t
;
typedef
struct
vpx_scaling_mode
{
VPX_SCALING_MODE
h_scaling_mode
;
VPX_SCALING_MODE
v_scaling_mode
;
}
vpx_scaling_mode_t
;
typedef
enum
{
VP8_ONE_TOKENPARTITION
=
0
VP8_TWO_TOKENPARTITION
=
1
VP8_FOUR_TOKENPARTITION
=
2
VP8_EIGHT_TOKENPARTITION
=
3
}
vp8e_token_partitions
;
typedef
enum
{
VP9E_CONTENT_DEFAULT
VP9E_CONTENT_SCREEN
VP9E_CONTENT_INVALID
}
vp9e_tune_content
;
typedef
enum
{
VP8_TUNE_PSNR
VP8_TUNE_SSIM
}
vp8e_tuning
;
typedef
struct
vpx_svc_layer_id
{
int
spatial_layer_id
;
int
temporal_layer_id
;
}
vpx_svc_layer_id_t
;
typedef
struct
vpx_svc_ref_frame_config
{
int
frame_flags
[
VPX_TS_MAX_LAYERS
]
;
int
lst_fb_idx
[
VPX_TS_MAX_LAYERS
]
;
int
gld_fb_idx
[
VPX_TS_MAX_LAYERS
]
;
int
alt_fb_idx
[
VPX_TS_MAX_LAYERS
]
;
}
vpx_svc_ref_frame_config_t
;
VPX_CTRL_USE_TYPE
(
VP8E_SET_FRAME_FLAGS
int
)
#
define
VPX_CTRL_VP8E_SET_FRAME_FLAGS
VPX_CTRL_USE_TYPE
(
VP8E_SET_TEMPORAL_LAYER_ID
int
)
#
define
VPX_CTRL_VP8E_SET_TEMPORAL_LAYER_ID
VPX_CTRL_USE_TYPE
(
VP8E_SET_ROI_MAP
vpx_roi_map_t
*
)
#
define
VPX_CTRL_VP8E_SET_ROI_MAP
VPX_CTRL_USE_TYPE
(
VP8E_SET_ACTIVEMAP
vpx_active_map_t
*
)
#
define
VPX_CTRL_VP8E_SET_ACTIVEMAP
VPX_CTRL_USE_TYPE
(
VP8E_SET_SCALEMODE
vpx_scaling_mode_t
*
)
#
define
VPX_CTRL_VP8E_SET_SCALEMODE
VPX_CTRL_USE_TYPE
(
VP9E_SET_SVC
int
)
#
define
VPX_CTRL_VP9E_SET_SVC
VPX_CTRL_USE_TYPE
(
VP9E_SET_SVC_PARAMETERS
void
*
)
#
define
VPX_CTRL_VP9E_SET_SVC_PARAMETERS
VPX_CTRL_USE_TYPE
(
VP9E_REGISTER_CX_CALLBACK
void
*
)
#
define
VPX_CTRL_VP9E_REGISTER_CX_CALLBACK
VPX_CTRL_USE_TYPE
(
VP9E_SET_SVC_LAYER_ID
vpx_svc_layer_id_t
*
)
#
define
VPX_CTRL_VP9E_SET_SVC_LAYER_ID
VPX_CTRL_USE_TYPE
(
VP8E_SET_CPUUSED
int
)
#
define
VPX_CTRL_VP8E_SET_CPUUSED
VPX_CTRL_USE_TYPE
(
VP8E_SET_ENABLEAUTOALTREF
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_ENABLEAUTOALTREF
VPX_CTRL_USE_TYPE
(
VP8E_SET_NOISE_SENSITIVITY
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_NOISE_SENSITIVITY
VPX_CTRL_USE_TYPE
(
VP8E_SET_SHARPNESS
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_SHARPNESS
VPX_CTRL_USE_TYPE
(
VP8E_SET_STATIC_THRESHOLD
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_STATIC_THRESHOLD
VPX_CTRL_USE_TYPE
(
VP8E_SET_TOKEN_PARTITIONS
int
)
#
define
VPX_CTRL_VP8E_SET_TOKEN_PARTITIONS
VPX_CTRL_USE_TYPE
(
VP8E_SET_ARNR_MAXFRAMES
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_ARNR_MAXFRAMES
VPX_CTRL_USE_TYPE
(
VP8E_SET_ARNR_STRENGTH
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_ARNR_STRENGTH
VPX_CTRL_USE_TYPE_DEPRECATED
(
VP8E_SET_ARNR_TYPE
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_ARNR_TYPE
VPX_CTRL_USE_TYPE
(
VP8E_SET_TUNING
int
)
#
define
VPX_CTRL_VP8E_SET_TUNING
VPX_CTRL_USE_TYPE
(
VP8E_SET_CQ_LEVEL
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_CQ_LEVEL
VPX_CTRL_USE_TYPE
(
VP9E_SET_TILE_COLUMNS
int
)
#
define
VPX_CTRL_VP9E_SET_TILE_COLUMNS
VPX_CTRL_USE_TYPE
(
VP9E_SET_TILE_ROWS
int
)
#
define
VPX_CTRL_VP9E_SET_TILE_ROWS
VPX_CTRL_USE_TYPE
(
VP8E_GET_LAST_QUANTIZER
int
*
)
#
define
VPX_CTRL_VP8E_GET_LAST_QUANTIZER
VPX_CTRL_USE_TYPE
(
VP8E_GET_LAST_QUANTIZER_64
int
*
)
#
define
VPX_CTRL_VP8E_GET_LAST_QUANTIZER_64
VPX_CTRL_USE_TYPE
(
VP9E_GET_SVC_LAYER_ID
vpx_svc_layer_id_t
*
)
#
define
VPX_CTRL_VP9E_GET_SVC_LAYER_ID
VPX_CTRL_USE_TYPE
(
VP8E_SET_MAX_INTRA_BITRATE_PCT
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_MAX_INTRA_BITRATE_PCT
VPX_CTRL_USE_TYPE
(
VP8E_SET_MAX_INTER_BITRATE_PCT
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_MAX_INTER_BITRATE_PCT
VPX_CTRL_USE_TYPE
(
VP8E_SET_SCREEN_CONTENT_MODE
unsigned
int
)
#
define
VPX_CTRL_VP8E_SET_SCREEN_CONTENT_MODE
VPX_CTRL_USE_TYPE
(
VP9E_SET_GF_CBR_BOOST_PCT
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_GF_CBR_BOOST_PCT
VPX_CTRL_USE_TYPE
(
VP9E_SET_LOSSLESS
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_LOSSLESS
VPX_CTRL_USE_TYPE
(
VP9E_SET_FRAME_PARALLEL_DECODING
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_FRAME_PARALLEL_DECODING
VPX_CTRL_USE_TYPE
(
VP9E_SET_AQ_MODE
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_AQ_MODE
VPX_CTRL_USE_TYPE
(
VP9E_SET_FRAME_PERIODIC_BOOST
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_FRAME_PERIODIC_BOOST
VPX_CTRL_USE_TYPE
(
VP9E_SET_NOISE_SENSITIVITY
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_NOISE_SENSITIVITY
VPX_CTRL_USE_TYPE
(
VP9E_SET_TUNE_CONTENT
int
)
#
define
VPX_CTRL_VP9E_SET_TUNE_CONTENT
VPX_CTRL_USE_TYPE
(
VP9E_SET_COLOR_SPACE
int
)
#
define
VPX_CTRL_VP9E_SET_COLOR_SPACE
VPX_CTRL_USE_TYPE
(
VP9E_SET_MIN_GF_INTERVAL
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_MIN_GF_INTERVAL
VPX_CTRL_USE_TYPE
(
VP9E_SET_MAX_GF_INTERVAL
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_MAX_GF_INTERVAL
VPX_CTRL_USE_TYPE
(
VP9E_GET_ACTIVEMAP
vpx_active_map_t
*
)
#
define
VPX_CTRL_VP9E_GET_ACTIVEMAP
VPX_CTRL_USE_TYPE
(
VP9E_SET_COLOR_RANGE
int
)
#
define
VPX_CTRL_VP9E_SET_COLOR_RANGE
VPX_CTRL_USE_TYPE
(
VP9E_SET_SVC_REF_FRAME_CONFIG
vpx_svc_ref_frame_config_t
*
)
#
define
VPX_CTRL_VP9E_SET_SVC_REF_FRAME_CONFIG
VPX_CTRL_USE_TYPE
(
VP9E_SET_RENDER_SIZE
int
*
)
#
define
VPX_CTRL_VP9E_SET_RENDER_SIZE
VPX_CTRL_USE_TYPE
(
VP9E_SET_TARGET_LEVEL
unsigned
int
)
#
define
VPX_CTRL_VP9E_SET_TARGET_LEVEL
VPX_CTRL_USE_TYPE
(
VP9E_GET_LEVEL
int
*
)
#
define
VPX_CTRL_VP9E_GET_LEVEL
#
ifdef
__cplusplus
}
#
endif
#
endif

#
ifdef
HAVE_CONFIG_H
#
include
"
config
.
h
"
#
endif
#
include
"
main
.
h
"
#
ifdef
ENABLE_OSCE
#
include
"
osce
.
h
"
#
endif
#
include
"
structs
.
h
"
opus_int
silk_reset_decoder
(
silk_decoder_state
*
psDec
)
{
silk_memset
(
&
psDec
-
>
SILK_DECODER_STATE_RESET_START
0
sizeof
(
silk_decoder_state
)
-
(
(
char
*
)
&
psDec
-
>
SILK_DECODER_STATE_RESET_START
-
(
char
*
)
psDec
)
)
;
psDec
-
>
first_frame_after_reset
=
1
;
psDec
-
>
prev_gain_Q16
=
65536
;
psDec
-
>
arch
=
opus_select_arch
(
)
;
silk_CNG_Reset
(
psDec
)
;
silk_PLC_Reset
(
psDec
)
;
#
ifdef
ENABLE_OSCE
osce_reset
(
&
psDec
-
>
osce
OSCE_DEFAULT_METHOD
)
;
#
endif
return
0
;
}
opus_int
silk_init_decoder
(
silk_decoder_state
*
psDec
)
{
silk_memset
(
psDec
0
sizeof
(
silk_decoder_state
)
)
;
silk_reset_decoder
(
psDec
)
;
return
(
0
)
;
}

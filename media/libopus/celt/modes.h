#
ifndef
MODES_H
#
define
MODES_H
#
include
"
opus_types
.
h
"
#
include
"
celt
.
h
"
#
include
"
arch
.
h
"
#
include
"
mdct
.
h
"
#
include
"
entenc
.
h
"
#
include
"
entdec
.
h
"
#
define
MAX_PERIOD
1024
#
define
DEC_PITCH_BUF_SIZE
2048
typedef
struct
{
int
size
;
const
opus_int16
*
index
;
const
unsigned
char
*
bits
;
const
unsigned
char
*
caps
;
}
PulseCache
;
struct
OpusCustomMode
{
opus_int32
Fs
;
int
overlap
;
int
nbEBands
;
int
effEBands
;
opus_val16
preemph
[
4
]
;
const
opus_int16
*
eBands
;
int
maxLM
;
int
nbShortMdcts
;
int
shortMdctSize
;
int
nbAllocVectors
;
const
unsigned
char
*
allocVectors
;
const
opus_int16
*
logN
;
const
celt_coef
*
window
;
mdct_lookup
mdct
;
PulseCache
cache
;
#
ifdef
ENABLE_QEXT
PulseCache
qext_cache
;
#
endif
}
;
#
ifdef
ENABLE_QEXT
#
define
QEXT_PACKET_SIZE_CAP
3825
#
define
NB_QEXT_BANDS
14
void
compute_qext_mode
(
CELTMode
*
qext
const
CELTMode
*
m
)
;
#
endif
#
endif

#
ifndef
DOM_MEDIA_PLATFORM_WMF_CLEARKEY_WMFCLEARKEYCDMFACTORY_H
#
define
DOM_MEDIA_PLATFORM_WMF_CLEARKEY_WMFCLEARKEYCDMFACTORY_H
#
include
<
mfidl
.
h
>
#
include
<
windows
.
h
>
#
include
<
wrl
.
h
>
#
include
"
MFCDMExtra
.
h
"
namespace
mozilla
{
class
WMFClearKeyCDMFactory
final
:
public
Microsoft
:
:
WRL
:
:
RuntimeClass
<
Microsoft
:
:
WRL
:
:
RuntimeClassFlags
<
Microsoft
:
:
WRL
:
:
WinRtClassicComMix
>
Microsoft
:
:
WRL
:
:
CloakedIid
<
IMFContentDecryptionModuleFactory
>
Microsoft
:
:
WRL
:
:
CloakedIid
<
IMFExtendedDRMTypeSupport
>
Microsoft
:
:
WRL
:
:
FtmBase
>
{
InspectableClass
(
L
"
org
.
w3
.
clearkey
"
BaseTrust
)
;
public
:
WMFClearKeyCDMFactory
(
)
=
default
;
~
WMFClearKeyCDMFactory
(
)
=
default
;
WMFClearKeyCDMFactory
(
const
WMFClearKeyCDMFactory
&
)
=
delete
;
WMFClearKeyCDMFactory
&
operator
=
(
const
WMFClearKeyCDMFactory
&
)
=
delete
;
HRESULT
RuntimeClassInitialize
(
)
{
return
S_OK
;
}
STDMETHODIMP_
(
BOOL
)
IsTypeSupported
(
LPCWSTR
aKeySystem
LPCWSTR
aContentType
)
override
;
STDMETHODIMP
CreateContentDecryptionModuleAccess
(
LPCWSTR
aKeySystem
IPropertyStore
*
*
aConfigurations
DWORD
aNumConfigurations
IMFContentDecryptionModuleAccess
*
*
aCdmAccess
)
override
;
STDMETHODIMP
IsTypeSupportedEx
(
BSTR
aType
BSTR
aKeySystem
MF_MEDIA_ENGINE_CANPLAY
*
aPAnswer
)
override
;
}
;
}
#
endif

#
ifndef
AVUTIL_THREAD_H
#
define
AVUTIL_THREAD_H
#
include
"
config
.
h
"
#
if
HAVE_PTHREADS
|
|
HAVE_W32THREADS
|
|
HAVE_OS2THREADS
#
define
USE_ATOMICS
0
#
if
HAVE_PTHREADS
#
include
<
pthread
.
h
>
#
elif
HAVE_OS2THREADS
#
include
"
compat
/
os2threads
.
h
"
#
else
#
include
"
compat
/
w32pthreads
.
h
"
#
endif
#
define
AVMutex
pthread_mutex_t
#
define
ff_mutex_init
pthread_mutex_init
#
define
ff_mutex_lock
pthread_mutex_lock
#
define
ff_mutex_unlock
pthread_mutex_unlock
#
define
ff_mutex_destroy
pthread_mutex_destroy
#
else
#
define
USE_ATOMICS
1
#
define
AVMutex
char
#
define
ff_mutex_init
(
mutex
attr
)
(
0
)
#
define
ff_mutex_lock
(
mutex
)
(
0
)
#
define
ff_mutex_unlock
(
mutex
)
(
0
)
#
define
ff_mutex_destroy
(
mutex
)
(
0
)
#
endif
#
endif

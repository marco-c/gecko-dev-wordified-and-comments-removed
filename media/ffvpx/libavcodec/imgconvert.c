#
include
"
avcodec
.
h
"
#
include
"
libavutil
/
pixdesc
.
h
"
#
include
"
libavutil
/
pixfmt
.
h
"
enum
AVPixelFormat
avcodec_find_best_pix_fmt_of_list
(
const
enum
AVPixelFormat
*
pix_fmt_list
enum
AVPixelFormat
src_pix_fmt
int
has_alpha
int
*
loss_ptr
)
{
int
i
;
enum
AVPixelFormat
best
=
AV_PIX_FMT_NONE
;
int
loss
;
for
(
i
=
0
;
pix_fmt_list
[
i
]
!
=
AV_PIX_FMT_NONE
;
i
+
+
)
{
loss
=
loss_ptr
?
*
loss_ptr
:
0
;
best
=
av_find_best_pix_fmt_of_2
(
best
pix_fmt_list
[
i
]
src_pix_fmt
has_alpha
&
loss
)
;
}
if
(
loss_ptr
)
*
loss_ptr
=
loss
;
return
best
;
}

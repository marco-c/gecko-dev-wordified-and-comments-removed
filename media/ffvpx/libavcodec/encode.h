#
ifndef
AVCODEC_ENCODE_H
#
define
AVCODEC_ENCODE_H
#
include
"
libavutil
/
frame
.
h
"
#
include
"
avcodec
.
h
"
#
include
"
packet
.
h
"
int
ff_encode_get_frame
(
AVCodecContext
*
avctx
AVFrame
*
frame
)
;
int
ff_get_encode_buffer
(
AVCodecContext
*
avctx
AVPacket
*
avpkt
int64_t
size
int
flags
)
;
int
ff_encode_alloc_frame
(
AVCodecContext
*
avctx
AVFrame
*
frame
)
;
int
ff_alloc_packet
(
AVCodecContext
*
avctx
AVPacket
*
avpkt
int64_t
size
)
;
int
ff_encode_reordered_opaque
(
AVCodecContext
*
avctx
AVPacket
*
pkt
const
AVFrame
*
frame
)
;
int
ff_encode_encode_cb
(
AVCodecContext
*
avctx
AVPacket
*
avpkt
AVFrame
*
frame
int
*
got_packet
)
;
AVCPBProperties
*
ff_encode_add_cpb_side_data
(
AVCodecContext
*
avctx
)
;
static
av_always_inline
int64_t
ff_samples_to_time_base
(
const
AVCodecContext
*
avctx
int64_t
samples
)
{
if
(
samples
=
=
AV_NOPTS_VALUE
)
return
AV_NOPTS_VALUE
;
return
av_rescale_q
(
samples
(
AVRational
)
{
1
avctx
-
>
sample_rate
}
avctx
-
>
time_base
)
;
}
#
endif

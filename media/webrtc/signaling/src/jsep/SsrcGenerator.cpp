#
include
"
signaling
/
src
/
jsep
/
SsrcGenerator
.
h
"
#
include
"
pk11pub
.
h
"
namespace
mozilla
{
bool
SsrcGenerator
:
:
GenerateSsrc
(
uint32_t
*
ssrc
)
{
do
{
SECStatus
rv
=
PK11_GenerateRandom
(
reinterpret_cast
<
unsigned
char
*
>
(
ssrc
)
sizeof
(
uint32_t
)
)
;
if
(
rv
!
=
SECSuccess
)
{
return
false
;
}
}
while
(
mSsrcs
.
count
(
*
ssrc
)
)
;
mSsrcs
.
insert
(
*
ssrc
)
;
return
true
;
}
}

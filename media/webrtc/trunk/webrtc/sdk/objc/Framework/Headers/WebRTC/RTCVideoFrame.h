#
import
<
AVFoundation
/
AVFoundation
.
h
>
#
import
<
Foundation
/
Foundation
.
h
>
#
import
<
WebRTC
/
RTCMacros
.
h
>
NS_ASSUME_NONNULL_BEGIN
typedef
NS_ENUM
(
NSInteger
RTCVideoRotation
)
{
RTCVideoRotation_0
=
0
RTCVideoRotation_90
=
90
RTCVideoRotation_180
=
180
RTCVideoRotation_270
=
270
}
;
protocol
RTCVideoFrameBuffer
;
RTC_EXPORT
interface
RTCVideoFrame
:
NSObject
property
(
nonatomic
readonly
)
int
width
;
property
(
nonatomic
readonly
)
int
height
;
property
(
nonatomic
readonly
)
RTCVideoRotation
rotation
;
property
(
nonatomic
readonly
)
int64_t
timeStampNs
;
property
(
nonatomic
assign
)
int32_t
timeStamp
;
property
(
nonatomic
readonly
)
id
<
RTCVideoFrameBuffer
>
buffer
;
-
(
instancetype
)
init
NS_UNAVAILABLE
;
-
(
instancetype
)
new
NS_UNAVAILABLE
;
-
(
instancetype
)
initWithPixelBuffer
:
(
CVPixelBufferRef
)
pixelBuffer
rotation
:
(
RTCVideoRotation
)
rotation
timeStampNs
:
(
int64_t
)
timeStampNs
DEPRECATED_MSG_ATTRIBUTE
(
"
use
initWithBuffer
instead
"
)
;
-
(
instancetype
)
initWithPixelBuffer
:
(
CVPixelBufferRef
)
pixelBuffer
scaledWidth
:
(
int
)
scaledWidth
scaledHeight
:
(
int
)
scaledHeight
cropWidth
:
(
int
)
cropWidth
cropHeight
:
(
int
)
cropHeight
cropX
:
(
int
)
cropX
cropY
:
(
int
)
cropY
rotation
:
(
RTCVideoRotation
)
rotation
timeStampNs
:
(
int64_t
)
timeStampNs
DEPRECATED_MSG_ATTRIBUTE
(
"
use
initWithBuffer
instead
"
)
;
-
(
instancetype
)
initWithBuffer
:
(
id
<
RTCVideoFrameBuffer
>
)
frameBuffer
rotation
:
(
RTCVideoRotation
)
rotation
timeStampNs
:
(
int64_t
)
timeStampNs
;
-
(
RTCVideoFrame
*
)
newI420VideoFrame
;
end
NS_ASSUME_NONNULL_END

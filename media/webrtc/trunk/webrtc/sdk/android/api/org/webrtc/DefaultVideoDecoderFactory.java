package
org
.
webrtc
;
public
class
DefaultVideoDecoderFactory
implements
VideoDecoderFactory
{
private
final
HardwareVideoDecoderFactory
hardwareVideoDecoderFactory
;
private
final
SoftwareVideoDecoderFactory
softwareVideoDecoderFactory
;
public
DefaultVideoDecoderFactory
(
EglBase
.
Context
eglContext
)
{
hardwareVideoDecoderFactory
=
new
HardwareVideoDecoderFactory
(
eglContext
false
)
;
softwareVideoDecoderFactory
=
new
SoftwareVideoDecoderFactory
(
)
;
}
Override
public
VideoDecoder
createDecoder
(
String
codecType
)
{
VideoDecoder
decoder
=
hardwareVideoDecoderFactory
.
createDecoder
(
codecType
)
;
if
(
decoder
!
=
null
)
{
return
decoder
;
}
return
softwareVideoDecoderFactory
.
createDecoder
(
codecType
)
;
}
}

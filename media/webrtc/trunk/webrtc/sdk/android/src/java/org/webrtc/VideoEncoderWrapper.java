package
org
.
webrtc
;
import
org
.
webrtc
.
VideoEncoder
;
import
java
.
nio
.
ByteBuffer
;
class
VideoEncoderWrapper
{
CalledByNative
static
boolean
getScalingSettingsOn
(
VideoEncoder
.
ScalingSettings
scalingSettings
)
{
return
scalingSettings
.
on
;
}
CalledByNative
static
Integer
getScalingSettingsLow
(
VideoEncoder
.
ScalingSettings
scalingSettings
)
{
return
scalingSettings
.
low
;
}
CalledByNative
static
Integer
getScalingSettingsHigh
(
VideoEncoder
.
ScalingSettings
scalingSettings
)
{
return
scalingSettings
.
high
;
}
CalledByNative
static
VideoEncoder
.
Callback
createEncoderCallback
(
final
long
nativeEncoder
)
{
return
(
EncodedImage
frame
VideoEncoder
.
CodecSpecificInfo
info
)
-
>
nativeOnEncodedFrame
(
nativeEncoder
frame
.
buffer
frame
.
encodedWidth
frame
.
encodedHeight
frame
.
captureTimeNs
frame
.
frameType
.
getNative
(
)
frame
.
rotation
frame
.
completeFrame
frame
.
qp
)
;
}
NativeClassQualifiedName
(
"
webrtc
:
:
jni
:
:
VideoEncoderWrapper
"
)
private
static
native
void
nativeOnEncodedFrame
(
long
nativeEncoder
ByteBuffer
buffer
int
encodedWidth
int
encodedHeight
long
captureTimeNs
int
frameType
int
rotation
boolean
completeFrame
Integer
qp
)
;
}

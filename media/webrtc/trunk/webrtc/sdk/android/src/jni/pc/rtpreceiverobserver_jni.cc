#
include
"
sdk
/
android
/
src
/
jni
/
pc
/
rtpreceiverobserver_jni
.
h
"
#
include
"
sdk
/
android
/
src
/
jni
/
pc
/
java_native_conversion
.
h
"
namespace
webrtc
{
namespace
jni
{
void
RtpReceiverObserverJni
:
:
OnFirstPacketReceived
(
cricket
:
:
MediaType
media_type
)
{
JNIEnv
*
const
jni
=
AttachCurrentThreadIfNeeded
(
)
;
jmethodID
j_on_first_packet_received_mid
=
GetMethodID
(
jni
GetObjectClass
(
jni
*
j_observer_global_
)
"
onFirstPacketReceived
"
"
(
Lorg
/
webrtc
/
MediaStreamTrack
MediaType
;
)
V
"
)
;
jobject
JavaMediaType
=
NativeToJavaMediaType
(
jni
media_type
)
;
jni
-
>
CallVoidMethod
(
*
j_observer_global_
j_on_first_packet_received_mid
JavaMediaType
)
;
CHECK_EXCEPTION
(
jni
)
<
<
"
error
during
CallVoidMethod
"
;
}
}
}

#
include
<
memory
>
#
include
"
modules
/
audio_processing
/
include
/
audio_processing
.
h
"
#
include
"
rtc_base
/
scoped_ref_ptr
.
h
"
#
include
"
sdk
/
android
/
src
/
jni
/
jni_helpers
.
h
"
namespace
webrtc
{
namespace
jni
{
JNI_FUNCTION_DECLARATION
(
jlong
DefaultAudioProcessingFactory_nativeCreateAudioProcessing
JNIEnv
*
jclass
jlong
native_post_processor
)
{
std
:
:
unique_ptr
<
PostProcessing
>
post_processor
(
reinterpret_cast
<
PostProcessing
*
>
(
native_post_processor
)
)
;
rtc
:
:
scoped_refptr
<
AudioProcessing
>
audio_processing
=
AudioProcessing
:
:
Create
(
webrtc
:
:
Config
(
)
std
:
:
move
(
post_processor
)
nullptr
nullptr
)
;
return
jlongFromPointer
(
audio_processing
.
release
(
)
)
;
}
}
}

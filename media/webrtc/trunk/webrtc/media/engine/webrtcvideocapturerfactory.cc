#
include
<
memory
>
#
include
"
webrtc
/
media
/
engine
/
webrtcvideocapturer
.
h
"
#
include
"
webrtc
/
media
/
engine
/
webrtcvideocapturerfactory
.
h
"
namespace
cricket
{
VideoCapturer
*
WebRtcVideoDeviceCapturerFactory
:
:
Create
(
const
Device
&
device
)
{
#
ifdef
HAVE_WEBRTC_VIDEO
std
:
:
unique_ptr
<
WebRtcVideoCapturer
>
capturer
(
new
WebRtcVideoCapturer
(
)
)
;
if
(
!
capturer
-
>
Init
(
device
)
)
{
return
nullptr
;
}
return
capturer
.
release
(
)
;
#
else
return
nullptr
;
#
endif
}
}

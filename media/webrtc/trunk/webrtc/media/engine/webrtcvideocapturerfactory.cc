#
include
<
memory
>
#
include
<
utility
>
#
include
"
media
/
engine
/
webrtcvideocapturer
.
h
"
#
include
"
media
/
engine
/
webrtcvideocapturerfactory
.
h
"
namespace
cricket
{
std
:
:
unique_ptr
<
VideoCapturer
>
WebRtcVideoDeviceCapturerFactory
:
:
Create
(
const
Device
&
device
)
{
#
ifdef
HAVE_WEBRTC_VIDEO
std
:
:
unique_ptr
<
WebRtcVideoCapturer
>
capturer
(
new
WebRtcVideoCapturer
(
)
)
;
if
(
!
capturer
-
>
Init
(
device
)
)
{
return
std
:
:
unique_ptr
<
VideoCapturer
>
(
)
;
}
return
std
:
:
move
(
capturer
)
;
#
else
return
std
:
:
unique_ptr
<
VideoCapturer
>
(
)
;
#
endif
}
}

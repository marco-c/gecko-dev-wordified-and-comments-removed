#
ifndef
WEBRTC_MEDIA_DEVICES_GTKVIDEORENDERER_H_
#
define
WEBRTC_MEDIA_DEVICES_GTKVIDEORENDERER_H_
#
include
<
stdint
.
h
>
#
include
<
memory
>
#
include
"
webrtc
/
media
/
base
/
videosinkinterface
.
h
"
typedef
struct
_GtkWidget
GtkWidget
;
namespace
webrtc
{
class
VideoFrame
;
}
namespace
cricket
{
class
GtkVideoRenderer
:
public
rtc
:
:
VideoSinkInterface
<
webrtc
:
:
VideoFrame
>
{
public
:
GtkVideoRenderer
(
int
x
int
y
)
;
virtual
~
GtkVideoRenderer
(
)
;
void
OnFrame
(
const
webrtc
:
:
VideoFrame
&
frame
)
override
;
private
:
bool
SetSize
(
int
width
int
height
)
;
bool
Initialize
(
int
width
int
height
)
;
void
Pump
(
)
;
bool
IsClosed
(
)
const
;
std
:
:
unique_ptr
<
uint8_t
[
]
>
image_
;
GtkWidget
*
window_
;
GtkWidget
*
draw_area_
;
int
initial_x_
;
int
initial_y_
;
int
width_
;
int
height_
;
}
;
}
#
endif

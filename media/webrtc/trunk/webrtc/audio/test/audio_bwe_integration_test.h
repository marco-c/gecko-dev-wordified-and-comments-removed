#
ifndef
AUDIO_TEST_AUDIO_BWE_INTEGRATION_TEST_H_
#
define
AUDIO_TEST_AUDIO_BWE_INTEGRATION_TEST_H_
#
include
<
memory
>
#
include
<
string
>
#
include
"
test
/
call_test
.
h
"
#
include
"
test
/
fake_audio_device
.
h
"
#
include
"
test
/
single_threaded_task_queue
.
h
"
namespace
webrtc
{
namespace
test
{
class
AudioBweTest
:
public
test
:
:
EndToEndTest
{
public
:
AudioBweTest
(
)
;
protected
:
virtual
std
:
:
string
AudioInputFile
(
)
=
0
;
virtual
FakeNetworkPipe
:
:
Config
GetNetworkPipeConfig
(
)
=
0
;
size_t
GetNumVideoStreams
(
)
const
override
;
size_t
GetNumAudioStreams
(
)
const
override
;
size_t
GetNumFlexfecStreams
(
)
const
override
;
std
:
:
unique_ptr
<
test
:
:
FakeAudioDevice
:
:
Capturer
>
CreateCapturer
(
)
override
;
void
OnFakeAudioDevicesCreated
(
test
:
:
FakeAudioDevice
*
send_audio_device
test
:
:
FakeAudioDevice
*
recv_audio_device
)
override
;
test
:
:
PacketTransport
*
CreateSendTransport
(
SingleThreadedTaskQueueForTesting
*
task_queue
Call
*
sender_call
)
override
;
test
:
:
PacketTransport
*
CreateReceiveTransport
(
SingleThreadedTaskQueueForTesting
*
task_queue
)
override
;
void
PerformTest
(
)
override
;
private
:
test
:
:
FakeAudioDevice
*
send_audio_device_
;
}
;
}
}
#
endif

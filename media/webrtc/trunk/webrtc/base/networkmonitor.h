#
ifndef
WEBRTC_BASE_NETWORKMONITOR_H_
#
define
WEBRTC_BASE_NETWORKMONITOR_H_
#
include
"
webrtc
/
base
/
logging
.
h
"
#
include
"
webrtc
/
base
/
scoped_ptr
.
h
"
#
include
"
webrtc
/
base
/
sigslot
.
h
"
#
include
"
webrtc
/
base
/
thread
.
h
"
namespace
rtc
{
class
NetworkMonitorInterface
{
public
:
NetworkMonitorInterface
(
)
;
virtual
~
NetworkMonitorInterface
(
)
;
sigslot
:
:
signal0
<
>
SignalNetworksChanged
;
virtual
void
Start
(
)
=
0
;
virtual
void
Stop
(
)
=
0
;
virtual
void
OnNetworksChanged
(
)
=
0
;
}
;
class
NetworkMonitorBase
:
public
NetworkMonitorInterface
public
MessageHandler
public
sigslot
:
:
has_slots
<
>
{
public
:
NetworkMonitorBase
(
)
;
~
NetworkMonitorBase
(
)
override
;
void
OnNetworksChanged
(
)
override
;
void
OnMessage
(
Message
*
msg
)
override
;
private
:
Thread
*
thread_
;
}
;
class
NetworkMonitorFactory
{
public
:
static
void
SetFactory
(
NetworkMonitorFactory
*
factory
)
;
static
void
ReleaseFactory
(
NetworkMonitorFactory
*
factory
)
;
static
NetworkMonitorFactory
*
GetFactory
(
)
;
virtual
NetworkMonitorInterface
*
CreateNetworkMonitor
(
)
=
0
;
virtual
~
NetworkMonitorFactory
(
)
;
protected
:
NetworkMonitorFactory
(
)
;
}
;
}
#
endif

#
ifndef
WEBRTC_BASE_ONETIMEEVENT_H_
#
define
WEBRTC_BASE_ONETIMEEVENT_H_
#
include
"
webrtc
/
base
/
criticalsection
.
h
"
#
include
"
webrtc
/
typedefs
.
h
"
namespace
webrtc
{
class
OneTimeEvent
{
public
:
OneTimeEvent
(
)
{
}
bool
operator
(
)
(
)
{
rtc
:
:
CritScope
cs
(
&
critsect_
)
;
if
(
happened_
)
{
return
false
;
}
happened_
=
true
;
return
true
;
}
private
:
bool
happened_
=
false
;
rtc
:
:
CriticalSection
critsect_
;
}
;
class
ThreadUnsafeOneTimeEvent
{
public
:
ThreadUnsafeOneTimeEvent
(
)
{
}
bool
operator
(
)
(
)
{
if
(
happened_
)
{
return
false
;
}
happened_
=
true
;
return
true
;
}
private
:
bool
happened_
=
false
;
}
;
}
#
endif

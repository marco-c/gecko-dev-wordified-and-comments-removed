#
ifndef
WEBRTC_TEST_LAYER_FILTERING_TRANSPORT_H_
#
define
WEBRTC_TEST_LAYER_FILTERING_TRANSPORT_H_
#
include
"
webrtc
/
call
/
call
.
h
"
#
include
"
webrtc
/
test
/
direct_transport
.
h
"
#
include
"
webrtc
/
test
/
fake_network_pipe
.
h
"
#
include
<
map
>
namespace
webrtc
{
namespace
test
{
class
LayerFilteringTransport
:
public
test
:
:
DirectTransport
{
public
:
LayerFilteringTransport
(
const
FakeNetworkPipe
:
:
Config
&
config
Call
*
send_call
uint8_t
vp8_video_payload_type
uint8_t
vp9_video_payload_type
int
selected_tl
int
selected_sl
)
;
bool
DiscardedLastPacket
(
)
const
;
bool
SendRtp
(
const
uint8_t
*
data
size_t
length
const
PacketOptions
&
options
)
override
;
private
:
const
uint8_t
vp8_video_payload_type_
;
const
uint8_t
vp9_video_payload_type_
;
const
int
selected_tl_
;
const
int
selected_sl_
;
bool
discarded_last_packet_
;
}
;
}
}
#
endif

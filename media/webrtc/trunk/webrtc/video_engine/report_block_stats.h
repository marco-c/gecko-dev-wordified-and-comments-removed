#
ifndef
WEBRTC_VIDEO_ENGINE_REPORT_BLOCK_STATS_H_
#
define
WEBRTC_VIDEO_ENGINE_REPORT_BLOCK_STATS_H_
#
include
<
map
>
#
include
<
vector
>
#
include
"
webrtc
/
common_types
.
h
"
#
include
"
webrtc
/
modules
/
rtp_rtcp
/
interface
/
rtp_rtcp_defines
.
h
"
namespace
webrtc
{
class
ReportBlockStats
{
public
:
typedef
std
:
:
map
<
uint32_t
RTCPReportBlock
>
ReportBlockMap
;
typedef
std
:
:
vector
<
RTCPReportBlock
>
ReportBlockVector
;
ReportBlockStats
(
)
;
~
ReportBlockStats
(
)
{
}
RTCPReportBlock
AggregateAndStore
(
const
ReportBlockVector
&
report_blocks
)
;
void
Store
(
const
RtcpStatistics
&
rtcp_stats
uint32_t
remote_ssrc
uint32_t
source_ssrc
)
;
int
FractionLostInPercent
(
)
const
;
private
:
void
StoreAndAddPacketIncrement
(
const
RTCPReportBlock
&
report_block
uint32_t
*
num_sequence_numbers
uint32_t
*
num_lost_sequence_numbers
)
;
uint32_t
num_sequence_numbers_
;
uint32_t
num_lost_sequence_numbers_
;
ReportBlockMap
prev_report_blocks_
;
}
;
}
#
endif

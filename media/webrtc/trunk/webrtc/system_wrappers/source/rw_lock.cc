#
include
"
webrtc
/
system_wrappers
/
include
/
rw_lock_wrapper
.
h
"
#
include
<
assert
.
h
>
#
if
defined
(
_WIN32
)
#
include
"
webrtc
/
system_wrappers
/
source
/
rw_lock_win
.
h
"
#
include
"
webrtc
/
system_wrappers
/
source
/
rw_lock_winxp_win
.
h
"
#
else
#
include
"
webrtc
/
system_wrappers
/
source
/
rw_lock_posix
.
h
"
#
endif
namespace
webrtc
{
RWLockWrapper
*
RWLockWrapper
:
:
CreateRWLock
(
)
{
#
ifdef
_WIN32
RWLockWrapper
*
lock
=
RWLockWin
:
:
Create
(
)
;
if
(
lock
)
{
return
lock
;
}
return
new
RWLockWinXP
(
)
;
#
else
return
RWLockPosix
:
:
Create
(
)
;
#
endif
}
}

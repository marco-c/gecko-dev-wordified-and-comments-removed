#
ifndef
WEBRTC_SYSTEM_WRAPPERS_INTERFACE_THREAD_WRAPPER_H_
#
define
WEBRTC_SYSTEM_WRAPPERS_INTERFACE_THREAD_WRAPPER_H_
#
if
defined
(
WEBRTC_WIN
)
#
include
<
windows
.
h
>
#
endif
#
include
"
webrtc
/
base
/
scoped_ptr
.
h
"
#
include
"
webrtc
/
common_types
.
h
"
#
include
"
webrtc
/
typedefs
.
h
"
namespace
webrtc
{
typedef
bool
(
*
ThreadRunFunction
)
(
void
*
)
;
enum
ThreadPriority
{
#
ifdef
WEBRTC_WIN
kLowPriority
=
THREAD_PRIORITY_BELOW_NORMAL
kNormalPriority
=
THREAD_PRIORITY_NORMAL
kHighPriority
=
THREAD_PRIORITY_ABOVE_NORMAL
kHighestPriority
=
THREAD_PRIORITY_HIGHEST
kRealtimePriority
=
THREAD_PRIORITY_TIME_CRITICAL
#
else
kLowPriority
=
1
kNormalPriority
=
2
kHighPriority
=
3
kHighestPriority
=
4
kRealtimePriority
=
5
#
endif
}
;
class
ThreadWrapper
{
public
:
virtual
~
ThreadWrapper
(
)
{
}
static
rtc
:
:
scoped_ptr
<
ThreadWrapper
>
CreateThread
(
ThreadRunFunction
func
void
*
obj
const
char
*
thread_name
)
;
static
rtc
:
:
scoped_ptr
<
ThreadWrapper
>
CreateUIThread
(
ThreadRunFunction
func
void
*
obj
const
char
*
thread_name
)
;
static
uint32_t
GetThreadId
(
)
;
virtual
bool
Start
(
)
=
0
;
virtual
bool
Stop
(
)
=
0
;
virtual
bool
RequestCallbackTimer
(
unsigned
int
milliseconds
)
;
virtual
bool
SetPriority
(
ThreadPriority
priority
)
=
0
;
}
;
}
#
endif

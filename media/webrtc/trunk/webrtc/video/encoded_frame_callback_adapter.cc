#
include
"
webrtc
/
video
/
encoded_frame_callback_adapter
.
h
"
#
include
"
webrtc
/
base
/
checks
.
h
"
#
include
"
webrtc
/
modules
/
video_coding
/
encoded_frame
.
h
"
namespace
webrtc
{
namespace
internal
{
EncodedFrameCallbackAdapter
:
:
EncodedFrameCallbackAdapter
(
EncodedFrameObserver
*
observer
)
:
observer_
(
observer
)
{
}
EncodedFrameCallbackAdapter
:
:
~
EncodedFrameCallbackAdapter
(
)
{
}
int32_t
EncodedFrameCallbackAdapter
:
:
Encoded
(
const
EncodedImage
&
encodedImage
const
CodecSpecificInfo
*
codecSpecificInfo
const
RTPFragmentationHeader
*
fragmentation
)
{
RTC_DCHECK
(
observer_
!
=
nullptr
)
;
const
EncodedFrame
frame
(
encodedImage
.
_buffer
encodedImage
.
_length
encodedImage
.
_frameType
)
;
observer_
-
>
EncodedFrameCallback
(
frame
)
;
return
0
;
}
}
}

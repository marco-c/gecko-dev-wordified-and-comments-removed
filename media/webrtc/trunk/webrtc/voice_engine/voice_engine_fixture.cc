#
include
"
webrtc
/
voice_engine
/
voice_engine_fixture
.
h
"
namespace
webrtc
{
VoiceEngineFixture
:
:
VoiceEngineFixture
(
)
:
voe_
(
VoiceEngine
:
:
Create
(
)
)
base_
(
VoEBase
:
:
GetInterface
(
voe_
)
)
network_
(
VoENetwork
:
:
GetInterface
(
voe_
)
)
{
EXPECT_NE
(
nullptr
base_
)
;
EXPECT_NE
(
nullptr
network_
)
;
EXPECT_EQ
(
0
base_
-
>
RegisterVoiceEngineObserver
(
observer_
)
)
;
}
VoiceEngineFixture
:
:
~
VoiceEngineFixture
(
)
{
EXPECT_EQ
(
2
network_
-
>
Release
(
)
)
;
EXPECT_EQ
(
0
base_
-
>
DeRegisterVoiceEngineObserver
(
)
)
;
EXPECT_EQ
(
0
base_
-
>
Terminate
(
)
)
;
EXPECT_EQ
(
1
base_
-
>
Release
(
)
)
;
EXPECT_TRUE
(
VoiceEngine
:
:
Delete
(
voe_
)
)
;
}
}

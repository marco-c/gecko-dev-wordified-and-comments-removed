#
ifndef
WEBRTC_P2P_BASE_ASYNCSTUNTCPSOCKET_H_
#
define
WEBRTC_P2P_BASE_ASYNCSTUNTCPSOCKET_H_
#
include
"
webrtc
/
base
/
asynctcpsocket
.
h
"
#
include
"
webrtc
/
base
/
scoped_ptr
.
h
"
#
include
"
webrtc
/
base
/
socketfactory
.
h
"
namespace
cricket
{
class
AsyncStunTCPSocket
:
public
rtc
:
:
AsyncTCPSocketBase
{
public
:
static
AsyncStunTCPSocket
*
Create
(
rtc
:
:
AsyncSocket
*
socket
const
rtc
:
:
SocketAddress
&
bind_address
const
rtc
:
:
SocketAddress
&
remote_address
)
;
AsyncStunTCPSocket
(
rtc
:
:
AsyncSocket
*
socket
bool
listen
)
;
virtual
~
AsyncStunTCPSocket
(
)
{
}
virtual
int
Send
(
const
void
*
pv
size_t
cb
const
rtc
:
:
PacketOptions
&
options
)
;
virtual
void
ProcessInput
(
char
*
data
size_t
*
len
)
;
virtual
void
HandleIncomingConnection
(
rtc
:
:
AsyncSocket
*
socket
)
;
private
:
size_t
GetExpectedLength
(
const
void
*
data
size_t
len
int
*
pad_bytes
)
;
DISALLOW_EVIL_CONSTRUCTORS
(
AsyncStunTCPSocket
)
;
}
;
}
#
endif

#
ifndef
WEBRTC_P2P_BASE_TRANSPORTCHANNELIMPL_H_
#
define
WEBRTC_P2P_BASE_TRANSPORTCHANNELIMPL_H_
#
include
<
string
>
#
include
"
webrtc
/
p2p
/
base
/
transport
.
h
"
#
include
"
webrtc
/
p2p
/
base
/
transportchannel
.
h
"
namespace
buzz
{
class
XmlElement
;
}
namespace
cricket
{
class
Candidate
;
class
TransportChannelImpl
:
public
TransportChannel
{
public
:
explicit
TransportChannelImpl
(
const
std
:
:
string
&
content_name
int
component
)
:
TransportChannel
(
content_name
component
)
{
}
virtual
Transport
*
GetTransport
(
)
=
0
;
virtual
IceRole
GetIceRole
(
)
const
=
0
;
virtual
void
SetIceRole
(
IceRole
role
)
=
0
;
virtual
void
SetIceTiebreaker
(
uint64
tiebreaker
)
=
0
;
virtual
bool
GetIceProtocolType
(
IceProtocolType
*
type
)
const
=
0
;
virtual
void
SetIceProtocolType
(
IceProtocolType
type
)
=
0
;
virtual
void
SetIceCredentials
(
const
std
:
:
string
&
ice_ufrag
const
std
:
:
string
&
ice_pwd
)
=
0
;
virtual
void
SetRemoteIceCredentials
(
const
std
:
:
string
&
ice_ufrag
const
std
:
:
string
&
ice_pwd
)
=
0
;
virtual
void
SetRemoteIceMode
(
IceMode
mode
)
=
0
;
virtual
void
Connect
(
)
=
0
;
virtual
void
Reset
(
)
=
0
;
sigslot
:
:
signal1
<
TransportChannelImpl
*
>
SignalRequestSignaling
;
virtual
void
OnSignalingReady
(
)
=
0
;
sigslot
:
:
signal2
<
TransportChannelImpl
*
const
Candidate
&
>
SignalCandidateReady
;
virtual
void
OnCandidate
(
const
Candidate
&
candidate
)
=
0
;
virtual
bool
SetLocalIdentity
(
rtc
:
:
SSLIdentity
*
identity
)
=
0
;
virtual
bool
SetRemoteFingerprint
(
const
std
:
:
string
&
digest_alg
const
uint8
*
digest
size_t
digest_len
)
=
0
;
virtual
bool
SetSslRole
(
rtc
:
:
SSLRole
role
)
=
0
;
sigslot
:
:
signal1
<
TransportChannelImpl
*
>
SignalCandidatesAllocationDone
;
sigslot
:
:
signal1
<
TransportChannelImpl
*
>
SignalRoleConflict
;
sigslot
:
:
signal1
<
TransportChannelImpl
*
>
SignalConnectionRemoved
;
private
:
DISALLOW_EVIL_CONSTRUCTORS
(
TransportChannelImpl
)
;
}
;
}
#
endif

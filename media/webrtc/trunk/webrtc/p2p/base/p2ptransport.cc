#
include
"
webrtc
/
p2p
/
base
/
p2ptransport
.
h
"
#
include
<
string
>
#
include
"
webrtc
/
base
/
base64
.
h
"
#
include
"
webrtc
/
base
/
common
.
h
"
#
include
"
webrtc
/
base
/
stringencode
.
h
"
#
include
"
webrtc
/
base
/
stringutils
.
h
"
#
include
"
webrtc
/
p2p
/
base
/
p2ptransportchannel
.
h
"
namespace
cricket
{
P2PTransport
:
:
P2PTransport
(
rtc
:
:
Thread
*
signaling_thread
rtc
:
:
Thread
*
worker_thread
const
std
:
:
string
&
content_name
PortAllocator
*
allocator
)
:
Transport
(
signaling_thread
worker_thread
content_name
NS_GINGLE_P2P
allocator
)
{
}
P2PTransport
:
:
~
P2PTransport
(
)
{
DestroyAllChannels
(
)
;
}
TransportChannelImpl
*
P2PTransport
:
:
CreateTransportChannel
(
int
component
)
{
return
new
P2PTransportChannel
(
content_name
(
)
component
this
port_allocator
(
)
)
;
}
void
P2PTransport
:
:
DestroyTransportChannel
(
TransportChannelImpl
*
channel
)
{
delete
channel
;
}
}

#
include
<
string
>
#
include
"
webrtc
/
p2p
/
base
/
rawtransport
.
h
"
#
include
"
webrtc
/
p2p
/
base
/
rawtransportchannel
.
h
"
#
include
"
webrtc
/
base
/
common
.
h
"
#
if
defined
(
FEATURE_ENABLE_PSTN
)
namespace
cricket
{
RawTransport
:
:
RawTransport
(
rtc
:
:
Thread
*
signaling_thread
rtc
:
:
Thread
*
worker_thread
const
std
:
:
string
&
content_name
PortAllocator
*
allocator
)
:
Transport
(
signaling_thread
worker_thread
content_name
NS_GINGLE_RAW
allocator
)
{
}
RawTransport
:
:
~
RawTransport
(
)
{
DestroyAllChannels
(
)
;
}
TransportChannelImpl
*
RawTransport
:
:
CreateTransportChannel
(
int
component
)
{
return
new
RawTransportChannel
(
content_name
(
)
component
this
worker_thread
(
)
port_allocator
(
)
)
;
}
void
RawTransport
:
:
DestroyTransportChannel
(
TransportChannelImpl
*
channel
)
{
delete
channel
;
}
}
#
endif

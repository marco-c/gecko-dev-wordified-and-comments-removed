#
ifndef
WEBRTC_MODULES_BITRATE_CONTROLLER_SEND_TIME_HISTORY_H_
#
define
WEBRTC_MODULES_BITRATE_CONTROLLER_SEND_TIME_HISTORY_H_
#
include
<
map
>
#
include
"
webrtc
/
base
/
constructormagic
.
h
"
#
include
"
webrtc
/
base
/
basictypes
.
h
"
namespace
webrtc
{
class
SendTimeHistory
{
public
:
explicit
SendTimeHistory
(
int64_t
packet_age_limit
)
;
virtual
~
SendTimeHistory
(
)
;
void
AddAndRemoveOldSendTimes
(
uint16_t
sequence_number
int64_t
timestamp
)
;
bool
GetSendTime
(
uint16_t
sequence_number
int64_t
*
timestamp
bool
remove
)
;
void
Clear
(
)
;
private
:
void
EraseOld
(
int64_t
limit
)
;
void
UpdateOldestSequenceNumber
(
)
;
const
int64_t
packet_age_limit_
;
uint16_t
oldest_sequence_number_
;
std
:
:
map
<
uint16_t
int64_t
>
history_
;
DISALLOW_COPY_AND_ASSIGN
(
SendTimeHistory
)
;
}
;
}
#
endif

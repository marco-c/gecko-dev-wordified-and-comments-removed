#
ifndef
WEBRTC_MODULES_REMOTE_BITRATE_ESTIMATOR_INCLUDE_SEND_TIME_HISTORY_H_
#
define
WEBRTC_MODULES_REMOTE_BITRATE_ESTIMATOR_INCLUDE_SEND_TIME_HISTORY_H_
#
include
<
map
>
#
include
"
webrtc
/
base
/
basictypes
.
h
"
#
include
"
webrtc
/
base
/
constructormagic
.
h
"
#
include
"
webrtc
/
modules
/
include
/
module_common_types
.
h
"
namespace
webrtc
{
class
Clock
;
struct
PacketInfo
;
class
SendTimeHistory
{
public
:
SendTimeHistory
(
Clock
*
clock
int64_t
packet_age_limit_ms
)
;
~
SendTimeHistory
(
)
;
void
Clear
(
)
;
void
AddAndRemoveOld
(
uint16_t
sequence_number
size_t
payload_size
int
probe_cluster_id
)
;
bool
OnSentPacket
(
uint16_t
sequence_number
int64_t
send_time_ms
)
;
bool
GetInfo
(
PacketInfo
*
packet_info
bool
remove
)
;
private
:
Clock
*
const
clock_
;
const
int64_t
packet_age_limit_ms_
;
SequenceNumberUnwrapper
seq_num_unwrapper_
;
std
:
:
map
<
int64_t
PacketInfo
>
history_
;
RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
SendTimeHistory
)
;
}
;
}
#
endif

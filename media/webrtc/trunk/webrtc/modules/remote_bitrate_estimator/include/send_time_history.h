#
ifndef
WEBRTC_MODULES_REMOTE_BITRATE_ESTIMATOR_INCLUDE_SEND_TIME_HISTORY_H_
#
define
WEBRTC_MODULES_REMOTE_BITRATE_ESTIMATOR_INCLUDE_SEND_TIME_HISTORY_H_
#
include
<
map
>
#
include
"
webrtc
/
base
/
constructormagic
.
h
"
#
include
"
webrtc
/
base
/
basictypes
.
h
"
#
include
"
webrtc
/
modules
/
remote_bitrate_estimator
/
include
/
remote_bitrate_estimator
.
h
"
namespace
webrtc
{
class
SendTimeHistory
{
public
:
SendTimeHistory
(
Clock
*
clock
int64_t
packet_age_limit
)
;
virtual
~
SendTimeHistory
(
)
;
void
AddAndRemoveOld
(
uint16_t
sequence_number
size_t
length
bool
was_paced
)
;
bool
OnSentPacket
(
uint16_t
sequence_number
int64_t
timestamp
)
;
bool
GetInfo
(
PacketInfo
*
packet
bool
remove
)
;
void
Clear
(
)
;
private
:
void
EraseOld
(
)
;
void
UpdateOldestSequenceNumber
(
)
;
Clock
*
const
clock_
;
const
int64_t
packet_age_limit_
;
uint16_t
oldest_sequence_number_
;
std
:
:
map
<
uint16_t
PacketInfo
>
history_
;
RTC_DISALLOW_COPY_AND_ASSIGN
(
SendTimeHistory
)
;
}
;
}
#
endif

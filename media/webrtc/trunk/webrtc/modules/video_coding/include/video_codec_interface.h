#
ifndef
MODULES_VIDEO_CODING_INCLUDE_VIDEO_CODEC_INTERFACE_H_
#
define
MODULES_VIDEO_CODING_INCLUDE_VIDEO_CODEC_INTERFACE_H_
#
include
<
vector
>
#
include
"
api
/
video
/
video_frame
.
h
"
#
include
"
api
/
video_codecs
/
video_decoder
.
h
"
#
include
"
api
/
video_codecs
/
video_encoder
.
h
"
#
include
"
common_types
.
h
"
#
include
"
modules
/
include
/
module_common_types
.
h
"
#
include
"
modules
/
video_coding
/
include
/
video_error_codes
.
h
"
#
include
"
typedefs
.
h
"
namespace
webrtc
{
class
RTPFragmentationHeader
;
struct
CodecSpecificInfoVP8
{
int16_t
pictureId
;
bool
nonReference
;
uint8_t
simulcastIdx
;
uint8_t
temporalIdx
;
bool
layerSync
;
int
tl0PicIdx
;
int8_t
keyIdx
;
}
;
struct
CodecSpecificInfoVP9
{
int16_t
picture_id
;
bool
inter_pic_predicted
;
bool
flexible_mode
;
bool
ss_data_available
;
int
tl0_pic_idx
;
uint8_t
temporal_idx
;
uint8_t
spatial_idx
;
bool
temporal_up_switch
;
bool
inter_layer_predicted
;
uint8_t
gof_idx
;
size_t
num_spatial_layers
;
bool
spatial_layer_resolution_present
;
uint16_t
width
[
kMaxVp9NumberOfSpatialLayers
]
;
uint16_t
height
[
kMaxVp9NumberOfSpatialLayers
]
;
GofInfoVP9
gof
;
uint8_t
num_ref_pics
;
uint8_t
p_diff
[
kMaxVp9RefPics
]
;
}
;
struct
CodecSpecificInfoGeneric
{
uint8_t
simulcast_idx
;
}
;
struct
CodecSpecificInfoH264
{
H264PacketizationMode
packetization_mode
;
}
;
union
CodecSpecificInfoUnion
{
CodecSpecificInfoGeneric
generic
;
CodecSpecificInfoVP8
VP8
;
CodecSpecificInfoVP9
VP9
;
CodecSpecificInfoH264
H264
;
}
;
struct
CodecSpecificInfo
{
CodecSpecificInfo
(
)
:
codecType
(
kVideoCodecUnknown
)
codec_name
(
nullptr
)
{
}
VideoCodecType
codecType
;
const
char
*
codec_name
;
CodecSpecificInfoUnion
codecSpecific
;
}
;
}
#
endif

#
include
"
modules
/
video_coding
/
codecs
/
test
/
stats
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
namespace
test
{
TEST
(
StatsTest
TestEmptyObject
)
{
Stats
stats
;
stats
.
PrintSummary
(
)
;
}
TEST
(
StatsTest
AddSingleFrame
)
{
Stats
stats
;
FrameStatistic
*
frame_stat
=
stats
.
AddFrame
(
)
;
EXPECT_EQ
(
0
frame_stat
-
>
frame_number
)
;
EXPECT_EQ
(
1u
stats
.
size
(
)
)
;
}
TEST
(
StatsTest
AddMultipleFrames
)
{
Stats
stats
;
const
int
kNumFrames
=
1000
;
for
(
int
i
=
0
;
i
<
kNumFrames
;
+
+
i
)
{
FrameStatistic
*
frame_stat
=
stats
.
AddFrame
(
)
;
EXPECT_EQ
(
i
frame_stat
-
>
frame_number
)
;
}
EXPECT_EQ
(
kNumFrames
static_cast
<
int
>
(
stats
.
size
(
)
)
)
;
stats
.
PrintSummary
(
)
;
}
}
}

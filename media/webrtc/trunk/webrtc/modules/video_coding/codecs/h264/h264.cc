#
include
"
webrtc
/
modules
/
video_coding
/
codecs
/
h264
/
include
/
h264
.
h
"
#
if
defined
(
WEBRTC_IOS
)
#
include
"
webrtc
/
modules
/
video_coding
/
codecs
/
h264
/
h264_video_toolbox_decoder
.
h
"
#
include
"
webrtc
/
modules
/
video_coding
/
codecs
/
h264
/
h264_video_toolbox_encoder
.
h
"
#
endif
#
include
"
webrtc
/
base
/
checks
.
h
"
namespace
webrtc
{
#
if
defined
(
WEBRTC_IOS
)
extern
bool
IsH264CodecSupportedObjC
(
)
;
#
endif
bool
IsH264CodecSupported
(
)
{
#
if
defined
(
WEBRTC_IOS
)
return
IsH264CodecSupportedObjC
(
)
;
#
else
return
false
;
#
endif
}
H264Encoder
*
H264Encoder
:
:
Create
(
)
{
RTC_DCHECK
(
H264Encoder
:
:
IsSupported
(
)
)
;
#
if
defined
(
WEBRTC_IOS
)
&
&
defined
(
WEBRTC_VIDEO_TOOLBOX_SUPPORTED
)
return
new
H264VideoToolboxEncoder
(
)
;
#
else
RTC_NOTREACHED
(
)
;
return
nullptr
;
#
endif
}
bool
H264Encoder
:
:
IsSupported
(
)
{
return
IsH264CodecSupported
(
)
;
}
H264Decoder
*
H264Decoder
:
:
Create
(
)
{
RTC_DCHECK
(
H264Decoder
:
:
IsSupported
(
)
)
;
#
if
defined
(
WEBRTC_IOS
)
&
&
defined
(
WEBRTC_VIDEO_TOOLBOX_SUPPORTED
)
return
new
H264VideoToolboxDecoder
(
)
;
#
else
RTC_NOTREACHED
(
)
;
return
nullptr
;
#
endif
}
bool
H264Decoder
:
:
IsSupported
(
)
{
return
IsH264CodecSupported
(
)
;
}
}

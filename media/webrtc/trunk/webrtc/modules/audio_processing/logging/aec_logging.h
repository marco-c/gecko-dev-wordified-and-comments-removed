#
ifndef
WEBRTC_MODULES_AUDIO_PROCESSING_AEC_AEC_LOGGING_
#
define
WEBRTC_MODULES_AUDIO_PROCESSING_AEC_AEC_LOGGING_
#
include
<
stdio
.
h
>
#
include
"
webrtc
/
modules
/
audio_processing
/
logging
/
aec_logging_file_handling
.
h
"
#
ifdef
WEBRTC_AEC_DEBUG_DUMP
#
define
RTC_AEC_DEBUG_WAV_WRITE
(
file
data
num_samples
)
\
do
{
\
rtc_WavWriteSamples
(
file
data
num_samples
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_WAV_REOPEN
(
name
instance_index
count
\
sample_rate
wav_file
)
\
do
{
\
WebRtcAec_ReopenWav
(
name
instance_index
process_rate
sample_rate
\
wav_file
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_WAV_CLOSE
(
wav_file
)
\
do
{
\
rtc_WavClose
(
wav_file
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_WRITE
(
file
data
data_size
)
\
do
{
\
(
void
)
fwrite
(
data
data_size
1
file
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_WRITE_SCALAR_INT32
(
file
data
)
\
do
{
\
int32_t
value_to_store
=
data
;
\
(
void
)
fwrite
(
&
value_to_store
sizeof
(
value_to_store
)
1
file
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_WRITE_SCALAR_DOUBLE
(
file
data
)
\
do
{
\
double
value_to_store
=
data
;
\
(
void
)
fwrite
(
&
value_to_store
sizeof
(
value_to_store
)
1
file
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_OPEN
(
name
instance_index
counter
file
)
\
do
{
\
WebRtcAec_RawFileOpen
(
name
instance_index
counter
file
)
;
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_CLOSE
(
file
)
\
do
{
\
if
(
file
)
{
\
fclose
(
file
)
;
\
}
\
}
while
(
0
)
#
else
#
define
RTC_AEC_DEBUG_WAV_WRITE
(
file
data
num_samples
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_WAV_REOPEN
(
wav_file
name
instance_index
process_rate
\
sample_rate
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_WAV_CLOSE
(
wav_file
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_WRITE
(
file
data
data_size
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_WRITE_SCALAR_INT32
(
file
data
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_WRITE_SCALAR_DOUBLE
(
file
data
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_OPEN
(
file
name
instance_counter
)
\
do
{
\
}
while
(
0
)
#
define
RTC_AEC_DEBUG_RAW_CLOSE
(
file
)
\
do
{
\
}
while
(
0
)
#
endif
#
endif

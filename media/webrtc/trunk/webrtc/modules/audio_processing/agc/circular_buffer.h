#
ifndef
WEBRTC_MODULES_AUDIO_PROCESSING_AGC_CIRCULAR_BUFFER_H_
#
define
WEBRTC_MODULES_AUDIO_PROCESSING_AGC_CIRCULAR_BUFFER_H_
#
include
"
webrtc
/
base
/
scoped_ptr
.
h
"
namespace
webrtc
{
class
AgcCircularBuffer
{
public
:
static
AgcCircularBuffer
*
Create
(
int
buffer_size
)
;
~
AgcCircularBuffer
(
)
;
bool
is_full
(
)
const
{
return
is_full_
;
}
double
Oldest
(
)
const
;
void
Insert
(
double
value
)
;
void
Reset
(
)
;
double
Mean
(
)
;
int
RemoveTransient
(
int
width_threshold
double
val_threshold
)
;
private
:
explicit
AgcCircularBuffer
(
int
buffer_size
)
;
int
Get
(
int
index
double
*
value
)
const
;
int
Set
(
int
index
double
value
)
;
int
BufferLevel
(
)
;
int
ConvertToLinearIndex
(
int
*
index
)
const
;
rtc
:
:
scoped_ptr
<
double
[
]
>
buffer_
;
bool
is_full_
;
int
index_
;
int
buffer_size_
;
double
sum_
;
}
;
}
#
endif

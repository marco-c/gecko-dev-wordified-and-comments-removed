#
ifndef
WEBRTC_MODULES_RTP_RTCP_SOURCE_TIME_UTIL_H_
#
define
WEBRTC_MODULES_RTP_RTCP_SOURCE_TIME_UTIL_H_
#
include
"
webrtc
/
base
/
basictypes
.
h
"
#
include
"
webrtc
/
system_wrappers
/
include
/
ntp_time
.
h
"
namespace
webrtc
{
inline
uint32_t
NtpToRtp
(
NtpTime
ntp
uint32_t
freq
)
{
uint32_t
tmp
=
(
static_cast
<
uint64_t
>
(
ntp
.
fractions
(
)
)
*
freq
)
>
>
32
;
return
ntp
.
seconds
(
)
*
freq
+
tmp
;
}
inline
uint32_t
CurrentRtp
(
const
Clock
&
clock
uint32_t
freq
)
{
return
NtpToRtp
(
NtpTime
(
clock
)
freq
)
;
}
inline
uint32_t
CompactNtp
(
NtpTime
ntp
)
{
return
(
ntp
.
seconds
(
)
<
<
16
)
|
(
ntp
.
fractions
(
)
>
>
16
)
;
}
inline
uint32_t
CompactNtpIntervalToMs
(
uint32_t
compact_ntp_interval
)
{
return
static_cast
<
uint64_t
>
(
compact_ntp_interval
)
*
1000
/
(
1
<
<
16
)
;
}
}
#
endif

#
ifndef
WEBRTC_MODULES_RTP_RTCP_SOURCE_ULPFEC_RECEIVER_IMPL_H_
#
define
WEBRTC_MODULES_RTP_RTCP_SOURCE_ULPFEC_RECEIVER_IMPL_H_
#
include
<
memory
>
#
include
"
webrtc
/
base
/
criticalsection
.
h
"
#
include
"
webrtc
/
modules
/
rtp_rtcp
/
include
/
rtp_rtcp_defines
.
h
"
#
include
"
webrtc
/
modules
/
rtp_rtcp
/
include
/
ulpfec_receiver
.
h
"
#
include
"
webrtc
/
modules
/
rtp_rtcp
/
source
/
forward_error_correction
.
h
"
#
include
"
webrtc
/
typedefs
.
h
"
namespace
webrtc
{
class
UlpfecReceiverImpl
:
public
UlpfecReceiver
{
public
:
explicit
UlpfecReceiverImpl
(
RtpData
*
callback
)
;
virtual
~
UlpfecReceiverImpl
(
)
;
int32_t
AddReceivedRedPacket
(
const
RTPHeader
&
rtp_header
const
uint8_t
*
incoming_rtp_packet
size_t
packet_length
uint8_t
ulpfec_payload_type
)
override
;
int32_t
ProcessReceivedFec
(
)
override
;
FecPacketCounter
GetPacketCounter
(
)
const
override
;
private
:
rtc
:
:
CriticalSection
crit_sect_
;
RtpData
*
recovered_packet_callback_
;
std
:
:
unique_ptr
<
ForwardErrorCorrection
>
fec_
;
ForwardErrorCorrection
:
:
ReceivedPacketList
received_packets_
;
ForwardErrorCorrection
:
:
RecoveredPacketList
recovered_packets_
;
FecPacketCounter
packet_counter_
;
}
;
}
#
endif

#
include
"
defines
.
h
"
void
WebRtcIlbcfix_MyCorr
(
int32_t
*
corr
const
int16_t
*
seq1
size_t
dim1
const
int16_t
*
seq2
size_t
dim2
)
{
int16_t
max
;
size_t
loops
;
int
scale
;
max
=
WebRtcSpl_MaxAbsValueW16
(
seq1
dim1
)
;
scale
=
WebRtcSpl_GetSizeInBits
(
max
)
;
scale
=
2
*
scale
-
26
;
if
(
scale
<
0
)
{
scale
=
0
;
}
loops
=
dim1
-
dim2
+
1
;
WebRtcSpl_CrossCorrelation
(
corr
seq2
seq1
dim2
loops
scale
1
)
;
return
;
}

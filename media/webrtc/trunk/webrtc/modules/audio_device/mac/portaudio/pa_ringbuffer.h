#
ifndef
AUDIO_DEVICE_PA_RINGBUFFER_H_
#
define
AUDIO_DEVICE_PA_RINGBUFFER_H_
#
if
defined
(
__APPLE__
)
#
include
<
sys
/
types
.
h
>
typedef
int32_t
PaRingBufferSize
;
#
elif
defined
(
__GNUC__
)
typedef
long
PaRingBufferSize
;
#
elif
(
_MSC_VER
>
=
1400
)
typedef
long
PaRingBufferSize
;
#
elif
defined
(
_MSC_VER
)
|
|
defined
(
__BORLANDC__
)
typedef
long
PaRingBufferSize
;
#
else
typedef
long
PaRingBufferSize
;
#
endif
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
typedef
struct
PaUtilRingBuffer
{
PaRingBufferSize
bufferSize
;
PaRingBufferSize
writeIndex
;
PaRingBufferSize
readIndex
;
PaRingBufferSize
bigMask
;
PaRingBufferSize
smallMask
;
PaRingBufferSize
elementSizeBytes
;
char
*
buffer
;
}
PaUtilRingBuffer
;
PaRingBufferSize
PaUtil_InitializeRingBuffer
(
PaUtilRingBuffer
*
rbuf
PaRingBufferSize
elementSizeBytes
PaRingBufferSize
elementCount
void
*
dataPtr
)
;
void
PaUtil_FlushRingBuffer
(
PaUtilRingBuffer
*
rbuf
)
;
PaRingBufferSize
PaUtil_GetRingBufferWriteAvailable
(
PaUtilRingBuffer
*
rbuf
)
;
PaRingBufferSize
PaUtil_GetRingBufferReadAvailable
(
PaUtilRingBuffer
*
rbuf
)
;
PaRingBufferSize
PaUtil_WriteRingBuffer
(
PaUtilRingBuffer
*
rbuf
const
void
*
data
PaRingBufferSize
elementCount
)
;
PaRingBufferSize
PaUtil_ReadRingBuffer
(
PaUtilRingBuffer
*
rbuf
void
*
data
PaRingBufferSize
elementCount
)
;
PaRingBufferSize
PaUtil_GetRingBufferWriteRegions
(
PaUtilRingBuffer
*
rbuf
PaRingBufferSize
elementCount
void
*
*
dataPtr1
PaRingBufferSize
*
sizePtr1
void
*
*
dataPtr2
PaRingBufferSize
*
sizePtr2
)
;
PaRingBufferSize
PaUtil_AdvanceRingBufferWriteIndex
(
PaUtilRingBuffer
*
rbuf
PaRingBufferSize
elementCount
)
;
PaRingBufferSize
PaUtil_GetRingBufferReadRegions
(
PaUtilRingBuffer
*
rbuf
PaRingBufferSize
elementCount
void
*
*
dataPtr1
PaRingBufferSize
*
sizePtr1
void
*
*
dataPtr2
PaRingBufferSize
*
sizePtr2
)
;
PaRingBufferSize
PaUtil_AdvanceRingBufferReadIndex
(
PaUtilRingBuffer
*
rbuf
PaRingBufferSize
elementCount
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

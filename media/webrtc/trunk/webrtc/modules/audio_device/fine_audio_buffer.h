#
ifndef
WEBRTC_MODULES_AUDIO_DEVICE_FINE_AUDIO_BUFFER_H_
#
define
WEBRTC_MODULES_AUDIO_DEVICE_FINE_AUDIO_BUFFER_H_
#
include
"
webrtc
/
base
/
scoped_ptr
.
h
"
#
include
"
webrtc
/
typedefs
.
h
"
namespace
webrtc
{
class
AudioDeviceBuffer
;
class
FineAudioBuffer
{
public
:
FineAudioBuffer
(
AudioDeviceBuffer
*
device_buffer
size_t
desired_frame_size_bytes
int
sample_rate
)
;
~
FineAudioBuffer
(
)
;
size_t
RequiredPlayoutBufferSizeBytes
(
)
;
void
ResetPlayout
(
)
;
void
ResetRecord
(
)
;
void
GetPlayoutData
(
int8_t
*
buffer
)
;
void
DeliverRecordedData
(
const
int8_t
*
buffer
size_t
size_in_bytes
int
playout_delay_ms
int
record_delay_ms
)
;
private
:
AudioDeviceBuffer
*
const
device_buffer_
;
const
size_t
desired_frame_size_bytes_
;
const
int
sample_rate_
;
const
size_t
samples_per_10_ms_
;
const
size_t
bytes_per_10_ms_
;
rtc
:
:
scoped_ptr
<
int8_t
[
]
>
playout_cache_buffer_
;
size_t
playout_cached_buffer_start_
;
size_t
playout_cached_bytes_
;
rtc
:
:
scoped_ptr
<
int8_t
[
]
>
record_cache_buffer_
;
const
size_t
required_record_buffer_size_bytes_
;
size_t
record_cached_bytes_
;
size_t
record_read_pos_
;
size_t
record_write_pos_
;
}
;
}
#
endif

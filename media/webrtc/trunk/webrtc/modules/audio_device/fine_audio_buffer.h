#
ifndef
MODULES_AUDIO_DEVICE_FINE_AUDIO_BUFFER_H_
#
define
MODULES_AUDIO_DEVICE_FINE_AUDIO_BUFFER_H_
#
include
<
memory
>
#
include
"
api
/
array_view
.
h
"
#
include
"
rtc_base
/
buffer
.
h
"
#
include
"
typedefs
.
h
"
namespace
webrtc
{
class
AudioDeviceBuffer
;
class
FineAudioBuffer
{
public
:
FineAudioBuffer
(
AudioDeviceBuffer
*
device_buffer
int
sample_rate
size_t
capacity
)
;
~
FineAudioBuffer
(
)
;
void
ResetPlayout
(
)
;
void
ResetRecord
(
)
;
void
GetPlayoutData
(
rtc
:
:
ArrayView
<
int8_t
>
audio_buffer
)
;
void
DeliverRecordedData
(
rtc
:
:
ArrayView
<
const
int8_t
>
audio_buffer
int
playout_delay_ms
int
record_delay_ms
)
;
private
:
AudioDeviceBuffer
*
const
device_buffer_
;
const
int
sample_rate_
;
const
size_t
samples_per_10_ms_
;
const
size_t
bytes_per_10_ms_
;
rtc
:
:
BufferT
<
int8_t
>
playout_buffer_
;
rtc
:
:
BufferT
<
int8_t
>
record_buffer_
;
}
;
}
#
endif

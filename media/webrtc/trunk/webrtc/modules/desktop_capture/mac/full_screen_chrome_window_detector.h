#
ifndef
WEBRTC_MODULES_DESKTOP_CAPTURE_MAC_FULL_SCREEN_CHROME_WINDOW_DETECTOR_H_
#
define
WEBRTC_MODULES_DESKTOP_CAPTURE_MAC_FULL_SCREEN_CHROME_WINDOW_DETECTOR_H_
#
include
<
ApplicationServices
/
ApplicationServices
.
h
>
#
include
"
webrtc
/
base
/
constructormagic
.
h
"
#
include
"
webrtc
/
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
webrtc
/
system_wrappers
/
include
/
atomic32
.
h
"
namespace
webrtc
{
class
FullScreenChromeWindowDetector
{
public
:
FullScreenChromeWindowDetector
(
)
;
void
AddRef
(
)
{
+
+
ref_count_
;
}
void
Release
(
)
{
if
(
-
-
ref_count_
=
=
0
)
delete
this
;
}
CGWindowID
FindFullScreenWindow
(
CGWindowID
original_window
)
;
void
UpdateWindowListIfNeeded
(
CGWindowID
original_window
)
;
private
:
~
FullScreenChromeWindowDetector
(
)
;
Atomic32
ref_count_
;
DesktopCapturer
:
:
SourceList
current_window_list_
;
DesktopCapturer
:
:
SourceList
previous_window_list_
;
int64_t
last_update_time_ns_
;
RTC_DISALLOW_COPY_AND_ASSIGN
(
FullScreenChromeWindowDetector
)
;
}
;
}
#
endif

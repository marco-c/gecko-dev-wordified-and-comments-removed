#
include
"
webrtc
/
modules
/
desktop_capture
/
window_capturer
.
h
"
#
include
"
webrtc
/
modules
/
desktop_capture
/
app_capturer
.
h
"
#
include
<
assert
.
h
>
#
include
"
webrtc
/
modules
/
desktop_capture
/
desktop_frame
.
h
"
namespace
webrtc
{
namespace
{
class
AppCapturerNull
:
public
AppCapturer
{
public
:
AppCapturerNull
(
)
;
virtual
~
AppCapturerNull
(
)
;
virtual
bool
GetAppList
(
AppList
*
apps
)
override
;
virtual
bool
SelectApp
(
ProcessId
id
)
override
;
virtual
bool
BringAppToFront
(
)
override
;
virtual
void
Start
(
Callback
*
callback
)
override
;
virtual
void
Stop
(
)
override
;
virtual
void
Capture
(
const
DesktopRegion
&
region
)
override
;
private
:
Callback
*
callback_
;
DISALLOW_COPY_AND_ASSIGN
(
AppCapturerNull
)
;
}
;
AppCapturerNull
:
:
AppCapturerNull
(
)
:
callback_
(
NULL
)
{
}
AppCapturerNull
:
:
~
AppCapturerNull
(
)
{
}
bool
AppCapturerNull
:
:
GetAppList
(
AppList
*
apps
)
{
return
false
;
}
bool
AppCapturerNull
:
:
SelectApp
(
ProcessId
id
)
{
return
false
;
}
bool
AppCapturerNull
:
:
BringAppToFront
(
)
{
return
false
;
}
void
AppCapturerNull
:
:
Start
(
Callback
*
callback
)
{
assert
(
!
callback_
)
;
assert
(
callback
)
;
callback_
=
callback
;
}
void
AppCapturerNull
:
:
Stop
(
)
{
callback_
=
NULL
;
}
void
AppCapturerNull
:
:
Capture
(
const
DesktopRegion
&
region
)
{
callback_
-
>
OnCaptureCompleted
(
NULL
)
;
}
}
AppCapturer
*
AppCapturer
:
:
Create
(
const
DesktopCaptureOptions
&
options
)
{
return
new
AppCapturerNull
(
)
;
}
}

#
ifndef
MODULES_DESKTOP_CAPTURE_LINUX_WINDOW_LIST_UTILS_H_
#
define
MODULES_DESKTOP_CAPTURE_LINUX_WINDOW_LIST_UTILS_H_
#
include
<
X11
/
Xlib
.
h
>
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x_atom_cache
.
h
"
#
include
"
rtc_base
/
function_view
.
h
"
namespace
webrtc
{
bool
GetWindowList
(
XAtomCache
*
cache
rtc
:
:
FunctionView
<
bool
(
:
:
Window
)
>
on_window
)
;
int32_t
GetWindowState
(
XAtomCache
*
cache
:
:
Window
window
)
;
bool
GetWindowRect
(
:
:
Display
*
display
:
:
Window
window
DesktopRect
*
rect
XWindowAttributes
*
attributes
=
nullptr
)
;
template
<
typename
T
>
DesktopRect
DesktopRectFromXAttributes
(
const
T
&
attributes
)
{
return
DesktopRect
:
:
MakeXYWH
(
attributes
.
x
attributes
.
y
attributes
.
width
attributes
.
height
)
;
}
}
#
endif

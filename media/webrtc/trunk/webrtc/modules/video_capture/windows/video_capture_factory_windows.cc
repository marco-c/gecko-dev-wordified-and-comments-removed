#
include
"
modules
/
video_capture
/
windows
/
video_capture_ds
.
h
"
#
include
"
modules
/
video_capture
/
windows
/
video_capture_mf
.
h
"
#
include
"
rtc_base
/
refcount
.
h
"
#
include
"
rtc_base
/
refcountedobject
.
h
"
#
include
"
rtc_base
/
scoped_ref_ptr
.
h
"
namespace
webrtc
{
namespace
videocapturemodule
{
VideoCaptureModule
:
:
DeviceInfo
*
VideoCaptureImpl
:
:
CreateDeviceInfo
(
)
{
return
DeviceInfoDS
:
:
Create
(
)
;
}
rtc
:
:
scoped_refptr
<
VideoCaptureModule
>
VideoCaptureImpl
:
:
Create
(
const
char
*
device_id
)
{
if
(
device_id
=
=
nullptr
)
return
nullptr
;
rtc
:
:
scoped_refptr
<
VideoCaptureDS
>
capture
(
new
rtc
:
:
RefCountedObject
<
VideoCaptureDS
>
(
)
)
;
if
(
capture
-
>
Init
(
device_id
)
!
=
0
)
{
return
nullptr
;
}
return
capture
;
}
}
}

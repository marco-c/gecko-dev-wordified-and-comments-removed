#
ifndef
RTC_BASE_NETHELPERS_H_
#
define
RTC_BASE_NETHELPERS_H_
#
if
defined
(
WEBRTC_POSIX
)
#
include
<
netdb
.
h
>
#
include
<
stddef
.
h
>
#
elif
WEBRTC_WIN
#
include
<
winsock2
.
h
>
#
endif
#
include
<
list
>
#
include
"
rtc_base
/
asyncresolverinterface
.
h
"
#
include
"
rtc_base
/
signalthread
.
h
"
#
include
"
rtc_base
/
sigslot
.
h
"
#
include
"
rtc_base
/
socketaddress
.
h
"
namespace
rtc
{
class
AsyncResolverTest
;
class
AsyncResolver
:
public
SignalThread
public
AsyncResolverInterface
{
public
:
AsyncResolver
(
)
;
~
AsyncResolver
(
)
override
;
void
Start
(
const
SocketAddress
&
addr
)
override
;
bool
GetResolvedAddress
(
int
family
SocketAddress
*
addr
)
const
override
;
int
GetError
(
)
const
override
;
void
Destroy
(
bool
wait
)
override
;
const
std
:
:
vector
<
IPAddress
>
&
addresses
(
)
const
{
return
addresses_
;
}
void
set_error
(
int
error
)
{
error_
=
error
;
}
protected
:
void
DoWork
(
)
override
;
void
OnWorkDone
(
)
override
;
private
:
SocketAddress
addr_
;
std
:
:
vector
<
IPAddress
>
addresses_
;
int
error_
;
}
;
const
char
*
inet_ntop
(
int
af
const
void
*
src
char
*
dst
socklen_t
size
)
;
int
inet_pton
(
int
af
const
char
*
src
void
*
dst
)
;
bool
HasIPv4Enabled
(
)
;
bool
HasIPv6Enabled
(
)
;
}
#
endif

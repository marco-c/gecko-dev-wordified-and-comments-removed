#
ifndef
WEBRTC_CALL_RTC_EVENT_LOG_H_
#
define
WEBRTC_CALL_RTC_EVENT_LOG_H_
#
include
<
string
>
#
include
"
webrtc
/
base
/
platform_file
.
h
"
#
include
"
webrtc
/
base
/
scoped_ptr
.
h
"
#
include
"
webrtc
/
video_receive_stream
.
h
"
#
include
"
webrtc
/
video_send_stream
.
h
"
namespace
webrtc
{
namespace
rtclog
{
class
EventStream
;
}
class
RtcEventLogImpl
;
enum
class
MediaType
;
class
RtcEventLog
{
public
:
virtual
~
RtcEventLog
(
)
{
}
static
rtc
:
:
scoped_ptr
<
RtcEventLog
>
Create
(
)
;
virtual
void
SetBufferDuration
(
int64_t
buffer_duration_us
)
=
0
;
virtual
void
StartLogging
(
const
std
:
:
string
&
file_name
int
duration_ms
)
=
0
;
virtual
bool
StartLogging
(
rtc
:
:
PlatformFile
log_file
)
=
0
;
virtual
void
StopLogging
(
)
=
0
;
virtual
void
LogVideoReceiveStreamConfig
(
const
webrtc
:
:
VideoReceiveStream
:
:
Config
&
config
)
=
0
;
virtual
void
LogVideoSendStreamConfig
(
const
webrtc
:
:
VideoSendStream
:
:
Config
&
config
)
=
0
;
virtual
void
LogRtpHeader
(
bool
incoming
MediaType
media_type
const
uint8_t
*
header
size_t
packet_length
)
=
0
;
virtual
void
LogRtcpPacket
(
bool
incoming
MediaType
media_type
const
uint8_t
*
packet
size_t
length
)
=
0
;
virtual
void
LogAudioPlayout
(
uint32_t
ssrc
)
=
0
;
virtual
void
LogBwePacketLossEvent
(
int32_t
bitrate
uint8_t
fraction_loss
int32_t
total_packets
)
=
0
;
static
bool
ParseRtcEventLog
(
const
std
:
:
string
&
file_name
rtclog
:
:
EventStream
*
result
)
;
}
;
}
#
endif

from
optparse
import
OptionParser
import
glob
import
os
import
subprocess
parser
=
OptionParser
(
)
parser
.
add_option
(
'
-
-
exe
'
dest
=
'
exe
'
)
parser
.
add_option
(
'
-
-
vcbindir
'
dest
=
'
vcbindir
'
)
parser
.
add_option
(
'
-
-
pgd
'
dest
=
'
pgd
'
)
(
options
args
)
=
parser
.
parse_args
(
)
os
.
environ
[
'
PATH
'
]
=
os
.
environ
[
'
PATH
'
]
+
os
.
pathsep
+
options
.
vcbindir
subprocess
.
call
(
[
options
.
exe
]
)
subprocess
.
call
(
[
'
pgomgr
'
'
/
merge
'
options
.
pgd
]
)
pgd_file
=
os
.
path
.
abspath
(
options
.
pgd
)
pgd_dir
=
os
.
path
.
dirname
(
pgd_file
)
(
pgd_basename
_
)
=
os
.
path
.
splitext
(
os
.
path
.
basename
(
pgd_file
)
)
pgc_filepattern
=
os
.
path
.
join
(
pgd_dir
'
%
s
!
*
.
pgc
'
%
pgd_basename
)
pgc_files
=
glob
.
glob
(
pgc_filepattern
)
for
pgc_file
in
pgc_files
:
  
os
.
unlink
(
pgc_file
)

'
use
strict
'
;
addAccessibleTask
(
'
<
input
id
=
"
textbox
"
value
=
"
hello
"
/
>
'
function
*
(
browser
)
{
let
onCaretMoved
=
waitForEvent
(
EVENT_TEXT_CARET_MOVED
'
textbox
'
)
;
yield
invokeFocus
(
browser
'
textbox
'
)
;
let
event
=
yield
onCaretMoved
;
let
caretMovedEvent
=
event
.
QueryInterface
(
nsIAccessibleCaretMoveEvent
)
;
is
(
caretMovedEvent
.
caretOffset
5
'
Correct
caret
offset
.
'
)
;
}
)
;

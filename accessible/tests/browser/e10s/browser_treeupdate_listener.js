"
use
strict
"
;
loadScripts
(
{
name
:
"
role
.
js
"
dir
:
MOCHITESTS_DIR
}
)
;
addAccessibleTask
(
'
<
span
id
=
"
parent
"
>
<
span
id
=
"
child
"
>
<
/
span
>
<
/
span
>
'
async
function
(
browser
accDoc
)
{
is
(
findAccessibleChildByID
(
accDoc
"
parent
"
)
null
"
Check
that
parent
is
not
accessible
.
"
)
;
is
(
findAccessibleChildByID
(
accDoc
"
child
"
)
null
"
Check
that
child
is
not
accessible
.
"
)
;
let
onReorder
=
waitForEvent
(
EVENT_REORDER
matchContentDoc
)
;
await
invokeContentTask
(
browser
[
]
(
)
=
>
{
content
.
window
.
dummyListener
=
(
)
=
>
{
}
;
content
.
document
.
getElementById
(
"
parent
"
)
.
addEventListener
(
"
click
"
content
.
window
.
dummyListener
)
;
}
)
;
await
onReorder
;
let
tree
=
{
TEXT
:
[
]
}
;
testAccessibleTree
(
findAccessibleChildByID
(
accDoc
"
parent
"
)
tree
)
;
}
{
iframe
:
true
remoteIframe
:
true
}
)
;

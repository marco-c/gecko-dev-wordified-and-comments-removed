'
use
strict
'
;
loadScripts
(
{
name
:
'
role
.
js
'
dir
:
MOCHITESTS_DIR
}
)
;
addAccessibleTask
(
'
doc_treeupdate_ariadialog
.
html
'
function
*
(
browser
accDoc
)
{
testAccessibleTree
(
accDoc
{
role
:
ROLE_DOCUMENT
children
:
[
]
}
)
;
let
onShow
=
waitForEvent
(
EVENT_SHOW
'
dialog
'
)
;
yield
ContentTask
.
spawn
(
browser
{
}
(
)
=
>
{
content
.
document
.
getElementById
(
'
dialog
'
)
.
style
.
display
=
'
block
'
;
}
)
;
yield
onShow
;
testAccessibleTree
(
accDoc
{
role
:
ROLE_DOCUMENT
children
:
[
{
role
:
ROLE_DIALOG
children
:
[
{
role
:
ROLE_PUSHBUTTON
children
:
[
{
role
:
ROLE_TEXT_LEAF
}
]
}
{
role
:
ROLE_ENTRY
}
]
}
]
}
)
;
}
)
;

"
use
strict
"
;
loadScripts
(
{
name
:
"
role
.
js
"
dir
:
MOCHITESTS_DIR
}
)
;
async
function
setHidden
(
browser
value
)
{
let
onReorder
=
waitForEvent
(
EVENT_REORDER
"
container
"
)
;
await
invokeSetAttribute
(
browser
"
child
"
"
hidden
"
value
)
;
await
onReorder
;
}
addAccessibleTask
(
'
<
div
id
=
"
container
"
>
<
input
id
=
"
child
"
>
<
/
div
>
'
async
function
(
browser
accDoc
)
{
let
container
=
findAccessibleChildByID
(
accDoc
"
container
"
)
;
testAccessibleTree
(
container
{
SECTION
:
[
{
ENTRY
:
[
]
}
]
}
)
;
await
setHidden
(
browser
"
true
"
)
;
testAccessibleTree
(
container
{
SECTION
:
[
]
}
)
;
await
setHidden
(
browser
)
;
testAccessibleTree
(
container
{
SECTION
:
[
{
ENTRY
:
[
]
}
]
}
)
;
}
{
iframe
:
true
remoteIframe
:
true
}
)
;

"
use
strict
"
;
addAccessibleTask
(
<
div
id
=
"
scroller
"
style
=
"
height
:
1px
;
overflow
:
scroll
;
"
>
<
p
id
=
"
p1
"
>
a
<
/
p
>
<
p
id
=
"
p2
"
>
b
<
/
p
>
<
/
div
>
async
function
(
browser
docAcc
)
{
const
scroller
=
findAccessibleChildByID
(
docAcc
"
scroller
"
)
;
const
p2
=
findAccessibleChildByID
(
docAcc
"
p2
"
)
;
info
(
"
scrollTo
p2
"
)
;
let
scrolled
=
waitForEvent
(
nsIAccessibleEvent
.
EVENT_SCROLLING_END
scroller
)
;
p2
.
scrollTo
(
SCROLL_TYPE_ANYWHERE
)
;
await
scrolled
;
const
p1
=
findAccessibleChildByID
(
docAcc
"
p1
"
)
;
info
(
"
scrollTo
p1
"
)
;
scrolled
=
waitForEvent
(
nsIAccessibleEvent
.
EVENT_SCROLLING_END
scroller
)
;
p1
.
scrollTo
(
SCROLL_TYPE_ANYWHERE
)
;
await
scrolled
;
}
{
topLevel
:
true
iframe
:
true
remoteIframe
:
true
chrome
:
true
}
)
;

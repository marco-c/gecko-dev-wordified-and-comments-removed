"
use
strict
"
;
addAccessibleTask
(
a
<
div
id
=
"
noChars
"
style
=
"
width
:
5px
;
height
:
5px
;
"
>
<
p
>
<
/
p
>
<
/
div
>
<
p
id
=
"
twoText
"
>
<
span
>
a
<
/
span
>
<
span
>
b
<
/
span
>
<
/
p
>
async
function
(
browser
docAcc
)
{
const
dpr
=
await
getContentDPR
(
browser
)
;
const
noChars
=
findAccessibleChildByID
(
docAcc
"
noChars
"
[
Ci
.
nsIAccessibleText
]
)
;
let
[
x
y
]
=
Layout
.
getBounds
(
noChars
dpr
)
;
await
testOffsetAtPoint
(
noChars
x
y
COORDTYPE_SCREEN_RELATIVE
-
1
)
;
const
twoText
=
findAccessibleChildByID
(
docAcc
"
twoText
"
[
Ci
.
nsIAccessibleText
]
)
;
const
text2
=
twoText
.
getChildAt
(
1
)
;
[
x
y
]
=
Layout
.
getBounds
(
text2
dpr
)
;
await
testOffsetAtPoint
(
twoText
x
y
COORDTYPE_SCREEN_RELATIVE
1
)
;
}
{
topLevel
:
true
iframe
:
true
remoteIframe
:
true
chrome
:
true
}
)
;

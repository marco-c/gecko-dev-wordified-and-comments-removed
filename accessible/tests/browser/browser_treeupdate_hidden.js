'
use
strict
'
;
loadScripts
(
{
name
:
'
role
.
js
'
dir
:
MOCHITESTS_DIR
}
)
;
function
*
setHidden
(
browser
value
)
{
let
onReorder
=
waitForEvent
(
EVENT_REORDER
'
container
'
)
;
yield
invokeSetAttribute
(
browser
'
child
'
'
hidden
'
value
)
;
yield
onReorder
;
}
addAccessibleTask
(
'
<
div
id
=
"
container
"
>
<
input
id
=
"
child
"
>
<
/
div
>
'
function
*
(
browser
accDoc
)
{
let
container
=
findAccessibleChildByID
(
accDoc
'
container
'
)
;
testAccessibleTree
(
container
{
SECTION
:
[
{
ENTRY
:
[
]
}
]
}
)
;
yield
setHidden
(
browser
'
true
'
)
;
testAccessibleTree
(
container
{
SECTION
:
[
]
}
)
;
yield
setHidden
(
browser
)
;
testAccessibleTree
(
container
{
SECTION
:
[
{
ENTRY
:
[
]
}
]
}
)
;
}
)
;

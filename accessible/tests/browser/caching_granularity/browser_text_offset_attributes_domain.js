"
use
strict
"
;
addAccessibleTask
(
<
div
id
=
"
test
"
contenteditable
spellcheck
=
"
true
"
>
misspelld
txt
<
/
div
>
async
function
(
browser
docAcc
)
{
let
acc
=
findAccessibleChildByID
(
docAcc
"
test
"
[
nsIAccessibleText
]
)
;
info
(
"
Focusing
the
misspelled
text
.
"
)
;
acc
.
takeFocus
(
)
;
await
waitForEvent
(
EVENT_TEXT_ATTRIBUTE_CHANGED
)
;
let
textLeaf
=
acc
.
firstChild
;
await
testAttributeCachePresence
(
textLeaf
"
spelling
"
(
)
=
>
{
acc
.
getTextAttributes
(
{
}
{
}
{
}
{
}
)
;
}
)
;
}
{
topLevel
:
true
iframe
:
true
remoteIframe
:
true
cacheDomains
:
CacheDomain
.
None
}
)
;

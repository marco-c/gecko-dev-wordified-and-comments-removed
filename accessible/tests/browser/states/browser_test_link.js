"
use
strict
"
;
async
function
runTests
(
browser
accDoc
)
{
let
getAcc
=
id
=
>
findAccessibleChildByID
(
accDoc
id
)
;
testStates
(
getAcc
(
"
link_traversed
"
)
0
0
STATE_TRAVERSED
)
;
let
onStateChanged
=
waitForEvent
(
EVENT_STATE_CHANGE
"
link_traversed
"
)
;
let
newWinOpened
=
BrowserTestUtils
.
waitForNewWindow
(
)
;
await
BrowserTestUtils
.
synthesizeMouse
(
"
#
link_traversed
"
1
1
{
shiftKey
:
true
}
browser
)
;
await
onStateChanged
;
testStates
(
getAcc
(
"
link_traversed
"
)
STATE_TRAVERSED
)
;
let
newWin
=
await
newWinOpened
;
await
BrowserTestUtils
.
closeWindow
(
newWin
)
;
}
addAccessibleTask
(
<
a
id
=
"
link_traversed
"
href
=
"
http
:
/
/
www
.
example
.
com
"
target
=
"
_top
"
>
example
.
com
<
/
a
>
runTests
)
;

"
use
strict
"
;
loadScripts
(
{
name
:
"
role
.
js
"
dir
:
MOCHITESTS_DIR
}
)
;
addAccessibleTask
(
<
p
>
hello
world
<
/
p
>
async
function
(
browser
docAcc
)
{
const
originalTree
=
{
DOCUMENT
:
[
{
PARAGRAPH
:
[
{
TEXT_LEAF
:
[
]
}
]
}
]
}
;
testAccessibleTree
(
docAcc
originalTree
)
;
info
(
"
Adding
div
element
"
)
;
await
contentSpawnMutation
(
browser
{
unexpected
:
[
[
EVENT_REORDER
docAcc
]
]
}
function
(
)
{
const
d
=
content
.
document
.
createElement
(
"
div
"
)
;
content
.
document
.
body
.
appendChild
(
d
)
;
}
)
;
testAccessibleTree
(
docAcc
originalTree
)
;
info
(
"
Adding
overflow
:
hidden
styling
to
div
"
)
;
await
contentSpawnMutation
(
browser
{
expected
:
[
[
EVENT_REORDER
docAcc
]
]
}
function
(
)
{
content
.
document
.
body
.
lastElementChild
.
setAttribute
(
"
style
"
"
overflow
:
hidden
;
"
)
;
}
)
;
testAccessibleTree
(
docAcc
{
DOCUMENT
:
[
{
PARAGRAPH
:
[
{
TEXT_LEAF
:
[
]
}
]
}
{
TEXT_CONTAINER
:
[
]
}
]
}
)
;
}
)
;

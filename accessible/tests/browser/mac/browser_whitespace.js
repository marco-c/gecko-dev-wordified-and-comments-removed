"
use
strict
"
;
loadScripts
(
{
name
:
"
role
.
js
"
dir
:
MOCHITESTS_DIR
}
)
;
addAccessibleTask
(
hello
<
br
>
world
async
(
browser
accDoc
)
=
>
{
let
doc
=
accDoc
.
nativeInterface
.
QueryInterface
(
Ci
.
nsIAccessibleMacInterface
)
;
let
docChildren
=
doc
.
getAttributeValue
(
"
AXChildren
"
)
;
is
(
docChildren
.
length
2
"
The
document
contains
two
children
"
)
;
is
(
docChildren
[
0
]
.
getAttributeValue
(
"
AXRole
"
)
"
AXStaticText
"
"
First
child
is
a
text
node
"
)
;
is
(
docChildren
[
0
]
.
getAttributeValue
(
"
AXValue
"
)
"
hello
"
"
First
child
is
hello
text
"
)
;
is
(
docChildren
[
1
]
.
getAttributeValue
(
"
AXRole
"
)
"
AXStaticText
"
"
Second
child
is
a
text
node
"
)
;
is
(
docChildren
[
1
]
.
getAttributeValue
(
"
AXValue
"
)
"
world
"
"
Second
child
is
world
text
"
)
;
}
)
;

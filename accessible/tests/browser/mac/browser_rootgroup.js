"
use
strict
"
;
addAccessibleTask
(
<
p
id
=
"
p1
"
>
hello
<
/
p
>
<
p
>
world
<
/
p
>
async
(
browser
accDoc
)
=
>
{
let
doc
=
accDoc
.
nativeInterface
.
QueryInterface
(
Ci
.
nsIAccessibleMacInterface
)
;
let
docChildren
=
doc
.
getAttributeValue
(
"
AXChildren
"
)
;
is
(
docChildren
.
length
1
"
The
document
contains
a
root
group
"
)
;
let
rootGroup
=
docChildren
[
0
]
;
is
(
rootGroup
.
getAttributeValue
(
"
AXIdentifier
"
)
"
root
-
group
"
"
Is
generated
root
group
"
)
;
is
(
rootGroup
.
getAttributeValue
(
"
AXChildren
"
)
.
length
2
"
Root
group
has
two
children
"
)
;
let
p1
=
getNativeInterface
(
accDoc
"
p1
"
)
;
rootGroup
=
p1
.
getAttributeValue
(
"
AXParent
"
)
;
is
(
rootGroup
.
getAttributeValue
(
"
AXIdentifier
"
)
"
root
-
group
"
"
Is
generated
root
group
"
)
;
}
)
;
addAccessibleTask
(
<
div
role
=
"
grouping
"
id
=
"
group
"
>
<
p
>
hello
<
/
p
>
<
p
>
world
<
/
p
>
<
/
div
>
async
(
browser
accDoc
)
=
>
{
let
doc
=
accDoc
.
nativeInterface
.
QueryInterface
(
Ci
.
nsIAccessibleMacInterface
)
;
let
docChildren
=
doc
.
getAttributeValue
(
"
AXChildren
"
)
;
is
(
docChildren
.
length
1
"
The
document
contains
a
root
group
"
)
;
let
rootGroup
=
docChildren
[
0
]
;
is
(
rootGroup
.
getAttributeValue
(
"
AXDOMIdentifier
"
)
"
group
"
"
Root
group
is
a
document
element
"
)
;
}
)
;
addAccessibleTask
(
<
button
id
=
"
button
"
>
I
am
a
button
<
/
button
>
async
(
browser
accDoc
)
=
>
{
let
doc
=
accDoc
.
nativeInterface
.
QueryInterface
(
Ci
.
nsIAccessibleMacInterface
)
;
let
docChildren
=
doc
.
getAttributeValue
(
"
AXChildren
"
)
;
is
(
docChildren
.
length
1
"
The
document
contains
a
root
group
"
)
;
let
rootGroup
=
docChildren
[
0
]
;
is
(
rootGroup
.
getAttributeValue
(
"
AXIdentifier
"
)
"
root
-
group
"
"
Is
generated
root
group
"
)
;
let
rootGroupChildren
=
rootGroup
.
getAttributeValue
(
"
AXChildren
"
)
;
is
(
rootGroupChildren
.
length
1
"
Root
group
has
one
children
"
)
;
is
(
rootGroupChildren
[
0
]
.
getAttributeValue
(
"
AXRole
"
)
"
AXButton
"
"
Button
is
child
of
root
group
"
)
;
let
button
=
getNativeInterface
(
accDoc
"
button
"
)
;
rootGroup
=
button
.
getAttributeValue
(
"
AXParent
"
)
;
is
(
rootGroup
.
getAttributeValue
(
"
AXIdentifier
"
)
"
root
-
group
"
"
Is
generated
root
group
"
)
;
}
)
;

#
ifndef
mozilla_a11y_Platform_h
#
define
mozilla_a11y_Platform_h
#
include
<
stdint
.
h
>
#
include
"
nsStringFwd
.
h
"
namespace
mozilla
{
namespace
a11y
{
class
ProxyAccessible
;
enum
EPlatformDisabledState
{
ePlatformIsForceEnabled
=
-
1
ePlatformIsEnabled
=
0
ePlatformIsDisabled
=
1
}
;
EPlatformDisabledState
PlatformDisabledState
(
)
;
#
ifdef
MOZ_ACCESSIBILITY_ATK
void
PreInit
(
)
;
#
endif
#
if
defined
(
MOZ_ACCESSIBILITY_ATK
)
|
|
defined
(
XP_MACOSX
)
bool
ShouldA11yBeEnabled
(
)
;
#
endif
#
if
defined
(
XP_WIN
)
bool
IsHandlerRegistered
(
)
;
void
SetInstantiator
(
const
uint32_t
aInstantiatorPid
)
;
bool
GetInstantiator
(
nsIFile
*
*
aOutInstantiator
)
;
#
endif
void
PlatformInit
(
)
;
void
PlatformShutdown
(
)
;
void
ProxyCreated
(
ProxyAccessible
*
aProxy
uint32_t
aInterfaces
)
;
void
ProxyDestroyed
(
ProxyAccessible
*
)
;
void
ProxyEvent
(
ProxyAccessible
*
aTarget
uint32_t
aEventType
)
;
void
ProxyStateChangeEvent
(
ProxyAccessible
*
aTarget
uint64_t
aState
bool
aEnabled
)
;
#
if
defined
(
XP_WIN
)
void
ProxyFocusEvent
(
ProxyAccessible
*
aTarget
const
LayoutDeviceIntRect
&
aCaretRect
)
;
void
ProxyCaretMoveEvent
(
ProxyAccessible
*
aTarget
const
LayoutDeviceIntRect
&
aCaretRect
)
;
#
else
void
ProxyCaretMoveEvent
(
ProxyAccessible
*
aTarget
int32_t
aOffset
)
;
#
endif
void
ProxyTextChangeEvent
(
ProxyAccessible
*
aTarget
const
nsString
&
aStr
int32_t
aStart
uint32_t
aLen
bool
aIsInsert
bool
aFromUser
)
;
void
ProxyShowHideEvent
(
ProxyAccessible
*
aTarget
ProxyAccessible
*
aParent
bool
aInsert
bool
aFromUser
)
;
void
ProxySelectionEvent
(
ProxyAccessible
*
aTarget
ProxyAccessible
*
aWidget
uint32_t
aType
)
;
#
if
defined
(
ANDROID
)
void
ProxyVirtualCursorChangeEvent
(
ProxyAccessible
*
aTarget
ProxyAccessible
*
aOldPosition
int32_t
aOldStartOffset
int32_t
aOldEndOffset
ProxyAccessible
*
aNewPosition
int32_t
aNewStartOffset
int32_t
aNewEndOffset
uint16_t
aReason
bool
aFromUser
)
;
#
endif
}
}
#
endif

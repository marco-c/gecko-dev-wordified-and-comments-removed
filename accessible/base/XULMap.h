XULMAP_TYPE
(
browser
OuterDocAccessible
)
XULMAP_TYPE
(
button
XULButtonAccessible
)
XULMAP_TYPE
(
checkbox
CheckboxAccessible
)
XULMAP_TYPE
(
dropMarker
XULDropmarkerAccessible
)
XULMAP_TYPE
(
editor
OuterDocAccessible
)
XULMAP_TYPE
(
findbar
XULToolbarAccessible
)
XULMAP_TYPE
(
groupbox
XULGroupboxAccessible
)
XULMAP_TYPE
(
iframe
OuterDocAccessible
)
XULMAP_TYPE
(
listheader
XULColumAccessible
)
XULMAP_TYPE
(
menu
XULMenuitemAccessible
)
XULMAP_TYPE
(
menubar
XULMenubarAccessible
)
XULMAP_TYPE
(
menucaption
XULMenuitemAccessible
)
XULMAP_TYPE
(
menuitem
XULMenuitemAccessible
)
XULMAP_TYPE
(
menulist
XULComboboxAccessible
)
XULMAP_TYPE
(
menuseparator
XULMenuSeparatorAccessible
)
XULMAP_TYPE
(
notification
XULAlertAccessible
)
XULMAP_TYPE
(
radio
XULRadioButtonAccessible
)
XULMAP_TYPE
(
radiogroup
XULRadioGroupAccessible
)
XULMAP_TYPE
(
richlistbox
XULListboxAccessible
)
XULMAP_TYPE
(
richlistitem
XULListitemAccessible
)
XULMAP_TYPE
(
statusbar
XULStatusBarAccessible
)
XULMAP_TYPE
(
tab
XULTabAccessible
)
XULMAP_TYPE
(
tabpanels
XULTabpanelsAccessible
)
XULMAP_TYPE
(
tabs
XULTabsAccessible
)
XULMAP_TYPE
(
toolbarseparator
XULToolbarSeparatorAccessible
)
XULMAP_TYPE
(
toolbarspacer
XULToolbarSeparatorAccessible
)
XULMAP_TYPE
(
toolbarspring
XULToolbarSeparatorAccessible
)
XULMAP_TYPE
(
treecol
XULColumnItemAccessible
)
XULMAP_TYPE
(
treecols
XULTreeColumAccessible
)
XULMAP_TYPE
(
toolbar
XULToolbarAccessible
)
XULMAP_TYPE
(
toolbarbutton
XULToolbarButtonAccessible
)
XULMAP
(
description
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
-
>
LocalAccessible
*
{
if
(
aElement
-
>
ClassList
(
)
-
>
Contains
(
u
"
tooltip
-
label
"
_ns
)
)
{
return
nullptr
;
}
return
new
XULLabelAccessible
(
aElement
aContext
-
>
Document
(
)
)
;
}
)
XULMAP
(
tooltip
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
-
>
LocalAccessible
*
{
return
new
XULTooltipAccessible
(
aElement
aContext
-
>
Document
(
)
)
;
}
)
XULMAP
(
label
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
-
>
LocalAccessible
*
{
if
(
aElement
-
>
ClassList
(
)
-
>
Contains
(
u
"
text
-
link
"
_ns
)
)
{
return
new
XULLinkAccessible
(
aElement
aContext
-
>
Document
(
)
)
;
}
return
new
XULLabelAccessible
(
aElement
aContext
-
>
Document
(
)
)
;
}
)
XULMAP
(
image
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
-
>
LocalAccessible
*
{
if
(
!
aElement
-
>
HasAttr
(
nsGkAtoms
:
:
tooltiptext
)
)
{
return
nullptr
;
}
return
new
ImageAccessible
(
aElement
aContext
-
>
Document
(
)
)
;
}
)
XULMAP
(
menupopup
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
{
return
CreateMenupopupAccessible
(
aElement
aContext
)
;
}
)
XULMAP
(
panel
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
-
>
LocalAccessible
*
{
static
const
Element
:
:
AttrValuesArray
sIgnoreTypeVals
[
]
=
{
nsGkAtoms
:
:
autocomplete_richlistbox
nsGkAtoms
:
:
autocomplete
nullptr
}
;
if
(
aElement
-
>
FindAttrValueIn
(
kNameSpaceID_None
nsGkAtoms
:
:
type
sIgnoreTypeVals
eIgnoreCase
)
>
=
0
)
{
return
nullptr
;
}
if
(
aElement
-
>
AttrValueIs
(
kNameSpaceID_None
nsGkAtoms
:
:
noautofocus
nsGkAtoms
:
:
_true
eCaseMatters
)
)
{
return
new
XULAlertAccessible
(
aElement
aContext
-
>
Document
(
)
)
;
}
return
new
EnumRoleAccessible
<
roles
:
:
PANE
>
(
aElement
aContext
-
>
Document
(
)
)
;
}
)
XULMAP
(
tree
[
]
(
Element
*
aElement
LocalAccessible
*
aContext
)
-
>
LocalAccessible
*
{
nsIContent
*
child
=
nsTreeUtils
:
:
GetDescendantChild
(
aElement
nsGkAtoms
:
:
treechildren
)
;
if
(
!
child
)
return
nullptr
;
nsTreeBodyFrame
*
treeFrame
=
do_QueryFrame
(
child
-
>
GetPrimaryFrame
(
)
)
;
if
(
!
treeFrame
)
return
nullptr
;
RefPtr
<
nsTreeColumns
>
treeCols
=
treeFrame
-
>
Columns
(
)
;
uint32_t
count
=
treeCols
-
>
Count
(
)
;
if
(
count
=
=
1
)
{
return
new
XULTreeAccessible
(
aElement
aContext
-
>
Document
(
)
treeFrame
)
;
}
return
new
XULTreeGridAccessible
(
aElement
aContext
-
>
Document
(
)
treeFrame
)
;
}
)

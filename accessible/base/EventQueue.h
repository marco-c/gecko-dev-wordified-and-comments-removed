#
ifndef
mozilla_a11y_EventQueue_h_
#
define
mozilla_a11y_EventQueue_h_
#
include
"
AccEvent
.
h
"
#
include
"
mozilla
/
Assertions
.
h
"
namespace
mozilla
{
namespace
a11y
{
class
DocAccessible
;
class
EventQueue
{
protected
:
explicit
EventQueue
(
DocAccessible
*
aDocument
)
:
mDocument
(
aDocument
)
{
MOZ_ASSERT
(
mDocument
"
There
'
s
no
point
creating
an
event
queue
for
a
null
document
"
)
;
}
bool
PushEvent
(
AccEvent
*
aEvent
)
;
bool
PushNameOrDescriptionChangeToRelations
(
LocalAccessible
*
aAccessible
RelationType
aType
)
;
bool
PushNameOrDescriptionChange
(
AccEvent
*
aOrigEvent
)
;
void
ProcessEventQueue
(
)
;
private
:
EventQueue
(
const
EventQueue
&
)
=
delete
;
EventQueue
&
operator
=
(
const
EventQueue
&
)
=
delete
;
void
CoalesceEvents
(
)
;
void
CoalesceReorderEvents
(
AccEvent
*
aTailEvent
)
;
void
CoalesceSelChangeEvents
(
AccSelChangeEvent
*
aTailEvent
AccSelChangeEvent
*
aThisEvent
uint32_t
aThisIndex
)
;
protected
:
DocAccessible
*
mDocument
;
nsTArray
<
RefPtr
<
AccEvent
>
>
mEvents
;
RefPtr
<
AccEvent
>
mFocusEvent
;
}
;
}
}
#
endif

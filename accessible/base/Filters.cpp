#
include
"
Filters
.
h
"
#
include
"
LocalAccessible
-
inl
.
h
"
#
include
"
nsAccUtils
.
h
"
#
include
"
Role
.
h
"
#
include
"
States
.
h
"
using
namespace
mozilla
:
:
a11y
;
using
namespace
mozilla
:
:
a11y
:
:
filters
;
uint32_t
filters
:
:
GetSelected
(
LocalAccessible
*
aAccessible
)
{
if
(
aAccessible
-
>
State
(
)
&
states
:
:
SELECTED
)
return
eMatch
|
eSkipSubtree
;
return
eSkip
;
}
uint32_t
filters
:
:
GetSelectable
(
LocalAccessible
*
aAccessible
)
{
if
(
aAccessible
-
>
InteractiveState
(
)
&
states
:
:
SELECTABLE
)
{
return
eMatch
|
eSkipSubtree
;
}
return
eSkip
;
}
uint32_t
filters
:
:
GetRow
(
LocalAccessible
*
aAccessible
)
{
if
(
aAccessible
-
>
IsTableRow
(
)
)
return
eMatch
|
eSkipSubtree
;
a11y
:
:
role
role
=
aAccessible
-
>
Role
(
)
;
const
nsRoleMapEntry
*
roleMapEntry
=
aAccessible
-
>
ARIARoleMap
(
)
;
if
(
role
=
=
roles
:
:
GROUPING
|
|
(
aAccessible
-
>
IsGenericHyperText
(
)
&
&
!
roleMapEntry
)
)
{
return
eSkip
;
}
return
eSkipSubtree
;
}
uint32_t
filters
:
:
GetCell
(
LocalAccessible
*
aAccessible
)
{
return
aAccessible
-
>
IsTableCell
(
)
?
eMatch
:
eSkipSubtree
;
}

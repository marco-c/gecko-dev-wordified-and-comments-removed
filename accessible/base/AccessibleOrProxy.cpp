#
include
"
AccessibleOrProxy
.
h
"
#
include
"
mozilla
/
a11y
/
DocAccessibleParent
.
h
"
#
include
"
mozilla
/
a11y
/
OuterDocAccessible
.
h
"
#
include
"
mozilla
/
StaticPrefs_accessibility
.
h
"
namespace
mozilla
{
namespace
a11y
{
AccessibleOrProxy
AccessibleOrProxy
:
:
Parent
(
)
const
{
if
(
IsAccessible
(
)
)
{
return
AsAccessible
(
)
-
>
Parent
(
)
;
}
ProxyAccessible
*
proxy
=
AsProxy
(
)
;
if
(
!
proxy
)
{
return
nullptr
;
}
if
(
ProxyAccessible
*
parent
=
proxy
-
>
Parent
(
)
)
{
return
parent
;
}
return
proxy
-
>
OuterDocOfRemoteBrowser
(
)
;
}
ProxyAccessible
*
AccessibleOrProxy
:
:
RemoteChildDoc
(
)
const
{
if
(
!
StaticPrefs
:
:
accessibility_xpcom_traverse_outerdoc
(
)
|
|
IsProxy
(
)
)
{
return
nullptr
;
}
OuterDocAccessible
*
outerDoc
=
AsAccessible
(
)
-
>
AsOuterDoc
(
)
;
if
(
!
outerDoc
)
{
return
nullptr
;
}
return
outerDoc
-
>
RemoteChildDoc
(
)
;
}
}
}

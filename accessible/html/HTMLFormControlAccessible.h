#
ifndef
MOZILLA_A11Y_HTMLFormControlAccessible_H_
#
define
MOZILLA_A11Y_HTMLFormControlAccessible_H_
#
include
"
FormControlAccessible
.
h
"
#
include
"
HyperTextAccessibleWrap
.
h
"
namespace
mozilla
{
class
TextEditor
;
namespace
a11y
{
class
HTMLRadioButtonAccessible
:
public
RadioButtonAccessible
{
public
:
HTMLRadioButtonAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
:
RadioButtonAccessible
(
aContent
aDoc
)
{
mStateFlags
|
=
eIgnoreDOMUIEvent
;
}
virtual
uint64_t
NativeState
(
)
const
override
;
virtual
void
GetPositionAndSizeInternal
(
int32_t
*
aPosInSet
int32_t
*
aSetSize
)
override
;
}
;
class
HTMLButtonAccessible
:
public
HyperTextAccessibleWrap
{
public
:
enum
{
eAction_Click
=
0
}
;
HTMLButtonAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
uint64_t
State
(
)
override
;
virtual
uint64_t
NativeState
(
)
const
override
;
virtual
uint8_t
ActionCount
(
)
const
override
;
virtual
void
ActionNameAt
(
uint8_t
aIndex
nsAString
&
aName
)
override
;
virtual
bool
DoAction
(
uint8_t
aIndex
)
const
override
;
virtual
bool
IsWidget
(
)
const
override
;
protected
:
virtual
ENameValueFlag
NativeName
(
nsString
&
aName
)
const
override
;
}
;
class
HTMLTextFieldAccessible
final
:
public
HyperTextAccessibleWrap
{
public
:
enum
{
eAction_Click
=
0
}
;
HTMLTextFieldAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
NS_INLINE_DECL_REFCOUNTING_INHERITED
(
HTMLTextFieldAccessible
HyperTextAccessibleWrap
)
virtual
already_AddRefed
<
TextEditor
>
GetEditor
(
)
const
override
;
virtual
void
Value
(
nsString
&
aValue
)
const
override
;
virtual
void
ApplyARIAState
(
uint64_t
*
aState
)
const
override
;
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
uint64_t
NativeState
(
)
const
override
;
virtual
already_AddRefed
<
nsIPersistentProperties
>
NativeAttributes
(
)
override
;
virtual
uint8_t
ActionCount
(
)
const
override
;
virtual
void
ActionNameAt
(
uint8_t
aIndex
nsAString
&
aName
)
override
;
virtual
bool
DoAction
(
uint8_t
aIndex
)
const
override
;
virtual
bool
IsWidget
(
)
const
override
;
virtual
Accessible
*
ContainerWidget
(
)
const
override
;
protected
:
virtual
~
HTMLTextFieldAccessible
(
)
{
}
virtual
ENameValueFlag
NativeName
(
nsString
&
aName
)
const
override
;
nsIContent
*
BindingOrWidgetParent
(
)
const
{
nsIContent
*
el
=
mContent
-
>
GetBindingParent
(
)
;
if
(
el
)
{
return
el
;
}
ErrorResult
rv
;
return
Elm
(
)
-
>
Closest
(
NS_LITERAL_STRING
(
"
textbox
"
)
rv
)
;
}
}
;
class
HTMLFileInputAccessible
:
public
HyperTextAccessibleWrap
{
public
:
HTMLFileInputAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
nsresult
HandleAccEvent
(
AccEvent
*
aAccEvent
)
override
;
}
;
class
HTMLSpinnerAccessible
:
public
AccessibleWrap
{
public
:
HTMLSpinnerAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
:
AccessibleWrap
(
aContent
aDoc
)
{
mStateFlags
|
=
eHasNumericValue
;
}
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
void
Value
(
nsString
&
aValue
)
const
override
;
virtual
double
MaxValue
(
)
const
override
;
virtual
double
MinValue
(
)
const
override
;
virtual
double
CurValue
(
)
const
override
;
virtual
double
Step
(
)
const
override
;
virtual
bool
SetCurValue
(
double
aValue
)
override
;
}
;
class
HTMLRangeAccessible
:
public
LeafAccessible
{
public
:
HTMLRangeAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
:
LeafAccessible
(
aContent
aDoc
)
{
mStateFlags
|
=
eHasNumericValue
;
}
virtual
void
Value
(
nsString
&
aValue
)
const
override
;
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
double
MaxValue
(
)
const
override
;
virtual
double
MinValue
(
)
const
override
;
virtual
double
CurValue
(
)
const
override
;
virtual
double
Step
(
)
const
override
;
virtual
bool
SetCurValue
(
double
aValue
)
override
;
virtual
bool
IsWidget
(
)
const
override
;
}
;
class
HTMLGroupboxAccessible
:
public
HyperTextAccessibleWrap
{
public
:
HTMLGroupboxAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
Relation
RelationByType
(
RelationType
aType
)
const
override
;
protected
:
virtual
ENameValueFlag
NativeName
(
nsString
&
aName
)
const
override
;
nsIContent
*
GetLegend
(
)
const
;
}
;
class
HTMLLegendAccessible
:
public
HyperTextAccessibleWrap
{
public
:
HTMLLegendAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
virtual
Relation
RelationByType
(
RelationType
aType
)
const
override
;
}
;
class
HTMLFigureAccessible
:
public
HyperTextAccessibleWrap
{
public
:
HTMLFigureAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
virtual
Relation
RelationByType
(
RelationType
aType
)
const
override
;
protected
:
virtual
ENameValueFlag
NativeName
(
nsString
&
aName
)
const
override
;
nsIContent
*
Caption
(
)
const
;
}
;
class
HTMLFigcaptionAccessible
:
public
HyperTextAccessibleWrap
{
public
:
HTMLFigcaptionAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
;
virtual
Relation
RelationByType
(
RelationType
aType
)
const
override
;
}
;
class
HTMLFormAccessible
:
public
HyperTextAccessibleWrap
{
public
:
HTMLFormAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
:
HyperTextAccessibleWrap
(
aContent
aDoc
)
{
}
NS_INLINE_DECL_REFCOUNTING_INHERITED
(
HTMLFormAccessible
HyperTextAccessibleWrap
)
virtual
nsAtom
*
LandmarkRole
(
)
const
override
;
virtual
a11y
:
:
role
NativeRole
(
)
const
override
;
protected
:
virtual
~
HTMLFormAccessible
(
)
=
default
;
}
;
class
HTMLProgressAccessible
:
public
LeafAccessible
{
public
:
HTMLProgressAccessible
(
nsIContent
*
aContent
DocAccessible
*
aDoc
)
:
LeafAccessible
(
aContent
aDoc
)
{
mStateFlags
|
=
eHasNumericValue
|
eIgnoreDOMUIEvent
;
mType
=
eProgressType
;
}
virtual
void
Value
(
nsString
&
aValue
)
const
override
;
virtual
mozilla
:
:
a11y
:
:
role
NativeRole
(
)
const
override
;
virtual
uint64_t
NativeState
(
)
const
override
;
virtual
double
MaxValue
(
)
const
override
;
virtual
double
MinValue
(
)
const
override
;
virtual
double
CurValue
(
)
const
override
;
virtual
double
Step
(
)
const
override
;
virtual
bool
SetCurValue
(
double
aValue
)
override
;
virtual
bool
IsWidget
(
)
const
override
;
protected
:
virtual
~
HTMLProgressAccessible
(
)
{
}
}
;
}
}
#
endif

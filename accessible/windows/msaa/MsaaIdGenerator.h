#
ifndef
mozilla_a11y_MsaaIdGenerator_h
#
define
mozilla_a11y_MsaaIdGenerator_h
#
include
"
mozilla
/
a11y
/
IDSet
.
h
"
#
include
"
mozilla
/
NotNull
.
h
"
#
include
"
nsITimer
.
h
"
namespace
mozilla
{
namespace
a11y
{
class
MsaaAccessible
;
class
MsaaIdGenerator
{
public
:
uint32_t
GetID
(
)
;
void
ReleaseID
(
NotNull
<
MsaaAccessible
*
>
aMsaaAcc
)
;
private
:
bool
ReleaseID
(
uint32_t
aID
)
;
void
ReleasePendingIDs
(
)
;
static
void
ReleasePendingIdsCallback
(
nsITimer
*
aTimer
void
*
aClosure
)
;
private
:
static
constexpr
uint32_t
kNumFullIDBits
=
31UL
;
IDSet
mIDSet
{
kNumFullIDBits
}
;
nsTArray
<
uint32_t
>
mIDsToRelease
;
nsCOMPtr
<
nsITimer
>
mReleaseIDTimer
;
bool
mGetIDCalled
=
false
;
}
;
}
}
#
endif

#
include
"
AccessibleWrap
.
h
"
#
include
"
ProxyAccessible
.
h
"
#
include
"
AccessibleOrProxy
.
h
"
#
import
<
Cocoa
/
Cocoa
.
h
>
#
import
"
MOXAccessibleBase
.
h
"
class
mozRootAccessible
;
namespace
mozilla
{
namespace
a11y
{
inline
mozAccessible
*
GetNativeFromGeckoAccessible
(
mozilla
:
:
a11y
:
:
AccessibleOrProxy
aAccOrProxy
)
{
MOZ_ASSERT
(
!
aAccOrProxy
.
IsNull
(
)
"
Cannot
get
native
from
null
accessible
"
)
;
if
(
Accessible
*
acc
=
aAccOrProxy
.
AsAccessible
(
)
)
{
mozAccessible
*
native
=
nil
;
acc
-
>
GetNativeInterface
(
(
void
*
*
)
&
native
)
;
return
native
;
}
ProxyAccessible
*
proxy
=
aAccOrProxy
.
AsProxy
(
)
;
return
reinterpret_cast
<
mozAccessible
*
>
(
proxy
-
>
GetWrapper
(
)
)
;
}
}
}
interface
mozAccessible
:
MOXAccessibleBase
{
mozilla
:
:
a11y
:
:
AccessibleOrProxy
mGeckoAccessible
;
mozilla
:
:
a11y
:
:
role
mRole
;
uint64_t
mCachedState
;
nsStaticAtom
*
mARIARole
;
}
-
(
id
)
initWithAccessible
:
(
mozilla
:
:
a11y
:
:
AccessibleOrProxy
)
aAccOrProxy
;
-
(
mozilla
:
:
a11y
:
:
AccessibleOrProxy
)
geckoAccessible
;
-
(
mozilla
:
:
a11y
:
:
AccessibleOrProxy
)
geckoDocument
;
-
(
void
)
dealloc
;
-
(
BOOL
)
disableChild
:
(
mozAccessible
*
)
child
;
-
(
void
)
handleAccessibleEvent
:
(
uint32_t
)
eventType
;
-
(
void
)
handleAccessibleTextChangeEvent
:
(
NSString
*
)
change
inserted
:
(
BOOL
)
isInserted
inContainer
:
(
const
mozilla
:
:
a11y
:
:
AccessibleOrProxy
&
)
container
at
:
(
int32_t
)
start
;
-
(
id
)
childAt
:
(
uint32_t
)
i
;
-
(
uint64_t
)
state
;
-
(
uint64_t
)
stateWithMask
:
(
uint64_t
)
mask
;
-
(
void
)
stateChanged
:
(
uint64_t
)
state
isEnabled
:
(
BOOL
)
enabled
;
-
(
void
)
invalidateState
;
-
(
mozAccessible
*
)
topWebArea
;
-
(
void
)
handleRoleChanged
:
(
mozilla
:
:
a11y
:
:
role
)
newRole
;
#
pragma
mark
-
mozAccessible
protocol
/
widget
-
(
BOOL
)
hasRepresentedView
;
-
(
id
)
representedView
;
-
(
BOOL
)
isRoot
;
#
pragma
mark
-
MOXAccessible
protocol
-
(
BOOL
)
moxBlockSelector
:
(
SEL
)
selector
;
-
(
id
)
moxHitTest
:
(
NSPoint
)
point
;
-
(
id
)
moxFocusedUIElement
;
-
(
id
<
MOXTextMarkerSupport
>
)
moxTextMarkerDelegate
;
-
(
id
<
mozAccessible
>
)
moxParent
;
-
(
NSArray
*
)
moxChildren
;
-
(
NSValue
*
)
moxSize
;
-
(
NSValue
*
)
moxPosition
;
-
(
NSString
*
)
moxRole
;
-
(
NSString
*
)
moxSubrole
;
-
(
NSString
*
)
moxRoleDescription
;
-
(
NSWindow
*
)
moxWindow
;
-
(
id
)
moxValue
;
-
(
NSString
*
)
moxTitle
;
-
(
NSString
*
)
moxLabel
;
-
(
NSString
*
)
moxHelp
;
-
(
NSNumber
*
)
moxEnabled
;
-
(
NSNumber
*
)
moxFocused
;
-
(
NSNumber
*
)
moxSelected
;
-
(
NSString
*
)
moxARIACurrent
;
-
(
id
)
moxTitleUIElement
;
-
(
NSString
*
)
moxDOMIdentifier
;
-
(
NSNumber
*
)
moxRequired
;
-
(
id
)
moxEditableAncestor
;
#
ifndef
RELEASE_OR_BETA
-
(
NSString
*
)
moxMozDebugDescription
;
#
endif
-
(
NSArray
*
)
moxUIElementsForSearchPredicate
:
(
NSDictionary
*
)
searchPredicate
;
-
(
NSNumber
*
)
moxUIElementCountForSearchPredicate
:
(
NSDictionary
*
)
searchPredicate
;
-
(
void
)
moxSetFocused
:
(
NSNumber
*
)
focused
;
-
(
void
)
moxPerformScrollToVisible
;
-
(
void
)
moxPerformShowMenu
;
-
(
void
)
moxPerformPress
;
-
(
BOOL
)
moxIgnoreWithParent
:
(
mozAccessible
*
)
parent
;
-
(
BOOL
)
moxIgnoreChild
:
(
mozAccessible
*
)
child
;
#
pragma
mark
-
-
(
void
)
expire
;
-
(
BOOL
)
isExpired
;
end

#
import
"
mozHTMLAccessible
.
h
"
#
import
"
LocalAccessible
-
inl
.
h
"
#
import
"
HyperTextAccessible
.
h
"
#
import
"
nsCocoaUtils
.
h
"
using
namespace
mozilla
:
:
a11y
;
implementation
mozHeadingAccessible
-
(
NSString
*
)
moxTitle
{
nsAutoString
title
;
ENameValueFlag
flag
=
mGeckoAccessible
-
>
Name
(
title
)
;
if
(
flag
!
=
eNameFromSubtree
)
{
return
nil
;
}
return
nsCocoaUtils
:
:
ToNSString
(
title
)
;
}
-
(
id
)
moxValue
{
GroupPos
groupPos
=
mGeckoAccessible
-
>
GroupPosition
(
)
;
return
[
NSNumber
numberWithInt
:
groupPos
.
level
]
;
}
end
implementation
mozLinkAccessible
-
(
NSString
*
)
moxValue
{
return
"
"
;
}
-
(
NSURL
*
)
moxURL
{
nsAutoString
value
;
mGeckoAccessible
-
>
Value
(
value
)
;
NSString
*
urlString
=
value
.
IsEmpty
(
)
?
nil
:
nsCocoaUtils
:
:
ToNSString
(
value
)
;
if
(
!
urlString
)
return
nil
;
return
[
NSURL
URLWithString
:
urlString
]
;
}
-
(
NSNumber
*
)
moxVisited
{
return
(
[
self
stateWithMask
:
states
:
:
TRAVERSED
]
!
=
0
)
;
}
-
(
NSString
*
)
moxRole
{
if
(
!
[
self
stateWithMask
:
states
:
:
LINKED
]
)
{
return
NSAccessibilityGroupRole
;
}
return
[
super
moxRole
]
;
}
-
(
NSArray
*
)
moxLinkedUIElements
{
return
[
self
getRelationsByType
:
RelationType
:
:
LINKS_TO
]
;
}
end
implementation
MOXListItemAccessible
-
(
NSString
*
)
moxTitle
{
return
"
"
;
}
end

const
{
assert
}
=
require
(
'
.
/
helper
'
)
;
class
Dialog
{
constructor
(
client
type
message
defaultValue
=
'
'
)
{
this
.
_client
=
client
;
this
.
_type
=
type
;
this
.
_message
=
message
;
this
.
_handled
=
false
;
this
.
_defaultValue
=
defaultValue
;
}
type
(
)
{
return
this
.
_type
;
}
message
(
)
{
return
this
.
_message
;
}
defaultValue
(
)
{
return
this
.
_defaultValue
;
}
async
accept
(
promptText
)
{
assert
(
!
this
.
_handled
'
Cannot
accept
dialog
which
is
already
handled
!
'
)
;
this
.
_handled
=
true
;
await
this
.
_client
.
send
(
'
Page
.
handleJavaScriptDialog
'
{
accept
:
true
promptText
:
promptText
}
)
;
}
async
dismiss
(
)
{
assert
(
!
this
.
_handled
'
Cannot
dismiss
dialog
which
is
already
handled
!
'
)
;
this
.
_handled
=
true
;
await
this
.
_client
.
send
(
'
Page
.
handleJavaScriptDialog
'
{
accept
:
false
}
)
;
}
}
Dialog
.
Type
=
{
Alert
:
'
alert
'
BeforeUnload
:
'
beforeunload
'
Confirm
:
'
confirm
'
Prompt
:
'
prompt
'
}
;
module
.
exports
=
{
Dialog
}
;

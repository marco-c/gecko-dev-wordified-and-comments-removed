module
.
exports
.
addTests
=
function
(
{
testRunner
expect
puppeteer
}
)
{
const
{
describe
xdescribe
fdescribe
}
=
testRunner
;
const
{
it
fit
xit
it_fails_ffox
}
=
testRunner
;
const
iPhone
=
puppeteer
.
devices
[
'
iPhone
6
'
]
;
const
{
beforeAll
beforeEach
afterAll
afterEach
}
=
testRunner
;
describe
(
'
Touchscreen
'
function
(
)
{
it
(
'
should
tap
the
button
'
async
(
{
page
server
}
)
=
>
{
await
page
.
emulate
(
iPhone
)
;
await
page
.
goto
(
server
.
PREFIX
+
'
/
input
/
button
.
html
'
)
;
await
page
.
tap
(
'
button
'
)
;
expect
(
await
page
.
evaluate
(
(
)
=
>
result
)
)
.
toBe
(
'
Clicked
'
)
;
}
)
;
it
(
'
should
report
touches
'
async
(
{
page
server
}
)
=
>
{
await
page
.
emulate
(
iPhone
)
;
await
page
.
goto
(
server
.
PREFIX
+
'
/
input
/
touches
.
html
'
)
;
const
button
=
await
page
.
(
'
button
'
)
;
await
button
.
tap
(
)
;
expect
(
await
page
.
evaluate
(
(
)
=
>
getResult
(
)
)
)
.
toEqual
(
[
'
Touchstart
:
0
'
'
Touchend
:
0
'
]
)
;
}
)
;
}
)
;
}
;

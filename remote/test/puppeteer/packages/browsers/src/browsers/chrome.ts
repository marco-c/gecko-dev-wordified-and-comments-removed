import
path
from
'
path
'
;
import
{
BrowserPlatform
}
from
'
.
/
types
.
js
'
;
function
archive
(
platform
:
BrowserPlatform
revision
:
string
)
:
string
{
switch
(
platform
)
{
case
BrowserPlatform
.
LINUX
:
return
'
chrome
-
linux
'
;
case
BrowserPlatform
.
MAC_ARM
:
case
BrowserPlatform
.
MAC
:
return
'
chrome
-
mac
'
;
case
BrowserPlatform
.
WIN32
:
case
BrowserPlatform
.
WIN64
:
return
parseInt
(
revision
10
)
>
591479
?
'
chrome
-
win
'
:
'
chrome
-
win32
'
;
}
}
function
folder
(
platform
:
BrowserPlatform
)
:
string
{
switch
(
platform
)
{
case
BrowserPlatform
.
LINUX
:
return
'
Linux_x64
'
;
case
BrowserPlatform
.
MAC_ARM
:
return
'
Mac_Arm
'
;
case
BrowserPlatform
.
MAC
:
return
'
Mac
'
;
case
BrowserPlatform
.
WIN32
:
return
'
Win
'
;
case
BrowserPlatform
.
WIN64
:
return
'
Win_x64
'
;
}
}
export
function
resolveDownloadUrl
(
platform
:
BrowserPlatform
revision
:
string
baseUrl
=
'
https
:
/
/
storage
.
googleapis
.
com
/
chromium
-
browser
-
snapshots
'
)
:
string
{
return
{
baseUrl
}
/
{
folder
(
platform
)
}
/
{
revision
}
/
{
archive
(
platform
revision
)
}
.
zip
;
}
export
function
relativeExecutablePath
(
platform
:
BrowserPlatform
_revision
:
string
)
:
string
{
switch
(
platform
)
{
case
BrowserPlatform
.
MAC
:
case
BrowserPlatform
.
MAC_ARM
:
return
path
.
join
(
'
chrome
-
mac
'
'
Chromium
.
app
'
'
Contents
'
'
MacOS
'
'
Chromium
'
)
;
case
BrowserPlatform
.
LINUX
:
return
path
.
join
(
'
chrome
-
linux
'
'
chrome
'
)
;
case
BrowserPlatform
.
WIN32
:
case
BrowserPlatform
.
WIN64
:
return
path
.
join
(
'
chrome
-
win
'
'
chrome
.
exe
'
)
;
}
}

import
{
chain
type
Rule
type
SchematicContext
type
Tree
}
from
'
angular
-
devkit
/
schematics
'
;
import
{
addFilesSingle
}
from
'
.
.
/
utils
/
files
.
js
'
;
import
{
TestRunner
type
AngularProject
}
from
'
.
.
/
utils
/
types
.
js
'
;
export
function
config
(
)
:
Rule
{
return
(
tree
:
Tree
context
:
SchematicContext
)
=
>
{
return
chain
(
[
addPuppeteerConfig
(
)
]
)
(
tree
context
)
;
}
;
}
function
addPuppeteerConfig
(
)
:
Rule
{
return
(
_tree
:
Tree
context
:
SchematicContext
)
=
>
{
context
.
logger
.
debug
(
'
Adding
Puppeteer
config
file
.
'
)
;
return
addFilesSingle
(
'
'
{
root
:
'
'
}
as
AngularProject
{
options
:
{
testRunner
:
TestRunner
.
Jasmine
port
:
4200
}
applyPath
:
'
.
/
files
'
relativeToWorkspacePath
:
/
}
)
;
}
;
}

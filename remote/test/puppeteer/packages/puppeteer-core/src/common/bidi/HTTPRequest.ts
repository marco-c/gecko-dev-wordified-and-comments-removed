import
*
as
Bidi
from
'
chromium
-
bidi
/
lib
/
cjs
/
protocol
/
protocol
.
js
'
;
import
{
Frame
}
from
'
.
.
/
.
.
/
api
/
Frame
.
js
'
;
import
{
HTTPRequest
as
BaseHTTPRequest
ResourceType
}
from
'
.
.
/
.
.
/
api
/
HTTPRequest
.
js
'
;
import
{
HTTPResponse
}
from
'
.
/
HTTPResponse
.
js
'
;
export
class
HTTPRequest
extends
BaseHTTPRequest
{
override
_response
:
HTTPResponse
|
null
=
null
;
override
_redirectChain
:
HTTPRequest
[
]
;
_navigationId
:
string
|
null
;
#
url
:
string
;
#
resourceType
:
ResourceType
;
#
method
:
string
;
#
postData
?
:
string
;
#
headers
:
Record
<
string
string
>
=
{
}
;
#
initiator
:
Bidi
.
Network
.
Initiator
;
#
frame
:
Frame
|
null
;
constructor
(
event
:
Bidi
.
Network
.
BeforeRequestSentParameters
frame
:
Frame
|
null
redirectChain
:
HTTPRequest
[
]
=
[
]
)
{
super
(
)
;
this
.
#
url
=
event
.
request
.
url
;
this
.
#
resourceType
=
event
.
initiator
.
type
.
toLowerCase
(
)
as
ResourceType
;
this
.
#
method
=
event
.
request
.
method
;
this
.
#
postData
=
undefined
;
this
.
#
initiator
=
event
.
initiator
;
this
.
#
frame
=
frame
;
this
.
_requestId
=
event
.
request
.
request
;
this
.
_redirectChain
=
redirectChain
;
this
.
_navigationId
=
event
.
navigation
;
for
(
const
header
of
event
.
request
.
headers
)
{
if
(
header
.
value
.
type
=
=
=
'
string
'
)
{
this
.
#
headers
[
header
.
name
.
toLowerCase
(
)
]
=
header
.
value
.
value
;
}
}
}
override
url
(
)
:
string
{
return
this
.
#
url
;
}
override
resourceType
(
)
:
ResourceType
{
return
this
.
#
resourceType
;
}
override
method
(
)
:
string
{
return
this
.
#
method
;
}
override
postData
(
)
:
string
|
undefined
{
return
this
.
#
postData
;
}
override
headers
(
)
:
Record
<
string
string
>
{
return
this
.
#
headers
;
}
override
response
(
)
:
HTTPResponse
|
null
{
return
this
.
_response
;
}
override
isNavigationRequest
(
)
:
boolean
{
return
Boolean
(
this
.
_navigationId
)
;
}
override
initiator
(
)
:
Bidi
.
Network
.
Initiator
{
return
this
.
#
initiator
;
}
override
redirectChain
(
)
:
HTTPRequest
[
]
{
return
this
.
_redirectChain
.
slice
(
)
;
}
override
enqueueInterceptAction
(
pendingHandler
:
(
)
=
>
void
|
PromiseLike
<
unknown
>
)
:
void
{
void
pendingHandler
(
)
;
}
override
frame
(
)
:
Frame
|
null
{
return
this
.
#
frame
;
}
}

import
*
as
Bidi
from
'
chromium
-
bidi
/
lib
/
cjs
/
protocol
/
protocol
.
js
'
;
import
{
debug
}
from
'
.
.
/
Debug
.
js
'
;
import
{
Context
}
from
'
.
/
Context
.
js
'
;
export
const
debugError
=
debug
(
'
puppeteer
:
error
'
)
;
export
async
function
releaseReference
(
client
:
Context
remoteReference
:
Bidi
.
CommonDataTypes
.
RemoteReference
)
:
Promise
<
void
>
{
if
(
!
remoteReference
.
handle
)
{
return
;
}
await
client
.
connection
.
send
(
'
script
.
disown
'
{
target
:
{
context
:
client
.
_contextId
}
handles
:
[
remoteReference
.
handle
]
}
)
.
catch
(
(
error
:
any
)
=
>
{
debugError
(
error
)
;
}
)
;
}

import
*
as
Bidi
from
'
chromium
-
bidi
/
lib
/
cjs
/
protocol
/
protocol
.
js
'
;
import
{
debug
}
from
'
.
.
/
Debug
.
js
'
;
import
{
Connection
}
from
'
.
/
Connection
.
js
'
;
export
const
debugError
=
debug
(
'
puppeteer
:
error
'
)
;
export
async
function
releaseReference
(
client
:
Connection
remoteReference
:
Bidi
.
CommonDataTypes
.
RemoteReference
)
:
Promise
<
void
>
{
if
(
!
remoteReference
.
handle
)
{
return
;
}
await
client
.
send
(
'
script
.
disown
'
{
target
:
{
realm
:
'
'
context
:
'
'
}
handles
:
[
remoteReference
.
handle
]
}
)
.
catch
(
(
error
:
any
)
=
>
{
debugError
(
error
)
;
}
)
;
}

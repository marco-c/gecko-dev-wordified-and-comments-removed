import
{
z
}
from
'
zod
'
;
import
{
RecommendedExpectation
}
from
'
.
/
utils
.
js
'
;
export
const
zPlatform
=
z
.
enum
(
[
'
win32
'
'
linux
'
'
darwin
'
]
)
;
export
type
Platform
=
z
.
infer
<
typeof
zPlatform
>
;
export
const
zTestSuite
=
z
.
object
(
{
id
:
z
.
string
(
)
platforms
:
z
.
array
(
zPlatform
)
parameters
:
z
.
array
(
z
.
string
(
)
)
expectedLineCoverage
:
z
.
number
(
)
}
)
;
export
type
TestSuite
=
z
.
infer
<
typeof
zTestSuite
>
;
export
const
zTestSuiteFile
=
z
.
object
(
{
testSuites
:
z
.
array
(
zTestSuite
)
parameterDefinitions
:
z
.
record
(
z
.
any
(
)
)
}
)
;
export
type
TestSuiteFile
=
z
.
infer
<
typeof
zTestSuiteFile
>
;
export
type
TestResult
=
'
PASS
'
|
'
FAIL
'
|
'
TIMEOUT
'
|
'
SKIP
'
;
export
type
TestExpectation
=
{
testIdPattern
:
string
;
platforms
:
NodeJS
.
Platform
[
]
;
parameters
:
string
[
]
;
expectations
:
TestResult
[
]
;
}
;
export
type
MochaTestResult
=
{
fullTitle
:
string
;
title
:
string
;
file
:
string
;
err
?
:
{
code
:
string
}
;
}
;
export
type
MochaResults
=
{
stats
:
unknown
;
pending
:
MochaTestResult
[
]
;
passes
:
MochaTestResult
[
]
;
failures
:
MochaTestResult
[
]
;
updates
?
:
RecommendedExpectation
[
]
;
parameters
?
:
string
[
]
;
platform
?
:
string
;
date
?
:
string
;
}
;

export
class
TaskQueue
{
private
_chain
:
Promise
<
void
>
;
constructor
(
)
{
this
.
_chain
=
Promise
.
resolve
(
)
;
}
postTask
<
T
>
(
task
:
(
)
=
>
Promise
<
T
>
)
:
Promise
<
T
>
{
const
result
=
this
.
_chain
.
then
(
task
)
;
this
.
_chain
=
result
.
then
(
(
)
=
>
undefined
(
)
=
>
undefined
)
;
return
result
;
}
}

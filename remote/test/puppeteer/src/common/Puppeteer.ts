import
{
puppeteerErrors
PuppeteerErrors
}
from
'
.
/
Errors
.
js
'
;
import
{
ConnectionTransport
}
from
'
.
/
ConnectionTransport
.
js
'
;
import
{
devicesMap
DevicesMap
}
from
'
.
/
DeviceDescriptors
.
js
'
;
import
{
Browser
}
from
'
.
/
Browser
.
js
'
;
import
{
registerCustomQueryHandler
unregisterCustomQueryHandler
customQueryHandlerNames
clearCustomQueryHandlers
CustomQueryHandler
}
from
'
.
/
QueryHandler
.
js
'
;
import
{
Product
}
from
'
.
/
Product
.
js
'
;
import
{
connectToBrowser
BrowserOptions
}
from
'
.
/
BrowserConnector
.
js
'
;
export
interface
CommonPuppeteerSettings
{
isPuppeteerCore
:
boolean
;
}
export
interface
ConnectOptions
extends
BrowserOptions
{
browserWSEndpoint
?
:
string
;
browserURL
?
:
string
;
transport
?
:
ConnectionTransport
;
product
?
:
Product
;
}
export
class
Puppeteer
{
protected
_isPuppeteerCore
:
boolean
;
protected
_changedProduct
=
false
;
constructor
(
settings
:
CommonPuppeteerSettings
)
{
this
.
_isPuppeteerCore
=
settings
.
isPuppeteerCore
;
}
connect
(
options
:
ConnectOptions
)
:
Promise
<
Browser
>
{
return
connectToBrowser
(
options
)
;
}
get
devices
(
)
:
DevicesMap
{
return
devicesMap
;
}
get
errors
(
)
:
PuppeteerErrors
{
return
puppeteerErrors
;
}
registerCustomQueryHandler
(
name
:
string
queryHandler
:
CustomQueryHandler
)
:
void
{
registerCustomQueryHandler
(
name
queryHandler
)
;
}
unregisterCustomQueryHandler
(
name
:
string
)
:
void
{
unregisterCustomQueryHandler
(
name
)
;
}
customQueryHandlerNames
(
)
:
string
[
]
{
return
customQueryHandlerNames
(
)
;
}
clearCustomQueryHandlers
(
)
:
void
{
clearCustomQueryHandlers
(
)
;
}
}

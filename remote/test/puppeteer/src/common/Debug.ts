import
{
isNode
}
from
'
.
.
/
environment
.
js
'
;
export
const
debug
=
(
prefix
:
string
)
:
(
(
.
.
.
args
:
unknown
[
]
)
=
>
void
)
=
>
{
if
(
isNode
)
{
return
require
(
'
debug
'
)
(
prefix
)
;
}
return
(
.
.
.
logArgs
:
unknown
[
]
)
:
void
=
>
{
const
debugLevel
=
globalThis
.
__PUPPETEER_DEBUG
as
string
;
if
(
!
debugLevel
)
return
;
const
everythingShouldBeLogged
=
debugLevel
=
=
=
'
*
'
;
const
prefixMatchesDebugLevel
=
everythingShouldBeLogged
|
|
(
debugLevel
.
endsWith
(
'
*
'
)
?
prefix
.
startsWith
(
debugLevel
)
:
prefix
=
=
=
debugLevel
)
;
if
(
!
prefixMatchesDebugLevel
)
return
;
console
.
log
(
{
prefix
}
:
.
.
.
logArgs
)
;
}
;
}
;

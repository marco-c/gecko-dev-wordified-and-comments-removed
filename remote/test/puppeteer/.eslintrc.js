const
{
readdirSync
}
=
require
(
'
fs
'
)
;
const
{
join
}
=
require
(
'
path
'
)
;
const
rulesDirPlugin
=
require
(
'
eslint
-
plugin
-
rulesdir
'
)
;
rulesDirPlugin
.
RULES_DIR
=
'
tools
/
eslint
/
lib
'
;
function
getThirdPartyPackages
(
)
{
return
readdirSync
(
join
(
__dirname
'
packages
/
puppeteer
-
core
/
third_party
'
)
{
withFileTypes
:
true
}
)
.
filter
(
dirent
=
>
{
return
dirent
.
isDirectory
(
)
;
}
)
.
map
(
(
{
name
}
)
=
>
{
return
{
name
message
:
Import
\
{
name
}
\
from
the
vendored
location
:
third_party
/
{
name
}
/
index
.
js
}
;
}
)
;
}
module
.
exports
=
{
root
:
true
env
:
{
node
:
true
es6
:
true
}
parser
:
'
typescript
-
eslint
/
parser
'
plugins
:
[
'
mocha
'
'
typescript
-
eslint
'
'
import
'
]
extends
:
[
'
plugin
:
prettier
/
recommended
'
'
plugin
:
import
/
typescript
'
]
settings
:
{
'
import
/
resolver
'
:
{
typescript
:
true
}
}
rules
:
{
curly
:
[
'
error
'
'
all
'
]
'
arrow
-
body
-
style
'
:
[
'
error
'
'
always
'
]
'
prettier
/
prettier
'
:
'
error
'
'
spaced
-
comment
'
:
[
'
error
'
'
always
'
{
markers
:
[
'
*
'
]
}
]
eqeqeq
:
[
'
error
'
]
'
accessor
-
pairs
'
:
[
'
error
'
{
getWithoutSet
:
false
setWithoutGet
:
false
}
]
'
new
-
parens
'
:
'
error
'
'
func
-
call
-
spacing
'
:
'
error
'
'
prefer
-
const
'
:
'
error
'
'
max
-
len
'
:
[
'
error
'
{
code
:
200
comments
:
90
ignoreTemplateLiterals
:
true
ignoreUrls
:
true
ignoreStrings
:
true
ignoreRegExpLiterals
:
true
}
]
'
no
-
var
'
:
'
error
'
'
no
-
with
'
:
'
error
'
'
no
-
multi
-
str
'
:
'
error
'
'
no
-
caller
'
:
'
error
'
'
no
-
implied
-
eval
'
:
'
error
'
'
no
-
labels
'
:
'
error
'
'
no
-
new
-
object
'
:
'
error
'
'
no
-
octal
-
escape
'
:
'
error
'
'
no
-
self
-
compare
'
:
'
error
'
'
no
-
shadow
-
restricted
-
names
'
:
'
error
'
'
no
-
cond
-
assign
'
:
'
error
'
'
no
-
debugger
'
:
'
error
'
'
no
-
dupe
-
keys
'
:
'
error
'
'
no
-
duplicate
-
case
'
:
'
error
'
'
no
-
empty
-
character
-
class
'
:
'
error
'
'
no
-
unreachable
'
:
'
error
'
'
no
-
unsafe
-
negation
'
:
'
error
'
radix
:
'
error
'
'
valid
-
typeof
'
:
'
error
'
'
no
-
unused
-
vars
'
:
[
'
error
'
{
args
:
'
none
'
vars
:
'
local
'
varsIgnorePattern
:
'
(
[
fx
]
?
describe
|
[
fx
]
?
it
|
beforeAll
|
beforeEach
|
afterAll
|
afterEach
)
'
}
]
'
no
-
implicit
-
globals
'
:
[
'
error
'
]
'
require
-
yield
'
:
'
error
'
'
template
-
curly
-
spacing
'
:
[
'
error
'
'
never
'
]
'
mocha
/
no
-
exclusive
-
tests
'
:
'
error
'
'
import
/
order
'
:
[
'
error
'
{
'
newlines
-
between
'
:
'
always
'
alphabetize
:
{
order
:
'
asc
'
caseInsensitive
:
true
}
}
]
'
import
/
no
-
cycle
'
:
[
'
error
'
{
maxDepth
:
Infinity
}
]
'
no
-
restricted
-
syntax
'
:
[
'
error
'
]
}
overrides
:
[
{
files
:
[
'
*
.
ts
'
]
parserOptions
:
{
allowAutomaticSingleRunInference
:
true
project
:
'
.
/
tsconfig
.
base
.
json
'
}
extends
:
[
'
plugin
:
typescript
-
eslint
/
eslint
-
recommended
'
'
plugin
:
typescript
-
eslint
/
recommended
'
'
plugin
:
typescript
-
eslint
/
stylistic
'
]
plugins
:
[
'
eslint
-
plugin
-
tsdoc
'
'
rulesdir
'
]
rules
:
{
'
rulesdir
/
prettier
-
comments
'
:
'
error
'
'
rulesdir
/
use
-
using
'
:
'
error
'
'
rulesdir
/
extensions
'
:
'
error
'
curly
:
[
'
error
'
'
all
'
]
'
arrow
-
body
-
style
'
:
[
'
error
'
'
always
'
]
'
tsdoc
/
syntax
'
:
'
error
'
'
typescript
-
eslint
/
array
-
type
'
:
[
'
error
'
{
default
:
'
array
-
simple
'
}
]
'
no
-
unused
-
vars
'
:
'
off
'
'
typescript
-
eslint
/
no
-
unused
-
vars
'
:
[
'
error
'
{
argsIgnorePattern
:
'
^
_
'
varsIgnorePattern
:
'
^
_
'
}
]
'
func
-
call
-
spacing
'
:
'
off
'
'
typescript
-
eslint
/
func
-
call
-
spacing
'
:
'
error
'
semi
:
'
off
'
'
typescript
-
eslint
/
semi
'
:
'
error
'
'
typescript
-
eslint
/
no
-
empty
-
function
'
:
'
off
'
'
typescript
-
eslint
/
no
-
use
-
before
-
define
'
:
'
off
'
'
typescript
-
eslint
/
no
-
explicit
-
any
'
:
'
off
'
'
typescript
-
eslint
/
explicit
-
function
-
return
-
type
'
:
'
off
'
'
typescript
-
eslint
/
no
-
non
-
null
-
assertion
'
:
'
off
'
'
typescript
-
eslint
/
ban
-
types
'
:
[
'
error
'
{
extendDefaults
:
true
types
:
{
Function
:
false
}
}
]
'
typescript
-
eslint
/
explicit
-
module
-
boundary
-
types
'
:
'
error
'
'
no
-
restricted
-
syntax
'
:
[
'
error
'
{
selector
:
"
CallExpression
[
callee
.
name
=
'
require
'
]
"
message
:
'
require
statements
are
not
allowed
.
Use
import
.
'
}
{
message
:
'
Use
method
Deferred
.
race
(
)
instead
.
'
selector
:
'
MemberExpression
[
object
.
name
=
"
Promise
"
]
[
property
.
name
=
"
race
"
]
'
}
{
message
:
'
Deferred
valueOrThrow
should
not
be
called
in
Deferred
.
race
(
)
pass
deferred
directly
'
selector
:
'
CallExpression
[
callee
.
object
.
name
=
"
Deferred
"
]
[
callee
.
property
.
name
=
"
race
"
]
>
ArrayExpression
>
CallExpression
[
callee
.
property
.
name
=
"
valueOrThrow
"
]
'
}
]
'
typescript
-
eslint
/
no
-
floating
-
promises
'
:
[
'
error
'
{
ignoreVoid
:
true
ignoreIIFE
:
true
}
]
'
typescript
-
eslint
/
prefer
-
ts
-
expect
-
error
'
:
'
error
'
'
typescript
-
eslint
/
return
-
await
'
:
[
'
error
'
'
always
'
]
'
typescript
-
eslint
/
consistent
-
type
-
imports
'
:
'
error
'
'
typescript
-
eslint
/
consistent
-
type
-
exports
'
:
'
error
'
'
typescript
-
eslint
/
no
-
import
-
type
-
side
-
effects
'
:
'
error
'
}
overrides
:
[
{
files
:
'
packages
/
puppeteer
-
core
/
src
/
*
*
/
*
.
ts
'
rules
:
{
'
no
-
restricted
-
imports
'
:
[
'
error
'
{
patterns
:
[
'
*
Events
'
'
*
.
test
.
js
'
]
paths
:
[
.
.
.
getThirdPartyPackages
(
)
]
}
]
}
}
{
files
:
[
'
packages
/
puppeteer
-
core
/
src
/
*
*
/
*
.
test
.
ts
'
'
tools
/
mocha
-
runner
/
src
/
test
.
ts
'
]
rules
:
{
'
typescript
-
eslint
/
no
-
floating
-
promises
'
:
'
off
'
}
}
]
}
]
}
;

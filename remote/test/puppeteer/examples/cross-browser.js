const
puppeteer
=
require
(
'
puppeteer
'
)
;
const
firefoxOptions
=
{
product
:
'
firefox
'
extraPrefsFirefox
:
{
}
dumpio
:
true
}
;
(
async
(
)
=
>
{
const
browser
=
await
puppeteer
.
launch
(
firefoxOptions
)
;
const
page
=
await
browser
.
newPage
(
)
;
console
.
log
(
await
browser
.
version
(
)
)
;
await
page
.
goto
(
'
https
:
/
/
news
.
ycombinator
.
com
/
'
)
;
const
resultsSelector
=
'
.
titlelink
'
;
const
links
=
await
page
.
evaluate
(
resultsSelector
=
>
{
const
anchors
=
Array
.
from
(
document
.
querySelectorAll
(
resultsSelector
)
)
;
return
anchors
.
map
(
anchor
=
>
{
const
title
=
anchor
.
textContent
.
trim
(
)
;
return
{
title
}
-
{
anchor
.
href
}
;
}
)
;
}
resultsSelector
)
;
console
.
log
(
links
.
join
(
'
\
n
'
)
)
;
await
browser
.
close
(
)
;
}
)
(
)
;

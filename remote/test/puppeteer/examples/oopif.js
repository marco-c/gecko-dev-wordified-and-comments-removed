'
use
strict
'
;
const
puppeteer
=
require
(
'
puppeteer
'
)
;
async
function
attachFrame
(
frameId
url
)
{
const
frame
=
document
.
createElement
(
'
iframe
'
)
;
frame
.
src
=
url
;
frame
.
id
=
frameId
;
document
.
body
.
appendChild
(
frame
)
;
await
new
Promise
(
x
=
>
{
return
(
frame
.
onload
=
x
)
;
}
)
;
return
frame
;
}
(
async
(
)
=
>
{
const
browser
=
await
puppeteer
.
launch
(
{
headless
:
false
}
)
;
const
page
=
await
browser
.
newPage
(
)
;
await
page
.
goto
(
'
http
:
/
/
example
.
org
/
'
)
;
await
page
.
evaluateHandle
(
attachFrame
'
frame1
'
'
https
:
/
/
example
.
com
/
'
)
;
await
browser
.
close
(
)
;
}
)
(
)
;

"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
WindowManager
"
]
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
XPCOMUtils
.
defineLazyModuleGetters
(
this
{
Services
:
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
EventPromise
:
"
chrome
:
/
/
remote
/
content
/
shared
/
Sync
.
jsm
"
}
)
;
var
WindowManager
=
{
async
focus
(
window
)
{
if
(
window
!
=
Services
.
focus
.
activeWindow
)
{
const
promises
=
[
EventPromise
(
window
"
activate
"
)
EventPromise
(
window
"
focus
"
{
capture
:
true
}
)
]
;
window
.
focus
(
)
;
await
Promise
.
all
(
promises
)
;
}
}
}
;

"
use
strict
"
;
const
EXPORTED_SYMBOLS
=
[
"
getFramesFromStack
"
"
isChromeFrame
"
]
;
function
getFramesFromStack
(
stack
)
{
if
(
!
stack
|
|
(
Cu
&
&
Cu
.
isDeadWrapper
(
stack
)
)
)
{
return
null
;
}
const
frames
=
[
]
;
while
(
stack
)
{
frames
.
push
(
{
asyncCause
:
stack
.
asyncCause
columnNumber
:
stack
.
column
filename
:
stack
.
source
functionName
:
stack
.
functionDisplayName
|
|
"
"
lineNumber
:
stack
.
line
sourceId
:
stack
.
sourceId
}
)
;
stack
=
stack
.
parent
|
|
stack
.
asyncParent
;
}
return
frames
;
}
function
isChromeFrame
(
frame
)
{
return
(
frame
.
filename
.
startsWith
(
"
chrome
:
/
/
"
)
|
|
frame
.
filename
.
startsWith
(
"
resource
:
/
/
"
)
)
;
}

"
use
strict
"
;
const
EXPORTED_SYMBOLS
=
[
"
WindowGlobalMessageHandler
"
]
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
XPCOMUtils
.
defineLazyModuleGetters
(
this
{
MessageHandler
:
"
chrome
:
/
/
remote
/
content
/
shared
/
messagehandler
/
MessageHandler
.
jsm
"
}
)
;
class
WindowGlobalMessageHandler
extends
MessageHandler
{
static
get
modulePath
(
)
{
return
"
windowglobal
"
;
}
static
get
type
(
)
{
return
"
WINDOW_GLOBAL
"
;
}
static
getIdFromContext
(
context
)
{
return
context
.
id
;
}
forwardCommand
(
command
)
{
throw
new
Error
(
Cannot
forward
commands
from
a
"
WINDOW_GLOBAL
"
MessageHandler
)
;
}
}

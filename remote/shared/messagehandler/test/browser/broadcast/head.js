"
use
strict
"
;
Services
.
scriptloader
.
loadSubScript
(
"
chrome
:
/
/
mochitests
/
content
/
browser
/
remote
/
shared
/
messagehandler
/
test
/
browser
/
head
.
js
"
this
)
;
function
sendTestBroadcastCommand
(
module
command
params
rootMessageHandler
)
{
const
{
WindowGlobalMessageHandler
}
=
ChromeUtils
.
import
(
"
chrome
:
/
/
remote
/
content
/
shared
/
messagehandler
/
WindowGlobalMessageHandler
.
jsm
"
)
;
const
{
CONTEXT_DESCRIPTOR_TYPES
}
=
ChromeUtils
.
import
(
"
chrome
:
/
/
remote
/
content
/
shared
/
messagehandler
/
MessageHandler
.
jsm
"
)
;
info
(
"
Send
a
test
broadcast
command
"
)
;
return
rootMessageHandler
.
handleCommand
(
{
moduleName
:
module
commandName
:
command
params
destination
:
{
contextDescriptor
:
{
type
:
CONTEXT_DESCRIPTOR_TYPES
.
ALL
}
type
:
WindowGlobalMessageHandler
.
type
}
}
)
;
}

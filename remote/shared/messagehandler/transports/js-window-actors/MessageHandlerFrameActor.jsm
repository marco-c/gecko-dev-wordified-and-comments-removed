"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
MessageHandlerFrameActor
"
]
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
XPCOMUtils
.
defineLazyModuleGetters
(
this
{
ActorManagerParent
:
"
resource
:
/
/
gre
/
modules
/
ActorManagerParent
.
jsm
"
}
)
;
const
FRAME_ACTOR_CONFIG
=
{
parent
:
{
moduleURI
:
"
chrome
:
/
/
remote
/
content
/
shared
/
messagehandler
/
transports
/
js
-
window
-
actors
/
MessageHandlerFrameParent
.
jsm
"
}
child
:
{
moduleURI
:
"
chrome
:
/
/
remote
/
content
/
shared
/
messagehandler
/
transports
/
js
-
window
-
actors
/
MessageHandlerFrameChild
.
jsm
"
}
allFrames
:
true
}
;
const
MessageHandlerFrameActor
=
{
registered
:
false
register
:
(
)
=
>
{
if
(
this
.
registered
)
{
return
;
}
ActorManagerParent
.
addJSWindowActors
(
{
MessageHandlerFrame
:
FRAME_ACTOR_CONFIG
}
)
;
this
.
registered
=
true
;
}
}
;

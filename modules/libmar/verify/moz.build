Library
(
'
verifymar
'
)
UNIFIED_SOURCES
+
=
[
'
cryptox
.
c
'
'
mar_verify
.
c
'
]
FORCE_STATIC_LIB
=
True
if
CONFIG
[
'
OS_ARCH
'
]
=
=
'
WINNT
'
:
USE_STATIC_LIBS
=
True
elif
CONFIG
[
'
OS_ARCH
'
]
=
=
'
Darwin
'
:
UNIFIED_SOURCES
+
=
[
'
MacVerifyCrypto
.
cpp
'
]
OS_LIBS
+
=
[
'
-
framework
Security
'
]
else
:
DEFINES
[
'
MAR_NSS
'
]
=
True
LOCAL_INCLUDES
+
=
[
'
.
.
/
sign
'
]
USE_LIBS
+
=
[
'
nspr
'
'
nss
'
'
signmar
'
]
OS_LIBS
+
=
[
'
-
Wl
-
rpath
=
\
\
ORIGIN
'
]
LOCAL_INCLUDES
+
=
[
'
.
.
/
src
'
]
c11_flags
=
[
'
-
std
=
gnu11
'
]
if
CONFIG
[
'
CC_TYPE
'
]
=
=
'
clang
-
cl
'
:
c11_flags
.
insert
(
0
'
-
Xclang
'
)
CFLAGS
+
=
c11_flags

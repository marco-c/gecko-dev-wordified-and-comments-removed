#
ifndef
BROTLI_DEC_DECODE_H_
#
define
BROTLI_DEC_DECODE_H_
#
include
"
.
/
state
.
h
"
#
include
"
.
/
streams
.
h
"
#
include
"
.
/
types
.
h
"
#
if
defined
(
__cplusplus
)
|
|
defined
(
c_plusplus
)
extern
"
C
"
{
#
endif
typedef
enum
{
BROTLI_RESULT_ERROR
=
0
BROTLI_RESULT_SUCCESS
=
1
BROTLI_RESULT_NEEDS_MORE_INPUT
=
2
BROTLI_RESULT_NEEDS_MORE_OUTPUT
=
3
}
BrotliResult
;
#
if
defined
(
_MSC_VER
)
|
|
!
defined
(
BROTLI_DEBUG
)
#
define
BROTLI_FAILURE
(
)
BROTLI_RESULT_ERROR
#
else
#
define
BROTLI_FAILURE
(
)
\
BrotliFailure
(
__FILE__
__LINE__
__PRETTY_FUNCTION__
)
static
inline
BrotliResult
BrotliFailure
(
const
char
*
f
int
l
const
char
*
fn
)
{
fprintf
(
stderr
"
ERROR
at
%
s
:
%
d
(
%
s
)
\
n
"
f
l
fn
)
;
fflush
(
stderr
)
;
return
BROTLI_RESULT_ERROR
;
}
#
endif
int
BrotliDecompressedSize
(
size_t
encoded_size
const
uint8_t
*
encoded_buffer
size_t
*
decoded_size
)
;
BrotliResult
BrotliDecompressBuffer
(
size_t
encoded_size
const
uint8_t
*
encoded_buffer
size_t
*
decoded_size
uint8_t
*
decoded_buffer
)
;
BrotliResult
BrotliDecompress
(
BrotliInput
input
BrotliOutput
output
)
;
BrotliResult
BrotliDecompressStreaming
(
BrotliInput
input
BrotliOutput
output
int
finish
BrotliState
*
s
)
;
BrotliResult
BrotliDecompressBufferStreaming
(
size_t
*
available_in
const
uint8_t
*
*
next_in
int
finish
size_t
*
available_out
uint8_t
*
*
next_out
size_t
*
total_out
BrotliState
*
s
)
;
void
BrotliSetCustomDictionary
(
size_t
size
const
uint8_t
*
dict
BrotliState
*
s
)
;
void
InverseMoveToFrontTransformForTesting
(
uint8_t
*
v
int
l
BrotliState
*
s
)
;
#
if
defined
(
__cplusplus
)
|
|
defined
(
c_plusplus
)
}
#
endif
#
endif

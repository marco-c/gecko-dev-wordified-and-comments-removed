#
ifndef
INTERNAL_COMPILER_MACROS_H_
#
define
INTERNAL_COMPILER_MACROS_H_
#
include
<
freetype
/
config
/
public
-
macros
.
h
>
FT_BEGIN_HEADER
#
if
defined
(
__sgi
)
&
&
!
defined
(
__GNUC__
)
#
if
defined
(
_COMPILER_VERSION
)
&
&
(
_COMPILER_VERSION
>
=
730
)
#
pragma
set
woff
3505
#
endif
#
endif
#
if
defined
(
__sgi
)
&
&
!
defined
(
__GNUC__
)
#
if
defined
(
_COMPILER_VERSION
)
&
&
(
_COMPILER_VERSION
>
=
730
)
#
pragma
set
woff
3505
#
endif
#
endif
#
ifndef
FALL_THROUGH
#
if
(
defined
(
__STDC_VERSION__
)
&
&
__STDC_VERSION__
>
201710L
)
|
|
\
(
defined
(
__cplusplus
)
&
&
__cplusplus
>
201402L
)
#
define
FALL_THROUGH
[
[
__fallthrough__
]
]
#
elif
(
defined
(
__GNUC__
)
&
&
__GNUC__
>
=
7
)
|
|
\
(
defined
(
__clang__
)
&
&
\
(
defined
(
__apple_build_version__
)
\
?
__apple_build_version__
>
=
12000000
\
:
__clang_major__
>
=
10
)
)
#
define
FALL_THROUGH
__attribute__
(
(
__fallthrough__
)
)
#
else
#
define
FALL_THROUGH
(
(
void
)
0
)
#
endif
#
endif
#
define
FT_BEGIN_STMNT
do
{
#
define
FT_END_STMNT
}
while
(
0
)
#
define
FT_DUMMY_STMNT
FT_BEGIN_STMNT
FT_END_STMNT
#
ifdef
__UINTPTR_TYPE__
#
define
FT_UINT_TO_POINTER
(
x
)
(
void
*
)
(
__UINTPTR_TYPE__
)
(
x
)
#
elif
defined
(
_WIN64
)
#
define
FT_UINT_TO_POINTER
(
x
)
(
void
*
)
(
unsigned
__int64
)
(
x
)
#
else
#
define
FT_UINT_TO_POINTER
(
x
)
(
void
*
)
(
unsigned
long
)
(
x
)
#
endif
#
if
(
(
defined
(
__GNUC__
)
&
&
__GNUC__
>
=
2
)
|
|
\
(
defined
(
__IBMC__
)
&
&
__IBMC__
>
=
1210
&
&
\
defined
(
__IBM__TYPEOF__
)
)
|
|
\
(
defined
(
__SUNPRO_C
)
&
&
__SUNPRO_C
>
=
0x5110
&
&
!
__STDC__
)
)
#
define
FT_TYPEOF
(
type
)
(
__typeof__
(
type
)
)
#
else
#
define
FT_TYPEOF
(
type
)
#
endif
#
if
defined
(
_WIN32
)
|
|
defined
(
__CYGWIN__
)
#
define
FT_INTERNAL_FUNCTION_ATTRIBUTE
#
elif
(
defined
(
__GNUC__
)
&
&
__GNUC__
>
=
4
)
|
|
defined
(
__clang__
)
#
define
FT_INTERNAL_FUNCTION_ATTRIBUTE
\
__attribute__
(
(
visibility
(
"
hidden
"
)
)
)
#
elif
defined
(
__SUNPRO_C
)
&
&
__SUNPRO_C
>
=
0x550
#
define
FT_INTERNAL_FUNCTION_ATTRIBUTE
__hidden
#
else
#
define
FT_INTERNAL_FUNCTION_ATTRIBUTE
#
endif
#
define
FT_FUNCTION_DECLARATION
(
x
)
extern
x
#
ifdef
__cplusplus
#
define
FT_FUNCTION_DEFINITION
(
x
)
extern
"
C
"
x
#
else
#
define
FT_FUNCTION_DEFINITION
(
x
)
x
#
endif
#
ifdef
FT_MAKE_OPTION_SINGLE_OBJECT
#
define
FT_LOCAL
(
x
)
static
x
#
define
FT_LOCAL_DEF
(
x
)
static
x
#
else
#
define
FT_LOCAL
(
x
)
FT_INTERNAL_FUNCTION_ATTRIBUTE
\
FT_FUNCTION_DECLARATION
(
x
)
#
define
FT_LOCAL_DEF
(
x
)
FT_FUNCTION_DEFINITION
(
x
)
#
endif
#
define
FT_LOCAL_ARRAY
(
x
)
FT_INTERNAL_FUNCTION_ATTRIBUTE
\
extern
const
x
#
define
FT_LOCAL_ARRAY_DEF
(
x
)
FT_FUNCTION_DEFINITION
(
const
x
)
#
define
FT_BASE
(
x
)
FT_INTERNAL_FUNCTION_ATTRIBUTE
\
FT_FUNCTION_DECLARATION
(
x
)
#
define
FT_BASE_DEF
(
x
)
FT_FUNCTION_DEFINITION
(
x
)
#
ifndef
FT_EXPORT_VAR
#
define
FT_EXPORT_VAR
(
x
)
FT_FUNCTION_DECLARATION
(
x
)
#
endif
#
define
FT_EXPORT_DEF
(
x
)
FT_FUNCTION_DEFINITION
(
x
)
#
ifdef
__cplusplus
#
define
FT_CALLBACK_DEF
(
x
)
extern
"
C
"
x
#
else
#
define
FT_CALLBACK_DEF
(
x
)
static
x
#
endif
#
if
defined
(
__GNUC__
)
&
&
defined
(
__i386__
)
#
define
FT_COMPARE_DEF
(
x
)
FT_CALLBACK_DEF
(
x
)
__attribute__
(
(
cdecl
)
)
#
elif
defined
(
_MSC_VER
)
&
&
defined
(
_M_IX86
)
#
define
FT_COMPARE_DEF
(
x
)
FT_CALLBACK_DEF
(
x
)
__cdecl
#
elif
defined
(
__WATCOMC__
)
&
&
__WATCOMC__
>
=
1240
#
define
FT_COMPARE_DEF
(
x
)
FT_CALLBACK_DEF
(
x
)
__watcall
#
else
#
define
FT_COMPARE_DEF
(
x
)
FT_CALLBACK_DEF
(
x
)
#
endif
#
define
FT_BASE_CALLBACK
(
x
)
FT_FUNCTION_DECLARATION
(
x
)
#
define
FT_BASE_CALLBACK_DEF
(
x
)
FT_FUNCTION_DEFINITION
(
x
)
#
ifndef
FT_CALLBACK_TABLE
#
ifdef
__cplusplus
#
define
FT_CALLBACK_TABLE
extern
"
C
"
#
define
FT_CALLBACK_TABLE_DEF
extern
"
C
"
#
else
#
define
FT_CALLBACK_TABLE
extern
#
define
FT_CALLBACK_TABLE_DEF
#
endif
#
endif
FT_END_HEADER
#
endif

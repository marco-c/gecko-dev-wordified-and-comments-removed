#
ifndef
INC_DLG_OUTPUT_H_
#
define
INC_DLG_OUTPUT_H_
#
include
<
dlg
/
dlg
.
h
>
#
include
<
stdio
.
h
>
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
enum
dlg_text_style
{
dlg_text_style_reset
=
0
dlg_text_style_bold
=
1
dlg_text_style_dim
=
2
dlg_text_style_italic
=
3
dlg_text_style_underline
=
4
dlg_text_style_blink
=
5
dlg_text_style_rblink
=
6
dlg_text_style_reversed
=
7
dlg_text_style_conceal
=
8
dlg_text_style_crossed
=
9
dlg_text_style_none
}
;
enum
dlg_color
{
dlg_color_black
=
0
dlg_color_red
dlg_color_green
dlg_color_yellow
dlg_color_blue
dlg_color_magenta
dlg_color_cyan
dlg_color_gray
dlg_color_reset
=
9
dlg_color_black2
=
60
dlg_color_red2
dlg_color_green2
dlg_color_yellow2
dlg_color_blue2
dlg_color_magenta2
dlg_color_cyan2
dlg_color_gray2
dlg_color_none
=
69
}
;
struct
dlg_style
{
enum
dlg_text_style
style
;
enum
dlg_color
fg
;
enum
dlg_color
bg
;
}
;
DLG_API
int
dlg_fprintf
(
FILE
*
stream
const
char
*
format
.
.
.
)
DLG_PRINTF_ATTRIB
(
2
3
)
;
DLG_API
int
dlg_vfprintf
(
FILE
*
stream
const
char
*
format
va_list
list
)
;
DLG_API
int
dlg_styled_fprintf
(
FILE
*
stream
struct
dlg_style
style
const
char
*
format
.
.
.
)
DLG_PRINTF_ATTRIB
(
3
4
)
;
enum
dlg_output_feature
{
dlg_output_tags
=
1
dlg_output_time
=
2
dlg_output_style
=
4
dlg_output_func
=
8
dlg_output_file_line
=
16
dlg_output_newline
=
32
dlg_output_threadsafe
=
64
dlg_output_time_msecs
=
128
}
;
DLG_API
extern
const
struct
dlg_style
dlg_default_output_styles
[
6
]
;
typedef
void
(
*
dlg_generic_output_handler
)
(
void
*
data
const
char
*
format
.
.
.
)
;
DLG_API
void
dlg_generic_output
(
dlg_generic_output_handler
output
void
*
data
unsigned
int
features
const
struct
dlg_origin
*
origin
const
char
*
string
const
struct
dlg_style
styles
[
6
]
)
;
DLG_API
void
dlg_generic_outputf
(
dlg_generic_output_handler
output
void
*
data
const
char
*
format_string
const
struct
dlg_origin
*
origin
const
char
*
string
const
struct
dlg_style
styles
[
6
]
)
;
DLG_API
void
dlg_generic_output_stream
(
FILE
*
stream
unsigned
int
features
const
struct
dlg_origin
*
origin
const
char
*
string
const
struct
dlg_style
styles
[
6
]
)
;
DLG_API
void
dlg_generic_outputf_stream
(
FILE
*
stream
const
char
*
format_string
const
struct
dlg_origin
*
origin
const
char
*
string
const
struct
dlg_style
styles
[
6
]
bool
lock_stream
)
;
DLG_API
void
dlg_generic_output_buf
(
char
*
buf
size_t
*
size
unsigned
int
features
const
struct
dlg_origin
*
origin
const
char
*
string
const
struct
dlg_style
styles
[
6
]
)
;
DLG_API
void
dlg_generic_outputf_buf
(
char
*
buf
size_t
*
size
const
char
*
format_string
const
struct
dlg_origin
*
origin
const
char
*
string
const
struct
dlg_style
styles
[
6
]
)
;
DLG_API
bool
dlg_is_tty
(
FILE
*
stream
)
;
DLG_API
void
dlg_escape_sequence
(
struct
dlg_style
style
char
buf
[
12
]
)
;
DLG_API
extern
const
char
*
const
dlg_reset_sequence
;
DLG_API
bool
dlg_win_init_ansi
(
void
)
;
#
ifdef
__cplusplus
}
#
endif
#
endif

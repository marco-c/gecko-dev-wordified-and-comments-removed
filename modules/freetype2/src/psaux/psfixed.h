#
ifndef
PSFIXED_H_
#
define
PSFIXED_H_
FT_BEGIN_HEADER
#
define
CF2_Fixed
CF2_F16Dot16
typedef
FT_Int32
CF2_Frac
;
#
define
CF2_FIXED_MAX
(
(
CF2_Fixed
)
0x7FFFFFFFL
)
#
define
CF2_FIXED_MIN
(
(
CF2_Fixed
)
0x80000000L
)
#
define
CF2_FIXED_ONE
(
(
CF2_Fixed
)
0x10000L
)
#
define
CF2_FIXED_EPSILON
(
(
CF2_Fixed
)
0x0001
)
#
define
cf2_intToFixed
(
i
)
\
(
(
CF2_Fixed
)
(
(
FT_UInt32
)
(
i
)
<
<
16
)
)
#
define
cf2_fixedToInt
(
x
)
\
(
(
FT_Short
)
(
(
(
FT_UInt32
)
(
x
)
+
0x8000U
)
>
>
16
)
)
#
define
cf2_fixedRound
(
x
)
\
(
(
CF2_Fixed
)
(
(
(
FT_UInt32
)
(
x
)
+
0x8000U
)
&
0xFFFF0000UL
)
)
#
define
cf2_doubleToFixed
(
f
)
\
(
(
CF2_Fixed
)
(
(
f
)
*
65536
.
0
+
0
.
5
)
)
#
define
cf2_fixedAbs
(
x
)
\
(
(
x
)
<
0
?
NEG_INT32
(
x
)
:
(
x
)
)
#
define
cf2_fixedFloor
(
x
)
\
(
(
CF2_Fixed
)
(
(
FT_UInt32
)
(
x
)
&
0xFFFF0000UL
)
)
#
define
cf2_fixedFraction
(
x
)
\
(
(
x
)
-
cf2_fixedFloor
(
x
)
)
#
define
cf2_fracToFixed
(
x
)
\
(
(
(
x
)
+
0x2000
-
(
(
x
)
<
0
)
)
>
>
14
)
typedef
enum
CF2_NumberType_
{
CF2_NumberFixed
CF2_NumberFrac
CF2_NumberInt
}
CF2_NumberType
;
FT_END_HEADER
#
endif

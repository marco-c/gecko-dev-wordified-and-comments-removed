#
ifndef
nsIWidgetListener_h__
#
define
nsIWidgetListener_h__
#
include
<
stdint
.
h
>
#
include
"
mozilla
/
EventForwards
.
h
"
#
include
"
mozilla
/
layers
/
LayersTypes
.
h
"
#
include
"
mozilla
/
TimeStamp
.
h
"
#
include
"
nsRegionFwd
.
h
"
#
include
"
Units
.
h
"
class
nsView
;
class
nsIWidget
;
class
nsIAppWindow
;
namespace
mozilla
{
class
PresShell
;
}
enum
nsSizeMode
{
nsSizeMode_Normal
=
0
nsSizeMode_Minimized
nsSizeMode_Maximized
nsSizeMode_Fullscreen
nsSizeMode_Invalid
}
;
enum
nsWindowZ
{
nsWindowZTop
=
0
nsWindowZBottom
nsWindowZRelative
}
;
class
nsIWidgetListener
{
public
:
virtual
nsIAppWindow
*
GetAppWindow
(
)
;
virtual
nsView
*
GetView
(
)
;
virtual
mozilla
:
:
PresShell
*
GetPresShell
(
)
;
enum
class
ByMoveToRect
:
bool
{
No
Yes
}
;
virtual
bool
WindowMoved
(
nsIWidget
*
aWidget
int32_t
aX
int32_t
aY
ByMoveToRect
)
;
virtual
bool
WindowResized
(
nsIWidget
*
aWidget
int32_t
aWidth
int32_t
aHeight
)
;
virtual
void
SizeModeChanged
(
nsSizeMode
aSizeMode
)
;
#
if
defined
(
MOZ_WIDGET_ANDROID
)
virtual
void
DynamicToolbarMaxHeightChanged
(
mozilla
:
:
ScreenIntCoord
aHeight
)
;
virtual
void
DynamicToolbarOffsetChanged
(
mozilla
:
:
ScreenIntCoord
aOffset
)
;
virtual
void
KeyboardHeightChanged
(
mozilla
:
:
ScreenIntCoord
aHeight
)
;
#
endif
virtual
void
MacFullscreenMenubarOverlapChanged
(
mozilla
:
:
DesktopCoord
aOverlapAmount
)
;
virtual
void
OcclusionStateChanged
(
bool
aIsFullyOccluded
)
;
virtual
void
WindowActivated
(
)
;
virtual
void
WindowDeactivated
(
)
;
virtual
void
OSToolbarButtonPressed
(
)
;
virtual
bool
RequestWindowClose
(
nsIWidget
*
aWidget
)
;
MOZ_CAN_RUN_SCRIPT_BOUNDARY
virtual
void
WillPaintWindow
(
nsIWidget
*
aWidget
)
;
MOZ_CAN_RUN_SCRIPT_BOUNDARY
virtual
bool
PaintWindow
(
nsIWidget
*
aWidget
mozilla
:
:
LayoutDeviceIntRegion
aRegion
)
;
MOZ_CAN_RUN_SCRIPT_BOUNDARY
virtual
void
DidPaintWindow
(
)
;
virtual
void
DidCompositeWindow
(
mozilla
:
:
layers
:
:
TransactionId
aTransactionId
const
mozilla
:
:
TimeStamp
&
aCompositeStart
const
mozilla
:
:
TimeStamp
&
aCompositeEnd
)
;
virtual
void
RequestRepaint
(
)
;
virtual
bool
ShouldNotBeVisible
(
)
;
virtual
nsEventStatus
HandleEvent
(
mozilla
:
:
WidgetGUIEvent
*
aEvent
bool
aUseAttachedEvents
)
;
virtual
void
SafeAreaInsetsChanged
(
const
mozilla
:
:
LayoutDeviceIntMargin
&
aSafeAreaInsets
)
;
}
;
#
endif

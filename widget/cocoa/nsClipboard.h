#
ifndef
nsClipboard_h_
#
define
nsClipboard_h_
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIClipboard
.
h
"
#
include
"
nsString
.
h
"
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
mozilla
/
StaticPtr
.
h
"
#
import
<
Cocoa
/
Cocoa
.
h
>
class
nsITransferable
;
interface
UTIHelper
:
NSObject
+
(
NSString
*
)
stringFromPboardType
:
(
NSString
*
)
aType
;
end
class
nsClipboard
:
public
nsIClipboard
{
public
:
nsClipboard
(
)
;
NS_DECL_ISUPPORTS
NS_DECL_NSICLIPBOARD
static
mozilla
:
:
StaticRefPtr
<
nsITransferable
>
sSelectionCache
;
static
NSDictionary
*
PasteboardDictFromTransferable
(
nsITransferable
*
aTransferable
)
;
static
bool
IsStringType
(
const
nsCString
&
aMIMEType
NSString
*
*
aPasteboardType
)
;
static
bool
IsImageType
(
const
nsACString
&
aMIMEType
)
;
static
NSString
*
WrapHtmlForSystemPasteboard
(
NSString
*
aString
)
;
static
nsresult
TransferableFromPasteboard
(
nsITransferable
*
aTransferable
NSPasteboard
*
pboard
)
;
protected
:
NS_IMETHOD
SetNativeClipboardData
(
int32_t
aWhichClipboard
)
;
NS_IMETHOD
GetNativeClipboardData
(
nsITransferable
*
aTransferable
int32_t
aWhichClipboard
)
;
void
ClearSelectionCache
(
)
;
void
SetSelectionCache
(
nsITransferable
*
aTransferable
)
;
private
:
virtual
~
nsClipboard
(
)
;
static
mozilla
:
:
Maybe
<
uint32_t
>
FindIndexOfImageFlavor
(
const
nsTArray
<
nsCString
>
&
aMIMETypes
)
;
int32_t
mCachedClipboard
;
int32_t
mChangeCount
;
bool
mIgnoreEmptyNotification
;
nsCOMPtr
<
nsIClipboardOwner
>
mClipboardOwner
;
nsCOMPtr
<
nsITransferable
>
mTransferable
;
}
;
#
endif

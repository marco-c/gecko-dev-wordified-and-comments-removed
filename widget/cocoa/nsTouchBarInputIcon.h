#
ifndef
nsTouchBarInputIcon_h_
#
define
nsTouchBarInputIcon_h_
#
import
<
Cocoa
/
Cocoa
.
h
>
#
include
"
mozilla
/
dom
/
Document
.
h
"
#
include
"
nsIconLoaderService
.
h
"
#
include
"
nsTouchBarInput
.
h
"
#
include
"
nsTouchBarNativeAPIDefines
.
h
"
using
namespace
mozilla
:
:
dom
;
class
nsIconLoaderService
;
class
nsIURI
;
class
nsIPrincipal
;
class
imgRequestProxy
;
class
nsTouchBarInputIcon
:
public
nsIconLoaderObserver
{
public
:
explicit
nsTouchBarInputIcon
(
RefPtr
<
Document
>
aDocument
TouchBarInput
*
aInput
NSTouchBarItem
*
aItem
)
;
private
:
virtual
~
nsTouchBarInputIcon
(
)
;
public
:
nsresult
SetupIcon
(
nsCOMPtr
<
nsIURI
>
aIconURI
)
;
nsresult
OnComplete
(
NSImage
*
aImage
)
override
;
void
Destroy
(
)
;
void
ReleaseJSObjects
(
)
;
protected
:
RefPtr
<
Document
>
mDocument
;
nsIntRect
mImageRegionRect
;
bool
mSetIcon
;
NSButton
*
mButton
;
NSSharingServicePickerTouchBarItem
*
mShareScrubber
;
NSPopoverTouchBarItem
*
mPopoverItem
;
RefPtr
<
nsIconLoaderService
>
mIconLoader
;
}
;
#
endif

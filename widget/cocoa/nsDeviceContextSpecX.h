#
ifndef
nsDeviceContextSpecX_h_
#
define
nsDeviceContextSpecX_h_
#
include
"
nsIDeviceContextSpec
.
h
"
#
include
"
nsIPrinter
.
h
"
#
include
"
nsIPrinterList
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
mozilla
/
gfx
/
PrintPromise
.
h
"
#
include
<
ApplicationServices
/
ApplicationServices
.
h
>
class
nsDeviceContextSpecX
:
public
nsIDeviceContextSpec
{
public
:
NS_DECL_ISUPPORTS
nsDeviceContextSpecX
(
)
;
NS_IMETHOD
Init
(
nsIPrintSettings
*
aPS
bool
aIsPrintPreview
)
override
;
already_AddRefed
<
PrintTarget
>
MakePrintTarget
(
)
final
;
NS_IMETHOD
BeginDocument
(
const
nsAString
&
aTitle
const
nsAString
&
aPrintToFileName
int32_t
aStartPage
int32_t
aEndPage
)
override
;
RefPtr
<
mozilla
:
:
gfx
:
:
PrintEndDocumentPromise
>
EndDocument
(
)
override
;
NS_IMETHOD
BeginPage
(
)
override
{
return
NS_OK
;
}
;
NS_IMETHOD
EndPage
(
)
override
{
return
NS_OK
;
}
;
void
GetPaperRect
(
double
*
aTop
double
*
aLeft
double
*
aBottom
double
*
aRight
)
;
protected
:
virtual
~
nsDeviceContextSpecX
(
)
;
protected
:
PMPrintSession
mPrintSession
=
nullptr
;
PMPageFormat
mPageFormat
=
nullptr
;
PMPrintSettings
mPMPrintSettings
=
nullptr
;
nsCOMPtr
<
nsIOutputStream
>
mOutputStream
;
#
ifdef
MOZ_ENABLE_SKIA_PDF
nsCOMPtr
<
nsIFile
>
mTempFile
;
#
endif
private
:
nsresult
DoEndDocument
(
)
;
}
;
#
endif

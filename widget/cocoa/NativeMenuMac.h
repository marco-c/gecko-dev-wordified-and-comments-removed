#
ifndef
NativeMenuMac_h
#
define
NativeMenuMac_h
#
include
"
mozilla
/
widget
/
NativeMenu
.
h
"
#
include
"
nsMenuItemIconX
.
h
"
#
include
"
nsMenuX
.
h
"
class
nsIContent
;
class
nsMenuGroupOwnerX
;
namespace
mozilla
{
namespace
dom
{
class
Element
;
}
namespace
widget
{
class
NativeMenuMac
:
public
NativeMenu
public
nsMenuItemIconX
:
:
Listener
public
nsMenuX
:
:
Observer
{
public
:
explicit
NativeMenuMac
(
mozilla
:
:
dom
:
:
Element
*
aElement
)
;
void
AddObserver
(
NativeMenu
:
:
Observer
*
aObserver
)
override
{
mObservers
.
AppendElement
(
aObserver
)
;
}
void
RemoveObserver
(
NativeMenu
:
:
Observer
*
aObserver
)
override
{
mObservers
.
RemoveElement
(
aObserver
)
;
}
void
IconUpdated
(
)
override
;
void
OnMenuOpened
(
)
override
;
void
OnMenuClosed
(
)
override
;
NSMenu
*
NativeNSMenu
(
)
{
return
mMenu
?
mMenu
-
>
NativeNSMenu
(
)
:
nil
;
}
void
MenuWillOpen
(
)
;
bool
ActivateNativeMenuItemAt
(
const
nsAString
&
aIndexString
)
;
void
ForceUpdateNativeMenuAt
(
const
nsAString
&
aIndexString
)
;
void
Dump
(
)
;
void
SetContainerStatusBarItem
(
NSStatusItem
*
aItem
)
;
protected
:
virtual
~
NativeMenuMac
(
)
;
RefPtr
<
nsIContent
>
mContent
;
RefPtr
<
nsMenuGroupOwnerX
>
mMenuGroupOwner
;
RefPtr
<
nsMenuX
>
mMenu
;
nsTArray
<
NativeMenu
:
:
Observer
*
>
mObservers
;
NSStatusItem
*
mContainerStatusBarItem
;
}
;
}
}
#
endif

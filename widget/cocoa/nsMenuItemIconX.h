#
ifndef
nsMenuItemIconX_h_
#
define
nsMenuItemIconX_h_
#
include
"
IconLoaderHelperCocoa
.
h
"
class
nsIconLoaderService
;
class
nsIURI
;
class
nsIContent
;
class
nsIPrincipal
;
class
imgRequestProxy
;
class
nsMenuObjectX
;
#
import
<
Cocoa
/
Cocoa
.
h
>
class
nsMenuItemIconX
:
public
mozilla
:
:
widget
:
:
IconLoader
:
:
Listener
{
public
:
nsMenuItemIconX
(
nsMenuObjectX
*
aMenuItem
nsIContent
*
aContent
NSMenuItem
*
aNativeMenuItem
)
;
NS_INLINE_DECL_REFCOUNTING
(
nsMenuItemIconX
)
private
:
virtual
~
nsMenuItemIconX
(
)
;
public
:
nsresult
SetupIcon
(
)
;
nsresult
GetIconURI
(
nsIURI
*
*
aIconURI
)
;
void
Destroy
(
)
;
nsresult
OnComplete
(
imgIContainer
*
aImage
const
nsIntRect
&
aRect
)
override
;
protected
:
nsCOMPtr
<
nsIContent
>
mContent
;
nsContentPolicyType
mContentType
;
nsMenuObjectX
*
mMenuObject
;
nsIntRect
mImageRegionRect
;
bool
mSetIcon
;
NSMenuItem
*
mNativeMenuItem
;
RefPtr
<
mozilla
:
:
widget
:
:
IconLoader
>
mIconLoader
;
}
;
#
endif

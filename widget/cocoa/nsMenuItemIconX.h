#
ifndef
nsMenuItemIconX_h_
#
define
nsMenuItemIconX_h_
#
include
"
nsIContentPolicy
.
h
"
#
include
"
nsIconLoaderService
.
h
"
class
nsIconLoaderService
;
class
nsIURI
;
class
nsIContent
;
class
nsIPrincipal
;
class
imgRequestProxy
;
class
nsMenuObjectX
;
#
import
<
Cocoa
/
Cocoa
.
h
>
class
nsMenuItemIconX
:
public
nsIconLoaderObserver
{
public
:
nsMenuItemIconX
(
nsMenuObjectX
*
aMenuItem
nsIContent
*
aContent
NSMenuItem
*
aNativeMenuItem
)
;
private
:
virtual
~
nsMenuItemIconX
(
)
;
public
:
nsresult
SetupIcon
(
)
;
nsresult
GetIconURI
(
nsIURI
*
*
aIconURI
)
;
nsresult
OnComplete
(
NSImage
*
aImage
)
override
;
void
Destroy
(
)
;
protected
:
nsCOMPtr
<
nsIContent
>
mContent
;
nsContentPolicyType
mContentType
;
nsMenuObjectX
*
mMenuObject
;
nsIntRect
mImageRegionRect
;
bool
mSetIcon
;
NSMenuItem
*
mNativeMenuItem
;
RefPtr
<
nsIconLoaderService
>
mIconLoader
;
}
;
#
endif

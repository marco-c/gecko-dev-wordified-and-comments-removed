#
ifndef
nsMenuItemIconX_h_
#
define
nsMenuItemIconX_h_
#
include
"
mozilla
/
widget
/
IconLoader
.
h
"
class
nsIconLoaderService
;
class
nsIURI
;
class
nsIContent
;
class
nsIPrincipal
;
class
imgRequestProxy
;
class
nsMenuObjectX
;
#
import
<
Cocoa
/
Cocoa
.
h
>
class
nsMenuItemIconX
final
:
public
mozilla
:
:
widget
:
:
IconLoader
:
:
Listener
{
public
:
explicit
nsMenuItemIconX
(
nsMenuObjectX
*
aMenuItem
)
;
~
nsMenuItemIconX
(
)
;
public
:
void
SetupIcon
(
nsIContent
*
aContent
)
;
nsresult
OnComplete
(
imgIContainer
*
aImage
)
override
;
NSImage
*
GetIconImage
(
)
const
{
return
mIconImage
;
}
protected
:
already_AddRefed
<
nsIURI
>
GetIconURI
(
nsIContent
*
aContent
)
;
nsCOMPtr
<
nsIContent
>
mContent
;
nsMenuObjectX
*
mMenuObject
;
nsIntRect
mImageRegionRect
;
bool
mSetIcon
;
NSImage
*
mIconImage
=
nil
;
RefPtr
<
mozilla
:
:
widget
:
:
IconLoader
>
mIconLoader
;
}
;
#
endif

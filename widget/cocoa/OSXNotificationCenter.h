#
ifndef
OSXNotificationCenter_h
#
define
OSXNotificationCenter_h
#
import
<
Foundation
/
Foundation
.
h
>
#
include
"
nsIAlertsService
.
h
"
#
include
"
imgINotificationObserver
.
h
"
#
include
"
nsITimer
.
h
"
#
include
"
nsTArray
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
class
mozNotificationCenterDelegate
;
#
if
!
defined
(
MAC_OS_X_VERSION_10_8
)
|
|
(
MAC_OS_X_VERSION_MAX_ALLOWED
<
MAC_OS_X_VERSION_10_8
)
typedef
NSInteger
NSUserNotificationActivationType
;
#
endif
namespace
mozilla
{
class
OSXNotificationInfo
;
class
OSXNotificationCenter
:
public
nsIAlertsService
public
imgINotificationObserver
public
nsITimerCallback
public
nsIAlertsIconData
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIALERTSSERVICE
NS_DECL_IMGINOTIFICATIONOBSERVER
NS_DECL_NSITIMERCALLBACK
NS_DECL_NSIALERTSICONDATA
OSXNotificationCenter
(
)
;
nsresult
Init
(
)
;
void
CloseAlertCocoaString
(
NSString
*
aAlertName
)
;
void
OnActivate
(
NSString
*
aAlertName
NSUserNotificationActivationType
aActivationType
unsigned
long
long
aAdditionalActionIndex
)
;
void
ShowPendingNotification
(
OSXNotificationInfo
*
osxni
)
;
protected
:
virtual
~
OSXNotificationCenter
(
)
;
private
:
mozNotificationCenterDelegate
*
mDelegate
;
nsTArray
<
RefPtr
<
OSXNotificationInfo
>
>
mActiveAlerts
;
nsTArray
<
RefPtr
<
OSXNotificationInfo
>
>
mPendingAlerts
;
}
;
}
#
endif

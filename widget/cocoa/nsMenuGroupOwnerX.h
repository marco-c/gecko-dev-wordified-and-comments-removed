#
ifndef
nsMenuGroupOwnerX_h_
#
define
nsMenuGroupOwnerX_h_
#
import
<
Cocoa
/
Cocoa
.
h
>
#
include
"
nsMenuBaseX
.
h
"
#
include
"
nsIMutationObserver
.
h
"
#
include
"
nsHashKeys
.
h
"
#
include
"
nsTHashMap
.
h
"
#
include
"
nsString
.
h
"
class
nsMenuItemX
;
class
nsChangeObserver
;
class
nsIWidget
;
class
nsIContent
;
class
nsMenuGroupOwnerX
:
public
nsMenuObjectX
public
nsIMutationObserver
{
public
:
nsMenuGroupOwnerX
(
)
;
nsresult
Create
(
mozilla
:
:
dom
:
:
Element
*
aContent
)
;
void
RegisterForContentChanges
(
nsIContent
*
aContent
nsChangeObserver
*
aMenuObject
)
;
void
UnregisterForContentChanges
(
nsIContent
*
aContent
)
;
uint32_t
RegisterForCommand
(
nsMenuItemX
*
aMenuItem
)
;
void
UnregisterCommand
(
uint32_t
aCommandID
)
;
nsMenuItemX
*
GetMenuItemForCommandID
(
uint32_t
aCommandID
)
;
void
AddMenuItemInfoToSet
(
MenuItemInfo
*
aInfo
)
;
NS_DECL_ISUPPORTS
NS_DECL_NSIMUTATIONOBSERVER
protected
:
virtual
~
nsMenuGroupOwnerX
(
)
;
nsChangeObserver
*
LookupContentChangeObserver
(
nsIContent
*
aContent
)
;
RefPtr
<
nsIContent
>
mContent
;
uint32_t
mCurrentCommandID
;
nsTHashMap
<
nsPtrHashKey
<
nsIContent
>
nsChangeObserver
*
>
mContentToObserverTable
;
nsTHashMap
<
nsUint32HashKey
nsMenuItemX
*
>
mCommandToMenuObjectTable
;
NSMutableSet
*
mInfoSet
;
}
;
#
endif

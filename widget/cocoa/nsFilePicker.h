#
ifndef
nsFilePicker_h_
#
define
nsFilePicker_h_
#
include
"
nsBaseFilePicker
.
h
"
#
include
"
nsString
.
h
"
#
include
"
nsCOMArray
.
h
"
#
include
"
nsTArray
.
h
"
class
nsIFile
;
class
nsILocalFileMac
;
class
NSArray
;
class
nsFilePicker
final
:
public
nsBaseFilePicker
{
class
AsyncShowFilePicker
;
public
:
nsFilePicker
(
)
;
using
nsIFilePicker
:
:
ResultCode
;
NS_DECL_ISUPPORTS
NS_IMETHOD
Open
(
nsIFilePickerShownCallback
*
aCallback
)
override
;
NS_IMETHOD
GetDefaultString
(
nsAString
&
aDefaultString
)
override
;
NS_IMETHOD
SetDefaultString
(
const
nsAString
&
aDefaultString
)
override
;
NS_IMETHOD
GetDefaultExtension
(
nsAString
&
aDefaultExtension
)
override
;
NS_IMETHOD
GetFilterIndex
(
int32_t
*
aFilterIndex
)
override
;
NS_IMETHOD
SetFilterIndex
(
int32_t
aFilterIndex
)
override
;
NS_IMETHOD
SetDefaultExtension
(
const
nsAString
&
aDefaultExtension
)
override
;
NS_IMETHOD
GetFile
(
nsIFile
*
*
aFile
)
override
;
NS_IMETHOD
GetFileURL
(
nsIURI
*
*
aFileURL
)
override
;
NS_IMETHOD
GetFiles
(
nsISimpleEnumerator
*
*
aFiles
)
override
;
NS_IMETHOD
AppendFilter
(
const
nsAString
&
aTitle
const
nsAString
&
aFilter
)
override
;
NSArray
*
GetFilterList
(
)
;
protected
:
virtual
~
nsFilePicker
(
)
;
virtual
void
InitNative
(
nsIWidget
*
aParent
const
nsAString
&
aTitle
)
override
;
nsresult
Show
(
ResultCode
*
_retval
)
;
ResultCode
GetLocalFiles
(
bool
inAllowMultiple
nsCOMArray
<
nsIFile
>
&
outFiles
)
;
ResultCode
GetLocalFolder
(
nsIFile
*
*
outFile
)
;
ResultCode
PutLocalFile
(
nsIFile
*
*
outFile
)
;
void
SetDialogTitle
(
const
nsString
&
inTitle
id
aDialog
)
;
NSString
*
PanelDefaultDirectory
(
)
;
NSView
*
GetAccessoryView
(
)
;
nsString
mTitle
;
nsCOMArray
<
nsIFile
>
mFiles
;
nsString
mDefaultFilename
;
nsTArray
<
nsString
>
mFilters
;
nsTArray
<
nsString
>
mTitles
;
int32_t
mSelectedTypeIndex
=
0
;
}
;
#
endif

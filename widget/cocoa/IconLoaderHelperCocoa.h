#
ifndef
mozilla_widget_IconLoaderHelperCocoa_h
#
define
mozilla_widget_IconLoaderHelperCocoa_h
#
include
"
mozilla
/
widget
/
IconLoader
.
h
"
namespace
mozilla
:
:
widget
{
class
IconLoaderListenerCocoa
{
public
:
IconLoaderListenerCocoa
(
)
=
default
;
NS_INLINE_DECL_REFCOUNTING
(
mozilla
:
:
widget
:
:
IconLoaderListenerCocoa
)
virtual
nsresult
OnComplete
(
)
=
0
;
protected
:
virtual
~
IconLoaderListenerCocoa
(
)
=
default
;
}
;
class
IconLoaderHelperCocoa
final
:
public
mozilla
:
:
widget
:
:
IconLoader
:
:
Helper
{
public
:
IconLoaderHelperCocoa
(
mozilla
:
:
widget
:
:
IconLoaderListenerCocoa
*
aLoadListener
uint32_t
aIconHeight
uint32_t
aIconWidth
CGFloat
aScaleFactor
=
0
.
0f
)
;
nsresult
OnComplete
(
imgIContainer
*
aImage
const
nsIntRect
&
aRect
)
override
;
NSImage
*
GetNativeIconImage
(
)
;
void
Destroy
(
)
;
protected
:
~
IconLoaderHelperCocoa
(
)
;
private
:
RefPtr
<
mozilla
:
:
widget
:
:
IconLoaderListenerCocoa
>
mLoadListener
;
uint32_t
mIconHeight
;
uint32_t
mIconWidth
;
CGFloat
mScaleFactor
;
NSImage
*
mNativeIconImage
;
}
;
}
#
endif

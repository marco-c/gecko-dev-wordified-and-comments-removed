#
ifndef
WIDGET_COCOA_MEDIAHARDWAREKEYSEVENTSOURCEMAC_H_
#
define
WIDGET_COCOA_MEDIAHARDWAREKEYSEVENTSOURCEMAC_H_
#
import
<
ApplicationServices
/
ApplicationServices
.
h
>
#
import
<
CoreFoundation
/
CoreFoundation
.
h
>
#
include
"
mozilla
/
dom
/
MediaControlKeysEvent
.
h
"
#
include
"
nsISupportsImpl
.
h
"
namespace
mozilla
{
namespace
widget
{
class
MediaHardwareKeysEventSourceMac
final
:
public
mozilla
:
:
dom
:
:
MediaControlKeysEventSource
{
public
:
NS_INLINE_DECL_REFCOUNTING
(
MediaHardwareKeysEventSourceMac
override
)
MediaHardwareKeysEventSourceMac
(
)
=
default
;
static
CGEventRef
EventTapCallback
(
CGEventTapProxy
proxy
CGEventType
type
CGEventRef
event
void
*
refcon
)
;
bool
Open
(
)
override
;
void
Close
(
)
override
;
bool
IsOpened
(
)
const
override
;
void
SetSupportedMediaKeys
(
const
MediaKeysArray
&
aSupportedKeys
)
override
{
}
private
:
~
MediaHardwareKeysEventSourceMac
(
)
=
default
;
bool
StartEventTap
(
)
;
void
StopEventTap
(
)
;
CFMachPortRef
mEventTap
=
nullptr
;
CFRunLoopSourceRef
mEventTapSource
=
nullptr
;
}
;
}
}
#
endif

#
ifndef
NativeKeyBindings_h
#
define
NativeKeyBindings_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
EventForwards
.
h
"
#
include
"
nsDataHashtable
.
h
"
#
include
"
nsIWidget
.
h
"
struct
objc_selector
;
namespace
mozilla
{
namespace
widget
{
typedef
nsDataHashtable
<
nsPtrHashKey
<
objc_selector
>
Command
>
SelectorCommandHashtable
;
class
NativeKeyBindings
final
{
typedef
nsIWidget
:
:
NativeKeyBindingsType
NativeKeyBindingsType
;
public
:
static
NativeKeyBindings
*
GetInstance
(
NativeKeyBindingsType
aType
)
;
static
void
Shutdown
(
)
;
static
void
GetEditCommandsForTests
(
NativeKeyBindingsType
aType
const
WidgetKeyboardEvent
&
aEvent
nsTArray
<
CommandInt
>
&
aCommands
)
;
void
Init
(
NativeKeyBindingsType
aType
)
;
void
GetEditCommands
(
const
WidgetKeyboardEvent
&
aEvent
nsTArray
<
CommandInt
>
&
aCommands
)
;
private
:
NativeKeyBindings
(
)
;
void
AppendEditCommandsForSelector
(
objc_selector
*
aSelector
nsTArray
<
CommandInt
>
&
aCommands
)
const
;
void
LogEditCommands
(
const
nsTArray
<
CommandInt
>
&
aCommands
const
char
*
aDescription
)
const
;
SelectorCommandHashtable
mSelectorToCommand
;
static
NativeKeyBindings
*
sInstanceForSingleLineEditor
;
static
NativeKeyBindings
*
sInstanceForMultiLineEditor
;
}
;
}
}
#
endif

#
ifndef
NativeKeyBindings_h
#
define
NativeKeyBindings_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
EventForwards
.
h
"
#
include
"
nsTHashMap
.
h
"
#
include
"
nsIWidget
.
h
"
struct
objc_selector
;
namespace
mozilla
{
enum
class
NativeKeyBindingsType
:
uint8_t
;
class
WritingMode
;
template
<
typename
T
>
class
Maybe
;
namespace
widget
{
typedef
nsTHashMap
<
nsPtrHashKey
<
objc_selector
>
Command
>
SelectorCommandHashtable
;
class
NativeKeyBindings
final
{
public
:
static
NativeKeyBindings
*
GetInstance
(
NativeKeyBindingsType
aType
)
;
static
void
Shutdown
(
)
;
static
void
GetEditCommandsForTests
(
NativeKeyBindingsType
aType
const
WidgetKeyboardEvent
&
aEvent
const
Maybe
<
WritingMode
>
&
aWritingMode
nsTArray
<
CommandInt
>
&
aCommands
)
;
void
Init
(
NativeKeyBindingsType
aType
)
;
void
GetEditCommands
(
const
WidgetKeyboardEvent
&
aEvent
const
Maybe
<
WritingMode
>
&
aWritingMode
nsTArray
<
CommandInt
>
&
aCommands
)
;
private
:
NativeKeyBindings
(
)
;
void
AppendEditCommandsForSelector
(
objc_selector
*
aSelector
nsTArray
<
CommandInt
>
&
aCommands
)
const
;
void
LogEditCommands
(
const
nsTArray
<
CommandInt
>
&
aCommands
const
char
*
aDescription
)
const
;
SelectorCommandHashtable
mSelectorToCommand
;
static
NativeKeyBindings
*
sInstanceForSingleLineEditor
;
static
NativeKeyBindings
*
sInstanceForMultiLineEditor
;
}
;
}
}
#
endif

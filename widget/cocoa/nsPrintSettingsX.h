#
ifndef
nsPrintSettingsX_h_
#
define
nsPrintSettingsX_h_
#
include
"
nsPrintSettingsImpl
.
h
"
#
import
<
Cocoa
/
Cocoa
.
h
>
#
ifdef
__MAC_10_9
#
define
NS_PAPER_ORIENTATION_PORTRAIT
(
NSPaperOrientationPortrait
)
#
define
NS_PAPER_ORIENTATION_LANDSCAPE
(
NSPaperOrientationLandscape
)
#
else
#
define
NS_PAPER_ORIENTATION_PORTRAIT
(
NSPortraitOrientation
)
#
define
NS_PAPER_ORIENTATION_LANDSCAPE
(
NSLandscapeOrientation
)
#
endif
#
define
NS_PRINTSETTINGSX_IID
\
{
0x0DF2FDBD
0x906D
0x4726
\
{
0x9E
0x4D
0xCF
0xE0
0x87
0x8D
0x70
0x7C
}
}
class
nsPrintSettingsX
:
public
nsPrintSettings
{
public
:
NS_DECLARE_STATIC_IID_ACCESSOR
(
NS_PRINTSETTINGSX_IID
)
NS_DECL_ISUPPORTS_INHERITED
nsPrintSettingsX
(
)
;
nsresult
Init
(
)
;
NSPrintInfo
*
GetCocoaPrintInfo
(
)
{
return
mPrintInfo
;
}
void
SetCocoaPrintInfo
(
NSPrintInfo
*
aPrintInfo
)
;
virtual
nsresult
ReadPageFormatFromPrefs
(
)
;
virtual
nsresult
WritePageFormatToPrefs
(
)
;
virtual
nsresult
GetEffectivePageSize
(
double
*
aWidth
double
*
aHeight
)
override
;
virtual
nsresult
SetPaperWidth
(
double
aPaperWidth
)
override
;
virtual
nsresult
SetPaperHeight
(
double
aPaperWidth
)
override
;
PMPrintSettings
GetPMPrintSettings
(
)
;
PMPrintSession
GetPMPrintSession
(
)
;
PMPageFormat
GetPMPageFormat
(
)
;
void
SetPMPageFormat
(
PMPageFormat
aPageFormat
)
;
nsresult
InitUnwriteableMargin
(
)
;
nsresult
InitAdjustedPaperSize
(
)
;
void
SetInchesScale
(
float
aWidthScale
float
aHeightScale
)
;
void
GetInchesScale
(
float
*
aWidthScale
float
*
aHeightScale
)
;
NS_IMETHOD
SetPaperSizeUnit
(
int16_t
aPaperSizeUnit
)
override
;
NS_IMETHOD
SetScaling
(
double
aScaling
)
override
;
NS_IMETHOD
SetToFileName
(
const
char16_t
*
aToFileName
)
override
;
NS_IMETHOD
GetOrientation
(
int32_t
*
aOrientation
)
override
;
NS_IMETHOD
SetOrientation
(
int32_t
aOrientation
)
override
;
NS_IMETHOD
SetUnwriteableMarginTop
(
double
aUnwriteableMarginTop
)
override
;
NS_IMETHOD
SetUnwriteableMarginLeft
(
double
aUnwriteableMarginLeft
)
override
;
NS_IMETHOD
SetUnwriteableMarginBottom
(
double
aUnwriteableMarginBottom
)
override
;
NS_IMETHOD
SetUnwriteableMarginRight
(
double
aUnwriteableMarginRight
)
override
;
void
SetAdjustedPaperSize
(
double
aWidth
double
aHeight
)
;
void
GetAdjustedPaperSize
(
double
*
aWidth
double
*
aHeight
)
;
nsresult
SetCocoaPaperSize
(
double
aWidth
double
aHeight
)
;
protected
:
virtual
~
nsPrintSettingsX
(
)
;
nsPrintSettingsX
(
const
nsPrintSettingsX
&
src
)
;
nsPrintSettingsX
&
operator
=
(
const
nsPrintSettingsX
&
rhs
)
;
nsresult
_Clone
(
nsIPrintSettings
*
*
_retval
)
override
;
nsresult
_Assign
(
nsIPrintSettings
*
aPS
)
override
;
int
GetCocoaUnit
(
int16_t
aGeckoUnit
)
;
OSStatus
CreateDefaultPageFormat
(
PMPrintSession
aSession
PMPageFormat
&
outFormat
)
;
OSStatus
CreateDefaultPrintSettings
(
PMPrintSession
aSession
PMPrintSettings
&
outSettings
)
;
NSPrintInfo
*
mPrintInfo
;
float
mWidthScale
;
float
mHeightScale
;
double
mAdjustedPaperWidth
;
double
mAdjustedPaperHeight
;
}
;
NS_DEFINE_STATIC_IID_ACCESSOR
(
nsPrintSettingsX
NS_PRINTSETTINGSX_IID
)
#
endif

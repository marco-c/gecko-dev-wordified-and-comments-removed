#
ifndef
mozilla_widget_nsTextRecognition__
#
define
mozilla_widget_nsTextRecognition__
#
include
"
mozilla
/
MozPromise
.
h
"
#
include
"
mozilla
/
gfx
/
Point
.
h
"
#
include
"
nsTArray
.
h
"
#
include
"
nsITextRecognition
.
h
"
class
imgIContainer
;
namespace
mozilla
:
:
gfx
{
class
SourceSurface
;
}
namespace
mozilla
:
:
widget
{
struct
TextRecognitionQuad
{
gfx
:
:
Point
mPoints
[
4
]
;
nsString
mString
;
float
mConfidence
=
0
.
0f
;
}
;
struct
TextRecognitionResult
{
nsTArray
<
TextRecognitionQuad
>
mQuads
;
}
;
class
TextRecognition
final
:
public
nsITextRecognition
{
public
:
using
NativePromise
=
MozPromise
<
TextRecognitionResult
nsCString
true
>
;
NS_DECL_NSITEXTRECOGNITION
NS_DECL_ISUPPORTS
TextRecognition
(
)
=
default
;
static
RefPtr
<
NativePromise
>
FindText
(
gfx
:
:
SourceSurface
&
)
;
protected
:
~
TextRecognition
(
)
=
default
;
}
;
}
#
endif

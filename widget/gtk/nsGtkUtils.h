#
ifndef
nsGtkUtils_h__
#
define
nsGtkUtils_h__
#
include
<
glib
.
h
>
template
<
class
T
>
static
inline
gpointer
FuncToGpointer
(
T
aFunction
)
{
return
reinterpret_cast
<
gpointer
>
(
reinterpret_cast
<
uintptr_t
>
(
reinterpret_cast
<
void
(
*
)
(
)
>
(
aFunction
)
)
)
;
}
template
<
class
T
>
static
inline
void
MozClearPointer
(
T
*
&
pointer
void
(
*
destroy
)
(
T
*
)
)
{
T
*
hold
=
pointer
;
pointer
=
nullptr
;
if
(
hold
)
{
destroy
(
hold
)
;
}
}
template
<
class
T
>
static
inline
void
MozClearHandleID
(
T
&
handle
gboolean
(
*
destroy
)
(
T
)
)
{
if
(
handle
)
{
destroy
(
handle
)
;
handle
=
0
;
}
}
#
endif

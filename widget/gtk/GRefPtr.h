#
ifndef
GRefPtr_h_
#
define
GRefPtr_h_
#
include
<
gdk
/
gdk
.
h
>
#
include
<
gtk
/
gtk
.
h
>
#
include
"
mozilla
/
RefPtr
.
h
"
namespace
mozilla
{
template
<
typename
T
>
struct
GObjectRefPtrTraits
{
static
void
AddRef
(
T
*
aObject
)
{
g_object_ref
(
aObject
)
;
}
static
void
Release
(
T
*
aObject
)
{
g_object_unref
(
aObject
)
;
}
}
;
template
<
>
struct
RefPtrTraits
<
GtkWidget
>
:
public
GObjectRefPtrTraits
<
GtkWidget
>
{
}
;
template
<
>
struct
RefPtrTraits
<
GDBusProxy
>
:
public
GObjectRefPtrTraits
<
GDBusProxy
>
{
}
;
template
<
>
struct
RefPtrTraits
<
GdkDragContext
>
:
public
GObjectRefPtrTraits
<
GdkDragContext
>
{
}
;
template
<
>
struct
RefPtrTraits
<
GVariant
>
{
static
void
AddRef
(
GVariant
*
aVariant
)
{
g_variant_ref
(
aVariant
)
;
}
static
void
Release
(
GVariant
*
aVariant
)
{
g_variant_unref
(
aVariant
)
;
}
}
;
}
#
endif

SharedLibrary
(
"
mozgtk
"
)
SOURCES
+
=
[
"
mozgtk
.
c
"
]
CFLAGS
+
=
CONFIG
[
"
MOZ_X11_CFLAGS
"
]
CFLAGS
+
=
CONFIG
[
"
MOZ_GTK3_CFLAGS
"
]
if
CONFIG
[
"
GCC_USE_GNU_LD
"
]
:
no_as_needed
=
[
"
-
Wl
-
-
no
-
as
-
needed
"
]
as_needed
=
[
"
-
Wl
-
-
as
-
needed
"
]
else
:
no_as_needed
=
[
]
as_needed
=
[
]
OS_LIBS
+
=
[
f
for
f
in
CONFIG
[
"
MOZ_GTK3_LIBS
"
]
if
f
.
startswith
(
"
-
L
"
)
]
OS_LIBS
+
=
no_as_needed
OS_LIBS
+
=
[
"
gtk
-
3
"
"
gdk
-
3
"
]
OS_LIBS
+
=
as_needed

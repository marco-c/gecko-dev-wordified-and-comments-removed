#
ifndef
_MOZILLA_WIDGET_GTK_WINDOW_SURFACE_PROVIDER_H
#
define
_MOZILLA_WIDGET_GTK_WINDOW_SURFACE_PROVIDER_H
#
include
"
mozilla
/
widget
/
WindowSurface
.
h
"
#
include
"
mozilla
/
gfx
/
Types
.
h
"
#
include
"
mozilla
/
gfx
/
2D
.
h
"
#
include
"
Units
.
h
"
#
include
<
X11
/
Xlib
.
h
>
namespace
mozilla
{
namespace
widget
{
class
WindowSurfaceProvider
final
{
public
:
WindowSurfaceProvider
(
)
;
void
Initialize
(
Display
*
aDisplay
Window
aWindow
Visual
*
aVisual
int
aDepth
)
;
void
CleanupResources
(
)
;
already_AddRefed
<
gfx
:
:
DrawTarget
>
StartRemoteDrawingInRegion
(
LayoutDeviceIntRegion
&
aInvalidRegion
layers
:
:
BufferMode
*
aBufferMode
)
;
void
EndRemoteDrawingInRegion
(
gfx
:
:
DrawTarget
*
aDrawTarget
LayoutDeviceIntRegion
&
aInvalidRegion
)
;
private
:
UniquePtr
<
WindowSurface
>
CreateWindowSurface
(
)
;
Display
*
mXDisplay
;
Window
mXWindow
;
Visual
*
mXVisual
;
int
mXDepth
;
UniquePtr
<
WindowSurface
>
mWindowSurface
;
}
;
}
}
#
endif

#
ifndef
nsPrinterListBase_h__
#
define
nsPrinterListBase_h__
#
include
"
nsIPrinterList
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsString
.
h
"
class
nsPrinterListBase
:
public
nsIPrinterList
{
public
:
using
Promise
=
mozilla
:
:
dom
:
:
Promise
;
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_CLASS
(
nsPrinterListBase
)
NS_IMETHOD
GetPrinters
(
JSContext
*
Promise
*
*
)
final
;
struct
PrinterInfo
{
nsString
mName
;
void
*
mCupsHandles
[
2
]
{
nullptr
nullptr
}
;
}
;
virtual
nsTArray
<
PrinterInfo
>
GetPrinters
(
)
const
=
0
;
virtual
RefPtr
<
nsIPrinter
>
CreatePrinter
(
PrinterInfo
)
const
=
0
;
nsPrinterListBase
(
const
nsPrinterListBase
&
)
=
delete
;
nsPrinterListBase
(
nsPrinterListBase
&
&
)
=
delete
;
protected
:
nsPrinterListBase
(
)
;
virtual
~
nsPrinterListBase
(
)
;
RefPtr
<
Promise
>
mPrintersPromise
;
}
;
#
endif

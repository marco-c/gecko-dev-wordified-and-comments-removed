#
include
"
GonkClipboardData
.
h
"
#
include
"
mozilla
/
gfx
/
DataSurfaceHelpers
.
h
"
namespace
mozilla
{
void
GonkClipboardData
:
:
SetText
(
const
nsAString
&
aText
)
{
mPlain
=
aText
;
}
bool
GonkClipboardData
:
:
HasText
(
)
const
{
return
!
mPlain
.
IsEmpty
(
)
;
}
const
nsAString
&
GonkClipboardData
:
:
GetText
(
)
const
{
return
mPlain
;
}
void
GonkClipboardData
:
:
SetHTML
(
const
nsAString
&
aHTML
)
{
mHTML
=
aHTML
;
}
bool
GonkClipboardData
:
:
HasHTML
(
)
const
{
return
!
mHTML
.
IsEmpty
(
)
;
}
const
nsAString
&
GonkClipboardData
:
:
GetHTML
(
)
const
{
return
mHTML
;
}
void
GonkClipboardData
:
:
SetImage
(
gfx
:
:
DataSourceSurface
*
aDataSource
)
{
mImage
=
gfx
:
:
CreateDataSourceSurfaceByCloning
(
aDataSource
)
;
}
bool
GonkClipboardData
:
:
HasImage
(
)
const
{
return
static_cast
<
bool
>
(
mImage
)
;
}
already_AddRefed
<
gfx
:
:
DataSourceSurface
>
GonkClipboardData
:
:
GetImage
(
)
const
{
nsRefPtr
<
gfx
:
:
DataSourceSurface
>
cloned
=
gfx
:
:
CreateDataSourceSurfaceByCloning
(
mImage
)
;
return
cloned
.
forget
(
)
;
}
void
GonkClipboardData
:
:
Clear
(
)
{
mPlain
.
Truncate
(
0
)
;
mHTML
.
Truncate
(
0
)
;
mImage
=
nullptr
;
}
}

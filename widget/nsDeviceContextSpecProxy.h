#
ifndef
nsDeviceContextSpecProxy_h
#
define
nsDeviceContextSpecProxy_h
#
include
"
nsIDeviceContextSpec
.
h
"
#
include
"
nsCOMPtr
.
h
"
class
nsIPrintSession
;
namespace
mozilla
{
namespace
gfx
{
class
DrawEventRecorderMemory
;
}
namespace
layout
{
class
RemotePrintJobChild
;
}
}
class
nsDeviceContextSpecProxy
final
:
public
nsIDeviceContextSpec
{
public
:
NS_DECL_ISUPPORTS
NS_IMETHOD
Init
(
nsIWidget
*
aWidget
nsIPrintSettings
*
aPrintSettings
bool
aIsPrintPreview
)
final
;
virtual
already_AddRefed
<
PrintTarget
>
MakePrintTarget
(
)
final
;
NS_IMETHOD
GetDrawEventRecorder
(
mozilla
:
:
gfx
:
:
DrawEventRecorder
*
*
aDrawEventRecorder
)
final
;
float
GetDPI
(
)
final
;
float
GetPrintingScale
(
)
final
;
NS_IMETHOD
BeginDocument
(
const
nsAString
&
aTitle
const
nsAString
&
aPrintToFileName
int32_t
aStartPage
int32_t
aEndPage
)
final
;
NS_IMETHOD
EndDocument
(
)
final
;
NS_IMETHOD
AbortDocument
(
)
final
;
NS_IMETHOD
BeginPage
(
)
final
;
NS_IMETHOD
EndPage
(
)
final
;
private
:
~
nsDeviceContextSpecProxy
(
)
{
}
nsCOMPtr
<
nsIPrintSettings
>
mPrintSettings
;
nsCOMPtr
<
nsIPrintSession
>
mPrintSession
;
nsCOMPtr
<
nsIDeviceContextSpec
>
mRealDeviceContextSpec
;
RefPtr
<
mozilla
:
:
layout
:
:
RemotePrintJobChild
>
mRemotePrintJob
;
RefPtr
<
mozilla
:
:
gfx
:
:
DrawEventRecorderMemory
>
mRecorder
;
}
;
#
endif

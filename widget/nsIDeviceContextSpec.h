#
ifndef
nsIDeviceContextSpec_h___
#
define
nsIDeviceContextSpec_h___
#
include
"
gfxPoint
.
h
"
#
include
"
nsISupports
.
h
"
#
include
"
mozilla
/
StaticPrefs_print
.
h
"
class
nsIWidget
;
class
nsIPrintSettings
;
namespace
mozilla
{
namespace
gfx
{
class
DrawEventRecorder
;
class
PrintTarget
;
}
}
#
define
NS_IDEVICE_CONTEXT_SPEC_IID
\
{
\
0xf407cfba
0xbe28
0x46c9
{
\
0x8a
0xba
0x04
0x2d
0xae
0xbb
0x4f
0x23
\
}
\
}
class
nsIDeviceContextSpec
:
public
nsISupports
{
public
:
typedef
mozilla
:
:
gfx
:
:
PrintTarget
PrintTarget
;
NS_DECLARE_STATIC_IID_ACCESSOR
(
NS_IDEVICE_CONTEXT_SPEC_IID
)
NS_IMETHOD
Init
(
nsIWidget
*
aWidget
nsIPrintSettings
*
aPrintSettings
bool
aIsPrintPreview
)
=
0
;
virtual
already_AddRefed
<
PrintTarget
>
MakePrintTarget
(
)
=
0
;
NS_IMETHOD
GetDrawEventRecorder
(
mozilla
:
:
gfx
:
:
DrawEventRecorder
*
*
aDrawEventRecorder
)
{
MOZ_ASSERT
(
aDrawEventRecorder
)
;
*
aDrawEventRecorder
=
nullptr
;
return
NS_OK
;
}
virtual
float
GetDPI
(
)
{
return
mozilla
:
:
StaticPrefs
:
:
print_default_dpi
(
)
;
}
virtual
float
GetPrintingScale
(
)
{
return
72
.
0f
/
GetDPI
(
)
;
}
virtual
gfxPoint
GetPrintingTranslate
(
)
{
return
gfxPoint
(
0
0
)
;
}
NS_IMETHOD
BeginDocument
(
const
nsAString
&
aTitle
const
nsAString
&
aPrintToFileName
int32_t
aStartPage
int32_t
aEndPage
)
=
0
;
NS_IMETHOD
EndDocument
(
)
=
0
;
NS_IMETHOD
AbortDocument
(
)
{
return
EndDocument
(
)
;
}
NS_IMETHOD
BeginPage
(
)
=
0
;
NS_IMETHOD
EndPage
(
)
=
0
;
}
;
NS_DEFINE_STATIC_IID_ACCESSOR
(
nsIDeviceContextSpec
NS_IDEVICE_CONTEXT_SPEC_IID
)
#
endif

#
include
"
ContentData
.
h
"
#
include
"
TextEvents
.
h
"
namespace
mozilla
{
ContentSelection
:
:
ContentSelection
(
const
WidgetQueryContentEvent
&
aSelectedTextEvent
)
:
mWritingMode
(
aSelectedTextEvent
.
mReply
-
>
WritingModeRef
(
)
)
{
MOZ_ASSERT
(
aSelectedTextEvent
.
mMessage
=
=
eQuerySelectedText
)
;
MOZ_ASSERT
(
aSelectedTextEvent
.
Succeeded
(
)
)
;
if
(
aSelectedTextEvent
.
mReply
-
>
mOffsetAndData
.
isSome
(
)
)
{
mOffsetAndData
=
Some
(
OffsetAndData
<
uint32_t
>
(
aSelectedTextEvent
.
mReply
-
>
StartOffset
(
)
aSelectedTextEvent
.
mReply
-
>
DataRef
(
)
OffsetAndDataFor
:
:
SelectedString
)
)
;
}
}
}

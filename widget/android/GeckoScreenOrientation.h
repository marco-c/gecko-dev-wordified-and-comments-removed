#
ifndef
GeckoScreenOrientation_h
#
define
GeckoScreenOrientation_h
#
include
"
nsAppShell
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
mozilla
/
Hal
.
h
"
#
include
"
mozilla
/
java
/
GeckoScreenOrientationNatives
.
h
"
#
include
"
mozilla
/
widget
/
ScreenManager
.
h
"
namespace
mozilla
{
class
GeckoScreenOrientation
final
:
public
java
:
:
GeckoScreenOrientation
:
:
Natives
<
GeckoScreenOrientation
>
{
GeckoScreenOrientation
(
)
=
delete
;
public
:
static
void
OnOrientationChange
(
int16_t
aOrientation
int16_t
aAngle
)
{
RefPtr
<
widget
:
:
Screen
>
screen
=
widget
:
:
ScreenManager
:
:
GetSingleton
(
)
.
GetPrimaryScreen
(
)
;
hal
:
:
ScreenConfiguration
screenConfiguration
=
screen
-
>
ToScreenConfiguration
(
)
;
screenConfiguration
.
orientation
(
)
=
static_cast
<
hal
:
:
ScreenOrientation
>
(
aOrientation
)
;
screenConfiguration
.
angle
(
)
=
aAngle
;
hal
:
:
NotifyScreenConfigurationChange
(
screenConfiguration
)
;
}
}
;
}
#
endif

#
include
"
nsNativeBasicThemeWin
.
h
"
#
include
"
mozilla
/
ClearOnShutdown
.
h
"
#
include
"
ScrollbarUtil
.
h
"
nsITheme
:
:
Transparency
nsNativeBasicThemeWin
:
:
GetWidgetTransparency
(
nsIFrame
*
aFrame
StyleAppearance
aAppearance
)
{
if
(
auto
transparency
=
ScrollbarUtil
:
:
GetScrollbarPartTransparency
(
aFrame
aAppearance
)
)
{
return
*
transparency
;
}
return
nsNativeBasicTheme
:
:
GetWidgetTransparency
(
aFrame
aAppearance
)
;
}
already_AddRefed
<
nsITheme
>
do_GetBasicNativeThemeDoNotUseDirectly
(
)
{
static
mozilla
:
:
StaticRefPtr
<
nsITheme
>
gInstance
;
if
(
MOZ_UNLIKELY
(
!
gInstance
)
)
{
gInstance
=
new
nsNativeBasicThemeWin
(
)
;
ClearOnShutdown
(
&
gInstance
)
;
}
return
do_AddRef
(
gInstance
)
;
}

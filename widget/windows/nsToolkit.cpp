#
include
"
nsToolkit
.
h
"
#
include
"
nsAppShell
.
h
"
#
include
"
nsWindow
.
h
"
#
include
"
nsWidgetsCID
.
h
"
#
include
"
prmon
.
h
"
#
include
"
prtime
.
h
"
#
include
"
nsIServiceManager
.
h
"
#
include
"
nsComponentManagerUtils
.
h
"
#
include
<
objbase
.
h
>
#
include
"
WinUtils
.
h
"
#
include
"
nsUXThemeData
.
h
"
#
include
<
unknwn
.
h
>
using
namespace
mozilla
:
:
widget
;
nsToolkit
*
nsToolkit
:
:
gToolkit
=
nullptr
;
HINSTANCE
nsToolkit
:
:
mDllInstance
=
0
;
nsToolkit
:
:
nsToolkit
(
)
{
MOZ_COUNT_CTOR
(
nsToolkit
)
;
#
if
defined
(
MOZ_STATIC_COMPONENT_LIBS
)
nsToolkit
:
:
Startup
(
GetModuleHandle
(
nullptr
)
)
;
#
endif
}
nsToolkit
:
:
~
nsToolkit
(
)
{
MOZ_COUNT_DTOR
(
nsToolkit
)
;
}
void
nsToolkit
:
:
Startup
(
HMODULE
hModule
)
{
nsToolkit
:
:
mDllInstance
=
hModule
;
WinUtils
:
:
Initialize
(
)
;
nsUXThemeData
:
:
Initialize
(
)
;
}
void
nsToolkit
:
:
Shutdown
(
)
{
delete
gToolkit
;
gToolkit
=
nullptr
;
}
nsToolkit
*
nsToolkit
:
:
GetToolkit
(
)
{
if
(
!
gToolkit
)
{
gToolkit
=
new
nsToolkit
(
)
;
}
return
gToolkit
;
}

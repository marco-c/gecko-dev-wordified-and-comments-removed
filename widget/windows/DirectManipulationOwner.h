#
ifndef
DirectManipulationOwner_h__
#
define
DirectManipulationOwner_h__
#
include
<
windows
.
h
>
#
include
"
Units
.
h
"
#
include
"
nsIWidget
.
h
"
class
nsWindow
;
class
IDirectManipulationManager
;
class
IDirectManipulationUpdateManager
;
class
IDirectManipulationViewport
;
namespace
mozilla
{
namespace
widget
{
class
DManipEventHandler
;
class
DirectManipulationOwner
{
public
:
typedef
mozilla
:
:
LayoutDeviceIntRect
LayoutDeviceIntRect
;
explicit
DirectManipulationOwner
(
nsWindow
*
aWindow
)
;
~
DirectManipulationOwner
(
)
;
void
Init
(
const
LayoutDeviceIntRect
&
aBounds
)
;
void
ResizeViewport
(
const
LayoutDeviceIntRect
&
aBounds
)
;
void
Destroy
(
)
;
void
SetContact
(
UINT
aContactId
)
;
void
Update
(
)
;
static
void
SynthesizeNativeTouchpadPan
(
nsWindow
*
aWindow
nsIWidget
:
:
TouchpadGesturePhase
aEventPhase
LayoutDeviceIntPoint
aPoint
double
aDeltaX
double
aDeltaY
int32_t
aModifierFlags
)
;
private
:
nsWindow
*
mWindow
;
DWORD
mDmViewportHandlerCookie
;
RefPtr
<
IDirectManipulationManager
>
mDmManager
;
RefPtr
<
IDirectManipulationUpdateManager
>
mDmUpdateManager
;
RefPtr
<
IDirectManipulationViewport
>
mDmViewport
;
RefPtr
<
DManipEventHandler
>
mDmHandler
;
}
;
}
}
#
endif

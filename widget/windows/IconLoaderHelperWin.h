#
ifndef
mozilla_widget_IconLoaderHelperWin_h
#
define
mozilla_widget_IconLoaderHelperWin_h
#
include
"
mozilla
/
widget
/
IconLoader
.
h
"
#
include
"
nsISupports
.
h
"
namespace
mozilla
:
:
widget
{
class
IconLoaderListenerWin
:
public
nsISupports
{
public
:
IconLoaderListenerWin
(
)
=
default
;
virtual
nsresult
OnComplete
(
)
=
0
;
protected
:
virtual
~
IconLoaderListenerWin
(
)
=
default
;
}
;
class
IconLoaderHelperWin
final
:
public
mozilla
:
:
widget
:
:
IconLoader
:
:
Helper
{
public
:
explicit
IconLoaderHelperWin
(
mozilla
:
:
widget
:
:
IconLoaderListenerWin
*
aLoadListener
)
;
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_CLASS
(
IconLoaderHelperWin
)
nsresult
OnComplete
(
imgIContainer
*
aImage
const
nsIntRect
&
aRect
)
override
;
HICON
GetNativeIconImage
(
)
;
void
Destroy
(
)
;
protected
:
~
IconLoaderHelperWin
(
)
;
private
:
RefPtr
<
mozilla
:
:
widget
:
:
IconLoaderListenerWin
>
mLoadListener
;
HICON
mNativeIconImage
;
}
;
}
#
endif

#
include
"
CompositorWidgetChild
.
h
"
#
include
"
mozilla
/
Unused
.
h
"
#
include
"
mozilla
/
widget
/
CompositorWidgetVsyncObserver
.
h
"
#
include
"
nsBaseWidget
.
h
"
#
include
"
VsyncDispatcher
.
h
"
#
include
"
gfxPlatform
.
h
"
namespace
mozilla
{
namespace
widget
{
CompositorWidgetChild
:
:
CompositorWidgetChild
(
RefPtr
<
CompositorVsyncDispatcher
>
aVsyncDispatcher
RefPtr
<
CompositorWidgetVsyncObserver
>
aVsyncObserver
)
:
mVsyncDispatcher
(
aVsyncDispatcher
)
mVsyncObserver
(
aVsyncObserver
)
{
MOZ_ASSERT
(
XRE_IsParentProcess
(
)
)
;
MOZ_ASSERT
(
!
gfxPlatform
:
:
IsHeadless
(
)
)
;
}
CompositorWidgetChild
:
:
~
CompositorWidgetChild
(
)
{
}
void
CompositorWidgetChild
:
:
EnterPresentLock
(
)
{
Unused
<
<
SendEnterPresentLock
(
)
;
}
void
CompositorWidgetChild
:
:
LeavePresentLock
(
)
{
Unused
<
<
SendLeavePresentLock
(
)
;
}
void
CompositorWidgetChild
:
:
OnDestroyWindow
(
)
{
}
void
CompositorWidgetChild
:
:
UpdateTransparency
(
nsTransparencyMode
aMode
)
{
Unused
<
<
SendUpdateTransparency
(
aMode
)
;
}
void
CompositorWidgetChild
:
:
ClearTransparentWindow
(
)
{
Unused
<
<
SendClearTransparentWindow
(
)
;
}
HDC
CompositorWidgetChild
:
:
GetTransparentDC
(
)
const
{
return
nullptr
;
}
mozilla
:
:
ipc
:
:
IPCResult
CompositorWidgetChild
:
:
RecvObserveVsync
(
)
{
mVsyncDispatcher
-
>
SetCompositorVsyncObserver
(
mVsyncObserver
)
;
return
IPC_OK
(
)
;
}
mozilla
:
:
ipc
:
:
IPCResult
CompositorWidgetChild
:
:
RecvUnobserveVsync
(
)
{
mVsyncDispatcher
-
>
SetCompositorVsyncObserver
(
nullptr
)
;
return
IPC_OK
(
)
;
}
}
}

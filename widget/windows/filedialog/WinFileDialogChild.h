#
ifndef
widget_windows_filedialog_WinFileDialogChild_h__
#
define
widget_windows_filedialog_WinFileDialogChild_h__
#
include
"
mozilla
/
widget
/
filedialog
/
PWinFileDialogChild
.
h
"
struct
IFileDialog
;
namespace
mozilla
:
:
widget
:
:
filedialog
{
class
WinFileDialogChild
:
public
PWinFileDialogChild
{
public
:
using
Command
=
mozilla
:
:
widget
:
:
filedialog
:
:
Command
;
using
IPCResult
=
mozilla
:
:
ipc
:
:
IPCResult
;
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
WinFileDialogChild
override
)
;
WinFileDialogChild
(
)
;
public
:
using
FileResolver
=
PWinFileDialogChild
:
:
ShowFileDialogResolver
;
IPCResult
RecvShowFileDialog
(
uintptr_t
parentHwnd
FileDialogType
nsTArray
<
Command
>
FileResolver
&
&
)
;
using
FolderResolver
=
PWinFileDialogChild
:
:
ShowFolderDialogResolver
;
IPCResult
RecvShowFolderDialog
(
uintptr_t
parentHwnd
nsTArray
<
Command
>
FolderResolver
&
&
)
;
private
:
~
WinFileDialogChild
(
)
;
void
ProcessingError
(
Result
aCode
const
char
*
aReason
)
override
;
template
<
size_t
N
>
IPCResult
MakeIpcFailure
(
HRESULT
hr
const
char
(
&
what
)
[
N
]
)
;
bool
mUsed
=
false
;
}
;
}
#
endif

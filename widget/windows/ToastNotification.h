#
ifndef
ToastNotification_h__
#
define
ToastNotification_h__
#
include
"
nsIAlertsService
.
h
"
#
include
"
nsIObserver
.
h
"
#
include
"
nsIThread
.
h
"
#
include
"
nsRefPtrHashtable
.
h
"
namespace
mozilla
{
namespace
widget
{
class
ToastNotificationHandler
;
class
ToastNotification
final
:
public
nsIAlertsService
public
nsIAlertsDoNotDisturb
public
nsIObserver
{
public
:
NS_DECL_NSIALERTSSERVICE
NS_DECL_NSIALERTSDONOTDISTURB
NS_DECL_NSIOBSERVER
NS_DECL_ISUPPORTS
ToastNotification
(
)
;
nsresult
Init
(
)
;
bool
IsActiveHandler
(
const
nsAString
&
aAlertName
ToastNotificationHandler
*
aHandler
)
;
void
RemoveHandler
(
const
nsAString
&
aAlertName
ToastNotificationHandler
*
aHandler
)
;
nsresult
BackgroundDispatch
(
nsIRunnable
*
runnable
)
;
protected
:
virtual
~
ToastNotification
(
)
;
nsRefPtrHashtable
<
nsStringHashKey
ToastNotificationHandler
>
mActiveHandlers
;
nsCOMPtr
<
nsIThread
>
mBackgroundThread
;
bool
mSuppressForScreenSharing
=
false
;
}
;
}
}
#
endif

#
ifndef
_nsNativeDragSource_h_
#
define
_nsNativeDragSource_h_
#
include
"
nscore
.
h
"
#
include
<
ole2
.
h
>
#
include
<
oleidl
.
h
>
#
include
"
mozilla
/
RefPtr
.
h
"
namespace
mozilla
{
namespace
dom
{
class
DataTransfer
;
}
}
class
nsNativeDragSource
final
:
public
IDropSource
{
public
:
explicit
nsNativeDragSource
(
mozilla
:
:
dom
:
:
DataTransfer
*
aDataTransfer
)
;
~
nsNativeDragSource
(
)
;
STDMETHODIMP
QueryInterface
(
REFIID
void
*
*
)
;
STDMETHODIMP_
(
ULONG
)
AddRef
(
)
;
STDMETHODIMP_
(
ULONG
)
Release
(
)
;
STDMETHODIMP
GiveFeedback
(
DWORD
dEffect
)
;
STDMETHODIMP
QueryContinueDrag
(
BOOL
fESC
DWORD
grfKeyState
)
;
bool
UserCancelled
(
)
{
return
mUserCancelled
;
}
protected
:
ULONG
m_cRef
;
RefPtr
<
mozilla
:
:
dom
:
:
DataTransfer
>
mDataTransfer
;
HCURSOR
m_hCursor
;
bool
mUserCancelled
;
}
;
#
endif

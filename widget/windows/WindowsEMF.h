#
ifndef
MOZILLA_WIDGET_WINDOWSEMF_H
#
define
MOZILLA_WIDGET_WINDOWSEMF_H
#
include
<
windows
.
h
>
namespace
mozilla
{
namespace
widget
{
class
WindowsEMF
{
public
:
WindowsEMF
(
)
;
~
WindowsEMF
(
)
;
bool
InitForDrawing
(
const
wchar_t
*
aMetafilePath
=
nullptr
)
;
bool
InitFromFileContents
(
const
wchar_t
*
aMetafilePath
)
;
bool
InitFromFileContents
(
PBYTE
aBytes
UINT
aSize
)
;
HDC
GetDC
(
)
const
{
MOZ_ASSERT
(
mDC
"
GetDC
can
be
used
only
after
"
"
InitForDrawing
/
InitFromFileContents
and
before
"
"
Playback
/
SaveToFile
"
)
;
return
mDC
;
}
bool
Playback
(
HDC
aDeviceContext
const
RECT
&
aRect
)
;
bool
SaveToFile
(
)
;
UINT
GetEMFContentSize
(
)
;
bool
GetEMFContentBits
(
PBYTE
aBytes
)
;
private
:
WindowsEMF
(
const
WindowsEMF
&
aEMF
)
=
delete
;
bool
FinishDocument
(
)
;
void
ReleaseEMFHandle
(
)
;
void
ReleaseAllResource
(
)
;
HENHMETAFILE
mEmf
;
HDC
mDC
;
}
;
}
}
#
endif

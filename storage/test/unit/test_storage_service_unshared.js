function
test_openUnsharedDatabase_null_file
(
)
{
try
{
Services
.
storage
.
openUnsharedDatabase
(
null
)
;
do_throw
(
"
We
should
not
get
here
!
"
)
;
}
catch
(
e
)
{
print
(
e
)
;
print
(
"
e
.
result
is
"
+
e
.
result
)
;
Assert
.
equal
(
Cr
.
NS_ERROR_INVALID_ARG
e
.
result
)
;
}
}
function
test_openUnsharedDatabase_file_DNE
(
)
{
var
db
=
getTestDB
(
)
;
Assert
.
ok
(
!
db
.
exists
(
)
)
;
Services
.
storage
.
openUnsharedDatabase
(
db
)
;
Assert
.
ok
(
db
.
exists
(
)
)
;
}
function
test_openUnsharedDatabase_file_exists
(
)
{
var
db
=
getTestDB
(
)
;
Assert
.
ok
(
db
.
exists
(
)
)
;
Services
.
storage
.
openUnsharedDatabase
(
db
)
;
Assert
.
ok
(
db
.
exists
(
)
)
;
}
var
tests
=
[
test_openUnsharedDatabase_null_file
test_openUnsharedDatabase_file_DNE
test_openUnsharedDatabase_file_exists
]
;
function
run_test
(
)
{
for
(
var
i
=
0
;
i
<
tests
.
length
;
i
+
+
)
{
tests
[
i
]
(
)
;
}
cleanup
(
)
;
}

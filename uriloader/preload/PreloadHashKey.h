#
ifndef
PreloadHashKey_h__
#
define
PreloadHashKey_h__
#
include
"
mozilla
/
CORSMode
.
h
"
#
include
"
mozilla
/
dom
/
ReferrerPolicyBinding
.
h
"
#
include
"
nsURIHashKey
.
h
"
class
nsIPrincipal
;
class
nsIReferrerInfo
;
namespace
mozilla
{
class
PreloadHashKey
:
public
nsURIHashKey
{
public
:
enum
class
ResourceType
:
uint8_t
{
NONE
SCRIPT
STYLE
IMAGE
FONT
FETCH
}
;
typedef
PreloadHashKey
*
KeyType
;
typedef
const
PreloadHashKey
*
KeyTypePointer
;
PreloadHashKey
(
)
=
default
;
explicit
PreloadHashKey
(
const
PreloadHashKey
*
aKey
)
;
PreloadHashKey
(
PreloadHashKey
&
&
aToMove
)
;
~
PreloadHashKey
(
)
=
default
;
PreloadHashKey
&
operator
=
(
const
PreloadHashKey
&
aOther
)
;
KeyType
GetKey
(
)
const
{
return
const_cast
<
PreloadHashKey
*
>
(
this
)
;
}
KeyTypePointer
GetKeyPointer
(
)
const
{
return
this
;
}
static
KeyTypePointer
KeyToPointer
(
KeyType
aKey
)
{
return
aKey
;
}
bool
KeyEquals
(
KeyTypePointer
aOther
)
const
;
static
PLDHashNumber
HashKey
(
KeyTypePointer
aKey
)
;
#
ifdef
MOZILLA_INTERNAL_API
size_t
SizeOfExcludingThis
(
mozilla
:
:
MallocSizeOf
aMallocSizeOf
)
const
{
return
0
;
}
#
endif
enum
{
ALLOW_MEMMOVE
=
true
}
;
private
:
ResourceType
mAs
=
ResourceType
:
:
NONE
;
CORSMode
mCORSMode
=
CORS_NONE
;
enum
dom
:
:
ReferrerPolicy
mReferrerPolicy
=
dom
:
:
ReferrerPolicy
:
:
_empty
;
}
;
}
#
endif

#
ifndef
mozilla_codecoveragehandler_h
#
define
mozilla_codecoveragehandler_h
#
include
"
mozilla
/
StaticPtr
.
h
"
#
include
"
mozilla
/
ipc
/
CrossProcessMutex
.
h
"
namespace
mozilla
{
class
CodeCoverageHandler
{
public
:
static
void
Init
(
)
;
static
void
Init
(
const
CrossProcessMutexHandle
&
aHandle
)
;
static
CodeCoverageHandler
*
Get
(
)
;
CrossProcessMutex
*
GetMutex
(
)
;
CrossProcessMutexHandle
GetMutexHandle
(
int
aProcId
)
;
static
void
FlushCounters
(
const
bool
initialized
=
false
)
;
static
void
FlushCountersSignalHandler
(
int
)
;
private
:
CodeCoverageHandler
(
)
;
explicit
CodeCoverageHandler
(
const
CrossProcessMutexHandle
&
aHandle
)
;
static
StaticAutoPtr
<
CodeCoverageHandler
>
instance
;
CrossProcessMutex
mGcovLock
;
DISALLOW_COPY_AND_ASSIGN
(
CodeCoverageHandler
)
;
void
SetSignalHandlers
(
)
;
}
;
}
#
endif

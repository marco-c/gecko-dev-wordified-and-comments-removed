#
[
cfg
(
feature
=
"
enabled
"
)
]
#
[
inline
]
pub
fn
is_active
(
)
-
>
bool
{
use
crate
:
:
gecko_bindings
:
:
structs
:
:
mozilla
:
:
profiler
:
:
detail
;
use
std
:
:
mem
;
use
std
:
:
sync
:
:
atomic
:
:
{
AtomicU32
Ordering
}
;
let
active_and_features
:
&
AtomicU32
=
unsafe
{
mem
:
:
transmute
(
&
detail
:
:
RacyFeatures_sActiveAndFeatures
)
}
;
(
active_and_features
.
load
(
Ordering
:
:
Relaxed
)
&
detail
:
:
RacyFeatures_Active
)
!
=
0
}
#
[
cfg
(
not
(
feature
=
"
enabled
"
)
)
]
#
[
inline
]
pub
fn
is_active
(
)
-
>
bool
{
false
}

pub
mod
options
;
use
crate
:
:
gecko_bindings
:
:
{
bindings
profiling_categories
:
:
ProfilingCategoryPair
}
;
use
crate
:
:
marker
:
:
options
:
:
MarkerOptions
;
use
std
:
:
os
:
:
raw
:
:
c_char
;
pub
fn
add_untyped_marker
(
name
:
&
str
category
:
ProfilingCategoryPair
mut
options
:
MarkerOptions
)
{
if
!
crate
:
:
profiler_state
:
:
can_accept_markers
(
)
{
return
;
}
unsafe
{
bindings
:
:
gecko_profiler_add_marker_untyped
(
name
.
as_ptr
(
)
as
*
const
c_char
name
.
len
(
)
category
.
to_cpp_enum_value
(
)
options
.
timing
.
0
.
as_mut_ptr
(
)
options
.
stack
)
}
}

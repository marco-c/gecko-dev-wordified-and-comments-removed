use
std
:
:
ffi
:
:
CString
;
extern
"
C
"
{
fn
gecko_profiler_register_thread
(
name
:
*
const
:
:
std
:
:
os
:
:
raw
:
:
c_char
)
;
fn
gecko_profiler_unregister_thread
(
)
;
}
pub
fn
register_thread
(
thread_name
:
&
str
)
{
let
name
=
CString
:
:
new
(
thread_name
)
.
unwrap
(
)
;
unsafe
{
gecko_profiler_register_thread
(
name
.
as_ptr
(
)
)
;
}
}
pub
fn
unregister_thread
(
)
{
unsafe
{
gecko_profiler_unregister_thread
(
)
;
}
}

if
(
CONFIG
[
"
MOZ_GECKO_PROFILER
"
]
and
CONFIG
[
"
OS_TARGET
"
]
in
(
"
Android
"
"
Linux
"
)
and
CONFIG
[
"
TARGET_CPU
"
]
in
(
"
arm
"
"
aarch64
"
"
x86
"
"
x86_64
"
)
)
:
UNIFIED_SOURCES
+
=
[
"
LulTest
.
cpp
"
"
LulTestDwarf
.
cpp
"
"
LulTestInfrastructure
.
cpp
"
]
LOCAL_INCLUDES
+
=
[
"
/
netwerk
/
base
"
"
/
netwerk
/
protocol
/
http
"
"
/
toolkit
/
components
/
jsoncpp
/
include
"
"
/
tools
/
profiler
/
core
"
"
/
tools
/
profiler
/
gecko
"
"
/
tools
/
profiler
/
lul
"
]
if
CONFIG
[
"
OS_TARGET
"
]
!
=
"
Android
"
and
not
CONFIG
[
"
MOZ_TSAN
"
]
:
UNIFIED_SOURCES
+
=
[
"
GeckoProfiler
.
cpp
"
"
ThreadProfileTest
.
cpp
"
]
USE_LIBS
+
=
[
"
jsoncpp
"
]
include
(
"
/
ipc
/
chromium
/
chromium
-
config
.
mozbuild
"
)
FINAL_LIBRARY
=
"
xul
-
gtest
"

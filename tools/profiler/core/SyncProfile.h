#
ifndef
__SYNCPROFILE_H
#
define
__SYNCPROFILE_H
#
include
"
ProfileEntry
.
h
"
#
include
"
ThreadInfo
.
h
"
class
SyncProfile
:
public
ThreadInfo
{
public
:
SyncProfile
(
int
aThreadId
PseudoStack
*
aStack
)
;
~
SyncProfile
(
)
;
void
StreamJSON
(
SpliceableJSONWriter
&
aWriter
UniqueStacks
&
aUniqueStacks
)
;
virtual
void
EndUnwind
(
)
;
private
:
friend
class
ProfilerBacktrace
;
enum
OwnerState
{
REFERENCED
OWNED
OWNER_DESTROYING
ORPHANED
}
;
bool
ShouldDestroy
(
)
;
OwnerState
mOwnerState
;
}
;
#
endif

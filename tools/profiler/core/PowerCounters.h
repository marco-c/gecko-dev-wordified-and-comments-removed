#
ifndef
TOOLS_POWERCOUNTERS_H_
#
define
TOOLS_POWERCOUNTERS_H_
#
include
"
PlatformMacros
.
h
"
#
include
"
mozilla
/
ProfilerCounts
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
mozilla
/
Vector
.
h
"
#
if
defined
(
_MSC_VER
)
class
PowerMeterDevice
;
#
endif
#
if
defined
(
GP_PLAT_arm64_darwin
)
class
ProcessPower
;
#
endif
class
PowerCounters
{
public
:
#
if
defined
(
_MSC_VER
)
|
|
defined
(
GP_PLAT_arm64_darwin
)
explicit
PowerCounters
(
)
;
~
PowerCounters
(
)
;
void
Sample
(
)
;
#
else
explicit
PowerCounters
(
)
{
}
;
~
PowerCounters
(
)
{
}
;
void
Sample
(
)
{
}
;
#
endif
using
CountVector
=
mozilla
:
:
Vector
<
BaseProfilerCount
*
4
>
;
const
CountVector
&
GetCounters
(
)
{
return
mCounters
;
}
private
:
CountVector
mCounters
;
#
if
defined
(
_MSC_VER
)
mozilla
:
:
Vector
<
mozilla
:
:
UniquePtr
<
PowerMeterDevice
>
>
mPowerMeterDevices
;
#
endif
#
if
defined
(
GP_PLAT_arm64_darwin
)
mozilla
:
:
UniquePtr
<
ProcessPower
>
mProcessPower
;
#
endif
}
;
#
endif

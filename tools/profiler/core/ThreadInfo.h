#
ifndef
ThreadInfo_h
#
define
ThreadInfo_h
#
include
"
mozilla
/
TimeStamp
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsString
.
h
"
class
ThreadInfo
final
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
ThreadInfo
)
ThreadInfo
(
const
char
*
aName
int
aThreadId
bool
aIsMainThread
const
mozilla
:
:
TimeStamp
&
aRegisterTime
=
mozilla
:
:
TimeStamp
:
:
Now
(
)
)
:
mName
(
aName
)
mRegisterTime
(
aRegisterTime
)
mThreadId
(
aThreadId
)
mIsMainThread
(
aIsMainThread
)
{
MOZ_ASSERT
(
aThreadId
>
=
0
"
native
thread
ID
is
<
0
"
)
;
MOZ_ASSERT
(
aThreadId
<
=
INT32_MAX
"
native
thread
ID
is
>
INT32_MAX
"
)
;
}
const
char
*
Name
(
)
const
{
return
mName
.
get
(
)
;
}
mozilla
:
:
TimeStamp
RegisterTime
(
)
const
{
return
mRegisterTime
;
}
int
ThreadId
(
)
const
{
return
mThreadId
;
}
bool
IsMainThread
(
)
const
{
return
mIsMainThread
;
}
private
:
~
ThreadInfo
(
)
{
}
const
nsCString
mName
;
const
mozilla
:
:
TimeStamp
mRegisterTime
;
const
int
mThreadId
;
const
bool
mIsMainThread
;
}
;
#
endif

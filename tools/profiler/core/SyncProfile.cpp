#
include
"
SyncProfile
.
h
"
SyncProfile
:
:
SyncProfile
(
int
aThreadId
PseudoStack
*
aStack
)
:
ThreadInfo
(
"
SyncProfile
"
aThreadId
false
aStack
nullptr
)
{
MOZ_COUNT_CTOR
(
SyncProfile
)
;
SetProfile
(
new
ProfileBuffer
(
GET_BACKTRACE_DEFAULT_ENTRIES
)
)
;
}
SyncProfile
:
:
~
SyncProfile
(
)
{
MOZ_COUNT_DTOR
(
SyncProfile
)
;
}
void
SyncProfile
:
:
EndUnwind
(
)
{
ThreadInfo
:
:
EndUnwind
(
)
;
}
void
SyncProfile
:
:
StreamJSON
(
SpliceableJSONWriter
&
aWriter
UniqueStacks
&
aUniqueStacks
)
{
ThreadInfo
:
:
StreamSamplesAndMarkers
(
aWriter
0
aUniqueStacks
)
;
}

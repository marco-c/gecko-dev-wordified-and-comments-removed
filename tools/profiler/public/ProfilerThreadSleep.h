#
ifndef
ProfilerThreadSleep_h
#
define
ProfilerThreadSleep_h
#
ifndef
MOZ_GECKO_PROFILER
#
define
AUTO_PROFILER_THREAD_SLEEP
#
define
AUTO_PROFILER_THREAD_WAKE
static
inline
void
profiler_thread_sleep
(
)
{
}
static
inline
void
profiler_thread_wake
(
)
{
}
#
else
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
BaseProfilerRAIIMacro
.
h
"
void
profiler_thread_sleep
(
)
;
void
profiler_thread_wake
(
)
;
#
define
AUTO_PROFILER_THREAD_SLEEP
\
mozilla
:
:
AutoProfilerThreadSleep
PROFILER_RAII
namespace
mozilla
{
class
MOZ_RAII
AutoProfilerThreadSleep
{
public
:
explicit
AutoProfilerThreadSleep
(
)
{
profiler_thread_sleep
(
)
;
}
~
AutoProfilerThreadSleep
(
)
{
profiler_thread_wake
(
)
;
}
}
;
}
#
endif
#
endif

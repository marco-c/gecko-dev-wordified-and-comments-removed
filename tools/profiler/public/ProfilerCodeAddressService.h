#
ifndef
ProfilerCodeAddressService_h
#
define
ProfilerCodeAddressService_h
#
include
"
CodeAddressService
.
h
"
#
include
"
nsTArray
.
h
"
namespace
mozilla
{
struct
SymbolTable
{
SymbolTable
(
)
=
default
;
SymbolTable
(
SymbolTable
&
&
aOther
)
=
default
;
nsTArray
<
uint32_t
>
mAddrs
;
nsTArray
<
uint32_t
>
mIndex
;
nsTArray
<
uint8_t
>
mBuffer
;
}
;
}
class
ProfilerCodeAddressService
:
public
mozilla
:
:
CodeAddressService
<
>
{
public
:
bool
GetFunction
(
const
void
*
aPc
nsACString
&
aResult
)
;
private
:
#
if
defined
(
XP_LINUX
)
|
|
defined
(
XP_FREEBSD
)
mozilla
:
:
HashMap
<
const
char
*
mozilla
:
:
SymbolTable
mozilla
:
:
DefaultHasher
<
const
char
*
>
AllocPolicy
>
mSymbolTables
;
#
endif
}
;
#
endif

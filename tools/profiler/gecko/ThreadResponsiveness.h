#
ifndef
ThreadResponsiveness_h
#
define
ThreadResponsiveness_h
#
include
"
nsISupports
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
TimeStamp
.
h
"
class
ThreadInfo
;
class
CheckResponsivenessTask
;
class
ThreadResponsiveness
{
public
:
explicit
ThreadResponsiveness
(
ThreadInfo
*
aThreadInfo
)
;
~
ThreadResponsiveness
(
)
;
void
Update
(
)
;
mozilla
:
:
TimeDuration
GetUnresponsiveDuration
(
const
mozilla
:
:
TimeStamp
&
now
)
const
{
return
now
-
mLastTracerTime
;
}
bool
HasData
(
)
const
{
return
!
mLastTracerTime
.
IsNull
(
)
;
}
private
:
ThreadInfo
*
mThreadInfo
;
RefPtr
<
CheckResponsivenessTask
>
mActiveTracerEvent
;
mozilla
:
:
TimeStamp
mLastTracerTime
;
}
;
#
endif

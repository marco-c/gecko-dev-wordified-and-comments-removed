from
__future__
import
print_function
absolute_import
import
os
import
sys
from
reposadolib
import
reposadocommon
reposadocommon
.
get_main_dir
=
lambda
:
"
/
usr
/
local
/
bin
/
"
products
=
reposadocommon
.
get_product_info
(
)
args
=
[
]
for
product_id
p
in
products
.
items
(
)
:
    
try
:
        
t
=
p
[
"
title
"
]
    
except
KeyError
:
        
print
(
"
Missing
title
in
{
}
skipping
"
.
format
(
p
)
file
=
sys
.
stderr
)
        
continue
    
if
t
.
startswith
(
"
OS
X
"
)
or
t
.
startswith
(
"
Mac
OS
X
"
)
or
t
.
startswith
(
"
macOS
"
)
:
        
args
.
append
(
"
-
-
product
-
id
=
"
+
product_id
)
    
else
:
        
print
(
"
Skipping
%
r
for
repo_sync
"
%
t
file
=
sys
.
stderr
)
if
"
JUST_ONE_PACKAGE
"
in
os
.
environ
:
    
args
=
args
[
:
1
]
print
(
"
"
.
join
(
args
)
)

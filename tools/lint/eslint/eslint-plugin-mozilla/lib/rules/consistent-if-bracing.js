"
use
strict
"
;
module
.
exports
=
{
meta
:
{
docs
:
{
url
:
"
https
:
/
/
firefox
-
source
-
docs
.
mozilla
.
org
/
code
-
quality
/
lint
/
linters
/
eslint
-
plugin
-
mozilla
/
consistent
-
if
-
bracing
.
html
"
}
messages
:
{
consistentIfBracing
:
"
Bracing
of
if
.
.
else
bodies
should
be
consistent
.
"
}
type
:
"
layout
"
}
create
(
context
)
{
return
{
IfStatement
(
node
)
{
if
(
node
.
parent
.
type
!
=
=
"
IfStatement
"
)
{
let
types
=
new
Set
(
)
;
for
(
let
currentNode
=
node
;
currentNode
;
currentNode
=
currentNode
.
alternate
)
{
let
type
=
currentNode
.
consequent
.
type
;
types
.
add
(
type
=
=
"
BlockStatement
"
?
"
Block
"
:
"
NotBlock
"
)
;
if
(
currentNode
.
alternate
&
&
currentNode
.
alternate
.
type
!
=
=
"
IfStatement
"
)
{
type
=
currentNode
.
alternate
.
type
;
types
.
add
(
type
=
=
"
BlockStatement
"
?
"
Block
"
:
"
NotBlock
"
)
;
break
;
}
}
if
(
types
.
size
>
1
)
{
context
.
report
(
{
node
messageId
:
"
consistentIfBracing
"
}
)
;
}
}
}
}
;
}
}
;

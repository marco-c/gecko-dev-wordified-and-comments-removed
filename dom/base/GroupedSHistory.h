#
ifndef
GroupedSHistory_h
#
define
GroupedSHistory_h
#
include
"
nsIFrameLoader
.
h
"
#
include
"
nsIGroupedSHistory
.
h
"
#
include
"
nsIPartialSHistory
.
h
"
#
include
"
nsTArray
.
h
"
#
include
"
nsWeakReference
.
h
"
namespace
mozilla
{
namespace
dom
{
class
GroupedSHistory
final
:
public
nsIGroupedSHistory
{
public
:
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_CLASS
(
GroupedSHistory
)
NS_DECL_NSIGROUPEDSHISTORY
GroupedSHistory
(
)
;
static
bool
GroupedHistoryEnabled
(
)
;
private
:
~
GroupedSHistory
(
)
{
}
void
PurgePartialHistories
(
uint32_t
aLastPartialIndexToKeep
)
;
void
PurgePrerendering
(
)
;
uint32_t
mCount
;
int32_t
mIndexOfActivePartialHistory
;
nsCOMArray
<
nsIPartialSHistory
>
mPartialHistories
;
struct
PrerenderingHistory
{
nsCOMPtr
<
nsIPartialSHistory
>
mPartialHistory
;
int32_t
mId
;
}
;
nsTArray
<
PrerenderingHistory
>
mPrerenderingHistories
;
}
;
}
}
#
endif

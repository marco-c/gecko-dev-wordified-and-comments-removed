#
include
"
PopoverData
.
h
"
#
include
"
nsGenericHTMLElement
.
h
"
namespace
mozilla
:
:
dom
{
PopoverToggleEventTask
:
:
PopoverToggleEventTask
(
nsWeakPtr
aElement
PopoverVisibilityState
aOldState
)
:
Runnable
(
"
PopoverToggleEventTask
"
)
mElement
(
std
:
:
move
(
aElement
)
)
mOldState
(
aOldState
)
{
}
NS_IMETHODIMP
PopoverToggleEventTask
:
:
Run
(
)
{
nsCOMPtr
<
Element
>
element
=
do_QueryReferent
(
mElement
)
;
if
(
auto
*
htmlElement
=
nsGenericHTMLElement
:
:
FromNode
(
element
)
)
{
MOZ_KnownLive
(
htmlElement
)
-
>
RunPopoverToggleEventTask
(
this
mOldState
)
;
}
return
NS_OK
;
}
;
}

#
include
"
mozilla
/
dom
/
GeneratedImageContent
.
h
"
#
include
"
nsContentCreatorFunctions
.
h
"
#
include
"
nsGkAtoms
.
h
"
#
include
"
nsIDocument
.
h
"
#
include
"
nsNodeInfoManager
.
h
"
#
include
"
mozilla
/
dom
/
HTMLElementBinding
.
h
"
#
include
"
mozilla
/
dom
/
NameSpaceConstants
.
h
"
namespace
mozilla
{
namespace
dom
{
NS_IMPL_ELEMENT_CLONE
(
GeneratedImageContent
)
;
already_AddRefed
<
GeneratedImageContent
>
GeneratedImageContent
:
:
Create
(
nsIDocument
&
aDocument
uint32_t
aContentIndex
)
{
RefPtr
<
dom
:
:
NodeInfo
>
nodeInfo
=
aDocument
.
NodeInfoManager
(
)
-
>
GetNodeInfo
(
nsGkAtoms
:
:
mozgeneratedcontentimage
nullptr
kNameSpaceID_XHTML
nsINode
:
:
ELEMENT_NODE
)
;
already_AddRefed
<
dom
:
:
NodeInfo
>
&
&
rvalue
=
nodeInfo
.
forget
(
)
;
auto
image
=
MakeRefPtr
<
GeneratedImageContent
>
(
rvalue
)
;
image
-
>
mIndex
=
aContentIndex
;
return
image
.
forget
(
)
;
}
JSObject
*
GeneratedImageContent
:
:
WrapNode
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
{
return
dom
:
:
HTMLElement_Binding
:
:
Wrap
(
aCx
this
aGivenProto
)
;
}
}
}

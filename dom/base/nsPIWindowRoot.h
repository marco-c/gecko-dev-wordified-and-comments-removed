#
ifndef
nsPIWindowRoot_h__
#
define
nsPIWindowRoot_h__
#
include
"
mozilla
/
dom
/
EventTarget
.
h
"
#
include
"
nsISupports
.
h
"
class
nsPIDOMWindowOuter
;
class
nsIControllers
;
class
nsIController
;
class
nsINode
;
class
nsIRemoteTab
;
#
define
NS_IWINDOWROOT_IID
\
{
0xb8724c49
0xc398
0x4f9b
{
0x82
0x59
0x87
0x27
0xa6
0x47
0xdd
0x0f
}
}
class
nsPIWindowRoot
:
public
mozilla
:
:
dom
:
:
EventTarget
{
public
:
NS_INLINE_DECL_STATIC_IID
(
NS_IWINDOWROOT_IID
)
bool
IsRootWindow
(
)
const
final
{
return
true
;
}
NS_IMPL_FROMEVENTTARGET_HELPER
(
nsPIWindowRoot
IsRootWindow
(
)
)
virtual
nsPIDOMWindowOuter
*
GetWindow
(
)
=
0
;
virtual
already_AddRefed
<
nsINode
>
GetPopupNode
(
)
=
0
;
virtual
void
SetPopupNode
(
nsINode
*
aNode
)
=
0
;
virtual
nsresult
GetControllerForCommand
(
const
char
*
aCommand
bool
aForVisibleWindow
nsIController
*
*
aResult
)
=
0
;
virtual
nsresult
GetControllers
(
bool
aForVisibleWindow
nsIControllers
*
*
aResult
)
=
0
;
virtual
void
GetEnabledDisabledCommands
(
nsTArray
<
nsCString
>
&
aEnabledCommands
nsTArray
<
nsCString
>
&
aDisabledCommands
)
=
0
;
virtual
void
SetParentTarget
(
mozilla
:
:
dom
:
:
EventTarget
*
aTarget
)
=
0
;
virtual
mozilla
:
:
dom
:
:
EventTarget
*
GetParentTarget
(
)
=
0
;
virtual
void
AddBrowser
(
nsIRemoteTab
*
aBrowser
)
=
0
;
virtual
void
RemoveBrowser
(
nsIRemoteTab
*
aBrowser
)
=
0
;
using
BrowserEnumerator
=
void
(
*
)
(
nsIRemoteTab
*
aTab
void
*
aArg
)
;
virtual
void
EnumerateBrowsers
(
BrowserEnumerator
aEnumFunc
void
*
aArg
)
=
0
;
}
;
namespace
mozilla
:
:
dom
{
inline
nsPIWindowRoot
*
EventTarget
:
:
GetAsWindowRoot
(
)
{
return
IsRootWindow
(
)
?
static_cast
<
nsPIWindowRoot
*
>
(
this
)
:
nullptr
;
}
inline
const
nsPIWindowRoot
*
EventTarget
:
:
GetAsWindowRoot
(
)
const
{
return
IsRootWindow
(
)
?
static_cast
<
const
nsPIWindowRoot
*
>
(
this
)
:
nullptr
;
}
inline
nsPIWindowRoot
*
EventTarget
:
:
AsWindowRoot
(
)
{
MOZ_DIAGNOSTIC_ASSERT
(
IsRootWindow
(
)
)
;
return
static_cast
<
nsPIWindowRoot
*
>
(
this
)
;
}
inline
const
nsPIWindowRoot
*
EventTarget
:
:
AsWindowRoot
(
)
const
{
MOZ_DIAGNOSTIC_ASSERT
(
IsRootWindow
(
)
)
;
return
static_cast
<
const
nsPIWindowRoot
*
>
(
this
)
;
}
}
#
endif

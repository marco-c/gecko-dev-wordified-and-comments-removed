#
ifndef
nsCopySupport_h__
#
define
nsCopySupport_h__
#
include
"
nsError
.
h
"
#
include
"
mozilla
/
dom
/
Document
.
h
"
#
include
"
nsStringFwd
.
h
"
#
include
"
mozilla
/
EventForwards
.
h
"
class
nsINode
;
class
nsIImageLoadingContent
;
class
nsIContent
;
class
nsITransferable
;
class
nsILoadContext
;
namespace
mozilla
{
class
PresShell
;
namespace
dom
{
class
Document
;
class
Selection
;
}
}
class
nsCopySupport
{
public
:
static
nsresult
ClearSelectionCache
(
)
;
static
nsresult
EncodeDocumentWithContextAndPutToClipboard
(
mozilla
:
:
dom
:
:
Selection
*
aSel
mozilla
:
:
dom
:
:
Document
*
aDoc
int16_t
aClipboardID
bool
aWithRubyAnnotation
)
;
static
nsresult
GetContents
(
const
nsACString
&
aMimeType
uint32_t
aFlags
mozilla
:
:
dom
:
:
Selection
*
aSel
mozilla
:
:
dom
:
:
Document
*
aDoc
nsAString
&
outdata
)
;
static
nsresult
ImageCopy
(
nsIImageLoadingContent
*
aImageElement
nsILoadContext
*
aLoadContext
int32_t
aCopyFlags
)
;
static
nsresult
GetTransferableForSelection
(
mozilla
:
:
dom
:
:
Selection
*
aSelection
mozilla
:
:
dom
:
:
Document
*
aDocument
nsITransferable
*
*
aTransferable
)
;
MOZ_CAN_RUN_SCRIPT_BOUNDARY
static
nsresult
GetTransferableForNode
(
nsINode
*
aNode
mozilla
:
:
dom
:
:
Document
*
aDoc
nsITransferable
*
*
aTransferable
)
;
static
nsIContent
*
GetSelectionForCopy
(
mozilla
:
:
dom
:
:
Document
*
aDocument
mozilla
:
:
dom
:
:
Selection
*
*
aSelection
)
;
static
bool
CanCopy
(
mozilla
:
:
dom
:
:
Document
*
aDocument
)
;
MOZ_CAN_RUN_SCRIPT_BOUNDARY
static
bool
FireClipboardEvent
(
mozilla
:
:
EventMessage
aEventMessage
int32_t
aClipboardType
mozilla
:
:
PresShell
*
aPresShell
mozilla
:
:
dom
:
:
Selection
*
aSelection
bool
*
aActionTaken
=
nullptr
)
;
}
;
#
endif

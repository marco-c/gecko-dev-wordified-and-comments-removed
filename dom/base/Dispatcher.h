#
ifndef
mozilla_dom_Dispatcher_h
#
define
mozilla_dom_Dispatcher_h
#
include
"
mozilla
/
AlreadyAddRefed
.
h
"
#
include
"
nsISupports
.
h
"
class
nsIEventTarget
;
class
nsIRunnable
;
namespace
mozilla
{
namespace
dom
{
enum
class
TaskCategory
{
UI
Network
Timer
IdleCallback
RefreshDriver
Other
}
;
class
DispatcherTrait
{
public
:
virtual
nsresult
Dispatch
(
const
char
*
aName
TaskCategory
aCategory
already_AddRefed
<
nsIRunnable
>
&
&
aRunnable
)
;
virtual
already_AddRefed
<
nsIEventTarget
>
CreateEventTarget
(
const
char
*
aName
TaskCategory
aCategory
)
;
}
;
class
Dispatcher
:
public
nsISupports
{
public
:
virtual
nsresult
Dispatch
(
const
char
*
aName
TaskCategory
aCategory
already_AddRefed
<
nsIRunnable
>
&
&
aRunnable
)
=
0
;
virtual
already_AddRefed
<
nsIEventTarget
>
CreateEventTarget
(
const
char
*
aName
TaskCategory
aCategory
)
;
}
;
}
}
#
endif

#
ifndef
mozilla_dom_AnimationFrameProvider_h
#
define
mozilla_dom_AnimationFrameProvider_h
#
include
"
mozilla
/
dom
/
AnimationFrameProviderBinding
.
h
"
#
include
"
mozilla
/
dom
/
RequestCallbackManager
.
h
"
namespace
mozilla
:
:
dom
{
class
HTMLVideoElement
;
using
FrameRequest
=
RequestCallbackEntry
<
FrameRequestCallback
>
;
using
FrameRequestManagerBase
=
RequestCallbackManager
<
FrameRequestCallback
>
;
class
FrameRequestManager
final
:
public
FrameRequestManagerBase
{
public
:
FrameRequestManager
(
)
;
~
FrameRequestManager
(
)
;
using
FrameRequestManagerBase
:
:
Cancel
;
using
FrameRequestManagerBase
:
:
Schedule
;
using
FrameRequestManagerBase
:
:
Take
;
void
Schedule
(
HTMLVideoElement
*
)
;
bool
Cancel
(
HTMLVideoElement
*
)
;
bool
IsEmpty
(
)
const
{
return
FrameRequestManagerBase
:
:
IsEmpty
(
)
&
&
mVideoCallbacks
.
IsEmpty
(
)
;
}
void
Take
(
nsTArray
<
RefPtr
<
HTMLVideoElement
>
>
&
)
;
void
Unlink
(
)
;
void
Traverse
(
nsCycleCollectionTraversalCallback
&
)
;
private
:
nsTArray
<
RefPtr
<
HTMLVideoElement
>
>
mVideoCallbacks
;
}
;
}
#
endif

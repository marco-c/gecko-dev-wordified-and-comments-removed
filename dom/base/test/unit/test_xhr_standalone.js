function
run_test
(
)
{
Services
.
prefs
.
setBoolPref
(
"
network
.
fetch
.
systemDefaultsToOmittingCredentials
"
false
)
;
var
xhr
=
new
XMLHttpRequest
(
)
;
xhr
.
open
(
"
GET
"
"
data
:
"
false
)
;
var
exceptionThrown
=
false
;
try
{
xhr
.
responseType
=
"
"
;
xhr
.
withCredentials
=
false
;
}
catch
(
e
)
{
console
.
error
(
e
)
;
exceptionThrown
=
true
;
}
Assert
.
equal
(
false
exceptionThrown
)
;
}

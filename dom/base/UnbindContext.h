#
ifndef
mozilla_dom_UnbindContext_h__
#
define
mozilla_dom_UnbindContext_h__
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
nsINode
.
h
"
namespace
mozilla
:
:
dom
{
struct
MOZ_STACK_CLASS
UnbindContext
final
{
nsINode
&
Root
(
)
const
{
return
mRoot
;
}
bool
IsUnbindRoot
(
const
nsINode
*
aNode
)
const
{
return
&
mRoot
=
=
aNode
;
}
nsINode
*
GetOriginalSubtreeParent
(
)
const
{
return
mOriginalParent
;
}
explicit
UnbindContext
(
nsINode
&
aRoot
const
BatchRemovalState
*
aBatchState
)
:
mRoot
(
aRoot
)
mOriginalParent
(
aRoot
.
GetParentNode
(
)
)
mBatchState
(
aBatchState
)
{
}
void
SetIsMove
(
bool
aIsMove
)
{
mIsMove
=
aIsMove
;
}
bool
IsMove
(
)
const
{
return
mIsMove
;
}
const
BatchRemovalState
*
GetBatchRemovalState
(
)
const
{
return
mBatchState
;
}
private
:
nsINode
&
mRoot
;
nsINode
*
const
mOriginalParent
;
const
BatchRemovalState
*
const
mBatchState
=
nullptr
;
bool
mIsMove
=
false
;
}
;
}
#
endif

#
include
"
mozilla
/
dom
/
StyleSheetList
.
h
"
#
include
"
mozilla
/
dom
/
StyleSheetListBinding
.
h
"
#
include
"
nsINode
.
h
"
namespace
mozilla
{
namespace
dom
{
NS_IMPL_CYCLE_COLLECTION_WRAPPERCACHE_0
(
StyleSheetList
)
NS_INTERFACE_MAP_BEGIN_CYCLE_COLLECTION
(
StyleSheetList
)
NS_WRAPPERCACHE_INTERFACE_MAP_ENTRY
NS_INTERFACE_MAP_ENTRY
(
nsIMutationObserver
)
NS_INTERFACE_MAP_ENTRY
(
nsISupports
)
NS_INTERFACE_MAP_END
NS_IMPL_CYCLE_COLLECTING_ADDREF
(
StyleSheetList
)
NS_IMPL_CYCLE_COLLECTING_RELEASE
(
StyleSheetList
)
JSObject
*
StyleSheetList
:
:
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
{
return
StyleSheetList_Binding
:
:
Wrap
(
aCx
this
aGivenProto
)
;
}
void
StyleSheetList
:
:
NodeWillBeDestroyed
(
const
nsINode
*
aNode
)
{
mDocumentOrShadowRoot
=
nullptr
;
}
StyleSheetList
:
:
StyleSheetList
(
DocumentOrShadowRoot
&
aScope
)
:
mDocumentOrShadowRoot
(
&
aScope
)
{
mDocumentOrShadowRoot
-
>
AsNode
(
)
.
AddMutationObserver
(
this
)
;
}
StyleSheetList
:
:
~
StyleSheetList
(
)
{
if
(
mDocumentOrShadowRoot
)
{
mDocumentOrShadowRoot
-
>
AsNode
(
)
.
RemoveMutationObserver
(
this
)
;
}
}
}
}

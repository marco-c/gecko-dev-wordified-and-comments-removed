#
include
"
mozilla
/
dom
/
DispatcherTrait
.
h
"
#
include
"
mozilla
/
AbstractThread
.
h
"
#
include
"
mozilla
/
Dispatcher
.
h
"
#
include
"
nsINamed
.
h
"
using
namespace
mozilla
;
using
namespace
mozilla
:
:
dom
;
nsresult
DispatcherTrait
:
:
Dispatch
(
const
char
*
aName
TaskCategory
aCategory
already_AddRefed
<
nsIRunnable
>
&
&
aRunnable
)
{
return
ValidatingDispatcher
:
:
UnlabeledDispatch
(
aName
aCategory
Move
(
aRunnable
)
)
;
}
nsIEventTarget
*
DispatcherTrait
:
:
EventTargetFor
(
TaskCategory
aCategory
)
const
{
nsCOMPtr
<
nsIEventTarget
>
main
=
do_GetMainThread
(
)
;
return
main
;
}
AbstractThread
*
DispatcherTrait
:
:
AbstractMainThreadFor
(
TaskCategory
aCategory
)
{
return
AbstractThread
:
:
MainThread
(
)
;
}

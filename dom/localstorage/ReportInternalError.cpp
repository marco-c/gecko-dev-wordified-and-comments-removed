#
include
"
ReportInternalError
.
h
"
#
include
<
cinttypes
>
#
include
"
nsContentUtils
.
h
"
#
include
"
nsPrintfCString
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
{
namespace
dom
{
namespace
localstorage
{
void
ReportInternalError
(
const
char
*
aFile
uint32_t
aLine
const
char
*
aStr
)
{
for
(
const
char
*
p
=
aFile
;
*
p
;
+
+
p
)
{
if
(
*
p
=
=
'
/
'
&
&
*
(
p
+
1
)
)
{
aFile
=
p
+
1
;
}
}
nsContentUtils
:
:
LogSimpleConsoleError
(
NS_ConvertUTF8toUTF16
(
nsPrintfCString
(
"
LocalStorage
%
s
:
%
s
:
%
"
PRIu32
aStr
aFile
aLine
)
)
"
localstorage
"
false
true
)
;
}
}
}
}

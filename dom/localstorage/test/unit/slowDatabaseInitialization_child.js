const
{
PrincipalUtils
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
testing
-
common
/
dom
/
quota
/
test
/
modules
/
PrincipalUtils
.
sys
.
mjs
"
)
;
const
{
LocalStorageUtils
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
testing
-
common
/
dom
/
localstorage
/
test
/
modules
/
LocalStorageUtils
.
sys
.
mjs
"
)
;
add_task
(
async
function
testSteps
(
)
{
const
principal
=
PrincipalUtils
.
createPrincipal
(
"
https
:
/
/
example
.
com
"
)
;
const
storage
=
LocalStorageUtils
.
createStorage
(
principal
)
;
storage
.
getItem
(
"
foo
"
)
;
}
)
;

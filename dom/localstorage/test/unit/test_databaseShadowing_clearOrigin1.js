var
testGenerator
=
testSteps
(
)
;
loadSubscript
(
"
databaseShadowing
-
shared
.
js
"
)
;
function
*
testSteps
(
)
{
enableNextGenLocalStorage
(
)
;
storeData
(
)
;
verifyData
(
[
]
)
;
let
principal
=
getPrincipal
(
"
http
:
/
/
origin
.
test
"
{
}
)
;
clearOrigin
(
principal
"
default
"
continueToNextStepSync
)
;
yield
undefined
;
verifyData
(
[
1
]
)
;
reset
(
continueToNextStepSync
)
;
yield
undefined
;
exportShadowDatabase
(
"
shadowdb_clearedOrigin
.
sqlite
"
)
;
finishTest
(
)
;
}

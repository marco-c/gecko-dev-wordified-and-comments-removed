#
ifndef
mozilla_dom_localstorage_LSObserver_h
#
define
mozilla_dom_localstorage_LSObserver_h
#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
nsISupports
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
{
namespace
dom
{
class
LSObserverChild
;
class
LSObserver
final
{
friend
class
LSObject
;
LSObserverChild
*
mActor
;
const
nsCString
mOrigin
;
public
:
static
LSObserver
*
Get
(
const
nsACString
&
aOrigin
)
;
NS_INLINE_DECL_REFCOUNTING
(
LSObserver
)
void
AssertIsOnOwningThread
(
)
const
{
NS_ASSERT_OWNINGTHREAD
(
LSObserver
)
;
}
void
SetActor
(
LSObserverChild
*
aActor
)
;
void
ClearActor
(
)
{
AssertIsOnOwningThread
(
)
;
MOZ_ASSERT
(
mActor
)
;
mActor
=
nullptr
;
}
private
:
explicit
LSObserver
(
const
nsACString
&
aOrigin
)
;
~
LSObserver
(
)
;
}
;
}
}
#
endif

#
ifndef
CUBEBDEVICEENUMERATOR_H_
#
define
CUBEBDEVICEENUMERATOR_H_
#
include
"
AudioDeviceInfo
.
h
"
#
include
"
cubeb
/
cubeb
.
h
"
#
include
"
CubebUtils
.
h
"
#
include
"
mozilla
/
Mutex
.
h
"
#
include
"
nsTArray
.
h
"
namespace
mozilla
{
class
CubebDeviceEnumerator
final
{
public
:
CubebDeviceEnumerator
(
)
;
~
CubebDeviceEnumerator
(
)
;
void
EnumerateAudioInputDevices
(
nsTArray
<
RefPtr
<
AudioDeviceInfo
>
>
&
aOutDevices
)
;
already_AddRefed
<
AudioDeviceInfo
>
DeviceInfoFromID
(
CubebUtils
:
:
AudioDeviceID
aID
)
;
private
:
static
void
AudioDeviceListChanged_s
(
cubeb
*
aContext
void
*
aUser
)
;
void
AudioDeviceListChanged
(
)
;
Mutex
mMutex
;
nsTArray
<
RefPtr
<
AudioDeviceInfo
>
>
mDevices
;
bool
mManualInvalidation
;
}
;
}
#
endif

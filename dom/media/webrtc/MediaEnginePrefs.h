#
ifndef
MediaEnginePrefs_h
#
define
MediaEnginePrefs_h
namespace
mozilla
{
class
MediaEnginePrefs
{
public
:
static
const
int
DEFAULT_VIDEO_FPS
=
30
;
static
const
int
DEFAULT_43_VIDEO_WIDTH
=
640
;
static
const
int
DEFAULT_43_VIDEO_HEIGHT
=
480
;
static
const
int
DEFAULT_169_VIDEO_WIDTH
=
1280
;
static
const
int
DEFAULT_169_VIDEO_HEIGHT
=
720
;
MediaEnginePrefs
(
)
:
mWidth
(
0
)
mHeight
(
0
)
mFPS
(
0
)
mFreq
(
0
)
mAecOn
(
false
)
mAgcOn
(
false
)
mNoiseOn
(
false
)
mAec
(
0
)
mAgc
(
0
)
mNoise
(
0
)
mFullDuplex
(
false
)
mExtendedFilter
(
false
)
mDelayAgnostic
(
false
)
mFakeDeviceChangeEventOn
(
false
)
mChannels
(
0
)
{
}
int32_t
mWidth
;
int32_t
mHeight
;
int32_t
mFPS
;
int32_t
mFreq
;
bool
mAecOn
;
bool
mAgcOn
;
bool
mNoiseOn
;
int32_t
mAec
;
int32_t
mAgc
;
int32_t
mNoise
;
bool
mFullDuplex
;
bool
mExtendedFilter
;
bool
mDelayAgnostic
;
bool
mFakeDeviceChangeEventOn
;
int32_t
mChannels
;
int32_t
GetWidth
(
bool
aHD
=
false
)
const
{
return
mWidth
?
mWidth
:
(
mHeight
?
(
mHeight
*
GetDefWidth
(
aHD
)
)
/
GetDefHeight
(
aHD
)
:
GetDefWidth
(
aHD
)
)
;
}
int32_t
GetHeight
(
bool
aHD
=
false
)
const
{
return
mHeight
?
mHeight
:
(
mWidth
?
(
mWidth
*
GetDefHeight
(
aHD
)
)
/
GetDefWidth
(
aHD
)
:
GetDefHeight
(
aHD
)
)
;
}
private
:
static
int32_t
GetDefWidth
(
bool
aHD
=
false
)
{
if
(
aHD
)
{
return
DEFAULT_169_VIDEO_WIDTH
;
}
return
DEFAULT_43_VIDEO_WIDTH
;
}
static
int32_t
GetDefHeight
(
bool
aHD
=
false
)
{
if
(
aHD
)
{
return
DEFAULT_169_VIDEO_HEIGHT
;
}
return
DEFAULT_43_VIDEO_HEIGHT
;
}
}
;
}
#
endif

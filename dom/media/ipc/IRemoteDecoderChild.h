#
ifndef
include_dom_media_ipc_IRemoteDecoderChild_h
#
define
include_dom_media_ipc_IRemoteDecoderChild_h
#
include
"
PlatformDecoderModule
.
h
"
#
include
"
mozilla
/
TaskQueue
.
h
"
namespace
mozilla
{
class
IRemoteDecoderChild
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
IRemoteDecoderChild
)
;
virtual
RefPtr
<
MediaDataDecoder
:
:
InitPromise
>
Init
(
)
=
0
;
virtual
RefPtr
<
MediaDataDecoder
:
:
DecodePromise
>
Decode
(
const
nsTArray
<
RefPtr
<
MediaRawData
>
>
&
aSamples
)
=
0
;
virtual
RefPtr
<
MediaDataDecoder
:
:
DecodePromise
>
Drain
(
)
=
0
;
virtual
RefPtr
<
MediaDataDecoder
:
:
FlushPromise
>
Flush
(
)
=
0
;
virtual
RefPtr
<
ShutdownPromise
>
Shutdown
(
)
=
0
;
virtual
bool
IsHardwareAccelerated
(
nsACString
&
aFailureReason
)
const
{
return
false
;
}
virtual
nsCString
GetDescriptionName
(
)
const
=
0
;
virtual
void
SetSeekThreshold
(
const
media
:
:
TimeUnit
&
aTime
)
{
}
virtual
MediaDataDecoder
:
:
ConversionRequired
NeedsConversion
(
)
const
{
return
MediaDataDecoder
:
:
ConversionRequired
:
:
kNeedNone
;
}
virtual
void
DestroyIPDL
(
)
=
0
;
protected
:
virtual
~
IRemoteDecoderChild
(
)
=
default
;
}
;
}
#
endif

#
include
"
BufferDecoder
.
h
"
#
include
"
nsISupports
.
h
"
#
include
"
MediaResource
.
h
"
#
include
"
GMPService
.
h
"
namespace
mozilla
{
NS_IMPL_ISUPPORTS0
(
BufferDecoder
)
BufferDecoder
:
:
BufferDecoder
(
MediaResource
*
aResource
GMPCrashHelper
*
aCrashHelper
)
:
mResource
(
aResource
)
mCrashHelper
(
aCrashHelper
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
MOZ_COUNT_CTOR
(
BufferDecoder
)
;
}
BufferDecoder
:
:
~
BufferDecoder
(
)
{
MOZ_COUNT_DTOR
(
BufferDecoder
)
;
}
void
BufferDecoder
:
:
BeginDecoding
(
TaskQueue
*
aTaskQueueIdentity
)
{
MOZ_ASSERT
(
!
mTaskQueueIdentity
&
&
aTaskQueueIdentity
)
;
mTaskQueueIdentity
=
aTaskQueueIdentity
;
}
MediaResource
*
BufferDecoder
:
:
GetResource
(
)
const
{
return
mResource
;
}
void
BufferDecoder
:
:
NotifyDecodedFrames
(
const
FrameStatisticsData
&
aStats
)
{
}
VideoFrameContainer
*
BufferDecoder
:
:
GetVideoFrameContainer
(
)
{
return
nullptr
;
}
layers
:
:
ImageContainer
*
BufferDecoder
:
:
GetImageContainer
(
)
{
return
nullptr
;
}
MediaDecoderOwner
*
BufferDecoder
:
:
GetOwner
(
)
{
return
nullptr
;
}
already_AddRefed
<
GMPCrashHelper
>
BufferDecoder
:
:
GetCrashHelper
(
)
{
return
do_AddRef
(
mCrashHelper
)
;
}
}

#
ifndef
DOM_MEDIA_MEDIACONTROL_MEDIACONTROLLER_H_
#
define
DOM_MEDIA_MEDIACONTROL_MEDIACONTROLLER_H_
#
include
"
nsDataHashtable
.
h
"
#
include
"
nsISupportsImpl
.
h
"
namespace
mozilla
{
namespace
dom
{
class
BrowsingContext
;
enum
class
MediaControlActions
:
uint32_t
{
ePlay
ePause
eStop
eActionsNum
}
;
class
MediaController
final
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
MediaController
)
;
explicit
MediaController
(
uint64_t
aContextId
)
;
void
Play
(
)
;
void
Pause
(
)
;
void
Stop
(
)
;
void
Shutdown
(
)
;
uint64_t
Id
(
)
const
;
bool
IsPlaying
(
)
const
;
bool
IsAudible
(
)
const
;
uint64_t
ControlledMediaNum
(
)
const
;
void
NotifyMediaActiveChanged
(
bool
aActive
)
;
void
NotifyMediaAudibleChanged
(
bool
aAudible
)
;
private
:
~
MediaController
(
)
;
void
UpdateMediaActionToContentMediaIfNeeded
(
MediaControlActions
aAction
)
;
void
IncreaseControlledMediaNum
(
)
;
void
DecreaseControlledMediaNum
(
)
;
void
Activate
(
)
;
void
Deactivate
(
)
;
uint64_t
mBrowsingContextId
;
bool
mIsPlaying
=
false
;
bool
mAudible
=
false
;
int64_t
mControlledMediaNum
=
0
;
}
;
}
}
#
endif

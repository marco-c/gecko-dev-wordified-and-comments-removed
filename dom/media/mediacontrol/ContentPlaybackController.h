#
ifndef
DOM_MEDIA_MEDIACONTROL_CONTENTPLAYBACKCONTROLLER_H_
#
define
DOM_MEDIA_MEDIACONTROL_CONTENTPLAYBACKCONTROLLER_H_
#
include
"
MediaControlKeySource
.
h
"
#
include
"
mozilla
/
dom
/
BrowsingContext
.
h
"
#
include
"
nsPIDOMWindow
.
h
"
namespace
mozilla
:
:
dom
{
class
MediaSession
;
class
MOZ_STACK_CLASS
ContentPlaybackController
{
public
:
explicit
ContentPlaybackController
(
BrowsingContext
*
aContext
)
;
~
ContentPlaybackController
(
)
=
default
;
MOZ_CAN_RUN_SCRIPT_BOUNDARY
void
Focus
(
)
;
void
Play
(
)
;
void
Pause
(
)
;
void
SeekBackward
(
double
aSeekOffset
)
;
void
SeekForward
(
double
aSeekOffset
)
;
void
PreviousTrack
(
)
;
void
NextTrack
(
)
;
void
SkipAd
(
)
;
void
Stop
(
)
;
void
SeekTo
(
double
aSeekTime
bool
aFastSeek
)
;
private
:
void
NotifyContentMediaControlKeyReceiver
(
MediaControlKey
aKey
Maybe
<
SeekDetails
>
aDetails
=
Nothing
(
)
)
;
void
NotifyMediaSession
(
MediaSessionAction
aAction
)
;
void
NotifyMediaSession
(
const
MediaSessionActionDetails
&
aDetails
)
;
void
NotifyMediaSessionWhenActionIsSupported
(
MediaSessionAction
aAction
)
;
bool
IsMediaSessionActionSupported
(
MediaSessionAction
aAction
)
const
;
Maybe
<
uint64_t
>
GetActiveMediaSessionId
(
)
const
;
MediaSession
*
GetMediaSession
(
)
const
;
RefPtr
<
BrowsingContext
>
mBC
;
}
;
class
ContentMediaControlKeyHandler
{
public
:
static
void
HandleMediaControlAction
(
BrowsingContext
*
aContext
const
MediaControlAction
&
aAction
)
;
}
;
}
#
endif

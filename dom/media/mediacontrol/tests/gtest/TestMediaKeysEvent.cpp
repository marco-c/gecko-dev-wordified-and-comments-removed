#
include
"
gtest
/
gtest
.
h
"
#
include
"
MediaHardwareKeysEvent
.
h
"
using
namespace
mozilla
:
:
dom
;
TEST
(
MediaHardwareKeysEvent
TestAddOrRemoveListener
)
{
RefPtr
<
MediaHardwareKeysEventSource
>
source
=
new
MediaHardwareKeysEventSource
(
)
;
ASSERT_TRUE
(
source
-
>
GetListenersNum
(
)
=
=
0
)
;
RefPtr
<
MediaHardwareKeysEventListener
>
listener
=
new
MediaHardwareKeysEventListener
(
)
;
source
-
>
AddListener
(
listener
)
;
ASSERT_TRUE
(
source
-
>
GetListenersNum
(
)
=
=
1
)
;
source
-
>
RemoveListener
(
listener
)
;
ASSERT_TRUE
(
source
-
>
GetListenersNum
(
)
=
=
0
)
;
}

#
include
"
gtest
/
gtest
.
h
"
#
include
"
MediaControlKeysEvent
.
h
"
using
namespace
mozilla
:
:
dom
;
TEST
(
MediaControlKeysEvent
TestAddOrRemoveListener
)
{
RefPtr
<
MediaControlKeysEventSource
>
source
=
new
MediaControlKeysEventSource
(
)
;
ASSERT_TRUE
(
source
-
>
GetListenersNum
(
)
=
=
0
)
;
RefPtr
<
MediaControlKeysEventListener
>
listener
=
new
MediaControlKeysEventListener
(
)
;
source
-
>
AddListener
(
listener
)
;
ASSERT_TRUE
(
source
-
>
GetListenersNum
(
)
=
=
1
)
;
source
-
>
RemoveListener
(
listener
)
;
ASSERT_TRUE
(
source
-
>
GetListenersNum
(
)
=
=
0
)
;
}

#
ifndef
DOM_MEDIA_EME_MEDIAFOUNDATION_WMFCDMPROXYCALLBACK_H_
#
define
DOM_MEDIA_EME_MEDIAFOUNDATION_WMFCDMPROXYCALLBACK_H_
#
include
"
mozilla
/
PMFCDM
.
h
"
#
include
"
nsThreadUtils
.
h
"
namespace
mozilla
{
class
WMFCDMProxy
;
class
WMFCDMProxyCallback
final
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
WMFCDMProxyCallback
)
;
explicit
WMFCDMProxyCallback
(
WMFCDMProxy
*
aProxy
)
;
void
OnSessionMessage
(
const
MFCDMKeyMessage
&
aMessage
)
;
void
OnSessionKeyStatusesChange
(
const
MFCDMKeyStatusChange
&
aKeyStatuses
)
;
void
OnSessionKeyExpiration
(
const
MFCDMKeyExpiration
&
aExpiration
)
;
void
OnSessionClosed
(
const
nsString
&
aSessionId
)
;
void
Shutdown
(
)
;
private
:
~
WMFCDMProxyCallback
(
)
;
RefPtr
<
WMFCDMProxy
>
mProxy
;
}
;
}
#
endif

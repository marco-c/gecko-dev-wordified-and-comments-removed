#
if
!
defined
(
OmxPlatformLayer_h_
)
#
define
OmxPlatformLayer_h_
#
include
"
OMX_Core
.
h
"
#
include
"
OMX_Types
.
h
"
#
include
"
mozilla
/
MozPromise
.
h
"
#
include
"
mozilla
/
TaskQueue
.
h
"
#
include
"
OmxPromiseLayer
.
h
"
namespace
mozilla
{
class
TrackInfo
;
class
VideoData
;
class
OmxPlatformLayer
{
public
:
typedef
OmxPromiseLayer
:
:
BUFFERLIST
BUFFERLIST
;
typedef
OmxPromiseLayer
:
:
BufferData
BufferData
;
virtual
OMX_ERRORTYPE
InitOmxToStateLoaded
(
const
TrackInfo
*
aInfo
)
=
0
;
virtual
OMX_ERRORTYPE
EmptyThisBuffer
(
BufferData
*
aData
)
=
0
;
virtual
OMX_ERRORTYPE
FillThisBuffer
(
BufferData
*
aData
)
=
0
;
virtual
OMX_ERRORTYPE
SendCommand
(
OMX_COMMANDTYPE
aCmd
OMX_U32
aParam1
OMX_PTR
aCmdData
)
=
0
;
virtual
nsresult
AllocateOmxBuffer
(
OMX_DIRTYPE
aType
BUFFERLIST
*
aBufferList
)
=
0
;
virtual
nsresult
ReleaseOmxBuffer
(
OMX_DIRTYPE
aType
BUFFERLIST
*
aBufferList
)
=
0
;
virtual
OMX_ERRORTYPE
GetState
(
OMX_STATETYPE
*
aType
)
=
0
;
virtual
OMX_ERRORTYPE
GetParameter
(
OMX_INDEXTYPE
aParamIndex
OMX_PTR
aComponentParameterStructure
OMX_U32
aComponentParameterSize
)
=
0
;
virtual
OMX_ERRORTYPE
SetParameter
(
OMX_INDEXTYPE
nIndex
OMX_PTR
aComponentParameterStructure
OMX_U32
aComponentParameterSize
)
=
0
;
virtual
nsresult
Shutdown
(
)
=
0
;
virtual
~
OmxPlatformLayer
(
)
{
}
}
;
}
#
endif

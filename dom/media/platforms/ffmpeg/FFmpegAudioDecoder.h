#
ifndef
__FFmpegAACDecoder_h__
#
define
__FFmpegAACDecoder_h__
#
include
"
FFmpegDataDecoder
.
h
"
namespace
mozilla
{
template
<
int
V
>
class
FFmpegAudioDecoder
{
}
;
template
<
>
class
FFmpegAudioDecoder
<
LIBAV_VER
>
:
public
FFmpegDataDecoder
<
LIBAV_VER
>
{
public
:
FFmpegAudioDecoder
(
FlushableTaskQueue
*
aTaskQueue
MediaDataDecoderCallback
*
aCallback
const
AudioInfo
&
aConfig
)
;
virtual
~
FFmpegAudioDecoder
(
)
;
RefPtr
<
InitPromise
>
Init
(
)
override
;
nsresult
Input
(
MediaRawData
*
aSample
)
override
;
void
ProcessDrain
(
)
override
;
void
InitCodecContext
(
)
override
;
static
AVCodecID
GetCodecId
(
const
nsACString
&
aMimeType
)
;
private
:
void
DecodePacket
(
MediaRawData
*
aSample
)
;
}
;
}
#
endif

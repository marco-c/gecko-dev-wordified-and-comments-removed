#
ifndef
DOM_MEDIA_PLATFORMS_FFMPEG_VALIBWRAPPER_H_
#
define
DOM_MEDIA_PLATFORMS_FFMPEG_VALIBWRAPPER_H_
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Types
.
h
"
struct
PRLibrary
;
#
ifdef
MOZ_WIDGET_GTK
namespace
mozilla
{
class
MOZ_ONLY_USED_TO_AVOID_STATIC_CONSTRUCTORS
VALibWrapper
{
public
:
VALibWrapper
(
)
=
default
;
~
VALibWrapper
(
)
=
default
;
static
bool
IsVAAPIAvailable
(
)
;
static
VALibWrapper
sFuncs
;
private
:
void
Link
(
)
;
bool
AreVAAPIFuncsAvailable
(
)
;
bool
LinkVAAPILibs
(
)
;
public
:
int
(
*
vaExportSurfaceHandle
)
(
void
*
unsigned
int
uint32_t
uint32_t
void
*
)
;
int
(
*
vaSyncSurface
)
(
void
*
unsigned
int
)
;
int
(
*
vaInitialize
)
(
void
*
dpy
int
*
major_version
int
*
minor_version
)
;
int
(
*
vaTerminate
)
(
void
*
dpy
)
;
void
*
(
*
vaGetDisplayDRM
)
(
int
fd
)
;
private
:
PRLibrary
*
mVALib
;
PRLibrary
*
mVALibDrm
;
}
;
}
#
endif
#
endif

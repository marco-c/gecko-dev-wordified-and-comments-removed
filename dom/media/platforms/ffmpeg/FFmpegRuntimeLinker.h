#
ifndef
__FFmpegRuntimeLinker_h__
#
define
__FFmpegRuntimeLinker_h__
#
include
"
PlatformDecoderModule
.
h
"
#
include
"
PlatformEncoderModule
.
h
"
namespace
mozilla
{
class
FFmpegRuntimeLinker
{
public
:
static
bool
Init
(
)
;
static
already_AddRefed
<
PlatformDecoderModule
>
CreateDecoder
(
)
;
static
already_AddRefed
<
PlatformEncoderModule
>
CreateEncoder
(
)
;
enum
LinkStatus
{
LinkStatus_INIT
=
0
LinkStatus_SUCCEEDED
LinkStatus_INVALID_FFMPEG_CANDIDATE
LinkStatus_UNUSABLE_LIBAV57
LinkStatus_INVALID_LIBAV_CANDIDATE
LinkStatus_OBSOLETE_FFMPEG
LinkStatus_OBSOLETE_LIBAV
LinkStatus_INVALID_CANDIDATE
LinkStatus_NOT_FOUND
}
;
static
LinkStatus
LinkStatusCode
(
)
{
return
sLinkStatus
;
}
static
const
char
*
LinkStatusString
(
)
;
static
const
char
*
LinkStatusLibraryName
(
)
{
return
sLinkStatusLibraryName
;
}
private
:
static
void
PrefCallbackLogLevel
(
const
char
*
aPref
void
*
aData
)
;
static
LinkStatus
sLinkStatus
;
static
const
char
*
sLinkStatusLibraryName
;
}
;
}
#
endif

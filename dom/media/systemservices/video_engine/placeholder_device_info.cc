#
include
"
placeholder_device_info
.
h
"
#
include
"
modules
/
video_capture
/
video_capture_factory
.
h
"
namespace
mozilla
{
PlaceholderDeviceInfo
:
:
PlaceholderDeviceInfo
(
bool
aCameraPresent
)
:
mCameraPresent
(
aCameraPresent
)
{
}
PlaceholderDeviceInfo
:
:
~
PlaceholderDeviceInfo
(
)
=
default
;
uint32_t
PlaceholderDeviceInfo
:
:
NumberOfDevices
(
)
{
return
mCameraPresent
;
}
int32_t
PlaceholderDeviceInfo
:
:
Init
(
)
{
return
0
;
}
int32_t
PlaceholderDeviceInfo
:
:
GetDeviceName
(
uint32_t
aDeviceNumber
char
*
aDeviceNameUTF8
uint32_t
aDeviceNameLength
char
*
aDeviceUniqueIdUTF8
uint32_t
aDeviceUniqueIdUTF8Length
char
*
aProductUniqueIdUTF8
uint32_t
aProductUniqueIdUTF8Length
pid_t
*
aPid
bool
*
aDeviceIsPlaceholder
)
{
if
(
!
mCameraPresent
)
{
return
-
1
;
}
memset
(
aDeviceNameUTF8
0
aDeviceNameLength
)
;
memset
(
aDeviceUniqueIdUTF8
0
aDeviceUniqueIdUTF8Length
)
;
if
(
aProductUniqueIdUTF8
)
{
memset
(
aProductUniqueIdUTF8
0
aProductUniqueIdUTF8Length
)
;
}
if
(
aDeviceIsPlaceholder
)
{
*
aDeviceIsPlaceholder
=
true
;
}
return
0
;
}
int32_t
PlaceholderDeviceInfo
:
:
CreateCapabilityMap
(
const
char
*
)
{
return
-
1
;
}
int32_t
PlaceholderDeviceInfo
:
:
DisplayCaptureSettingsDialogBox
(
const
char
*
const
char
*
void
*
uint32_t
uint32_t
)
{
return
-
1
;
}
}

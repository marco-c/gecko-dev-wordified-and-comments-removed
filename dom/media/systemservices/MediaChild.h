#
ifndef
mozilla_MediaChild_h
#
define
mozilla_MediaChild_h
#
include
"
mozilla
/
dom
/
ContentChild
.
h
"
#
include
"
mozilla
/
media
/
PMediaChild
.
h
"
#
include
"
mozilla
/
media
/
PMediaParent
.
h
"
#
include
"
MediaUtils
.
h
"
namespace
mozilla
{
namespace
ipc
{
class
PrincipalInfo
;
}
namespace
media
{
already_AddRefed
<
Pledge
<
nsCString
>
>
GetPrincipalKey
(
const
mozilla
:
:
ipc
:
:
PrincipalInfo
&
aPrincipalInfo
bool
aPersist
)
;
void
SanitizeOriginKeys
(
const
uint64_t
&
aSinceWhen
bool
aOnlyPrivateBrowsing
)
;
class
Child
:
public
PMediaChild
{
public
:
static
Child
*
Get
(
)
;
Child
(
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvGetPrincipalKeyResponse
(
const
uint32_t
&
aRequestId
const
nsCString
&
aKey
)
override
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
~
Child
(
)
;
private
:
bool
mActorDestroyed
;
}
;
PMediaChild
*
AllocPMediaChild
(
)
;
bool
DeallocPMediaChild
(
PMediaChild
*
aActor
)
;
}
}
#
endif

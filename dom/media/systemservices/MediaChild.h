#
ifndef
mozilla_MediaChild_h
#
define
mozilla_MediaChild_h
#
include
"
MediaUtils
.
h
"
#
include
"
mozilla
/
media
/
PMediaChild
.
h
"
#
include
"
mozilla
/
media
/
PMediaParent
.
h
"
namespace
mozilla
{
namespace
ipc
{
class
PrincipalInfo
;
}
namespace
media
{
typedef
MozPromise
<
nsCString
nsresult
false
>
PrincipalKeyPromise
;
RefPtr
<
PrincipalKeyPromise
>
GetPrincipalKey
(
const
mozilla
:
:
ipc
:
:
PrincipalInfo
&
aPrincipalInfo
bool
aPersist
)
;
void
SanitizeOriginKeys
(
const
uint64_t
&
aSinceWhen
bool
aOnlyPrivateBrowsing
)
;
class
Child
:
public
PMediaChild
{
public
:
static
Child
*
Get
(
)
;
Child
(
)
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
~
Child
(
)
;
private
:
bool
mActorDestroyed
;
}
;
PMediaChild
*
AllocPMediaChild
(
)
;
bool
DeallocPMediaChild
(
PMediaChild
*
aActor
)
;
}
}
#
endif

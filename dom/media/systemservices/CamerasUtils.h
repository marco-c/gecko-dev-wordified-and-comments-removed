#
ifndef
mozilla_CameraUtils_h
#
define
mozilla_CameraUtils_h
#
include
"
nsThreadUtils
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
base
/
thread
.
h
"
namespace
mozilla
{
namespace
camera
{
nsresult
SynchronouslyCreatePBackground
(
)
;
class
ThreadDestructor
:
public
Runnable
{
DISALLOW_COPY_AND_ASSIGN
(
ThreadDestructor
)
;
public
:
explicit
ThreadDestructor
(
nsIThread
*
aThread
)
:
mThread
(
aThread
)
{
}
NS_IMETHOD
Run
(
)
override
{
if
(
mThread
)
{
mThread
-
>
Shutdown
(
)
;
}
return
NS_OK
;
}
private
:
~
ThreadDestructor
(
)
{
}
nsCOMPtr
<
nsIThread
>
mThread
;
}
;
}
}
#
endif

#
ifndef
STREAM_H_
#
define
STREAM_H_
#
include
"
DecoderDoctorLogger
.
h
"
#
include
"
nsISupportsImpl
.
h
"
namespace
mozilla
{
DDLoggedTypeDeclName
(
ByteStream
)
;
class
ByteStream
:
public
DecoderDoctorLifeLogger
<
ByteStream
>
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
ByteStream
)
;
virtual
bool
ReadAt
(
int64_t
offset
void
*
data
size_t
size
size_t
*
bytes_read
)
=
0
;
virtual
bool
CachedReadAt
(
int64_t
offset
void
*
data
size_t
size
size_t
*
bytes_read
)
=
0
;
virtual
bool
Length
(
int64_t
*
size
)
=
0
;
virtual
void
DiscardBefore
(
int64_t
offset
)
{
}
virtual
const
uint8_t
*
GetContiguousAccess
(
int64_t
aOffset
size_t
aSize
)
{
return
nullptr
;
}
protected
:
virtual
~
ByteStream
(
)
{
}
}
;
}
#
endif

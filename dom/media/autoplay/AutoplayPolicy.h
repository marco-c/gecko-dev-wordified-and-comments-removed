#
if
!
defined
(
AutoplayPolicy_h_
)
#
define
AutoplayPolicy_h_
#
include
"
mozilla
/
NotNull
.
h
"
class
nsIPrincipal
;
namespace
mozilla
:
:
dom
{
class
HTMLMediaElement
;
class
AudioContext
;
class
Document
;
enum
class
AutoplayPolicy
:
uint8_t
;
enum
class
AutoplayPolicyMediaType
:
uint8_t
;
enum
class
DocumentAutoplayPolicy
:
uint8_t
;
}
namespace
mozilla
:
:
media
{
class
AutoplayPolicy
{
public
:
static
dom
:
:
DocumentAutoplayPolicy
IsAllowedToPlay
(
const
dom
:
:
Document
&
aDocument
)
;
static
bool
IsAllowedToPlay
(
const
dom
:
:
HTMLMediaElement
&
aElement
)
;
static
bool
IsAllowedToPlay
(
const
dom
:
:
AudioContext
&
aContext
)
;
static
uint32_t
GetSiteAutoplayPermission
(
nsIPrincipal
*
aPrincipal
)
;
static
dom
:
:
AutoplayPolicy
GetAutoplayPolicy
(
const
dom
:
:
HTMLMediaElement
&
aElement
)
;
static
dom
:
:
AutoplayPolicy
GetAutoplayPolicy
(
const
dom
:
:
AudioContext
&
aContext
)
;
static
dom
:
:
AutoplayPolicy
GetAutoplayPolicy
(
const
dom
:
:
AutoplayPolicyMediaType
&
aType
const
dom
:
:
Document
&
aDoc
)
;
}
;
class
AutoplayPolicyTelemetryUtils
{
public
:
static
bool
WouldBeAllowedToPlayIfAutoplayDisabled
(
const
dom
:
:
AudioContext
&
aContext
)
;
}
;
}
#
endif

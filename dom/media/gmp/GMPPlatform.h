#
ifndef
GMPPlatform_h_
#
define
GMPPlatform_h_
#
include
"
mozilla
/
Mutex
.
h
"
#
include
"
gmp
-
platform
.
h
"
#
include
"
base
/
thread
.
h
"
#
include
"
mozilla
/
ReentrantMonitor
.
h
"
namespace
mozilla
{
namespace
gmp
{
class
GMPChild
;
void
InitPlatformAPI
(
GMPPlatformAPI
&
aPlatformAPI
GMPChild
*
aChild
)
;
GMPErr
RunOnMainThread
(
GMPTask
*
aTask
)
;
class
GMPThreadImpl
:
public
GMPThread
{
public
:
GMPThreadImpl
(
)
;
virtual
~
GMPThreadImpl
(
)
;
void
Post
(
GMPTask
*
aTask
)
override
;
void
Join
(
)
override
;
private
:
Mutex
mMutex
;
base
:
:
Thread
mThread
;
}
;
class
GMPMutexImpl
:
public
GMPMutex
{
public
:
GMPMutexImpl
(
)
;
virtual
~
GMPMutexImpl
(
)
;
void
Acquire
(
)
override
;
void
Release
(
)
override
;
void
Destroy
(
)
override
;
private
:
ReentrantMonitor
mMonitor
;
}
;
}
}
#
endif

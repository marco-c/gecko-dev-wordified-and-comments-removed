#
ifndef
GMPAudioDecoderChild_h_
#
define
GMPAudioDecoderChild_h_
#
include
"
mozilla
/
gmp
/
PGMPAudioDecoderChild
.
h
"
#
include
"
gmp
-
audio
-
decode
.
h
"
#
include
"
GMPAudioHost
.
h
"
namespace
mozilla
{
namespace
gmp
{
class
GMPContentChild
;
class
GMPAudioDecoderChild
:
public
PGMPAudioDecoderChild
public
GMPAudioDecoderCallback
{
public
:
explicit
GMPAudioDecoderChild
(
GMPContentChild
*
aPlugin
)
;
virtual
~
GMPAudioDecoderChild
(
)
;
void
Init
(
GMPAudioDecoder
*
aDecoder
)
;
GMPAudioHostImpl
&
Host
(
)
;
void
Decoded
(
GMPAudioSamples
*
aEncodedSamples
)
override
;
void
InputDataExhausted
(
)
override
;
void
DrainComplete
(
)
override
;
void
ResetComplete
(
)
override
;
void
Error
(
GMPErr
aError
)
override
;
private
:
bool
RecvInitDecode
(
const
GMPAudioCodecData
&
codecSettings
)
override
;
bool
RecvDecode
(
const
GMPAudioEncodedSampleData
&
input
)
override
;
bool
RecvReset
(
)
override
;
bool
RecvDrain
(
)
override
;
bool
RecvDecodingComplete
(
)
override
;
GMPContentChild
*
mPlugin
;
GMPAudioDecoder
*
mAudioDecoder
;
GMPAudioHostImpl
mAudioHost
;
}
;
}
}
#
endif

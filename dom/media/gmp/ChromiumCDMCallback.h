#
ifndef
ChromiumCDMCallback_h_
#
define
ChromiumCDMCallback_h_
#
include
"
mozilla
/
CDMProxy
.
h
"
#
include
"
mozilla
/
dom
/
MediaKeyMessageEventBinding
.
h
"
#
include
"
mozilla
/
dom
/
MediaKeyStatusMapBinding
.
h
"
#
include
"
mozilla
/
gmp
/
GMPTypes
.
h
"
namespace
mozilla
{
class
ErrorResult
;
}
class
ChromiumCDMCallback
{
public
:
virtual
~
ChromiumCDMCallback
(
)
=
default
;
virtual
void
SetSessionId
(
uint32_t
aPromiseId
const
nsCString
&
aSessionId
)
=
0
;
virtual
void
ResolveLoadSessionPromise
(
uint32_t
aPromiseId
bool
aSuccessful
)
=
0
;
virtual
void
ResolvePromiseWithKeyStatus
(
uint32_t
aPromiseId
uint32_t
aKeyStatus
)
=
0
;
virtual
void
ResolvePromise
(
uint32_t
aPromiseId
)
=
0
;
virtual
void
RejectPromise
(
uint32_t
aPromiseId
mozilla
:
:
ErrorResult
&
&
aError
const
nsCString
&
aErrorMessage
)
=
0
;
virtual
void
SessionMessage
(
const
nsACString
&
aSessionId
uint32_t
aMessageType
nsTArray
<
uint8_t
>
&
&
aMessage
)
=
0
;
virtual
void
SessionKeysChange
(
const
nsCString
&
aSessionId
nsTArray
<
mozilla
:
:
gmp
:
:
CDMKeyInformation
>
&
&
aKeysInfo
)
=
0
;
virtual
void
ExpirationChange
(
const
nsCString
&
aSessionId
double
aSecondsSinceEpoch
)
=
0
;
virtual
void
SessionClosed
(
const
nsCString
&
aSessionId
)
=
0
;
virtual
void
QueryOutputProtectionStatus
(
)
=
0
;
virtual
void
Terminated
(
)
=
0
;
virtual
void
Shutdown
(
)
=
0
;
}
;
#
endif

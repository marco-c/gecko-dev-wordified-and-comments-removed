#
ifndef
DecryptJob_h_
#
define
DecryptJob_h_
#
include
"
mozilla
/
CDMProxy
.
h
"
namespace
mozilla
{
class
DecryptJob
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
DecryptJob
)
explicit
DecryptJob
(
MediaRawData
*
aSample
)
:
mId
(
0
)
mSample
(
aSample
)
{
}
void
PostResult
(
DecryptStatus
aResult
const
nsTArray
<
uint8_t
>
&
aDecryptedData
)
;
void
PostResult
(
DecryptStatus
aResult
)
;
RefPtr
<
DecryptPromise
>
Ensure
(
)
{
return
mPromise
.
Ensure
(
__func__
)
;
}
uint32_t
mId
;
RefPtr
<
MediaRawData
>
mSample
;
private
:
~
DecryptJob
(
)
{
}
MozPromiseHolder
<
DecryptPromise
>
mPromise
;
}
;
}
#
endif

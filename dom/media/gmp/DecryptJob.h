#
ifndef
DecryptJob_h_
#
define
DecryptJob_h_
#
include
"
mozilla
/
CDMProxy
.
h
"
#
include
"
mozilla
/
Span
.
h
"
namespace
mozilla
{
class
DecryptJob
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
DecryptJob
)
explicit
DecryptJob
(
MediaRawData
*
aSample
)
;
void
PostResult
(
DecryptStatus
aResult
Span
<
const
uint8_t
>
aDecryptedData
)
;
void
PostResult
(
DecryptStatus
aResult
)
;
RefPtr
<
DecryptPromise
>
Ensure
(
)
;
const
uint32_t
mId
;
RefPtr
<
MediaRawData
>
mSample
;
private
:
~
DecryptJob
(
)
{
}
MozPromiseHolder
<
DecryptPromise
>
mPromise
;
}
;
}
#
endif

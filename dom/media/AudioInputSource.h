#
ifndef
DOM_MEDIA_AudioInputSource_H_
#
define
DOM_MEDIA_AudioInputSource_H_
#
include
"
AudioSegment
.
h
"
#
include
"
CubebUtils
.
h
"
namespace
mozilla
{
class
AudioInputSource
{
public
:
NS_INLINE_DECL_PURE_VIRTUAL_REFCOUNTING
;
using
Id
=
uint32_t
;
virtual
void
Start
(
)
=
0
;
virtual
void
Stop
(
)
=
0
;
virtual
AudioSegment
GetAudioSegment
(
TrackTime
aDuration
)
=
0
;
const
Id
mId
;
const
CubebUtils
:
:
AudioDeviceID
mDeviceId
;
const
uint32_t
mChannelCount
;
const
TrackRate
mRate
;
const
bool
mIsVoice
;
const
PrincipalHandle
mPrincipalHandle
;
protected
:
AudioInputSource
(
Id
aId
CubebUtils
:
:
AudioDeviceID
aDeviceId
uint32_t
aChannelCount
TrackRate
aRate
bool
aIsVoice
const
PrincipalHandle
&
aPrincipalHandle
)
:
mId
(
aId
)
mDeviceId
(
aDeviceId
)
mChannelCount
(
aChannelCount
)
mRate
(
aRate
)
mIsVoice
(
aIsVoice
)
mPrincipalHandle
(
aPrincipalHandle
)
{
}
virtual
~
AudioInputSource
(
)
=
default
;
}
;
}
#
endif

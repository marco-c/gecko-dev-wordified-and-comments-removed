#
ifndef
include_dom_media_mediacapabilities_BenchmarkStorageParent_h
#
define
include_dom_media_mediacapabilities_BenchmarkStorageParent_h
#
include
"
mozilla
/
PBenchmarkStorageParent
.
h
"
namespace
mozilla
{
class
KeyValueStorage
;
using
mozilla
:
:
ipc
:
:
IPCResult
;
class
BenchmarkStorageParent
:
public
PBenchmarkStorageParent
{
friend
class
PBenchmarkStorageParent
;
public
:
BenchmarkStorageParent
(
)
;
IPCResult
RecvPut
(
const
nsCString
&
aDbName
const
nsCString
&
aKey
const
int32_t
&
aValue
)
;
IPCResult
RecvGet
(
const
nsCString
&
aDbName
const
nsCString
&
aKey
GetResolver
&
&
aResolve
)
;
IPCResult
RecvCheckVersion
(
const
nsCString
&
aDbName
int32_t
aVersion
)
;
static
void
MovingAverage
(
int32_t
&
aAverage
int32_t
&
aWindow
const
int32_t
aValue
)
;
static
int32_t
ParseStoredValue
(
int32_t
aValue
int32_t
&
aWindow
)
;
static
int32_t
PrepareStoredValue
(
int32_t
aScore
int32_t
aWindow
)
;
private
:
RefPtr
<
KeyValueStorage
>
mStorage
;
}
;
}
#
endif

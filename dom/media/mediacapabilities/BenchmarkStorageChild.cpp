#
include
"
BenchmarkStorageChild
.
h
"
#
include
"
mozilla
/
dom
/
ContentChild
.
h
"
namespace
mozilla
{
static
PBenchmarkStorageChild
*
sChild
=
nullptr
;
PBenchmarkStorageChild
*
BenchmarkStorageChild
:
:
Instance
(
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
if
(
!
sChild
)
{
sChild
=
new
BenchmarkStorageChild
(
)
;
PContentChild
*
contentChild
=
dom
:
:
ContentChild
:
:
GetSingleton
(
)
;
MOZ_ASSERT
(
contentChild
)
;
contentChild
-
>
SendPBenchmarkStorageConstructor
(
)
;
}
MOZ_ASSERT
(
sChild
)
;
return
sChild
;
}
BenchmarkStorageChild
:
:
~
BenchmarkStorageChild
(
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
if
(
sChild
=
=
this
)
{
sChild
=
nullptr
;
}
}
}

#
include
"
QueueObject
.
h
"
#
include
"
mozilla
/
AbstractThread
.
h
"
#
include
"
mozilla
/
TaskQueue
.
h
"
#
include
"
nsThreadUtils
.
h
"
namespace
mozilla
{
QueueObject
:
:
QueueObject
(
RefPtr
<
AbstractThread
>
aThread
)
:
mThread
(
aThread
)
{
}
QueueObject
:
:
~
QueueObject
(
)
=
default
;
void
QueueObject
:
:
Dispatch
(
nsIRunnable
*
aRunnable
)
{
Dispatch
(
do_AddRef
(
aRunnable
)
)
;
}
void
QueueObject
:
:
Dispatch
(
already_AddRefed
<
nsIRunnable
>
aRunnable
)
{
mThread
-
>
Dispatch
(
std
:
:
move
(
aRunnable
)
)
;
}
bool
QueueObject
:
:
OnThread
(
)
{
return
mThread
-
>
IsCurrentThreadIn
(
)
;
}
AbstractThread
*
QueueObject
:
:
Thread
(
)
{
return
mThread
;
}
}

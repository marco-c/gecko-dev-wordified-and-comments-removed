"
use
strict
"
;
var
gCertMaker
=
Cc
[
"
mozilla
.
org
/
security
/
x509certdb
;
1
"
]
.
getService
(
Ci
.
nsIX509CertDB
)
;
var
gCertOverrides
=
Cc
[
"
mozilla
.
org
/
security
/
certoverride
;
1
"
]
.
getService
(
Ci
.
nsICertOverrideService
)
;
addMessageListener
(
"
add
-
turns
-
certs
"
certs
=
>
{
var
port
=
5349
;
certs
.
forEach
(
certDescription
=
>
{
var
cert
=
gCertMaker
.
constructX509FromBase64
(
certDescription
.
cert
)
;
gCertOverrides
.
rememberValidityOverride
(
certDescription
.
hostname
port
cert
Ci
.
nsICertOverrideService
.
ERROR_UNTRUSTED
false
)
;
}
)
;
sendAsyncMessage
(
"
certs
-
added
"
)
;
}
)
;

#
include
"
DDLifetime
.
h
"
namespace
mozilla
{
void
DDLifetime
:
:
AppendPrintf
(
nsCString
&
aString
)
const
{
if
(
!
mDerivedObject
.
Pointer
(
)
)
{
mObject
.
AppendPrintf
(
aString
)
;
aString
.
AppendPrintf
(
"
#
%
"
PRIi32
mTag
)
;
}
else
{
mDerivedObject
.
AppendPrintf
(
aString
)
;
aString
.
AppendPrintf
(
"
#
%
"
PRIi32
"
(
as
"
mTag
)
;
if
(
mObject
.
Pointer
(
)
=
=
mDerivedObject
.
Pointer
(
)
)
{
aString
.
Append
(
mObject
.
TypeName
(
)
)
;
}
else
{
mObject
.
AppendPrintf
(
aString
)
;
}
aString
.
Append
(
"
)
"
)
;
}
}
nsCString
DDLifetime
:
:
Printf
(
)
const
{
nsCString
s
;
AppendPrintf
(
s
)
;
return
s
;
}
}

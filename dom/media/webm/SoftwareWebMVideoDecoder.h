#
if
!
defined
(
SoftwareWebMVideoDecoder_h_
)
#
define
SoftwareWebMVideoDecoder_h_
#
include
<
stdint
.
h
>
#
include
"
WebMReader
.
h
"
namespace
mozilla
{
class
SoftwareWebMVideoDecoder
:
public
WebMVideoDecoder
{
public
:
static
WebMVideoDecoder
*
Create
(
WebMReader
*
aReader
)
;
virtual
nsresult
Init
(
unsigned
int
aWidth
=
0
unsigned
int
aHeight
=
0
)
override
;
virtual
bool
DecodeVideoFrame
(
bool
&
aKeyframeSkip
int64_t
aTimeThreshold
)
override
;
virtual
void
Shutdown
(
)
override
;
explicit
SoftwareWebMVideoDecoder
(
WebMReader
*
aReader
)
;
~
SoftwareWebMVideoDecoder
(
)
;
private
:
nsresult
InitDecoder
(
unsigned
int
aWidth
unsigned
int
aHeight
)
;
RefPtr
<
WebMReader
>
mReader
;
vpx_codec_ctx_t
mVPX
;
}
;
}
#
endif

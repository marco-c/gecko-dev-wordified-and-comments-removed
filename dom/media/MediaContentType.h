#
ifndef
MediaContentType_h_
#
define
MediaContentType_h_
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
{
class
MediaContentType
{
public
:
const
nsACString
&
GetMIMEType
(
)
const
{
return
mMIMEType
;
}
bool
HaveCodecs
(
)
const
{
return
mHaveCodecs
;
}
const
nsAString
&
GetCodecs
(
)
const
{
return
mCodecs
;
}
Maybe
<
int32_t
>
GetWidth
(
)
const
{
return
GetMaybeNumber
(
mWidth
)
;
}
Maybe
<
int32_t
>
GetHeight
(
)
const
{
return
GetMaybeNumber
(
mHeight
)
;
}
Maybe
<
int32_t
>
GetFramerate
(
)
const
{
return
GetMaybeNumber
(
mFramerate
)
;
}
Maybe
<
int32_t
>
GetBitrate
(
)
const
{
return
GetMaybeNumber
(
mBitrate
)
;
}
private
:
friend
Maybe
<
MediaContentType
>
MakeMediaContentType
(
const
nsAString
&
aType
)
;
bool
Populate
(
const
nsAString
&
aType
)
;
Maybe
<
int32_t
>
GetMaybeNumber
(
int32_t
aNumber
)
const
{
return
(
aNumber
<
0
)
?
Maybe
<
int32_t
>
(
Nothing
(
)
)
:
Some
(
int32_t
(
aNumber
)
)
;
}
nsCString
mMIMEType
;
bool
mHaveCodecs
;
nsString
mCodecs
;
int32_t
mWidth
;
int32_t
mHeight
;
int32_t
mFramerate
;
int32_t
mBitrate
;
}
;
Maybe
<
MediaContentType
>
MakeMediaContentType
(
const
nsAString
&
aType
)
;
Maybe
<
MediaContentType
>
MakeMediaContentType
(
const
nsACString
&
aType
)
;
Maybe
<
MediaContentType
>
MakeMediaContentType
(
const
char
*
aType
)
;
}
#
endif

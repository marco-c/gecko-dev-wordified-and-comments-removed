#
if
!
defined
(
CubebUtils_h_
)
#
define
CubebUtils_h_
#
include
"
cubeb
/
cubeb
.
h
"
#
include
"
nsString
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
class
AudioDeviceInfo
;
MOZ_MAKE_ENUM_CLASS_BITWISE_OPERATORS
(
cubeb_stream_prefs
)
namespace
mozilla
{
namespace
CubebUtils
{
typedef
cubeb_devid
AudioDeviceID
;
void
InitLibrary
(
)
;
#
ifdef
XP_LINUX
void
InitAudioThreads
(
)
;
#
endif
void
ShutdownLibrary
(
)
;
uint32_t
MaxNumberOfChannels
(
)
;
uint32_t
PreferredSampleRate
(
)
;
enum
Side
{
Input
Output
}
;
double
GetVolumeScale
(
)
;
bool
GetFirstStream
(
)
;
cubeb
*
GetCubebContext
(
)
;
void
ReportCubebStreamInitFailure
(
bool
aIsFirstStream
)
;
void
ReportCubebBackendUsed
(
)
;
uint32_t
GetCubebPlaybackLatencyInMilliseconds
(
)
;
uint32_t
GetCubebMTGLatencyInFrames
(
cubeb_stream_params
*
params
)
;
bool
CubebLatencyPrefSet
(
)
;
void
GetCurrentBackend
(
nsAString
&
aBackend
)
;
cubeb_stream_prefs
GetDefaultStreamPrefs
(
)
;
char
*
GetForcedOutputDevice
(
)
;
void
SetInCommunication
(
bool
aInCommunication
)
;
#
ifdef
MOZ_WIDGET_ANDROID
uint32_t
AndroidGetAudioOutputSampleRate
(
)
;
uint32_t
AndroidGetAudioOutputFramesPerBuffer
(
)
;
#
endif
#
ifdef
ENABLE_SET_CUBEB_BACKEND
void
ForceSetCubebContext
(
cubeb
*
aCubebContext
)
;
#
endif
}
}
#
endif

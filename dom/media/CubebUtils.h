#
if
!
defined
(
CubebUtils_h_
)
#
define
CubebUtils_h_
#
include
"
cubeb
/
cubeb
.
h
"
#
include
"
nsString
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
class
AudioDeviceInfo
;
namespace
mozilla
{
namespace
CubebUtils
{
typedef
cubeb_devid
AudioDeviceID
;
void
InitLibrary
(
)
;
void
ShutdownLibrary
(
)
;
uint32_t
MaxNumberOfChannels
(
)
;
uint32_t
PreferredSampleRate
(
)
;
enum
Side
{
Input
Output
}
;
double
GetVolumeScale
(
)
;
bool
GetFirstStream
(
)
;
cubeb
*
GetCubebContext
(
)
;
void
ReportCubebStreamInitFailure
(
bool
aIsFirstStream
)
;
void
ReportCubebBackendUsed
(
)
;
uint32_t
GetCubebPlaybackLatencyInMilliseconds
(
)
;
uint32_t
GetCubebMSGLatencyInFrames
(
cubeb_stream_params
*
params
)
;
bool
CubebLatencyPrefSet
(
)
;
void
GetCurrentBackend
(
nsAString
&
aBackend
)
;
void
GetDeviceCollection
(
nsTArray
<
RefPtr
<
AudioDeviceInfo
>
>
&
aDeviceInfos
Side
aSide
)
;
cubeb_stream_prefs
GetDefaultStreamPrefs
(
)
;
#
ifdef
MOZ_WIDGET_ANDROID
uint32_t
AndroidGetAudioOutputSampleRate
(
)
;
uint32_t
AndroidGetAudioOutputFramesPerBuffer
(
)
;
#
endif
}
}
#
endif

#
include
"
WaveDemuxer
.
h
"
#
include
"
MediaContainerType
.
h
"
#
include
"
WaveDecoder
.
h
"
#
include
"
PDMFactory
.
h
"
namespace
mozilla
{
ChannelMediaDecoder
*
WaveDecoder
:
:
CloneImpl
(
MediaDecoderInit
&
aInit
)
{
return
new
WaveDecoder
(
aInit
)
;
}
bool
WaveDecoder
:
:
IsSupportedType
(
const
MediaContainerType
&
aContainerType
)
{
if
(
!
IsWaveEnabled
(
)
)
{
return
false
;
}
if
(
aContainerType
.
Type
(
)
=
=
MEDIAMIMETYPE
(
"
audio
/
wave
"
)
|
|
aContainerType
.
Type
(
)
=
=
MEDIAMIMETYPE
(
"
audio
/
x
-
wav
"
)
|
|
aContainerType
.
Type
(
)
=
=
MEDIAMIMETYPE
(
"
audio
/
wav
"
)
|
|
aContainerType
.
Type
(
)
=
=
MEDIAMIMETYPE
(
"
audio
/
x
-
pn
-
wav
"
)
)
{
return
(
aContainerType
.
ExtendedType
(
)
.
Codecs
(
)
.
IsEmpty
(
)
|
|
aContainerType
.
ExtendedType
(
)
.
Codecs
(
)
=
=
"
1
"
|
|
aContainerType
.
ExtendedType
(
)
.
Codecs
(
)
=
=
"
6
"
|
|
aContainerType
.
ExtendedType
(
)
.
Codecs
(
)
=
=
"
7
"
)
;
}
return
false
;
}
}

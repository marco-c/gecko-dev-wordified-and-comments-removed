#
ifndef
mozilla_dom_FileSystemPermissionRequest_h
#
define
mozilla_dom_FileSystemPermissionRequest_h
#
include
"
nsAutoPtr
.
h
"
#
include
"
nsIRunnable
.
h
"
#
include
"
nsIContentPermissionPrompt
.
h
"
#
include
"
nsIIPCBackgroundChildCreateCallback
.
h
"
#
include
"
nsString
.
h
"
class
nsPIDOMWindowInner
;
namespace
mozilla
{
namespace
dom
{
class
FileSystemTaskBase
;
class
FileSystemPermissionRequest
final
:
public
nsIContentPermissionRequest
public
nsIRunnable
public
nsIIPCBackgroundChildCreateCallback
{
public
:
static
void
RequestForTask
(
FileSystemTaskBase
*
aTask
)
;
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSICONTENTPERMISSIONREQUEST
NS_DECL_NSIRUNNABLE
NS_DECL_NSIIPCBACKGROUNDCHILDCREATECALLBACK
private
:
explicit
FileSystemPermissionRequest
(
FileSystemTaskBase
*
aTask
)
;
~
FileSystemPermissionRequest
(
)
;
void
ScheduleTask
(
)
;
nsCString
mPermissionType
;
nsCString
mPermissionAccess
;
RefPtr
<
FileSystemTaskBase
>
mTask
;
nsCOMPtr
<
nsPIDOMWindowInner
>
mWindow
;
nsCOMPtr
<
nsIPrincipal
>
mPrincipal
;
nsCOMPtr
<
nsIContentPermissionRequester
>
mRequester
;
}
;
}
}
#
endif

#
ifndef
mozilla_dom_FileSystemRequestParent_h
#
define
mozilla_dom_FileSystemRequestParent_h
#
include
"
mozilla
/
dom
/
PFileSystemRequestParent
.
h
"
#
include
"
mozilla
/
dom
/
FileSystemBase
.
h
"
namespace
mozilla
{
namespace
dom
{
class
FileSystemParams
;
class
FileSystemTaskParentBase
;
class
FileSystemRequestParent
final
:
public
PFileSystemRequestParent
{
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
FileSystemRequestParent
)
public
:
FileSystemRequestParent
(
)
;
const
nsCString
&
PermissionName
(
)
const
{
return
mPermissionName
;
}
FileSystemBase
:
:
ePermissionCheckType
PermissionCheckType
(
)
const
{
return
mFileSystem
?
mFileSystem
-
>
PermissionCheckType
(
)
:
FileSystemBase
:
:
eNotSet
;
}
bool
Initialize
(
const
FileSystemParams
&
aParams
)
;
void
Start
(
)
;
bool
Destroyed
(
)
const
{
return
mDestroyed
;
}
virtual
void
ActorDestroy
(
ActorDestroyReason
why
)
override
;
private
:
~
FileSystemRequestParent
(
)
;
RefPtr
<
FileSystemBase
>
mFileSystem
;
RefPtr
<
FileSystemTaskParentBase
>
mTask
;
nsCString
mPermissionName
;
bool
mDestroyed
;
}
;
}
}
#
endif

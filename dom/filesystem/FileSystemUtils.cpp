#
include
"
mozilla
/
dom
/
FileSystemUtils
.
h
"
namespace
mozilla
{
namespace
dom
{
bool
FileSystemUtils
:
:
IsDescendantPath
(
nsIFile
*
aFile
nsIFile
*
aDescendantFile
)
{
nsAutoString
path
;
nsresult
rv
=
aFile
-
>
GetPath
(
path
)
;
if
(
NS_WARN_IF
(
NS_FAILED
(
rv
)
)
)
{
return
false
;
}
nsAutoString
descendantPath
;
rv
=
aDescendantFile
-
>
GetPath
(
descendantPath
)
;
if
(
NS_WARN_IF
(
NS_FAILED
(
rv
)
)
)
{
return
false
;
}
if
(
descendantPath
.
Length
(
)
<
=
path
.
Length
(
)
|
|
!
StringBeginsWith
(
descendantPath
path
)
)
{
return
false
;
}
return
true
;
}
}
}

"
use
strict
"
;
SimpleTest
.
waitForExplicitFinish
(
)
;
browserElementTestHelpers
.
setEnabledPref
(
true
)
;
browserElementTestHelpers
.
addPermission
(
)
;
function
runTest
(
)
{
var
iframe
=
document
.
createElement
(
"
iframe
"
)
;
iframe
.
setAttribute
(
"
mozbrowser
"
"
true
"
)
;
iframe
.
setAttribute
(
"
name
"
"
foo
"
)
;
iframe
.
addEventListener
(
"
mozbrowserlocationchange
"
function
(
e
)
{
ok
(
true
"
Got
locationchange
to
"
+
e
.
detail
.
url
)
;
if
(
e
.
detail
.
url
.
endsWith
(
"
ForwardName
.
html
#
finish
"
)
)
{
SimpleTest
.
finish
(
)
;
}
}
)
;
iframe
.
addEventListener
(
"
mozbrowsershowmodalprompt
"
function
(
e
)
{
ok
(
e
.
detail
.
message
.
startsWith
(
"
success
:
"
)
e
.
detail
.
message
)
;
}
)
;
document
.
body
.
appendChild
(
iframe
)
;
iframe
.
src
=
"
file_browserElement_ForwardName
.
html
"
;
}
addEventListener
(
"
testready
"
runTest
)
;

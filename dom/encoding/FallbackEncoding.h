#
ifndef
mozilla_dom_FallbackEncoding_h_
#
define
mozilla_dom_FallbackEncoding_h_
#
include
"
nsIObserver
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
{
namespace
dom
{
class
FallbackEncoding
:
public
nsIObserver
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIOBSERVER
static
bool
sGuessFallbackFromTopLevelDomain
;
static
void
FromLocale
(
nsACString
&
aFallback
)
;
static
bool
IsParticipatingTopLevelDomain
(
const
nsACString
&
aTLD
)
;
static
void
FromTopLevelDomain
(
const
nsACString
&
aTLD
nsACString
&
aFallback
)
;
static
void
Initialize
(
)
;
static
void
Shutdown
(
)
;
private
:
static
FallbackEncoding
*
sInstance
;
FallbackEncoding
(
)
;
virtual
~
FallbackEncoding
(
)
{
}
;
void
Invalidate
(
)
{
mFallback
.
Truncate
(
)
;
}
static
void
PrefChanged
(
const
char
*
void
*
)
;
void
Get
(
nsACString
&
aFallback
)
;
nsCString
mFallback
;
}
;
}
}
#
endif

#
ifndef
DOM_FS_PARENT_STARTEDTRANSACTION_H_
#
define
DOM_FS_PARENT_STARTEDTRANSACTION_H_
#
include
"
ResultConnection
.
h
"
#
include
"
mozStorageHelper
.
h
"
#
include
"
mozilla
/
dom
/
QMResult
.
h
"
namespace
mozilla
:
:
dom
:
:
fs
{
class
StartedTransaction
{
public
:
static
Result
<
StartedTransaction
QMResult
>
Create
(
const
ResultConnection
&
aConn
)
;
StartedTransaction
(
StartedTransaction
&
&
aOther
)
=
default
;
StartedTransaction
(
const
StartedTransaction
&
aOther
)
=
delete
;
nsresult
Commit
(
)
;
nsresult
Rollback
(
)
;
~
StartedTransaction
(
)
=
default
;
private
:
explicit
StartedTransaction
(
UniquePtr
<
mozStorageTransaction
>
&
&
aTransaction
)
;
UniquePtr
<
mozStorageTransaction
>
mTransaction
;
}
;
}
#
endif

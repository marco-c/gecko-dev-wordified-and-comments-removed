#
ifndef
NfcService_h
#
define
NfcService_h
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsINfcService
.
h
"
class
nsIThread
;
namespace
mozilla
{
namespace
dom
{
class
NfcEventOptions
;
}
class
NfcConsumer
;
class
NfcService
final
:
public
nsINfcService
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSINFCSERVICE
static
already_AddRefed
<
NfcService
>
FactoryCreate
(
)
;
void
DispatchNfcEvent
(
const
mozilla
:
:
dom
:
:
NfcEventOptions
&
aOptions
)
;
nsCOMPtr
<
nsIThread
>
GetThread
(
)
{
return
mThread
;
}
private
:
class
CleanupRunnable
;
class
SendRunnable
;
class
ShutdownConsumerRunnable
;
class
StartConsumerRunnable
;
NfcService
(
)
;
~
NfcService
(
)
;
nsCOMPtr
<
nsIThread
>
mThread
;
nsCOMPtr
<
nsINfcGonkEventListener
>
mListener
;
nsAutoPtr
<
NfcConsumer
>
mNfcConsumer
;
}
;
}
#
endif

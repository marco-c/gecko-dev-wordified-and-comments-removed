#
ifndef
mozilla_dom_Keyframe_h
#
define
mozilla_dom_Keyframe_h
#
include
"
mozilla
/
AnimatedPropertyID
.
h
"
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
ServoStyleConsts
.
h
"
#
include
"
mozilla
/
dom
/
BaseKeyframeTypesBinding
.
h
"
#
include
"
nsCSSValue
.
h
"
#
include
"
nsTArray
.
h
"
namespace
mozilla
{
struct
StyleLockedDeclarationBlock
;
struct
PropertyValuePair
{
explicit
PropertyValuePair
(
const
AnimatedPropertyID
&
aProperty
)
:
mProperty
(
aProperty
)
{
}
PropertyValuePair
(
const
AnimatedPropertyID
&
aProperty
RefPtr
<
StyleLockedDeclarationBlock
>
&
&
aValue
)
:
mProperty
(
aProperty
)
mServoDeclarationBlock
(
std
:
:
move
(
aValue
)
)
{
MOZ_ASSERT
(
mServoDeclarationBlock
"
Should
be
valid
property
value
"
)
;
}
AnimatedPropertyID
mProperty
;
RefPtr
<
StyleLockedDeclarationBlock
>
mServoDeclarationBlock
;
#
ifdef
DEBUG
bool
mSimulateComputeValuesFailure
=
false
;
#
endif
bool
operator
=
=
(
const
PropertyValuePair
&
)
const
;
}
;
struct
Keyframe
{
Keyframe
(
)
=
default
;
Keyframe
(
const
Keyframe
&
aOther
)
=
default
;
Keyframe
(
Keyframe
&
&
aOther
)
=
default
;
Keyframe
&
operator
=
(
const
Keyframe
&
aOther
)
=
default
;
Keyframe
&
operator
=
(
Keyframe
&
&
aOther
)
=
default
;
Maybe
<
double
>
mOffset
;
static
constexpr
double
kComputedOffsetNotSet
=
-
1
.
0
;
double
mComputedOffset
=
kComputedOffsetNotSet
;
Maybe
<
StyleComputedTimingFunction
>
mTimingFunction
;
dom
:
:
CompositeOperationOrAuto
mComposite
=
dom
:
:
CompositeOperationOrAuto
:
:
Auto
;
CopyableTArray
<
PropertyValuePair
>
mPropertyValues
;
}
;
}
#
endif

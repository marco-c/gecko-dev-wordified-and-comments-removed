#
include
"
AnimationTimelinesController
.
h
"
#
include
"
mozilla
/
dom
/
DocumentTimeline
.
h
"
#
include
"
mozilla
/
dom
/
ScrollTimeline
.
h
"
namespace
mozilla
:
:
dom
{
void
AnimationTimelinesController
:
:
AddDocumentTimeline
(
DocumentTimeline
&
aTimeline
)
{
mDocumentTimelines
.
insertBack
(
&
aTimeline
)
;
}
void
AnimationTimelinesController
:
:
AddScrollTimeline
(
ScrollTimeline
&
aTimeline
)
{
mScrollTimelines
.
insertBack
(
&
aTimeline
)
;
}
void
AnimationTimelinesController
:
:
WillRefresh
(
)
{
for
(
DocumentTimeline
*
tl
:
ToTArray
<
AutoTArray
<
RefPtr
<
DocumentTimeline
>
32
>
>
(
mDocumentTimelines
)
)
{
tl
-
>
WillRefresh
(
)
;
}
for
(
ScrollTimeline
*
tl
:
ToTArray
<
AutoTArray
<
RefPtr
<
ScrollTimeline
>
32
>
>
(
mScrollTimelines
)
)
{
tl
-
>
WillRefresh
(
)
;
}
}
void
AnimationTimelinesController
:
:
UpdateLastRefreshDriverTime
(
)
{
for
(
DocumentTimeline
*
timeline
:
mDocumentTimelines
)
{
timeline
-
>
UpdateLastRefreshDriverTime
(
)
;
}
}
void
AnimationTimelinesController
:
:
TriggerAllPendingAnimationsNow
(
)
{
for
(
DocumentTimeline
*
timeline
:
mDocumentTimelines
)
{
timeline
-
>
TriggerAllPendingAnimationsNow
(
)
;
}
}
void
AnimationTimelinesController
:
:
UpdateHiddenByContentVisibility
(
)
{
for
(
AnimationTimeline
*
timeline
:
mDocumentTimelines
)
{
timeline
-
>
UpdateHiddenByContentVisibility
(
)
;
}
for
(
AnimationTimeline
*
timeline
:
mScrollTimelines
)
{
timeline
-
>
UpdateHiddenByContentVisibility
(
)
;
}
}
}

#
ifndef
mozilla_PseudoElementHashEntry_h
#
define
mozilla_PseudoElementHashEntry_h
#
include
"
mozilla
/
dom
/
Element
.
h
"
#
include
"
mozilla
/
HashFunctions
.
h
"
#
include
"
nsCSSPseudoElements
.
h
"
#
include
"
PLDHashTable
.
h
"
namespace
mozilla
{
struct
PseudoElementHashKey
{
dom
:
:
Element
*
mElement
;
nsCSSPseudoElements
:
:
Type
mPseudoType
;
}
;
class
PseudoElementHashEntry
:
public
PLDHashEntryHdr
{
public
:
typedef
PseudoElementHashKey
KeyType
;
typedef
const
PseudoElementHashKey
*
KeyTypePointer
;
explicit
PseudoElementHashEntry
(
KeyTypePointer
aKey
)
:
mElement
(
aKey
-
>
mElement
)
mPseudoType
(
aKey
-
>
mPseudoType
)
{
}
explicit
PseudoElementHashEntry
(
const
PseudoElementHashEntry
&
aCopy
)
=
default
;
~
PseudoElementHashEntry
(
)
=
default
;
KeyType
GetKey
(
)
const
{
return
{
mElement
mPseudoType
}
;
}
bool
KeyEquals
(
KeyTypePointer
aKey
)
const
{
return
mElement
=
=
aKey
-
>
mElement
&
&
mPseudoType
=
=
aKey
-
>
mPseudoType
;
}
static
KeyTypePointer
KeyToPointer
(
KeyType
&
aKey
)
{
return
&
aKey
;
}
static
PLDHashNumber
HashKey
(
KeyTypePointer
aKey
)
{
if
(
!
aKey
)
return
0
;
return
mozilla
:
:
HashGeneric
(
aKey
-
>
mElement
static_cast
<
uint8_t
>
(
aKey
-
>
mPseudoType
)
)
;
}
enum
{
ALLOW_MEMMOVE
=
true
}
;
RefPtr
<
dom
:
:
Element
>
mElement
;
nsCSSPseudoElements
:
:
Type
mPseudoType
;
}
;
}
#
endif

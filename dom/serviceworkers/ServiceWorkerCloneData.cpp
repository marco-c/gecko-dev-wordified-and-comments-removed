#
include
"
ServiceWorkerCloneData
.
h
"
#
include
"
nsProxyRelease
.
h
"
namespace
mozilla
{
namespace
dom
{
ServiceWorkerCloneData
:
:
~
ServiceWorkerCloneData
(
)
{
RefPtr
<
ipc
:
:
SharedJSAllocatedData
>
sharedData
=
TakeSharedData
(
)
;
if
(
sharedData
)
{
NS_ProxyRelease
(
__func__
mEventTarget
sharedData
.
forget
(
)
)
;
}
}
ServiceWorkerCloneData
:
:
ServiceWorkerCloneData
(
)
:
mEventTarget
(
GetCurrentThreadSerialEventTarget
(
)
)
{
MOZ_DIAGNOSTIC_ASSERT
(
mEventTarget
)
;
}
}
}

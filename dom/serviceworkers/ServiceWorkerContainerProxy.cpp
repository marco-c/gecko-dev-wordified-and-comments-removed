#
include
"
ServiceWorkerContainerProxy
.
h
"
#
include
"
mozilla
/
ipc
/
BackgroundParent
.
h
"
namespace
mozilla
{
namespace
dom
{
using
mozilla
:
:
ipc
:
:
AssertIsOnBackgroundThread
;
ServiceWorkerContainerProxy
:
:
~
ServiceWorkerContainerProxy
(
)
{
MOZ_DIAGNOSTIC_ASSERT
(
!
mActor
)
;
}
ServiceWorkerContainerProxy
:
:
ServiceWorkerContainerProxy
(
ServiceWorkerContainerParent
*
aActor
)
:
mActor
(
aActor
)
{
AssertIsOnBackgroundThread
(
)
;
MOZ_DIAGNOSTIC_ASSERT
(
mActor
)
;
}
void
ServiceWorkerContainerProxy
:
:
RevokeActor
(
ServiceWorkerContainerParent
*
aActor
)
{
AssertIsOnBackgroundThread
(
)
;
MOZ_DIAGNOSTIC_ASSERT
(
mActor
)
;
MOZ_DIAGNOSTIC_ASSERT
(
mActor
=
=
aActor
)
;
mActor
=
nullptr
;
}
}
}

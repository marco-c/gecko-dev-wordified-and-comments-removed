#
ifndef
moz_dom_ServiceWorkerContainerProxy_h
#
define
moz_dom_ServiceWorkerContainerProxy_h
#
include
"
mozilla
/
dom
/
ServiceWorkerUtils
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
namespace
mozilla
:
:
dom
{
class
ServiceWorkerContainerParent
;
class
ServiceWorkerContainerProxy
final
{
RefPtr
<
ServiceWorkerContainerParent
>
mActor
;
~
ServiceWorkerContainerProxy
(
)
;
public
:
explicit
ServiceWorkerContainerProxy
(
ServiceWorkerContainerParent
*
aActor
)
;
void
RevokeActor
(
ServiceWorkerContainerParent
*
aActor
)
;
RefPtr
<
ServiceWorkerRegistrationPromise
>
Register
(
const
ClientInfo
&
aClientInfo
const
nsCString
&
aScopeURL
const
nsCString
&
aScriptURL
ServiceWorkerUpdateViaCache
aUpdateViaCache
)
;
RefPtr
<
ServiceWorkerRegistrationPromise
>
GetRegistration
(
const
ClientInfo
&
aClientInfo
const
nsCString
&
aURL
)
;
RefPtr
<
ServiceWorkerRegistrationListPromise
>
GetRegistrations
(
const
ClientInfo
&
aClientInfo
)
;
RefPtr
<
ServiceWorkerRegistrationPromise
>
GetReady
(
const
ClientInfo
&
aClientInfo
)
;
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
ServiceWorkerContainerProxy
)
;
}
;
}
#
endif

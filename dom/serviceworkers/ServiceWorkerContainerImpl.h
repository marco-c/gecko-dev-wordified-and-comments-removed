#
ifndef
mozilla_dom_serviceworkercontainerimpl_h__
#
define
mozilla_dom_serviceworkercontainerimpl_h__
#
include
"
ServiceWorkerContainer
.
h
"
namespace
mozilla
{
namespace
dom
{
class
ServiceWorkerContainerImpl
final
:
public
ServiceWorkerContainer
:
:
Inner
{
ServiceWorkerContainer
*
mOuter
;
~
ServiceWorkerContainerImpl
(
)
;
public
:
ServiceWorkerContainerImpl
(
)
;
void
AddContainer
(
ServiceWorkerContainer
*
aOuter
)
override
;
void
RemoveContainer
(
ServiceWorkerContainer
*
aOuter
)
override
;
void
Register
(
const
ClientInfo
&
aClientInfo
const
nsACString
&
aScopeURL
const
nsACString
&
aScriptURL
ServiceWorkerUpdateViaCache
aUpdateViaCache
ServiceWorkerRegistrationCallback
&
&
aSuccessCB
ServiceWorkerFailureCallback
&
&
aFailureCB
)
const
override
;
RefPtr
<
ServiceWorkerRegistrationPromise
>
GetRegistration
(
const
ClientInfo
&
aClientInfo
const
nsACString
&
aURL
)
const
override
;
RefPtr
<
ServiceWorkerRegistrationListPromise
>
GetRegistrations
(
const
ClientInfo
&
aClientInfo
)
const
override
;
RefPtr
<
ServiceWorkerRegistrationPromise
>
GetReady
(
const
ClientInfo
&
aClientInfo
)
const
override
;
NS_INLINE_DECL_REFCOUNTING
(
ServiceWorkerContainerImpl
override
)
}
;
}
}
#
endif

#
ifndef
mozilla_dom_ServiceWorkerCloneData_h__
#
define
mozilla_dom_ServiceWorkerCloneData_h__
#
include
"
mozilla
/
dom
/
ipc
/
StructuredCloneData
.
h
"
namespace
mozilla
{
namespace
dom
{
class
ServiceWorkerCloneData
final
:
public
ipc
:
:
StructuredCloneData
{
nsCOMPtr
<
nsISerialEventTarget
>
mEventTarget
;
bool
mIsErrorMessageData
;
~
ServiceWorkerCloneData
(
)
;
public
:
ServiceWorkerCloneData
(
)
;
bool
StealFromAndBuildClonedMessageDataForBackgroundParent
(
ClonedOrErrorMessageData
&
aFromClonedData
mozilla
:
:
ipc
:
:
PBackgroundParent
*
aParent
ClonedOrErrorMessageData
&
aToClonedData
)
;
bool
BuildClonedMessageDataForBackgroundChild
(
mozilla
:
:
ipc
:
:
PBackgroundChild
*
aChild
ClonedOrErrorMessageData
&
aClonedData
)
;
void
CopyFromClonedMessageDataForBackgroundParent
(
const
ClonedOrErrorMessageData
&
aClonedData
)
;
void
CopyFromClonedMessageDataForBackgroundChild
(
const
ClonedOrErrorMessageData
&
aClonedData
)
;
void
SetAsErrorMessageData
(
)
;
bool
IsErrorMessageData
(
)
const
;
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
ServiceWorkerCloneData
)
}
;
}
}
#
endif

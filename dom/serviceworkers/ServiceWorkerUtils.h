#
ifndef
_mozilla_dom_ServiceWorkerUtils_h
#
define
_mozilla_dom_ServiceWorkerUtils_h
#
include
"
mozilla
/
MozPromise
.
h
"
#
include
"
mozilla
/
dom
/
IPCNavigationPreloadState
.
h
"
#
include
"
mozilla
/
dom
/
ServiceWorkerRegistrationDescriptor
.
h
"
#
include
"
nsTArray
.
h
"
class
nsIURI
;
namespace
mozilla
{
class
CopyableErrorResult
;
class
ErrorResult
;
namespace
dom
{
class
ClientInfo
;
class
ServiceWorkerRegistrationData
;
class
ServiceWorkerRegistrationDescriptor
;
struct
NavigationPreloadState
;
typedef
MozPromise
<
ServiceWorkerRegistrationDescriptor
CopyableErrorResult
false
>
ServiceWorkerRegistrationPromise
;
typedef
MozPromise
<
CopyableTArray
<
ServiceWorkerRegistrationDescriptor
>
CopyableErrorResult
false
>
ServiceWorkerRegistrationListPromise
;
typedef
std
:
:
function
<
void
(
const
ServiceWorkerRegistrationDescriptor
&
)
>
ServiceWorkerRegistrationCallback
;
typedef
std
:
:
function
<
void
(
const
nsTArray
<
ServiceWorkerRegistrationDescriptor
>
&
)
>
ServiceWorkerRegistrationListCallback
;
typedef
std
:
:
function
<
void
(
bool
)
>
ServiceWorkerBoolCallback
;
typedef
std
:
:
function
<
void
(
ErrorResult
&
&
)
>
ServiceWorkerFailureCallback
;
typedef
std
:
:
function
<
void
(
NavigationPreloadState
&
&
)
>
NavigationPreloadGetStateCallback
;
bool
ServiceWorkerRegistrationDataIsValid
(
const
ServiceWorkerRegistrationData
&
aData
)
;
void
ServiceWorkerScopeAndScriptAreValid
(
const
ClientInfo
&
aClientInfo
nsIURI
*
aScopeURI
nsIURI
*
aScriptURI
ErrorResult
&
aRv
)
;
}
}
#
endif

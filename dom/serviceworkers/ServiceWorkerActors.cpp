#
include
"
ServiceWorkerActors
.
h
"
#
include
"
ServiceWorkerChild
.
h
"
#
include
"
ServiceWorkerContainerChild
.
h
"
#
include
"
ServiceWorkerContainerParent
.
h
"
#
include
"
ServiceWorkerParent
.
h
"
#
include
"
ServiceWorkerRegistrationChild
.
h
"
#
include
"
ServiceWorkerRegistrationParent
.
h
"
namespace
mozilla
{
namespace
dom
{
void
InitServiceWorkerParent
(
PServiceWorkerParent
*
aActor
const
IPCServiceWorkerDescriptor
&
aDescriptor
)
{
auto
actor
=
static_cast
<
ServiceWorkerParent
*
>
(
aActor
)
;
actor
-
>
Init
(
aDescriptor
)
;
}
void
InitServiceWorkerContainerParent
(
PServiceWorkerContainerParent
*
aActor
)
{
auto
actor
=
static_cast
<
ServiceWorkerContainerParent
*
>
(
aActor
)
;
actor
-
>
Init
(
)
;
}
PServiceWorkerRegistrationChild
*
AllocServiceWorkerRegistrationChild
(
)
{
MOZ_CRASH
(
"
should
not
be
called
"
)
;
}
bool
DeallocServiceWorkerRegistrationChild
(
PServiceWorkerRegistrationChild
*
aActor
)
{
auto
actor
=
static_cast
<
ServiceWorkerRegistrationChild
*
>
(
aActor
)
;
delete
actor
;
return
true
;
}
PServiceWorkerRegistrationParent
*
AllocServiceWorkerRegistrationParent
(
)
{
return
new
ServiceWorkerRegistrationParent
(
)
;
}
bool
DeallocServiceWorkerRegistrationParent
(
PServiceWorkerRegistrationParent
*
aActor
)
{
auto
actor
=
static_cast
<
ServiceWorkerRegistrationParent
*
>
(
aActor
)
;
delete
actor
;
return
true
;
}
void
InitServiceWorkerRegistrationParent
(
PServiceWorkerRegistrationParent
*
aActor
const
IPCServiceWorkerRegistrationDescriptor
&
aDescriptor
)
{
auto
actor
=
static_cast
<
ServiceWorkerRegistrationParent
*
>
(
aActor
)
;
actor
-
>
Init
(
aDescriptor
)
;
}
}
}

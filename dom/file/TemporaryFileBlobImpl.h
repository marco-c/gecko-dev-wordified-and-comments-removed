#
ifndef
mozilla_dom_TemporaryFileBlobImpl_h
#
define
mozilla_dom_TemporaryFileBlobImpl_h
#
include
"
FileBlobImpl
.
h
"
namespace
mozilla
{
namespace
dom
{
class
TemporaryFileBlobImpl
final
:
public
FileBlobImpl
{
#
ifdef
DEBUG
bool
mInputStreamCreated
;
#
endif
public
:
explicit
TemporaryFileBlobImpl
(
nsIFile
*
aFile
const
nsAString
&
aContentType
)
;
void
CreateInputStream
(
nsIInputStream
*
*
aInputStream
ErrorResult
&
aRv
)
override
;
void
GetBlobImplType
(
nsAString
&
aBlobImplType
)
const
override
{
aBlobImplType
=
u
"
TemporaryFileBlobImpl
"
_ns
;
}
protected
:
~
TemporaryFileBlobImpl
(
)
;
private
:
already_AddRefed
<
BlobImpl
>
CreateSlice
(
uint64_t
aStart
uint64_t
aLength
const
nsAString
&
aContentType
ErrorResult
&
aRv
)
override
;
}
;
}
}
#
endif

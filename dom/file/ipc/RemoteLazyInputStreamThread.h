#
ifndef
mozilla_RemoteLazyInputStreamThread_h
#
define
mozilla_RemoteLazyInputStreamThread_h
#
include
"
mozilla
/
RemoteLazyInputStreamChild
.
h
"
#
include
"
nsIEventTarget
.
h
"
#
include
"
nsIObserver
.
h
"
#
include
"
nsTArray
.
h
"
class
nsIThread
;
namespace
mozilla
{
class
RemoteLazyInputStreamChild
;
class
RemoteLazyInputStreamThread
final
:
public
nsISerialEventTarget
public
nsIDirectTaskDispatcher
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIEVENTTARGET_FULL
NS_DECL_NSISERIALEVENTTARGET
NS_DECL_NSIDIRECTTASKDISPATCHER
explicit
RemoteLazyInputStreamThread
(
MovingNotNull
<
nsCOMPtr
<
nsIThread
>
>
aThread
)
:
mThread
(
std
:
:
move
(
aThread
)
)
{
}
static
already_AddRefed
<
RemoteLazyInputStreamThread
>
Get
(
)
;
static
already_AddRefed
<
RemoteLazyInputStreamThread
>
GetOrCreate
(
)
;
private
:
~
RemoteLazyInputStreamThread
(
)
=
default
;
const
NotNull
<
nsCOMPtr
<
nsIThread
>
>
mThread
;
}
;
bool
IsOnDOMFileThread
(
)
;
void
AssertIsOnDOMFileThread
(
)
;
}
#
endif

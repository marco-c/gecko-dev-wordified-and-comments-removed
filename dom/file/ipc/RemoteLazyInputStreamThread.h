#
ifndef
mozilla_RemoteLazyInputStreamThread_h
#
define
mozilla_RemoteLazyInputStreamThread_h
#
include
"
mozilla
/
RemoteLazyInputStreamChild
.
h
"
#
include
"
nsIEventTarget
.
h
"
#
include
"
nsIObserver
.
h
"
#
include
"
nsTArray
.
h
"
class
nsIThread
;
namespace
mozilla
{
class
RemoteLazyInputStreamChild
;
class
RemoteLazyInputStreamThread
final
:
public
nsIObserver
public
nsISerialEventTarget
public
nsIDirectTaskDispatcher
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIOBSERVER
NS_DECL_NSIEVENTTARGET
NS_DECL_NSISERIALEVENTTARGET
NS_DECL_NSIDIRECTTASKDISPATCHER
static
RemoteLazyInputStreamThread
*
Get
(
)
;
static
RemoteLazyInputStreamThread
*
GetOrCreate
(
)
;
bool
Initialize
(
)
;
bool
InitializeOnMainThread
(
)
;
private
:
~
RemoteLazyInputStreamThread
(
)
=
default
;
nsCOMPtr
<
nsIThread
>
mThread
;
}
;
bool
IsOnDOMFileThread
(
)
;
void
AssertIsOnDOMFileThread
(
)
;
}
#
endif

#
ifndef
mozilla_dom_IPCBlobInputStreamThread_h
#
define
mozilla_dom_IPCBlobInputStreamThread_h
#
include
"
nsIObserverService
.
h
"
class
nsIThread
;
namespace
mozilla
{
namespace
dom
{
class
IPCBlobInputStreamChild
;
class
IPCBlobInputStreamThread
final
:
public
nsIObserver
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIOBSERVER
static
bool
IsOnFileEventTarget
(
nsIEventTarget
*
aEventTarget
)
;
static
IPCBlobInputStreamThread
*
GetOrCreate
(
)
;
void
MigrateActor
(
IPCBlobInputStreamChild
*
aActor
)
;
void
Initialize
(
)
;
nsIEventTarget
*
EventTarget
(
)
const
;
private
:
~
IPCBlobInputStreamThread
(
)
=
default
;
void
MigrateActorInternal
(
IPCBlobInputStreamChild
*
aActor
)
;
nsCOMPtr
<
nsIThread
>
mThread
;
nsTArray
<
RefPtr
<
IPCBlobInputStreamChild
>
>
mPendingActors
;
}
;
}
}
#
endif

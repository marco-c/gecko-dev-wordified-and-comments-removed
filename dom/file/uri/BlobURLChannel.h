#
ifndef
mozilla_dom_BlobURLChannel_h
#
define
mozilla_dom_BlobURLChannel_h
#
include
"
nsBaseChannel
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIInputStream
.
h
"
class
nsIURI
;
namespace
mozilla
{
namespace
dom
{
class
BlobImpl
;
class
BlobURLChannel
final
:
public
nsBaseChannel
{
public
:
BlobURLChannel
(
nsIURI
*
aURI
nsILoadInfo
*
aLoadInfo
)
;
void
InitFailed
(
)
;
void
Initialize
(
BlobImpl
*
aBlobImpl
)
;
private
:
~
BlobURLChannel
(
)
;
nsresult
OpenContentStream
(
bool
aAsync
nsIInputStream
*
*
aResult
nsIChannel
*
*
aChannel
)
override
;
void
OnChannelDone
(
)
override
;
nsCOMPtr
<
nsIInputStream
>
mInputStream
;
bool
mInitialized
;
}
;
}
}
#
endif

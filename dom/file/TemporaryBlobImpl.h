#
ifndef
mozilla_dom_TemporaryBlobImpl_h
#
define
mozilla_dom_TemporaryBlobImpl_h
#
include
"
BaseBlobImpl
.
h
"
#
include
"
nsTemporaryFileInputStream
.
h
"
namespace
mozilla
{
namespace
dom
{
class
TemporaryBlobImpl
final
:
public
BaseBlobImpl
{
public
:
NS_DECL_ISUPPORTS_INHERITED
TemporaryBlobImpl
(
PRFileDesc
*
aFD
uint64_t
aStartPos
uint64_t
aLength
const
nsAString
&
aContentType
)
;
virtual
void
CreateInputStream
(
nsIInputStream
*
*
aStream
ErrorResult
&
aRv
)
override
;
virtual
already_AddRefed
<
BlobImpl
>
CreateSlice
(
uint64_t
aStart
uint64_t
aLength
const
nsAString
&
aContentType
ErrorResult
&
aRv
)
override
;
private
:
TemporaryBlobImpl
(
const
TemporaryBlobImpl
*
aOther
uint64_t
aStart
uint64_t
aLength
const
nsAString
&
aContentType
)
;
~
TemporaryBlobImpl
(
)
=
default
;
uint64_t
mStartPos
;
RefPtr
<
nsTemporaryFileInputStream
:
:
FileDescOwner
>
mFileDescOwner
;
}
;
}
}
#
endif

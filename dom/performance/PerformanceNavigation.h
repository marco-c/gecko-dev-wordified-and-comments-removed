#
ifndef
mozilla_dom_PerformanceNavigation_h
#
define
mozilla_dom_PerformanceNavigation_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
dom
/
Performance
.
h
"
#
include
"
nsDOMNavigationTiming
.
h
"
#
include
"
nsWrapperCache
.
h
"
namespace
mozilla
{
namespace
dom
{
class
PerformanceNavigation
final
:
public
nsWrapperCache
{
public
:
enum
PerformanceNavigationType
{
TYPE_NAVIGATE
=
0
TYPE_RELOAD
=
1
TYPE_BACK_FORWARD
=
2
TYPE_RESERVED
=
255
}
;
explicit
PerformanceNavigation
(
Performance
*
aPerformance
)
;
NS_INLINE_DECL_CYCLE_COLLECTING_NATIVE_REFCOUNTING
(
PerformanceNavigation
)
NS_DECL_CYCLE_COLLECTION_SCRIPT_HOLDER_NATIVE_CLASS
(
PerformanceNavigation
)
nsDOMNavigationTiming
*
GetDOMTiming
(
)
const
{
return
mPerformance
-
>
GetDOMTiming
(
)
;
}
PerformanceTiming
*
GetPerformanceTiming
(
)
const
{
return
mPerformance
-
>
Timing
(
)
;
}
Performance
*
GetParentObject
(
)
const
{
return
mPerformance
;
}
virtual
JSObject
*
WrapObject
(
JSContext
*
cx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
override
;
uint16_t
Type
(
)
const
{
return
GetDOMTiming
(
)
-
>
GetType
(
)
;
}
uint16_t
RedirectCount
(
)
const
;
private
:
~
PerformanceNavigation
(
)
;
RefPtr
<
Performance
>
mPerformance
;
}
;
}
}
#
endif

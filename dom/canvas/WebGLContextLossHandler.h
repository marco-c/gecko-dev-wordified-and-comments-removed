#
ifndef
WEBGL_CONTEXT_LOSS_HANDLER_H_
#
define
WEBGL_CONTEXT_LOSS_HANDLER_H_
#
include
"
mozilla
/
Atomics
.
h
"
#
include
"
mozilla
/
WeakPtr
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
nsThreadUtils
.
h
"
namespace
mozilla
{
class
WebGLContext
;
class
WebGLContextLossHandler
final
:
public
SupportsWeakPtr
<
WebGLContextLossHandler
>
{
RefPtr
<
Runnable
>
mRunnable
;
Atomic
<
bool
>
mTimerIsScheduled
;
public
:
MOZ_DECLARE_WEAKREFERENCE_TYPENAME
(
WebGLContextLossHandler
)
explicit
WebGLContextLossHandler
(
WebGLContext
*
webgl
)
;
~
WebGLContextLossHandler
(
)
;
void
RunTimer
(
)
;
void
ClearTimer
(
)
;
}
;
}
#
endif

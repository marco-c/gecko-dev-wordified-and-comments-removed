#
include
"
WebGLExtensions
.
h
"
#
include
"
GLContext
.
h
"
#
include
"
mozilla
/
dom
/
WebGLRenderingContextBinding
.
h
"
#
include
"
mozilla
/
dom
/
BindingUtils
.
h
"
#
include
"
mozilla
/
StaticPrefs_webgl
.
h
"
#
include
"
WebGLContext
.
h
"
#
include
"
WebGLQuery
.
h
"
namespace
mozilla
{
WebGLExtensionDisjointTimerQuery
:
:
WebGLExtensionDisjointTimerQuery
(
WebGLContext
*
webgl
)
:
WebGLExtensionBase
(
webgl
)
{
MOZ_ASSERT
(
IsSupported
(
webgl
)
"
Don
'
t
construct
extension
if
unsupported
.
"
)
;
}
bool
WebGLExtensionDisjointTimerQuery
:
:
IsSupported
(
const
WebGLContext
*
const
webgl
)
{
if
(
!
StaticPrefs
:
:
webgl_enable_privileged_extensions
(
)
)
return
false
;
gl
:
:
GLContext
*
gl
=
webgl
-
>
GL
(
)
;
return
gl
-
>
IsSupported
(
gl
:
:
GLFeature
:
:
query_objects
)
&
&
gl
-
>
IsSupported
(
gl
:
:
GLFeature
:
:
get_query_object_i64v
)
&
&
gl
-
>
IsSupported
(
gl
:
:
GLFeature
:
:
query_counter
)
;
}
}

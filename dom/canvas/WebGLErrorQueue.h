#
ifndef
WEBGLERRORQUEUE_H_
#
define
WEBGLERRORQUEUE_H_
#
include
"
WebGLCommandQueue
.
h
"
namespace
mozilla
{
class
ClientWebGLContext
;
using
mozilla
:
:
webgl
:
:
PcqStatus
;
enum
WebGLErrorCommand
{
CreationError
OnLostContext
OnRestoredContext
Warning
}
;
using
HostWebGLErrorSource
=
CommandSource
<
WebGLErrorCommand
>
;
class
ClientWebGLErrorSink
:
public
CommandSink
<
WebGLErrorCommand
>
{
public
:
ClientWebGLErrorSink
(
UniquePtr
<
Consumer
>
&
&
aConsumer
)
;
void
SetClientWebGLContext
(
RefPtr
<
ClientWebGLContext
>
&
aClientContext
)
;
protected
:
bool
DispatchCommand
(
WebGLErrorCommand
command
)
override
;
RefPtr
<
ClientWebGLContext
>
mClientContext
;
}
;
using
WebGLErrorQueue
=
CommandQueue
<
HostWebGLErrorSource
ClientWebGLErrorSink
>
;
}
#
endif

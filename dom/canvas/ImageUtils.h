#
ifndef
mozilla_dom_ImageBitmapFormatUtils_h
#
define
mozilla_dom_ImageBitmapFormatUtils_h
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
nsTArrayForwardDeclare
.
h
"
namespace
mozilla
{
namespace
layers
{
class
Image
;
}
class
ErrorResult
;
namespace
dom
{
struct
ChannelPixelLayout
;
enum
class
ImageBitmapFormat
:
uint8_t
;
typedef
nsTArray
<
ChannelPixelLayout
>
ImagePixelLayout
;
class
ImageUtils
{
public
:
class
Impl
;
ImageUtils
(
)
=
delete
;
ImageUtils
(
const
ImageUtils
&
)
=
delete
;
ImageUtils
(
ImageUtils
&
&
)
=
delete
;
ImageUtils
&
operator
=
(
const
ImageUtils
&
)
=
delete
;
ImageUtils
&
operator
=
(
ImageUtils
&
&
)
=
delete
;
explicit
ImageUtils
(
layers
:
:
Image
*
aImage
)
;
~
ImageUtils
(
)
;
ImageBitmapFormat
GetFormat
(
)
const
;
uint32_t
GetBufferLength
(
)
const
;
UniquePtr
<
ImagePixelLayout
>
MapDataInto
(
uint8_t
*
aBuffer
uint32_t
aOffset
uint32_t
aBufferLength
ImageBitmapFormat
aFormat
ErrorResult
&
aRv
)
const
;
protected
:
Impl
*
mImpl
;
}
;
}
}
#
endif

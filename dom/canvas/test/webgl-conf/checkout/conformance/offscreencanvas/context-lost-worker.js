importScripts
(
"
.
.
/
.
.
/
js
/
tests
/
canvas
-
tests
-
utils
.
js
"
)
;
self
.
onmessage
=
function
(
e
)
{
canvas
=
new
OffscreenCanvas
(
10
10
)
;
gl
=
canvas
.
getContext
(
'
webgl
'
)
;
self
.
postMessage
(
{
fail
:
!
testValidContext
(
)
msg
:
"
testValidContext
(
)
"
}
)
;
WEBGL_lose_context
=
gl
.
getExtension
(
"
WEBGL_lose_context
"
)
;
self
.
postMessage
(
{
fail
:
!
WEBGL_lose_context
msg
:
"
WEBGL_lose_context
"
}
)
;
OES_vertex_array_object
=
gl
.
getExtension
(
"
OES_vertex_array_object
"
)
;
self
.
postMessage
(
{
fail
:
!
OES_vertex_array_object
msg
:
"
OES_vertex_array_object
"
}
)
;
uniformLocation
=
gl
.
getUniformLocation
(
program
"
tex
"
)
;
WEBGL_lose_context
.
loseContext
(
)
;
canvas
.
addEventListener
(
"
webglcontextlost
"
function
(
)
{
self
.
postMessage
(
{
fail
:
!
testLostContextWithoutRestore
(
)
msg
:
"
testLostContextWithoutRestore
(
)
"
finishTest
:
true
}
)
;
}
false
)
;
}

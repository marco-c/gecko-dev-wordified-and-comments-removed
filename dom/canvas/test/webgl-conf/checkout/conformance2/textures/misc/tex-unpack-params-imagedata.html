<
!
DOCTYPE
html
>
<
html
>
<
head
>
<
meta
charset
=
"
utf
-
8
"
>
<
title
>
WebGL2
TexImage3D
from
ImageData
with
unpack
params
tests
.
<
/
title
>
<
link
rel
=
"
stylesheet
"
href
=
"
.
.
/
.
.
/
.
.
/
resources
/
js
-
test
-
style
.
css
"
/
>
<
script
src
=
"
.
.
/
.
.
/
.
.
/
js
/
js
-
test
-
pre
.
js
"
>
<
/
script
>
<
script
src
=
"
.
.
/
.
.
/
.
.
/
js
/
webgl
-
test
-
utils
.
js
"
>
<
/
script
>
<
/
head
>
<
body
>
<
div
id
=
"
description
"
>
<
/
div
>
<
div
id
=
"
console
"
>
<
/
div
>
<
script
>
var
wtu
=
WebGLTestUtils
;
var
gl
=
wtu
.
create3DContext
(
undefined
undefined
2
)
;
description
(
"
TexImage3D
from
ImageData
with
unpack
params
"
)
;
debug
(
"
TexImage3D
from
ImageData
with
UNPACK_IMAGE_HEIGHT
set
(
crbug
.
com
/
804123
)
"
)
;
let
imageData
=
new
ImageData
(
64
64
)
;
let
texture
=
gl
.
createTexture
(
)
;
gl
.
bindTexture
(
gl
.
TEXTURE_3D
texture
)
;
gl
.
pixelStorei
(
gl
.
UNPACK_IMAGE_HEIGHT
2
)
;
gl
.
texImage3D
(
gl
.
TEXTURE_3D
0
gl
.
R8
1
1
1
0
gl
.
RED
gl
.
UNSIGNED_BYTE
imageData
)
;
wtu
.
glErrorShouldBe
(
gl
gl
.
NO_ERROR
"
small
upload
"
)
;
gl
.
pixelStorei
(
gl
.
UNPACK_IMAGE_HEIGHT
7
)
;
gl
.
texImage3D
(
gl
.
TEXTURE_3D
0
gl
.
RGBA8
4
4
4
0
gl
.
RGBA
gl
.
UNSIGNED_BYTE
imageData
)
;
wtu
.
glErrorShouldBe
(
gl
gl
.
NO_ERROR
"
larger
upload
"
)
;
gl
.
deleteTexture
(
texture
)
;
var
successfullyParsed
=
true
;
<
/
script
>
<
script
src
=
"
.
.
/
.
.
/
.
.
/
js
/
js
-
test
-
post
.
js
"
>
<
/
script
>
<
/
body
>
<
/
html
>

#
include
"
XRNativeOriginTracker
.
h
"
namespace
mozilla
{
namespace
dom
{
XRNativeOriginTracker
:
:
XRNativeOriginTracker
(
const
gfx
:
:
VRPose
*
aPose
)
:
mPose
(
aPose
)
{
MOZ_ASSERT
(
aPose
)
;
}
gfx
:
:
PointDouble3D
XRNativeOriginTracker
:
:
GetPosition
(
)
{
MOZ_ASSERT
(
mPose
)
;
return
gfx
:
:
PointDouble3D
(
mPose
-
>
position
[
0
]
mPose
-
>
position
[
1
]
mPose
-
>
position
[
2
]
)
;
}
gfx
:
:
QuaternionDouble
XRNativeOriginTracker
:
:
GetOrientation
(
)
{
MOZ_ASSERT
(
mPose
)
;
gfx
:
:
QuaternionDouble
orientation
(
mPose
-
>
orientation
[
0
]
mPose
-
>
orientation
[
1
]
mPose
-
>
orientation
[
2
]
mPose
-
>
orientation
[
3
]
)
;
orientation
.
Invert
(
)
;
return
orientation
;
}
}
}

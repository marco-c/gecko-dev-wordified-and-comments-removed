#
ifndef
mozilla_dom_VREventObserver_h
#
define
mozilla_dom_VREventObserver_h
#
include
"
mozilla
/
dom
/
VRDisplayEventBinding
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
VRManagerChild
.
h
"
class
nsGlobalWindowInner
;
namespace
mozilla
{
namespace
dom
{
class
VREventObserver
final
:
public
gfx
:
:
VRManagerEventObserver
{
public
:
NS_INLINE_DECL_REFCOUNTING
(
VREventObserver
override
)
explicit
VREventObserver
(
nsGlobalWindowInner
*
aGlobalWindow
)
;
void
NotifyAfterLoad
(
)
;
void
NotifyVRDisplayMounted
(
uint32_t
aDisplayID
)
override
;
void
NotifyVRDisplayUnmounted
(
uint32_t
aDisplayID
)
override
;
void
NotifyVRDisplayNavigation
(
uint32_t
aDisplayID
)
;
void
NotifyVRDisplayRequested
(
uint32_t
aDisplayID
)
;
void
NotifyVRDisplayConnect
(
uint32_t
aDisplayID
)
override
;
void
NotifyVRDisplayDisconnect
(
uint32_t
aDisplayID
)
override
;
void
NotifyVRDisplayPresentChange
(
uint32_t
aDisplayID
)
override
;
void
NotifyPresentationGenerationChanged
(
uint32_t
aDisplayID
)
override
;
void
NotifyEnumerationCompleted
(
)
override
;
void
NotifyDetectRuntimesCompleted
(
)
override
;
void
DisconnectFromOwner
(
)
;
void
UpdateSpentTimeIn2DTelemetry
(
bool
aUpdate
)
;
void
StartActivity
(
)
;
void
StopActivity
(
)
;
bool
GetStopActivityStatus
(
)
const
override
;
private
:
~
VREventObserver
(
)
;
bool
IsWebVR
(
uint32_t
aDisplayID
)
const
;
RefPtr
<
nsGlobalWindowInner
>
mWindow
;
TimeStamp
mSpendTimeIn2DView
;
bool
mIs2DView
;
bool
mHasReset
;
bool
mStopActivity
;
}
;
}
}
#
endif

#
ifndef
WebBrowserPersistSerializeParent_h__
#
define
WebBrowserPersistSerializeParent_h__
#
include
"
mozilla
/
PWebBrowserPersistSerializeParent
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIOutputStream
.
h
"
#
include
"
nsIWebBrowserPersistDocument
.
h
"
namespace
mozilla
{
class
WebBrowserPersistSerializeParent
:
public
PWebBrowserPersistSerializeParent
{
public
:
WebBrowserPersistSerializeParent
(
nsIWebBrowserPersistDocument
*
aDocument
nsIOutputStream
*
aStream
nsIWebBrowserPersistWriteCompletion
*
aFinish
)
;
virtual
~
WebBrowserPersistSerializeParent
(
)
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvWriteData
(
nsTArray
<
uint8_t
>
&
&
aData
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
Recv__delete__
(
const
nsACString
&
aContentType
const
nsresult
&
aStatus
)
override
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
private
:
nsCOMPtr
<
nsIWebBrowserPersistDocument
>
mDocument
;
nsCOMPtr
<
nsIOutputStream
>
mStream
;
nsCOMPtr
<
nsIWebBrowserPersistWriteCompletion
>
mFinish
;
nsresult
mOutputError
;
}
;
}
#
endif

#
ifndef
WebBrowserPersistResourcesParent_h__
#
define
WebBrowserPersistResourcesParent_h__
#
include
"
WebBrowserPersistDocumentParent
.
h
"
#
include
"
mozilla
/
PWebBrowserPersistResourcesParent
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIWebBrowserPersistDocument
.
h
"
namespace
mozilla
{
class
WebBrowserPersistResourcesParent
final
:
public
PWebBrowserPersistResourcesParent
public
nsIWebBrowserPersistDocumentReceiver
{
public
:
WebBrowserPersistResourcesParent
(
nsIWebBrowserPersistDocument
*
aDocument
nsIWebBrowserPersistResourceVisitor
*
aVisitor
)
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvVisitResource
(
const
nsACString
&
aURI
const
nsContentPolicyType
&
aContentPolicyType
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvVisitDocument
(
NotNull
<
PWebBrowserPersistDocumentParent
*
>
aSubDocument
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvVisitBrowsingContext
(
const
dom
:
:
MaybeDiscarded
<
dom
:
:
BrowsingContext
>
&
aContext
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
Recv__delete__
(
const
nsresult
&
aStatus
)
override
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
NS_DECL_NSIWEBBROWSERPERSISTDOCUMENTRECEIVER
NS_DECL_ISUPPORTS
private
:
nsCOMPtr
<
nsIWebBrowserPersistDocument
>
mDocument
;
nsCOMPtr
<
nsIWebBrowserPersistResourceVisitor
>
mVisitor
;
virtual
~
WebBrowserPersistResourcesParent
(
)
;
}
;
}
#
endif

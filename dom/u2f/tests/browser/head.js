"
use
strict
"
;
function
bytesToBase64
(
u8a
)
{
let
CHUNK_SZ
=
0x8000
;
let
c
=
[
]
;
for
(
let
i
=
0
;
i
<
u8a
.
length
;
i
+
=
CHUNK_SZ
)
{
c
.
push
(
String
.
fromCharCode
.
apply
(
null
u8a
.
subarray
(
i
i
+
CHUNK_SZ
)
)
)
;
}
return
window
.
btoa
(
c
.
join
(
"
"
)
)
;
}
function
bytesToBase64UrlSafe
(
buf
)
{
return
bytesToBase64
(
buf
)
.
replace
(
/
\
+
/
g
"
-
"
)
.
replace
(
/
\
/
/
g
"
_
"
)
.
replace
(
/
=
/
g
"
"
)
;
}

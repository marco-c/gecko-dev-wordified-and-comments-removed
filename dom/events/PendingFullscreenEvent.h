#
ifndef
mozilla_PendingFullscreenEvent_h_
#
define
mozilla_PendingFullscreenEvent_h_
#
include
"
nsContentUtils
.
h
"
class
nsIDocument
;
namespace
mozilla
{
enum
class
FullscreenEventType
{
Change
Error
}
;
class
PendingFullscreenEvent
{
public
:
PendingFullscreenEvent
(
FullscreenEventType
aType
nsIDocument
*
aDocument
nsINode
*
aTarget
)
:
mDocument
(
aDocument
)
mTarget
(
aTarget
)
mType
(
aType
)
{
MOZ_ASSERT
(
aDocument
)
;
MOZ_ASSERT
(
aTarget
)
;
}
nsIDocument
*
Document
(
)
const
{
return
mDocument
;
}
void
Dispatch
(
)
{
#
ifdef
DEBUG
MOZ_ASSERT
(
!
mDispatched
)
;
mDispatched
=
true
;
#
endif
nsString
name
;
switch
(
mType
)
{
case
FullscreenEventType
:
:
Change
:
name
=
NS_LITERAL_STRING
(
"
fullscreenchange
"
)
;
break
;
case
FullscreenEventType
:
:
Error
:
name
=
NS_LITERAL_STRING
(
"
fullscreenerror
"
)
;
break
;
}
nsINode
*
target
=
mTarget
-
>
GetComposedDoc
(
)
=
=
mDocument
?
mTarget
.
get
(
)
:
mDocument
.
get
(
)
;
Unused
<
<
nsContentUtils
:
:
DispatchTrustedEvent
(
mDocument
target
name
CanBubble
:
:
eYes
Cancelable
:
:
eNo
Composed
:
:
eYes
)
;
}
private
:
nsCOMPtr
<
nsIDocument
>
mDocument
;
nsCOMPtr
<
nsINode
>
mTarget
;
FullscreenEventType
mType
;
#
ifdef
DEBUG
bool
mDispatched
=
false
;
#
endif
}
;
}
#
endif

#
ifndef
mozilla_dom_BroadcastChannelChild_h
#
define
mozilla_dom_BroadcastChannelChild_h
#
include
"
mozilla
/
dom
/
PBroadcastChannelChild
.
h
"
namespace
mozilla
{
namespace
ipc
{
class
BackgroundChildImpl
;
}
namespace
dom
{
class
BroadcastChannel
;
class
BroadcastChannelChild
final
:
public
PBroadcastChannelChild
{
friend
class
mozilla
:
:
ipc
:
:
BackgroundChildImpl
;
public
:
NS_INLINE_DECL_REFCOUNTING
(
BroadcastChannelChild
)
void
SetParent
(
BroadcastChannel
*
aBC
)
{
mBC
=
aBC
;
}
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvNotify
(
const
MessageData
&
aData
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvRefMessageDelivered
(
const
nsID
&
aMessageID
const
uint32_t
&
aOtherBCs
)
override
;
bool
IsActorDestroyed
(
)
const
{
return
mActorDestroyed
;
}
private
:
BroadcastChannelChild
(
)
;
~
BroadcastChannelChild
(
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
BroadcastChannel
*
mBC
;
bool
mActorDestroyed
;
}
;
}
}
#
endif

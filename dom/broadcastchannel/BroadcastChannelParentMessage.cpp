#
include
"
BroadcastChannelParentMessage
.
h
"
namespace
mozilla
{
namespace
dom
{
BroadcastChannelParentMessage
:
:
BroadcastChannelParentMessage
(
const
ClonedMessageData
&
aData
)
:
mData
(
aData
)
{
if
(
!
aData
.
blobsParent
(
)
.
IsEmpty
(
)
)
{
mBlobs
.
SetCapacity
(
aData
.
blobsParent
(
)
.
Length
(
)
)
;
for
(
uint32_t
i
=
0
len
=
aData
.
blobsParent
(
)
.
Length
(
)
;
i
<
len
;
+
+
i
)
{
RefPtr
<
BlobImpl
>
impl
=
static_cast
<
BlobParent
*
>
(
aData
.
blobsParent
(
)
[
i
]
)
-
>
GetBlobImpl
(
)
;
MOZ_ASSERT
(
impl
)
;
mBlobs
.
AppendElement
(
impl
)
;
}
}
}
}
}

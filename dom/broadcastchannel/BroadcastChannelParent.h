#
ifndef
mozilla_dom_BroadcastChannelParent_h
#
define
mozilla_dom_BroadcastChannelParent_h
#
include
"
mozilla
/
dom
/
PBroadcastChannelParent
.
h
"
namespace
mozilla
{
namespace
ipc
{
class
BackgroundParentImpl
;
class
PrincipalInfo
;
}
namespace
dom
{
class
BroadcastChannelService
;
class
BroadcastChannelParent
final
:
public
PBroadcastChannelParent
{
friend
class
mozilla
:
:
ipc
:
:
BackgroundParentImpl
;
typedef
mozilla
:
:
ipc
:
:
PrincipalInfo
PrincipalInfo
;
public
:
void
Deliver
(
const
ClonedMessageData
&
aData
)
;
private
:
explicit
BroadcastChannelParent
(
const
nsAString
&
aOriginChannelKey
)
;
~
BroadcastChannelParent
(
)
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvPostMessage
(
const
ClonedMessageData
&
aData
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvClose
(
)
override
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
RefPtr
<
BroadcastChannelService
>
mService
;
const
nsString
mOriginChannelKey
;
}
;
}
}
#
endif

#
include
"
FlexItem
.
h
"
#
include
"
mozilla
/
dom
/
FlexBinding
.
h
"
#
include
"
nsFlexContainerFrame
.
h
"
namespace
mozilla
{
namespace
dom
{
NS_IMPL_CYCLE_COLLECTION_WRAPPERCACHE
(
FlexItem
mParent
)
NS_IMPL_CYCLE_COLLECTING_ADDREF
(
FlexItem
)
NS_IMPL_CYCLE_COLLECTING_RELEASE
(
FlexItem
)
NS_INTERFACE_MAP_BEGIN_CYCLE_COLLECTION
(
FlexItem
)
NS_WRAPPERCACHE_INTERFACE_MAP_ENTRY
NS_INTERFACE_MAP_ENTRY
(
nsISupports
)
NS_INTERFACE_MAP_END
static
double
ToPossiblyUnconstrainedPixels
(
nscoord
aSize
)
{
if
(
aSize
=
=
NS_UNCONSTRAINEDSIZE
)
{
return
std
:
:
numeric_limits
<
double
>
:
:
infinity
(
)
;
}
return
nsPresContext
:
:
AppUnitsToDoubleCSSPixels
(
aSize
)
;
}
FlexItem
:
:
FlexItem
(
FlexLine
*
aParent
const
ComputedFlexItemInfo
*
aItem
)
:
mParent
(
aParent
)
{
MOZ_ASSERT
(
aItem
"
Should
never
be
instantiated
with
a
null
ComputedFlexLineInfo
.
"
)
;
mNode
=
aItem
-
>
mNode
;
mMainBaseSize
=
nsPresContext
:
:
AppUnitsToDoubleCSSPixels
(
aItem
-
>
mMainBaseSize
)
;
mMainDeltaSize
=
nsPresContext
:
:
AppUnitsToDoubleCSSPixels
(
aItem
-
>
mMainDeltaSize
)
;
mMainMinSize
=
nsPresContext
:
:
AppUnitsToDoubleCSSPixels
(
aItem
-
>
mMainMinSize
)
;
mMainMaxSize
=
ToPossiblyUnconstrainedPixels
(
aItem
-
>
mMainMaxSize
)
;
mCrossMinSize
=
nsPresContext
:
:
AppUnitsToDoubleCSSPixels
(
aItem
-
>
mCrossMinSize
)
;
mCrossMaxSize
=
ToPossiblyUnconstrainedPixels
(
aItem
-
>
mCrossMaxSize
)
;
}
JSObject
*
FlexItem
:
:
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
{
return
FlexItem_Binding
:
:
Wrap
(
aCx
this
aGivenProto
)
;
}
nsINode
*
FlexItem
:
:
GetNode
(
)
const
{
return
mNode
;
}
double
FlexItem
:
:
MainBaseSize
(
)
const
{
return
mMainBaseSize
;
}
double
FlexItem
:
:
MainDeltaSize
(
)
const
{
return
mMainDeltaSize
;
}
double
FlexItem
:
:
MainMinSize
(
)
const
{
return
mMainMinSize
;
}
double
FlexItem
:
:
MainMaxSize
(
)
const
{
return
mMainMaxSize
;
}
double
FlexItem
:
:
CrossMinSize
(
)
const
{
return
mCrossMinSize
;
}
double
FlexItem
:
:
CrossMaxSize
(
)
const
{
return
mCrossMaxSize
;
}
}
}

#
ifndef
DOM_QUOTA_CLIENTIMPL_H_
#
define
DOM_QUOTA_CLIENTIMPL_H_
#
include
"
mozilla
/
dom
/
quota
/
DirectoryLock
.
h
"
namespace
mozilla
:
:
dom
:
:
quota
{
template
<
typename
T
>
bool
Client
:
:
IsLockForObjectContainedInLockTable
(
const
T
&
aObject
const
DirectoryLockIdTable
&
aIds
)
{
const
auto
&
maybeDirectoryLock
=
aObject
.
MaybeDirectoryLockRef
(
)
;
MOZ_ASSERT
(
maybeDirectoryLock
.
isSome
(
)
)
;
return
aIds
.
Has
(
maybeDirectoryLock
-
>
Id
(
)
)
;
}
template
<
typename
T
>
bool
Client
:
:
IsLockForObjectAcquiredAndContainedInLockTable
(
const
T
&
aObject
const
DirectoryLockIdTable
&
aIds
)
{
const
auto
&
maybeDirectoryLock
=
aObject
.
MaybeDirectoryLockRef
(
)
;
return
maybeDirectoryLock
&
&
aIds
.
Has
(
maybeDirectoryLock
-
>
Id
(
)
)
;
}
}
#
endif

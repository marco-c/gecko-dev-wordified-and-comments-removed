#
ifndef
mozilla_dom_quota_SerializationHelpers_h
#
define
mozilla_dom_quota_SerializationHelpers_h
#
include
"
ipc
/
EnumSerializer
.
h
"
#
include
"
ipc
/
IPCMessageUtils
.
h
"
#
include
"
mozilla
/
dom
/
quota
/
Client
.
h
"
#
include
"
mozilla
/
dom
/
quota
/
CommonMetadata
.
h
"
#
include
"
mozilla
/
dom
/
quota
/
PersistenceType
.
h
"
#
include
"
mozilla
/
OriginAttributes
.
h
"
namespace
IPC
{
template
<
>
struct
ParamTraits
<
mozilla
:
:
dom
:
:
quota
:
:
PersistenceType
>
:
public
ContiguousEnumSerializer
<
mozilla
:
:
dom
:
:
quota
:
:
PersistenceType
mozilla
:
:
dom
:
:
quota
:
:
PERSISTENCE_TYPE_PERSISTENT
mozilla
:
:
dom
:
:
quota
:
:
PERSISTENCE_TYPE_INVALID
>
{
}
;
template
<
>
struct
ParamTraits
<
mozilla
:
:
dom
:
:
quota
:
:
Client
:
:
Type
>
:
public
ContiguousEnumSerializer
<
mozilla
:
:
dom
:
:
quota
:
:
Client
:
:
Type
mozilla
:
:
dom
:
:
quota
:
:
Client
:
:
IDB
mozilla
:
:
dom
:
:
quota
:
:
Client
:
:
TYPE_MAX
>
{
}
;
template
<
>
struct
ParamTraits
<
mozilla
:
:
dom
:
:
quota
:
:
FullOriginMetadata
>
{
using
ParamType
=
mozilla
:
:
dom
:
:
quota
:
:
FullOriginMetadata
;
static
void
Write
(
MessageWriter
*
aWriter
const
ParamType
&
aParam
)
{
WriteParam
(
aWriter
aParam
.
mSuffix
)
;
WriteParam
(
aWriter
aParam
.
mGroup
)
;
WriteParam
(
aWriter
aParam
.
mOrigin
)
;
WriteParam
(
aWriter
aParam
.
mStorageOrigin
)
;
WriteParam
(
aWriter
aParam
.
mIsPrivate
)
;
WriteParam
(
aWriter
aParam
.
mPersistenceType
)
;
WriteParam
(
aWriter
aParam
.
mPersisted
)
;
WriteParam
(
aWriter
aParam
.
mLastAccessTime
)
;
}
static
bool
Read
(
MessageReader
*
aReader
ParamType
*
aResult
)
{
return
ReadParam
(
aReader
&
aResult
-
>
mSuffix
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mGroup
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mOrigin
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mStorageOrigin
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mIsPrivate
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mPersistenceType
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mPersisted
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mLastAccessTime
)
;
}
}
;
template
<
>
struct
ParamTraits
<
mozilla
:
:
OriginAttributesPattern
>
{
typedef
mozilla
:
:
OriginAttributesPattern
paramType
;
static
void
Write
(
MessageWriter
*
aWriter
const
paramType
&
aParam
)
{
WriteParam
(
aWriter
aParam
.
mFirstPartyDomain
)
;
WriteParam
(
aWriter
aParam
.
mInIsolatedMozBrowser
)
;
WriteParam
(
aWriter
aParam
.
mPrivateBrowsingId
)
;
WriteParam
(
aWriter
aParam
.
mUserContextId
)
;
WriteParam
(
aWriter
aParam
.
mGeckoViewSessionContextId
)
;
}
static
bool
Read
(
MessageReader
*
aReader
paramType
*
aResult
)
{
return
ReadParam
(
aReader
&
aResult
-
>
mFirstPartyDomain
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mInIsolatedMozBrowser
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mPrivateBrowsingId
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mUserContextId
)
&
&
ReadParam
(
aReader
&
aResult
-
>
mGeckoViewSessionContextId
)
;
}
}
;
}
#
endif

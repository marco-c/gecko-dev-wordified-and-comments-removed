#
include
"
NormalOriginOperationBase
.
h
"
#
include
"
mozilla
/
dom
/
quota
/
QuotaManager
.
h
"
namespace
mozilla
:
:
dom
:
:
quota
{
NormalOriginOperationBase
:
:
NormalOriginOperationBase
(
MovingNotNull
<
RefPtr
<
QuotaManager
>
>
aQuotaManager
const
char
*
aName
)
:
OriginOperationBase
(
std
:
:
move
(
aQuotaManager
)
aName
)
mCanceled
(
false
)
{
AssertIsOnOwningThread
(
)
;
}
NormalOriginOperationBase
:
:
~
NormalOriginOperationBase
(
)
{
AssertIsOnOwningThread
(
)
;
}
RefPtr
<
BoolPromise
>
NormalOriginOperationBase
:
:
Open
(
)
{
AssertIsOnOwningThread
(
)
;
return
OpenDirectory
(
)
;
}
void
NormalOriginOperationBase
:
:
UnblockOpen
(
)
{
AssertIsOnOwningThread
(
)
;
SendResults
(
)
;
CloseDirectory
(
)
;
mQuotaManager
-
>
UnregisterNormalOriginOp
(
*
this
)
;
}
}

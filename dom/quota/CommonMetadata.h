#
ifndef
DOM_QUOTA_COMMONMETADATA_H_
#
define
DOM_QUOTA_COMMONMETADATA_H_
#
include
<
utility
>
#
include
"
mozilla
/
dom
/
quota
/
Client
.
h
"
#
include
"
mozilla
/
dom
/
quota
/
PersistenceType
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
:
:
dom
:
:
quota
{
struct
PrincipalMetadata
{
nsCString
mSuffix
;
nsCString
mGroup
;
nsCString
mOrigin
;
bool
mIsPrivate
=
false
;
PrincipalMetadata
(
)
=
default
;
PrincipalMetadata
(
nsCString
aSuffix
nsCString
aGroup
nsCString
aOrigin
bool
aIsPrivate
)
:
mSuffix
{
std
:
:
move
(
aSuffix
)
}
mGroup
{
std
:
:
move
(
aGroup
)
}
mOrigin
{
std
:
:
move
(
aOrigin
)
}
mIsPrivate
{
aIsPrivate
}
{
}
}
;
struct
OriginMetadata
:
public
PrincipalMetadata
{
PersistenceType
mPersistenceType
;
OriginMetadata
(
)
=
default
;
OriginMetadata
(
nsCString
aSuffix
nsCString
aGroup
nsCString
aOrigin
bool
aIsPrivate
PersistenceType
aPersistenceType
)
:
PrincipalMetadata
(
std
:
:
move
(
aSuffix
)
std
:
:
move
(
aGroup
)
std
:
:
move
(
aOrigin
)
aIsPrivate
)
mPersistenceType
(
aPersistenceType
)
{
}
OriginMetadata
(
PrincipalMetadata
&
&
aPrincipalMetadata
PersistenceType
aPersistenceType
)
:
PrincipalMetadata
(
std
:
:
move
(
aPrincipalMetadata
)
)
mPersistenceType
(
aPersistenceType
)
{
}
}
;
struct
FullOriginMetadata
:
OriginMetadata
{
bool
mPersisted
;
int64_t
mLastAccessTime
;
FullOriginMetadata
(
)
=
default
;
FullOriginMetadata
(
OriginMetadata
aOriginMetadata
bool
aPersisted
int64_t
aLastAccessTime
)
:
OriginMetadata
(
std
:
:
move
(
aOriginMetadata
)
)
mPersisted
(
aPersisted
)
mLastAccessTime
(
aLastAccessTime
)
{
}
}
;
struct
ClientMetadata
:
OriginMetadata
{
const
Client
:
:
Type
mClientType
;
ClientMetadata
(
OriginMetadata
aOriginMetadata
Client
:
:
Type
aClientType
)
:
OriginMetadata
(
std
:
:
move
(
aOriginMetadata
)
)
mClientType
(
aClientType
)
{
}
}
;
}
#
endif

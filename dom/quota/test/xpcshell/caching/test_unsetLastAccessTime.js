async
function
testSteps
(
)
{
const
principal
=
getPrincipal
(
"
https
:
/
/
foo
.
example
.
com
/
"
)
;
info
(
"
Setting
pref
"
)
;
Services
.
prefs
.
setBoolPref
(
"
dom
.
quotaManager
.
caching
.
checkBuildId
"
false
)
;
info
(
"
Clearing
"
)
;
let
request
=
clear
(
)
;
await
requestFinished
(
request
)
;
info
(
"
Installing
package
"
)
;
installPackage
(
"
unsetLastAccessTime_profile
"
)
;
info
(
"
Getting
full
origin
metadata
"
)
;
request
=
getFullOriginMetadata
(
"
default
"
principal
)
;
await
requestFinished
(
request
)
;
info
(
"
Verifying
last
access
time
"
)
;
ok
(
BigInt
(
request
.
result
.
lastAccessTime
)
!
=
INT64_MIN
"
Correct
last
access
time
"
)
;
}

const
{
TestUtils
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
testing
-
common
/
TestUtils
.
sys
.
mjs
"
)
;
async
function
testSteps
(
)
{
info
(
"
Sending
fake
'
idle
-
daily
'
notification
to
QuotaManager
"
)
;
let
observer
=
Services
.
qms
.
QueryInterface
(
Ci
.
nsIObserver
)
;
observer
.
observe
(
null
"
idle
-
daily
"
"
"
)
;
info
(
"
Waiting
for
maintenance
to
start
"
)
;
await
TestUtils
.
topicObserved
(
"
QuotaManager
:
:
MaintenanceStarted
"
)
;
}

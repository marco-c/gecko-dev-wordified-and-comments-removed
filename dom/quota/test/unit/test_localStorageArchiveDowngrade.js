async
function
testSteps
(
)
{
const
lsDirs
=
[
"
storage
/
default
/
http
+
+
+
example
.
com
/
ls
"
"
storage
/
default
/
http
+
+
+
localhost
/
ls
"
"
storage
/
default
/
http
+
+
+
www
.
mozilla
.
org
/
ls
"
]
;
info
(
"
Clearing
"
)
;
let
request
=
clear
(
)
;
await
requestFinished
(
request
)
;
info
(
"
Installing
package
"
)
;
installPackage
(
"
localStorageArchiveDowngrade_profile
"
)
;
info
(
"
Checking
ls
dirs
"
)
;
for
(
let
lsDir
of
lsDirs
)
{
let
dir
=
getRelativeFile
(
lsDir
)
;
exists
=
dir
.
exists
(
)
;
ok
(
exists
"
ls
directory
does
exist
"
)
;
}
request
=
init
(
)
;
request
=
await
requestFinished
(
request
)
;
info
(
"
Checking
ls
dirs
"
)
;
for
(
let
lsDir
of
lsDirs
)
{
let
dir
=
getRelativeFile
(
lsDir
)
;
exists
=
dir
.
exists
(
)
;
ok
(
!
exists
"
ls
directory
doesn
'
t
exist
"
)
;
}
}

'
use
strict
'
;
add_task
(
function
*
(
)
{
Observer
.
add_observers
(
Services
)
;
registerCleanupFunction
(
do_cleanup
)
;
test_servers
[
'
localhost
-
ip
'
]
=
{
host
:
'
127
.
0
.
0
.
1
'
response
:
true
id
:
'
localhost
-
ip
'
}
;
test_settings
.
block_active
.
result
[
'
localhost
-
ip
'
]
=
'
blocked
'
;
let
which
=
"
block_active
"
;
SetupPrefTestEnvironment
(
which
)
;
yield
execute_test
(
"
localhost
-
ip
"
test_settings
[
which
]
.
mimetype
)
;
SpecialPowers
.
popPrefEnv
(
)
;
}
)
;

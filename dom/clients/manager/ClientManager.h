#
ifndef
_mozilla_dom_ClientManager_h
#
define
_mozilla_dom_ClientManager_h
#
include
"
mozilla
/
dom
/
ClientOpPromise
.
h
"
#
include
"
mozilla
/
dom
/
ClientThing
.
h
"
namespace
mozilla
{
namespace
ipc
{
class
PBackgroundChild
;
}
namespace
dom
{
class
ClientManagerChild
;
class
ClientOpConstructorArgs
;
namespace
workers
{
class
WorkerPrivate
;
}
class
ClientManager
final
:
public
ClientThing
<
ClientManagerChild
>
{
friend
class
ClientManagerChild
;
ClientManager
(
)
;
~
ClientManager
(
)
;
void
Shutdown
(
)
;
already_AddRefed
<
ClientOpPromise
>
StartOp
(
const
ClientOpConstructorArgs
&
aArgs
nsISerialEventTarget
*
aSerialEventTarget
)
;
static
already_AddRefed
<
ClientManager
>
GetOrCreateForCurrentThread
(
)
;
mozilla
:
:
dom
:
:
workers
:
:
WorkerPrivate
*
GetWorkerPrivate
(
)
const
;
public
:
static
void
Startup
(
)
;
NS_INLINE_DECL_REFCOUNTING
(
mozilla
:
:
dom
:
:
ClientManager
)
}
;
}
}
#
endif

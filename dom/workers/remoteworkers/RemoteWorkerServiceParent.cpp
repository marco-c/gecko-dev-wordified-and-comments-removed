#
include
"
RemoteWorkerServiceParent
.
h
"
#
include
"
RemoteWorkerManager
.
h
"
#
include
"
mozilla
/
ipc
/
BackgroundParent
.
h
"
namespace
mozilla
{
using
namespace
ipc
;
namespace
dom
{
RemoteWorkerServiceParent
:
:
RemoteWorkerServiceParent
(
)
:
mManager
(
RemoteWorkerManager
:
:
GetOrCreate
(
)
)
{
}
RemoteWorkerServiceParent
:
:
~
RemoteWorkerServiceParent
(
)
=
default
;
void
RemoteWorkerServiceParent
:
:
Initialize
(
const
nsACString
&
aRemoteType
)
{
AssertIsOnBackgroundThread
(
)
;
mRemoteType
=
aRemoteType
;
mManager
-
>
RegisterActor
(
this
)
;
}
void
RemoteWorkerServiceParent
:
:
ActorDestroy
(
IProtocol
:
:
ActorDestroyReason
)
{
AssertIsOnBackgroundThread
(
)
;
mManager
-
>
UnregisterActor
(
this
)
;
}
}
}

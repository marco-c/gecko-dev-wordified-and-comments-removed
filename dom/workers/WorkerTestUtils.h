#
ifndef
mozilla_dom_WorkerTestUtils__
#
define
mozilla_dom_WorkerTestUtils__
#
include
"
nsStringFwd
.
h
"
namespace
mozilla
{
class
ErrorResult
;
namespace
dom
{
class
GlobalObject
;
class
WorkerTestCallback
;
class
WorkerTestUtils
final
{
public
:
static
uint32_t
CurrentTimerNestingLevel
(
const
GlobalObject
&
ErrorResult
&
aErr
)
;
static
bool
IsRunningInBackground
(
const
GlobalObject
&
ErrorResult
&
aErr
)
;
static
void
HoldStrongWorkerRefUntilMainThreadObserverNotified
(
const
GlobalObject
&
const
nsACString
&
aTopic
ErrorResult
&
aErr
)
;
MOZ_CAN_RUN_SCRIPT
static
void
BlockUntilMainThreadObserverNotified
(
const
GlobalObject
&
const
nsACString
&
aTopic
WorkerTestCallback
&
aWhenObserving
ErrorResult
&
aErr
)
;
static
void
NotifyObserverOnMainThread
(
const
GlobalObject
&
const
nsACString
&
aTopic
ErrorResult
&
aErr
)
;
}
;
}
}
#
endif

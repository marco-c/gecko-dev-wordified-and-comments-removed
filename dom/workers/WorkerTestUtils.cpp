#
include
"
mozilla
/
ErrorResult
.
h
"
#
include
"
mozilla
/
dom
/
WorkerPrivate
.
h
"
#
include
"
mozilla
/
dom
/
WorkerTestUtils
.
h
"
namespace
mozilla
:
:
dom
{
uint32_t
WorkerTestUtils
:
:
CurrentTimerNestingLevel
(
const
GlobalObject
&
aGlobal
ErrorResult
&
aErr
)
{
MOZ_ASSERT
(
!
NS_IsMainThread
(
)
)
;
WorkerPrivate
*
worker
=
GetCurrentThreadWorkerPrivate
(
)
;
MOZ_ASSERT
(
worker
)
;
return
worker
-
>
GetCurrentTimerNestingLevel
(
)
;
}
}

#
ifndef
mozilla_dom_WorkerEventTarget_h
#
define
mozilla_dom_WorkerEventTarget_h
#
include
"
nsISerialEventTarget
.
h
"
#
include
"
mozilla
/
Mutex
.
h
"
#
include
"
mozilla
/
dom
/
WorkerPrivate
.
h
"
namespace
mozilla
:
:
dom
{
class
WorkerEventTarget
final
:
public
nsISerialEventTarget
{
public
:
enum
class
Behavior
:
uint8_t
{
Hybrid
ControlOnly
}
;
private
:
mozilla
:
:
Mutex
mMutex
;
CheckedUnsafePtr
<
WorkerPrivate
>
mWorkerPrivate
GUARDED_BY
(
mMutex
)
;
const
Behavior
mBehavior
GUARDED_BY
(
mMutex
)
;
~
WorkerEventTarget
(
)
=
default
;
public
:
WorkerEventTarget
(
WorkerPrivate
*
aWorkerPrivate
Behavior
aBehavior
)
;
void
ForgetWorkerPrivate
(
WorkerPrivate
*
aWorkerPrivate
)
;
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIEVENTTARGET
NS_DECL_NSISERIALEVENTTARGET
}
;
}
#
endif

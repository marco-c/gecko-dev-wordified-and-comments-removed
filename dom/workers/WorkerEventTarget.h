#
ifndef
mozilla_dom_WorkerEventTarget_h
#
define
mozilla_dom_WorkerEventTarget_h
#
include
"
nsISerialEventTarget
.
h
"
#
include
"
mozilla
/
Mutex
.
h
"
namespace
mozilla
{
namespace
dom
{
namespace
workers
{
class
WorkerPrivate
;
}
class
WorkerEventTarget
final
:
public
nsISerialEventTarget
{
public
:
enum
class
Behavior
:
uint8_t
{
Hybrid
ControlOnly
}
;
private
:
mozilla
:
:
Mutex
mMutex
;
workers
:
:
WorkerPrivate
*
mWorkerPrivate
;
const
Behavior
mBehavior
;
~
WorkerEventTarget
(
)
=
default
;
public
:
WorkerEventTarget
(
workers
:
:
WorkerPrivate
*
aWorkerPrivate
Behavior
aBehavior
)
;
void
ForgetWorkerPrivate
(
workers
:
:
WorkerPrivate
*
aWorkerPrivate
)
;
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIEVENTTARGET
NS_DECL_NSISERIALEVENTTARGET
}
;
}
}
#
endif

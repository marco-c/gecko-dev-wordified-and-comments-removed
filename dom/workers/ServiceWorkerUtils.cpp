#
include
"
ServiceWorkerUtils
.
h
"
#
include
"
mozilla
/
Preferences
.
h
"
namespace
mozilla
{
namespace
dom
{
bool
ServiceWorkerParentInterceptEnabled
(
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
static
bool
sInit
=
false
;
static
bool
sEnabled
;
if
(
!
sInit
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
Preferences
:
:
AddBoolVarCache
(
&
sEnabled
"
dom
.
serviceWorkers
.
parent_intercept
"
false
)
;
sInit
=
true
;
}
return
sEnabled
;
}
}
}

#
include
"
ChromeWorkerScope
.
h
"
#
include
"
WorkerPrivate
.
h
"
#
include
"
jsapi
.
h
"
#
include
"
mozilla
/
dom
/
DebuggerNotificationObserverBinding
.
h
"
#
include
"
mozilla
/
dom
/
RegisterWorkerBindings
.
h
"
#
include
"
mozilla
/
dom
/
RegisterWorkerDebuggerBindings
.
h
"
using
namespace
mozilla
:
:
dom
;
bool
WorkerPrivate
:
:
RegisterBindings
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGlobal
)
{
if
(
!
RegisterWorkerBindings
(
aCx
aGlobal
)
)
{
return
false
;
}
if
(
IsChromeWorker
(
)
)
{
if
(
!
DefineChromeWorkerFunctions
(
aCx
aGlobal
)
)
{
return
false
;
}
}
return
true
;
}
bool
WorkerPrivate
:
:
RegisterDebuggerBindings
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGlobal
)
{
if
(
!
RegisterWorkerDebuggerBindings
(
aCx
aGlobal
)
)
{
return
false
;
}
if
(
!
ChromeUtils_Binding
:
:
CreateAndDefineOnGlobal
(
aCx
)
|
|
!
DebuggerNotificationObserver_Binding
:
:
CreateAndDefineOnGlobal
(
aCx
)
)
{
return
false
;
}
if
(
!
JS_DefineDebuggerObject
(
aCx
aGlobal
)
)
{
return
false
;
}
return
true
;
}

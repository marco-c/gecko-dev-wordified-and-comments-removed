#
ifndef
mozilla_dom_network_ConnectionWorker_h
#
define
mozilla_dom_network_ConnectionWorker_h
#
include
"
Connection
.
h
"
#
include
"
mozilla
/
Observer
.
h
"
#
include
"
Types
.
h
"
namespace
mozilla
{
namespace
dom
{
namespace
network
{
class
ConnectionProxy
;
class
ConnectionWorker
final
:
public
Connection
{
friend
class
ConnectionProxy
;
public
:
static
already_AddRefed
<
ConnectionWorker
>
Create
(
workers
:
:
WorkerPrivate
*
aWorkerPrivate
ErrorResult
&
aRv
)
;
private
:
explicit
ConnectionWorker
(
workers
:
:
WorkerPrivate
*
aWorkerPrivate
)
;
~
ConnectionWorker
(
)
;
virtual
void
ShutdownInternal
(
)
override
;
workers
:
:
WorkerPrivate
*
mWorkerPrivate
;
RefPtr
<
ConnectionProxy
>
mProxy
;
}
;
}
}
}
#
endif

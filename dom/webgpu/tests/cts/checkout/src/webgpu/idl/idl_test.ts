import
{
Fixture
}
from
'
.
.
/
.
.
/
common
/
framework
/
fixture
.
js
'
;
import
{
getGPU
}
from
'
.
.
/
.
.
/
common
/
util
/
navigator_gpu
.
js
'
;
import
{
assert
}
from
'
.
.
/
.
.
/
common
/
util
/
util
.
js
'
;
interface
UnknownObject
{
[
k
:
string
]
:
unknown
;
}
export
class
IDLTest
extends
Fixture
{
override
init
(
)
:
Promise
<
void
>
{
getGPU
(
this
.
rec
)
;
return
Promise
.
resolve
(
)
;
}
assertMember
(
act
:
object
exp
:
object
key
:
string
)
{
assert
(
key
in
act
(
)
=
>
Expected
key
{
key
}
missing
)
;
const
actValue
=
(
act
as
UnknownObject
)
[
key
]
;
const
expValue
=
(
exp
as
UnknownObject
)
[
key
]
;
assert
(
actValue
=
=
=
expValue
(
)
=
>
Value
of
[
{
key
}
]
was
{
actValue
}
expected
{
expValue
}
)
;
}
assertMemberCount
(
act
:
object
exp
:
object
)
{
const
expKeys
=
Object
.
keys
(
exp
)
;
const
actKeys
=
Object
.
keys
(
act
)
;
assert
(
actKeys
.
length
=
=
=
expKeys
.
length
(
)
=
>
Had
{
actKeys
.
length
}
keys
expected
{
expKeys
.
length
}
)
;
}
}

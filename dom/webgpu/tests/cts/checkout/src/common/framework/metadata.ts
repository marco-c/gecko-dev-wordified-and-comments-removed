import
{
assert
}
from
'
.
.
/
util
/
util
.
js
'
;
export
type
TestMetadata
=
{
subcaseMS
:
number
;
}
;
export
type
TestMetadataListing
=
{
[
testQuery
:
string
]
:
TestMetadata
;
}
;
export
function
loadMetadataForSuite
(
suiteDir
:
string
)
:
TestMetadataListing
|
null
{
assert
(
typeof
require
!
=
=
'
undefined
'
'
loadMetadataForSuite
is
only
implemented
on
Node
'
)
;
const
fs
=
require
(
'
fs
'
)
;
const
metadataFile
=
{
suiteDir
}
/
listing_meta
.
json
;
if
(
!
fs
.
existsSync
(
metadataFile
)
)
{
return
null
;
}
const
metadata
:
TestMetadataListing
=
JSON
.
parse
(
fs
.
readFileSync
(
metadataFile
'
utf8
'
)
)
;
return
metadata
;
}

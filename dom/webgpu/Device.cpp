#
include
"
mozilla
/
dom
/
WebGPUBinding
.
h
"
#
include
"
Device
.
h
"
#
include
"
Adapter
.
h
"
#
include
"
ipc
/
WebGPUChild
.
h
"
namespace
mozilla
{
namespace
webgpu
{
NS_IMPL_CYCLE_COLLECTION_INHERITED
(
Device
DOMEventTargetHelper
mBridge
)
NS_IMPL_ISUPPORTS_CYCLE_COLLECTION_INHERITED_0
(
Device
DOMEventTargetHelper
)
GPU_IMPL_JS_WRAP
(
Device
)
Device
:
:
Device
(
Adapter
*
const
aParent
RawId
aId
)
:
DOMEventTargetHelper
(
aParent
-
>
GetParentObject
(
)
)
mBridge
(
aParent
-
>
GetBridge
(
)
)
mId
(
aId
)
{
Unused
<
<
mId
;
}
Device
:
:
~
Device
(
)
{
if
(
mBridge
&
&
mBridge
-
>
IsOpen
(
)
)
{
mBridge
-
>
SendDeviceDestroy
(
mId
)
;
}
}
void
Device
:
:
GetLabel
(
nsAString
&
aValue
)
const
{
aValue
=
mLabel
;
}
void
Device
:
:
SetLabel
(
const
nsAString
&
aLabel
)
{
mLabel
=
aLabel
;
}
}
}

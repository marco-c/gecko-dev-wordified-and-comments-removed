#
ifndef
WEBGPU_SERIALIZE_H_
#
define
WEBGPU_SERIALIZE_H_
#
include
"
WebGPUTypes
.
h
"
#
include
"
ipc
/
IPCMessageUtils
.
h
"
#
include
"
mozilla
/
dom
/
WebGPUBinding
.
h
"
#
include
"
mozilla
/
webgpu
/
ffi
/
wgpu
.
h
"
namespace
IPC
{
#
define
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
something
guard
)
\
template
<
>
\
struct
ParamTraits
<
something
>
\
:
public
ContiguousEnumSerializer
<
something
something
(
0
)
guard
>
{
}
#
define
DEFINE_IPC_SERIALIZER_ENUM
(
something
)
\
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
something
something
:
:
EndGuard_
)
DEFINE_IPC_SERIALIZER_ENUM
(
mozilla
:
:
dom
:
:
GPUPowerPreference
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPURequestAdapterOptions
mPowerPreference
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPUExtensions
mAnisotropicFiltering
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPULimits
mMaxBindGroups
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPUDeviceDescriptor
mExtensions
mLimits
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPUBufferDescriptor
mSize
mUsage
)
;
DEFINE_IPC_SERIALIZER_WITHOUT_FIELDS
(
mozilla
:
:
dom
:
:
GPUCommandEncoderDescriptor
)
;
DEFINE_IPC_SERIALIZER_WITHOUT_FIELDS
(
mozilla
:
:
dom
:
:
GPUCommandBufferDescriptor
)
;
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUBindingType
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUBindingType_StorageTexture
)
;
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUTextureViewDimension
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUTextureViewDimension_D3
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUBindGroupLayoutBinding
binding
visibility
ty
texture_dimension
multisampled
dynamic
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
SerialBindGroupLayoutDescriptor
mBindings
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
SerialPipelineLayoutDescriptor
mBindGroupLayouts
)
;
DEFINE_IPC_SERIALIZER_ENUM
(
mozilla
:
:
webgpu
:
:
SerialBindGroupBindingType
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
SerialBindGroupBinding
mBinding
mType
mValue
mBufferOffset
mBufferSize
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
SerialBindGroupDescriptor
mLayout
mBindings
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
SerialProgrammableStageDescriptor
mModule
mEntryPoint
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
SerialComputePipelineDescriptor
mLayout
mComputeStage
)
;
#
undef
DEFINE_IPC_SERIALIZER_ENUM
#
undef
DEFINE_IPC_SERIALIZER_ENUM_GUARD
}
#
endif

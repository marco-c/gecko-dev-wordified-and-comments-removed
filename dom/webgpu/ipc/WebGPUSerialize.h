#
ifndef
WEBGPU_SERIALIZE_H_
#
define
WEBGPU_SERIALIZE_H_
#
include
"
WebGPUTypes
.
h
"
#
include
"
ipc
/
EnumSerializer
.
h
"
#
include
"
ipc
/
IPCMessageUtils
.
h
"
#
include
"
mozilla
/
dom
/
WebGPUBinding
.
h
"
#
include
"
mozilla
/
webgpu
/
ffi
/
wgpu
.
h
"
namespace
IPC
{
#
define
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
something
guard
)
\
template
<
>
\
struct
ParamTraits
<
something
>
\
:
public
ContiguousEnumSerializer
<
something
something
(
0
)
guard
>
{
}
#
define
DEFINE_IPC_SERIALIZER_DOM_ENUM
(
something
)
\
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
something
something
:
:
EndGuard_
)
#
define
DEFINE_IPC_SERIALIZER_FFI_ENUM
(
something
)
\
DEFINE_IPC_SERIALIZER_ENUM_GUARD
(
something
something
#
#
_Sentinel
)
DEFINE_IPC_SERIALIZER_DOM_ENUM
(
mozilla
:
:
dom
:
:
GPUPowerPreference
)
;
DEFINE_IPC_SERIALIZER_FFI_ENUM
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUHostMap
)
;
DEFINE_IPC_SERIALIZER_WITHOUT_FIELDS
(
mozilla
:
:
dom
:
:
GPUCommandBufferDescriptor
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPURequestAdapterOptions
mPowerPreference
)
;
DEFINE_IPC_SERIALIZER_WITHOUT_FIELDS
(
mozilla
:
:
dom
:
:
GPUExtensions
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPULimits
mMaxBindGroups
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
dom
:
:
GPUDeviceDescriptor
mExtensions
mLimits
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUExtent3d
width
height
depth
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUOrigin3d
x
y
z
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUTextureDataLayout
offset
bytes_per_row
rows_per_image
)
;
DEFINE_IPC_SERIALIZER_WITH_FIELDS
(
mozilla
:
:
webgpu
:
:
ffi
:
:
WGPUTextureCopyView
texture
mip_level
origin
)
;
#
undef
DEFINE_IPC_SERIALIZER_FFI_ENUM
#
undef
DEFINE_IPC_SERIALIZER_DOM_ENUM
#
undef
DEFINE_IPC_SERIALIZER_ENUM_GUARD
}
#
endif

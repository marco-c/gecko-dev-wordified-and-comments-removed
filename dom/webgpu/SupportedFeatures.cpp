#
include
"
SupportedFeatures
.
h
"
#
include
"
Adapter
.
h
"
#
include
"
mozilla
/
dom
/
BindingUtils
.
h
"
#
include
"
mozilla
/
dom
/
WebGPUBinding
.
h
"
namespace
mozilla
:
:
webgpu
{
GPU_IMPL_CYCLE_COLLECTION
(
SupportedFeatures
mParent
)
GPU_IMPL_JS_WRAP
(
SupportedFeatures
)
SupportedFeatures
:
:
SupportedFeatures
(
Adapter
*
const
aParent
)
:
ChildOf
(
aParent
)
{
}
void
SupportedFeatures
:
:
Add
(
const
dom
:
:
GPUFeatureName
aFeature
ErrorResult
&
aRv
)
{
const
auto
u8
=
dom
:
:
GetEnumString
(
aFeature
)
;
const
auto
u16
=
NS_ConvertUTF8toUTF16
(
u8
)
;
dom
:
:
GPUSupportedFeatures_Binding
:
:
SetlikeHelpers
:
:
Add
(
this
u16
aRv
)
;
mFeatures
.
insert
(
aFeature
)
;
}
}

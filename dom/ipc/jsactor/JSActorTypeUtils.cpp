#
include
"
JSActorTypeUtils
.
h
"
#
include
"
mozilla
/
ErrorResult
.
h
"
#
include
"
mozilla
/
dom
/
JSIPCValue
.
h
"
#
include
"
mozilla
/
dom
/
JSIPCValueUtils
.
h
"
namespace
mozilla
:
:
dom
{
void
JSActorTypeUtils
:
:
SerializeDeserialize
(
const
GlobalObject
&
aGlobal
bool
aStrict
JS
:
:
Handle
<
JS
:
:
Value
>
aVal
JS
:
:
MutableHandle
<
JS
:
:
Value
>
aRetVal
ErrorResult
&
aError
)
{
JSIPCValueUtils
:
:
Context
cx
(
aGlobal
.
Context
(
)
aStrict
)
;
auto
ipcValue
=
JSIPCValueUtils
:
:
TypedFromJSVal
(
cx
aVal
aError
)
;
if
(
aError
.
Failed
(
)
)
{
return
;
}
JSIPCValueUtils
:
:
ToJSVal
(
cx
std
:
:
move
(
ipcValue
)
aRetVal
aError
)
;
}
}

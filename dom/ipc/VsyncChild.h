#
ifndef
mozilla_dom_ipc_VsyncChild_h
#
define
mozilla_dom_ipc_VsyncChild_h
#
include
"
mozilla
/
dom
/
PVsyncChild
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsTObserverArray
.
h
"
namespace
mozilla
{
class
VsyncObserver
;
namespace
dom
{
class
VsyncChild
final
:
public
PVsyncChild
{
NS_INLINE_DECL_REFCOUNTING
(
VsyncChild
)
friend
class
PVsyncChild
;
public
:
VsyncChild
(
)
;
void
AddChildRefreshTimer
(
VsyncObserver
*
aVsyncObserver
)
;
void
RemoveChildRefreshTimer
(
VsyncObserver
*
aVsyncObserver
)
;
TimeDuration
GetVsyncRate
(
)
;
private
:
virtual
~
VsyncChild
(
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvNotify
(
const
VsyncEvent
&
aVsync
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvVsyncRate
(
const
float
&
aVsyncRate
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aActorDestroyReason
)
override
;
bool
mIsShutdown
;
TimeDuration
mVsyncRate
;
TimeStamp
lastVsyncRateTime
;
nsTObserverArray
<
VsyncObserver
*
>
mObservers
;
}
;
}
}
#
endif

#
ifndef
mozilla_dom_ipc_VsyncWorkerChild_h
#
define
mozilla_dom_ipc_VsyncWorkerChild_h
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
dom
/
VsyncChild
.
h
"
#
include
"
nsISupportsImpl
.
h
"
namespace
mozilla
:
:
dom
{
class
DedicatedWorkerGlobalScope
;
class
IPCWorkerRef
;
class
WorkerPrivate
;
class
VsyncWorkerChild
final
:
public
VsyncChild
{
NS_INLINE_DECL_REFCOUNTING
(
VsyncWorkerChild
override
)
friend
class
PVsyncChild
;
public
:
VsyncWorkerChild
(
)
;
bool
Initialize
(
WorkerPrivate
*
aWorkerPrivate
)
;
void
Destroy
(
)
;
void
TryObserve
(
)
;
void
TryUnobserve
(
)
;
private
:
~
VsyncWorkerChild
(
)
override
;
mozilla
:
:
ipc
:
:
IPCResult
RecvNotify
(
const
VsyncEvent
&
aVsync
const
float
&
aVsyncRate
)
override
;
void
ActorDestroy
(
ActorDestroyReason
aActorDestroyReason
)
override
;
RefPtr
<
IPCWorkerRef
>
mWorkerRef
;
bool
mObserving
=
false
;
}
;
}
#
endif

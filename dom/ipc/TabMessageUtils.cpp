#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
mozilla
/
EventDispatcher
.
h
"
#
include
"
mozilla
/
dom
/
Event
.
h
"
#
include
"
mozilla
/
dom
/
TabMessageUtils
.
h
"
#
include
"
nsCOMPtr
.
h
"
namespace
mozilla
:
:
dom
{
bool
ReadRemoteEvent
(
IPC
:
:
MessageReader
*
aReader
RemoteDOMEvent
*
aResult
)
{
aResult
-
>
mEvent
=
nullptr
;
nsString
type
;
NS_ENSURE_TRUE
(
ReadParam
(
aReader
&
type
)
false
)
;
aResult
-
>
mEvent
=
EventDispatcher
:
:
CreateEvent
(
nullptr
nullptr
nullptr
type
)
;
bool
ret
=
false
;
if
(
aResult
-
>
mEvent
)
{
ret
=
aResult
-
>
mEvent
-
>
Deserialize
(
aReader
)
;
}
MOZ_ASSERT_UNLESS_FUZZING
(
ret
)
;
return
ret
;
}
}

include
"
mozilla
/
GfxMessageUtils
.
h
"
;
include
"
mozilla
/
dom
/
DocShellMessageUtils
.
h
"
;
include
"
mozilla
/
dom
/
TabMessageUtils
.
h
"
;
include
"
mozilla
/
layers
/
LayersMessageUtils
.
h
"
;
include
IPCBlob
;
include
IPCStream
;
include
ProtocolTypes
;
include
protocol
PSHEntry
;
using
struct
mozilla
:
:
void_t
from
"
ipc
/
IPCMessageUtils
.
h
"
;
using
moveonly
struct
mozilla
:
:
SerializedStructuredCloneBuffer
from
"
ipc
/
IPCMessageUtils
.
h
"
;
using
LayoutDeviceIntRect
from
"
Units
.
h
"
;
using
DesktopIntRect
from
"
Units
.
h
"
;
using
DesktopToLayoutDeviceScale
from
"
Units
.
h
"
;
using
CSSToLayoutDeviceScale
from
"
Units
.
h
"
;
using
CSSRect
from
"
Units
.
h
"
;
using
CSSSize
from
"
Units
.
h
"
;
using
ScreenIntSize
from
"
Units
.
h
"
;
using
mozilla
:
:
LayoutDeviceIntPoint
from
"
Units
.
h
"
;
using
nsSizeMode
from
"
nsIWidgetListener
.
h
"
;
using
ScrollbarPreference
from
"
mozilla
/
ScrollbarPreferences
.
h
"
;
using
hal
:
:
ScreenOrientation
from
"
mozilla
/
HalScreenConfiguration
.
h
"
;
using
mozilla
:
:
gfx
:
:
SurfaceFormat
from
"
mozilla
/
gfx
/
Types
.
h
"
;
using
refcounted
class
nsIPrincipal
from
"
mozilla
/
dom
/
PermissionMessageUtils
.
h
"
;
using
mozilla
:
:
dom
:
:
MaybeDiscardedBrowsingContext
from
"
mozilla
/
dom
/
BrowsingContext
.
h
"
;
using
refcounted
class
nsIURI
from
"
mozilla
/
ipc
/
URIUtils
.
h
"
;
using
refcounted
class
nsIContentSecurityPolicy
from
"
mozilla
/
dom
/
CSPMessageUtils
.
h
"
;
using
refcounted
class
nsIInputStream
from
"
mozilla
/
ipc
/
IPCStreamUtils
.
h
"
;
using
refcounted
class
nsIReferrerInfo
from
"
mozilla
/
dom
/
ReferrerInfoUtils
.
h
"
;
using
refcounted
class
nsIVariant
from
"
mozilla
/
dom
/
PropertyBagUtils
.
h
"
;
using
class
mozilla
:
:
TimeStamp
from
"
mozilla
/
TimeStamp
.
h
"
;
using
refcounted
class
nsISHEntry
from
"
nsISHEntry
.
h
"
;
using
refcounted
class
mozilla
:
:
dom
:
:
BrowsingContext
from
"
mozilla
/
dom
/
BrowsingContext
.
h
"
;
using
refcounted
class
mozilla
:
:
dom
:
:
CrossProcessSHEntry
from
"
mozilla
/
dom
/
MaybeNewPSHEntry
.
h
"
;
namespace
mozilla
{
namespace
dom
{
struct
MessagePortIdentifier
{
nsID
uuid
;
nsID
destinationUuid
;
uint32_t
sequenceId
;
bool
neutered
;
}
;
struct
ClonedMessageData
{
SerializedStructuredCloneBuffer
data
;
IPCBlob
[
]
blobs
;
IPCStream
[
]
inputStreams
;
MessagePortIdentifier
[
]
identifiers
;
}
;
struct
RefMessageData
{
nsID
uuid
;
}
;
union
MessageDataType
{
ClonedMessageData
;
RefMessageData
;
}
;
struct
MessageData
{
nsID
?
agentClusterId
;
MessageDataType
data
;
}
;
union
IPCDataTransferData
{
nsString
;
Shmem
;
IPCBlob
;
}
;
struct
IPCDataTransferImage
{
uint32_t
width
;
uint32_t
height
;
uint32_t
stride
;
SurfaceFormat
format
;
}
;
struct
IPCDataTransferItem
{
nsCString
flavor
;
IPCDataTransferImage
imageDetails
;
IPCDataTransferData
data
;
}
;
struct
IPCDataTransfer
{
IPCDataTransferItem
[
]
items
;
}
;
struct
ScreenDetails
{
LayoutDeviceIntRect
rect
;
DesktopIntRect
rectDisplayPix
;
LayoutDeviceIntRect
availRect
;
DesktopIntRect
availRectDisplayPix
;
int32_t
pixelDepth
;
int32_t
colorDepth
;
DesktopToLayoutDeviceScale
contentsScaleFactor
;
CSSToLayoutDeviceScale
defaultCSSScaleFactor
;
float
dpi
;
}
;
struct
DimensionInfo
{
CSSRect
rect
;
CSSSize
size
;
ScreenOrientation
orientation
;
LayoutDeviceIntPoint
clientOffset
;
LayoutDeviceIntPoint
chromeOffset
;
}
;
struct
FrameScriptInfo
{
nsString
url
;
bool
runInGlobalScope
;
}
;
struct
FeaturePolicyInfo
{
nsString
[
]
inheritedDeniedFeatureNames
;
nsString
declaredString
;
nsIPrincipal
defaultOrigin
;
nsIPrincipal
selfOrigin
;
nsIPrincipal
srcOrigin
;
}
;
struct
CreatedWindowInfo
{
nsresult
rv
;
bool
windowOpened
;
FrameScriptInfo
[
]
frameScripts
;
nsCString
urlToLoad
;
uint32_t
maxTouchPoints
;
DimensionInfo
dimensions
;
bool
hasSiblings
;
}
;
struct
MediaMemoryInfo
{
uint64_t
audioSize
;
uint64_t
videoSize
;
uint64_t
resourcesSize
;
}
;
struct
PerformanceMemoryInfo
{
MediaMemoryInfo
media
;
uint64_t
domDom
;
uint64_t
domStyle
;
uint64_t
domOther
;
uint64_t
GCHeapUsage
;
}
;
struct
CategoryDispatch
{
uint16_t
category
;
uint16_t
count
;
}
;
struct
PerformanceInfo
{
nsCString
host
;
uint32_t
pid
;
uint64_t
windowId
;
uint64_t
duration
;
uint64_t
counterId
;
bool
isWorker
;
bool
isTopLevel
;
PerformanceMemoryInfo
memory
;
CategoryDispatch
[
]
items
;
}
;
struct
WindowGlobalInit
{
nsIPrincipal
principal
;
nsIPrincipal
contentBlockingAllowListPrincipal
;
nsIURI
documentURI
;
MaybeDiscardedBrowsingContext
browsingContext
;
uint64_t
innerWindowId
;
uint64_t
outerWindowId
;
}
;
struct
DocShellLoadStateInit
{
nsIURI
URI
;
nsIURI
OriginalURI
;
nsIURI
ResultPrincipalURI
;
bool
ResultPrincipalURIIsSome
;
nsIPrincipal
TriggeringPrincipal
;
nsIReferrerInfo
ReferrerInfo
;
bool
KeepResultPrincipalURIIfSet
;
bool
LoadReplace
;
bool
InheritPrincipal
;
bool
PrincipalIsExplicit
;
nsIPrincipal
PrincipalToInherit
;
nsIPrincipal
StoragePrincipalToInherit
;
bool
ForceAllowDataURI
;
bool
OriginalFrameSrc
;
bool
IsFormSubmission
;
uint32_t
LoadType
;
nsString
Target
;
nsIURI
BaseURI
;
uint32_t
LoadFlags
;
bool
FirstParty
;
bool
HasValidUserGestureActivation
;
nsCString
TypeHint
;
nsString
FileName
;
bool
IsFromProcessingFrameAttributes
;
nsIContentSecurityPolicy
Csp
;
MaybeDiscardedBrowsingContext
SourceBrowsingContext
;
nsCString
?
OriginalURIString
;
int32_t
?
CancelContentJSEpoch
;
nsIInputStream
PostDataStream
;
nsIInputStream
HeadersStream
;
nsString
SrcdocData
;
CrossProcessSHEntry
SHEntry
;
uint32_t
LoadIdentifier
;
}
;
struct
TimedChannelInfo
{
bool
timingEnabled
;
int8_t
redirectCount
;
int8_t
internalRedirectCount
;
TimeStamp
asyncOpen
;
TimeStamp
channelCreation
;
TimeStamp
redirectStart
;
TimeStamp
redirectEnd
;
nsString
initiatorType
;
bool
allRedirectsSameOrigin
;
bool
allRedirectsPassTimingAllowCheck
;
bool
?
timingAllowCheckForPrincipal
;
TimeStamp
launchServiceWorkerStart
;
TimeStamp
launchServiceWorkerEnd
;
TimeStamp
dispatchFetchEventStart
;
TimeStamp
dispatchFetchEventEnd
;
TimeStamp
handleFetchEventStart
;
TimeStamp
handleFetchEventEnd
;
TimeStamp
responseStart
;
TimeStamp
responseEnd
;
}
;
struct
ReplacementChannelConfigInit
{
uint32_t
redirectFlags
;
uint32_t
classOfService
;
bool
?
privateBrowsing
;
nsCString
?
method
;
nsIReferrerInfo
referrerInfo
;
TimedChannelInfo
?
timedChannel
;
nsIInputStream
uploadStream
;
bool
uploadStreamHasHeaders
;
nsCString
?
contentType
;
nsCString
?
contentLength
;
}
;
union
IPDLVariantValue
{
bool
;
uint8_t
;
int16_t
;
uint16_t
;
int32_t
;
uint32_t
;
float
;
double
;
nsID
;
nsString
;
nsCString
;
nsIURI
;
nsIPrincipal
;
}
;
struct
IDPLVariant
{
uint32_t
type
;
IPDLVariantValue
data
;
}
;
struct
IPDLProperty
{
nsString
name
;
nsIVariant
value
;
}
;
struct
ParentShowInfo
{
nsString
name
;
bool
fullscreenAllowed
;
bool
fakeShowInfo
;
bool
isTransparent
;
float
dpi
;
int32_t
widgetRounding
;
double
defaultScale
;
}
;
struct
OwnerShowInfo
{
ScreenIntSize
size
;
ScrollbarPreference
scrollbarPreference
;
bool
parentWindowIsActive
;
nsSizeMode
sizeMode
;
}
;
struct
SwapEntriesDocshellData
{
CrossProcessSHEntry
oldEntry
;
CrossProcessSHEntry
newEntry
;
MaybeDiscardedBrowsingContext
context
;
}
;
}
}

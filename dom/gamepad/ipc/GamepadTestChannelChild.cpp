#
include
"
GamepadTestChannelChild
.
h
"
#
include
"
mozilla
/
dom
/
GamepadServiceTest
.
h
"
namespace
mozilla
:
:
dom
{
already_AddRefed
<
GamepadTestChannelChild
>
GamepadTestChannelChild
:
:
Create
(
GamepadServiceTest
*
aGamepadServiceTest
)
{
return
RefPtr
<
GamepadTestChannelChild
>
(
new
GamepadTestChannelChild
(
aGamepadServiceTest
)
)
.
forget
(
)
;
}
GamepadTestChannelChild
:
:
GamepadTestChannelChild
(
GamepadServiceTest
*
aGamepadServiceTest
)
:
mGamepadServiceTest
(
aGamepadServiceTest
)
{
}
mozilla
:
:
ipc
:
:
IPCResult
GamepadTestChannelChild
:
:
RecvReplyGamepadHandle
(
const
uint32_t
&
aID
const
GamepadHandle
&
aHandle
)
{
MOZ_RELEASE_ASSERT
(
mGamepadServiceTest
"
Test
channel
should
never
outlive
the
owning
GamepadServiceTest
"
)
;
mGamepadServiceTest
-
>
ReplyGamepadHandle
(
aID
aHandle
)
;
return
IPC_OK
(
)
;
}
}

#
include
"
mozilla
/
dom
/
PGamepadEventChannelParent
.
h
"
#
ifndef
mozilla_dom_GamepadEventChannelParent_h_
#
define
mozilla_dom_GamepadEventChannelParent_h_
namespace
mozilla
{
namespace
dom
{
class
GamepadEventChannelParent
final
:
public
PGamepadEventChannelParent
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
GamepadEventChannelParent
)
GamepadEventChannelParent
(
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
mozilla
:
:
ipc
:
:
IPCResult
RecvGamepadListenerAdded
(
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvGamepadListenerRemoved
(
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvVibrateHaptic
(
const
uint32_t
&
aControllerIdx
const
uint32_t
&
aHapticIndex
const
double
&
aIntensity
const
double
&
aDuration
const
uint32_t
&
aPromiseID
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvStopVibrateHaptic
(
const
uint32_t
&
aControllerIdx
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvLightIndicatorColor
(
const
uint32_t
&
aControllerIdx
const
uint32_t
&
aLightColorIndex
const
uint8_t
&
aRed
const
uint8_t
&
aGreen
const
uint8_t
&
aBlue
const
uint32_t
&
aPromiseID
)
;
void
DispatchUpdateEvent
(
const
GamepadChangeEvent
&
aEvent
)
;
bool
HasGamepadListener
(
)
const
{
return
mHasGamepadListener
;
}
private
:
~
GamepadEventChannelParent
(
)
=
default
;
bool
mHasGamepadListener
;
nsCOMPtr
<
nsIEventTarget
>
mBackgroundEventTarget
;
}
;
}
}
#
endif

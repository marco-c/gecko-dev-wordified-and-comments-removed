#
include
"
mozilla
/
dom
/
PGamepadEventChannelParent
.
h
"
#
ifndef
mozilla_dom_GamepadEventChannelParent_h_
#
define
mozilla_dom_GamepadEventChannelParent_h_
namespace
mozilla
{
namespace
dom
{
class
GamepadEventChannelParent
final
:
public
PGamepadEventChannelParent
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
GamepadEventChannelParent
)
GamepadEventChannelParent
(
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvGamepadListenerAdded
(
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvGamepadListenerRemoved
(
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvVibrateHaptic
(
const
uint32_t
&
aControllerIdx
const
uint32_t
&
aHapticIndex
const
double
&
aIntensity
const
double
&
aDuration
const
uint32_t
&
aPromiseID
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvStopVibrateHaptic
(
const
uint32_t
&
aGamepadIndex
)
override
;
void
DispatchUpdateEvent
(
const
GamepadChangeEvent
&
aEvent
)
;
bool
HasGamepadListener
(
)
const
{
return
mHasGamepadListener
;
}
private
:
~
GamepadEventChannelParent
(
)
{
}
bool
mHasGamepadListener
;
nsCOMPtr
<
nsIThread
>
mBackgroundThread
;
}
;
}
}
#
endif

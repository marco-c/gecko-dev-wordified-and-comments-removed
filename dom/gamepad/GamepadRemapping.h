#
ifndef
mozilla_dom_GamepadRemapping_h_
#
define
mozilla_dom_GamepadRemapping_h_
namespace
mozilla
{
namespace
dom
{
enum
class
GamepadId
:
uint32_t
{
kSonyDualshock4
=
0x054c05c4
kSonyDualshock4Slim
=
0x054c09cc
kSonyDualshock4USBReceiver
=
0x054c0ba0
}
;
class
GamepadRemapper
{
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
GamepadRemapper
)
public
:
virtual
uint32_t
GetAxisCount
(
)
const
=
0
;
virtual
uint32_t
GetButtonCount
(
)
const
=
0
;
virtual
void
SetAxisCount
(
uint32_t
aButtonCount
)
{
}
virtual
void
SetButtonCount
(
uint32_t
aButtonCount
)
{
}
virtual
GamepadMappingType
GetMappingType
(
)
const
{
return
GamepadMappingType
:
:
Standard
;
}
virtual
void
RemapAxisMoveEvent
(
uint32_t
aIndex
uint32_t
aAxis
double
aValue
)
const
=
0
;
virtual
void
RemapButtonEvent
(
uint32_t
aIndex
uint32_t
aButton
bool
aPressed
)
const
=
0
;
protected
:
GamepadRemapper
(
)
=
default
;
virtual
~
GamepadRemapper
(
)
=
default
;
}
;
struct
GamepadRemappingData
{
GamepadId
id
;
RefPtr
<
GamepadRemapper
>
remapping
;
}
;
already_AddRefed
<
GamepadRemapper
>
GetGamepadRemapper
(
const
uint16_t
aVendorId
const
uint16_t
aProductId
)
;
}
}
#
endif

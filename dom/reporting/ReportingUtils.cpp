#
include
"
mozilla
/
dom
/
ReportingUtils
.
h
"
#
include
"
mozilla
/
dom
/
ReportBody
.
h
"
#
include
"
mozilla
/
dom
/
ReportDeliver
.
h
"
#
include
"
mozilla
/
dom
/
Report
.
h
"
#
include
"
mozilla
/
ipc
/
BackgroundChild
.
h
"
#
include
"
mozilla
/
ipc
/
BackgroundUtils
.
h
"
#
include
"
mozilla
/
ipc
/
PBackgroundChild
.
h
"
#
include
"
nsAtom
.
h
"
#
include
"
nsPIDOMWindow
.
h
"
namespace
mozilla
{
namespace
dom
{
void
ReportingUtils
:
:
Report
(
nsPIDOMWindowInner
*
aWindow
nsAtom
*
aType
const
nsAString
&
aGroupName
const
nsAString
&
aURL
ReportBody
*
aBody
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
MOZ_ASSERT
(
aWindow
)
;
MOZ_ASSERT
(
aBody
)
;
nsDependentAtomString
type
(
aType
)
;
RefPtr
<
mozilla
:
:
dom
:
:
Report
>
report
=
new
mozilla
:
:
dom
:
:
Report
(
aWindow
type
aURL
aBody
)
;
aWindow
-
>
BroadcastReport
(
report
)
;
ReportDeliver
:
:
Record
(
aWindow
type
aGroupName
aURL
aBody
)
;
}
}
}

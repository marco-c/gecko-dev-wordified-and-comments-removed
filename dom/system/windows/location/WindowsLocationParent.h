#
ifndef
mozilla_dom_WindowsLocationParent_h__
#
define
mozilla_dom_WindowsLocationParent_h__
#
include
"
mozilla
/
dom
/
PWindowsLocationParent
.
h
"
#
include
"
nsCOMPtr
.
h
"
class
nsGeoPosition
;
class
nsIGeolocationUpdate
;
namespace
mozilla
:
:
dom
{
class
WindowsLocationProvider
;
class
WindowsLocationParent
final
:
public
PWindowsLocationParent
{
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
WindowsLocationParent
override
)
;
using
IPCResult
=
:
:
mozilla
:
:
ipc
:
:
IPCResult
;
explicit
WindowsLocationParent
(
WindowsLocationProvider
*
aProvider
)
:
mProvider
(
aProvider
)
{
}
IPCResult
RecvUpdate
(
RefPtr
<
nsIDOMGeoPosition
>
aGeoPosition
)
;
IPCResult
RecvFailed
(
uint16_t
err
)
;
void
ActorDestroy
(
ActorDestroyReason
aReason
)
override
;
void
DetachFromLocationProvider
(
)
{
mProvider
=
nullptr
;
}
private
:
~
WindowsLocationParent
(
)
override
=
default
;
WindowsLocationProvider
*
mProvider
;
}
;
}
#
endif

#
ifndef
mozilla_dom_WindowsLocationProvider_h__
#
define
mozilla_dom_WindowsLocationProvider_h__
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIGeolocationProvider
.
h
"
#
include
<
locationapi
.
h
>
class
MLSFallback
;
namespace
mozilla
{
namespace
dom
{
class
WindowsLocationProvider
final
:
public
nsIGeolocationProvider
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIGEOLOCATIONPROVIDER
WindowsLocationProvider
(
)
;
nsresult
CreateAndWatchMLSProvider
(
nsIGeolocationUpdate
*
aCallback
)
;
void
CancelMLSProvider
(
)
;
class
MLSUpdate
:
public
nsIGeolocationUpdate
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIGEOLOCATIONUPDATE
explicit
MLSUpdate
(
nsIGeolocationUpdate
*
aCallback
)
;
private
:
nsCOMPtr
<
nsIGeolocationUpdate
>
mCallback
;
virtual
~
MLSUpdate
(
)
{
}
}
;
private
:
~
WindowsLocationProvider
(
)
;
RefPtr
<
ILocation
>
mLocation
;
RefPtr
<
MLSFallback
>
mMLSProvider
;
}
;
}
}
#
endif

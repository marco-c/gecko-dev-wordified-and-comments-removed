#
ifndef
mozilla_dom_FetchUtil_h
#
define
mozilla_dom_FetchUtil_h
#
include
"
nsString
.
h
"
#
include
"
nsError
.
h
"
#
include
"
nsFormData
.
h
"
#
include
"
mozilla
/
ErrorResult
.
h
"
#
include
"
mozilla
/
dom
/
File
.
h
"
namespace
mozilla
{
namespace
dom
{
class
FetchUtil
final
{
private
:
FetchUtil
(
)
=
delete
;
public
:
static
nsresult
GetValidRequestMethod
(
const
nsACString
&
aMethod
nsCString
&
outMethod
)
;
static
void
ConsumeArrayBuffer
(
JSContext
*
aCx
JS
:
:
MutableHandle
<
JSObject
*
>
aValue
uint32_t
aInputLength
uint8_t
*
aInput
ErrorResult
&
aRv
)
;
static
already_AddRefed
<
Blob
>
ConsumeBlob
(
nsISupports
*
aParent
const
nsString
&
aMimeType
uint32_t
aInputLength
uint8_t
*
aInput
ErrorResult
&
aRv
)
;
static
already_AddRefed
<
nsFormData
>
ConsumeFormData
(
nsIGlobalObject
*
aParent
const
nsCString
&
aMimeType
const
nsCString
&
aStr
ErrorResult
&
aRv
)
;
static
nsresult
ConsumeText
(
uint32_t
aInputLength
uint8_t
*
aInput
nsString
&
aText
)
;
static
void
ConsumeJson
(
JSContext
*
aCx
JS
:
:
MutableHandle
<
JS
:
:
Value
>
aValue
const
nsString
&
aStr
ErrorResult
&
aRv
)
;
static
bool
ExtractHeader
(
nsACString
:
:
const_iterator
&
aStart
nsACString
:
:
const_iterator
&
aEnd
nsCString
&
aHeaderName
nsCString
&
aHeaderValue
bool
*
aWasEmptyHeader
)
;
}
;
}
}
#
endif

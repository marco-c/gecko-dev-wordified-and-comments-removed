#
ifndef
mozilla_dom_ChannelInfo_h
#
define
mozilla_dom_ChannelInfo_h
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsITransportSecurityInfo
.
h
"
#
include
"
nsString
.
h
"
class
nsIChannel
;
class
nsIGlobalObject
;
class
nsIURI
;
namespace
mozilla
{
namespace
dom
{
class
Document
;
class
ChannelInfo
final
{
public
:
ChannelInfo
(
)
:
mInited
(
false
)
{
}
ChannelInfo
(
const
ChannelInfo
&
aRHS
)
=
default
;
ChannelInfo
&
operator
=
(
const
ChannelInfo
&
aRHS
)
=
default
;
void
InitFromDocument
(
Document
*
aDoc
)
;
void
InitFromChannel
(
nsIChannel
*
aChannel
)
;
void
InitFromChromeGlobal
(
nsIGlobalObject
*
aGlobal
)
;
void
InitFromTransportSecurityInfo
(
nsITransportSecurityInfo
*
aSecurityInfo
)
;
nsresult
ResurrectInfoOnChannel
(
nsIChannel
*
aChannel
)
;
bool
IsInitialized
(
)
const
{
return
mInited
;
}
already_AddRefed
<
nsITransportSecurityInfo
>
SecurityInfo
(
)
const
;
private
:
void
SetSecurityInfo
(
nsITransportSecurityInfo
*
aSecurityInfo
)
;
nsCOMPtr
<
nsITransportSecurityInfo
>
mSecurityInfo
;
bool
mInited
;
}
;
}
}
#
endif

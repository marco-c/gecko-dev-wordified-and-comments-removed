#
ifndef
mozilla_dom_FetchObserver_h
#
define
mozilla_dom_FetchObserver_h
#
include
"
mozilla
/
DOMEventTargetHelper
.
h
"
#
include
"
mozilla
/
dom
/
AbortSignal
.
h
"
#
include
"
mozilla
/
dom
/
FetchObserverBinding
.
h
"
namespace
mozilla
:
:
dom
{
class
FetchObserver
final
:
public
DOMEventTargetHelper
public
AbortFollower
{
public
:
NS_DECL_ISUPPORTS_INHERITED
NS_DECL_CYCLE_COLLECTION_CLASS_INHERITED
(
FetchObserver
DOMEventTargetHelper
)
FetchObserver
(
nsIGlobalObject
*
aGlobal
AbortSignalImpl
*
aSignalImpl
)
;
JSObject
*
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
override
;
FetchState
State
(
)
const
;
IMPL_EVENT_HANDLER
(
statechange
)
;
IMPL_EVENT_HANDLER
(
requestprogress
)
;
IMPL_EVENT_HANDLER
(
responseprogress
)
;
void
RunAbortAlgorithm
(
)
override
;
void
SetState
(
FetchState
aState
)
;
private
:
~
FetchObserver
(
)
=
default
;
FetchState
mState
;
}
;
}
#
endif

#
ifndef
mozilla_dom_ConsoleUtils_h
#
define
mozilla_dom_ConsoleUtils_h
#
include
"
mozilla
/
JSObjectHolder
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
:
:
dom
{
class
ConsoleUtils
final
{
public
:
NS_INLINE_DECL_REFCOUNTING
(
ConsoleUtils
)
enum
Level
{
eLog
eWarning
eError
}
;
static
void
ReportForServiceWorkerScope
(
const
nsAString
&
aScope
const
nsAString
&
aMessage
const
nsACString
&
aFilename
uint32_t
aLineNumber
uint32_t
aColumnNumber
Level
aLevel
)
;
private
:
ConsoleUtils
(
)
;
~
ConsoleUtils
(
)
;
static
ConsoleUtils
*
GetOrCreate
(
)
;
JSObject
*
GetOrCreateSandbox
(
JSContext
*
aCx
)
;
void
ReportForServiceWorkerScopeInternal
(
const
nsAString
&
aScope
const
nsAString
&
aMessage
const
nsACString
&
aFilename
uint32_t
aLineNumber
uint32_t
aColumnNumber
Level
aLevel
)
;
RefPtr
<
JSObjectHolder
>
mSandbox
;
}
;
}
#
endif

async
function
testSteps
(
)
{
const
name
=
"
test_orphaned_files
.
js
"
;
const
objectStoreName
=
"
Blobs
"
;
const
blobData
=
{
key
:
1
}
;
info
(
"
Installing
profile
"
)
;
let
request
=
clearAllDatabases
(
)
;
await
requestFinished
(
request
)
;
installPackagedProfile
(
"
orphaned_files_profile
"
)
;
info
(
"
Opening
database
"
)
;
request
=
indexedDB
.
open
(
name
)
;
await
expectingSuccess
(
request
)
;
info
(
"
Getting
data
"
)
;
request
=
request
.
result
.
transaction
(
[
objectStoreName
]
)
.
objectStore
(
objectStoreName
)
.
get
(
blobData
.
key
)
;
await
requestSucceeded
(
request
)
;
info
(
"
Verifying
data
"
)
;
ok
(
request
.
result
=
=
=
undefined
"
Correct
result
"
)
;
}

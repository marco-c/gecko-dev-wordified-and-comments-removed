#
include
"
txExpr
.
h
"
#
include
"
txIXPathContext
.
h
"
nsresult
UnaryExpr
:
:
evaluate
(
txIEvalContext
*
aContext
txAExprResult
*
*
aResult
)
{
*
aResult
=
nullptr
;
RefPtr
<
txAExprResult
>
exprRes
;
nsresult
rv
=
expr
-
>
evaluate
(
aContext
getter_AddRefs
(
exprRes
)
)
;
NS_ENSURE_SUCCESS
(
rv
rv
)
;
double
value
=
exprRes
-
>
numberValue
(
)
;
return
aContext
-
>
recycler
(
)
-
>
getNumberResult
(
-
value
aResult
)
;
}
TX_IMPL_EXPR_STUBS_1
(
UnaryExpr
NODESET_RESULT
expr
)
bool
UnaryExpr
:
:
isSensitiveTo
(
ContextSensitivity
aContext
)
{
return
expr
-
>
isSensitiveTo
(
aContext
)
;
}
#
ifdef
TX_TO_STRING
void
UnaryExpr
:
:
toString
(
nsAString
&
str
)
{
if
(
!
expr
)
return
;
str
.
Append
(
char16_t
(
'
-
'
)
)
;
expr
-
>
toString
(
str
)
;
}
#
endif

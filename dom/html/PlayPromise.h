#
ifndef
__PlayPromise_h__
#
define
__PlayPromise_h__
#
include
"
mozilla
/
dom
/
Promise
.
h
"
#
include
"
mozilla
/
Telemetry
.
h
"
namespace
mozilla
{
namespace
dom
{
class
PlayPromise
:
public
Promise
{
public
:
static
already_AddRefed
<
PlayPromise
>
Create
(
nsIGlobalObject
*
aGlobal
ErrorResult
&
aRv
)
;
using
PlayPromiseArr
=
nsTArray
<
RefPtr
<
PlayPromise
>
>
;
static
void
ResolvePromisesWithUndefined
(
const
PlayPromiseArr
&
aPromises
)
;
static
void
RejectPromises
(
const
PlayPromiseArr
&
aPromises
nsresult
aError
)
;
~
PlayPromise
(
)
;
void
MaybeResolveWithUndefined
(
)
;
void
MaybeReject
(
nsresult
aReason
)
;
private
:
explicit
PlayPromise
(
nsIGlobalObject
*
aGlobal
)
;
bool
mFulfilled
=
false
;
}
;
}
}
#
endif

const
mode
=
location
.
search
.
slice
(
1
)
;
if
(
mode
!
=
=
"
no
-
fetch
"
)
{
addEventListener
(
"
fetch
"
function
(
event
)
{
if
(
mode
=
=
=
"
reset
-
fetch
"
)
{
return
;
}
if
(
mode
=
=
=
"
proxy
-
fetch
"
)
{
event
.
respondWith
(
fetch
(
event
.
request
)
)
;
}
}
)
;
}
addEventListener
(
"
install
"
function
(
event
)
{
event
.
waitUntil
(
skipWaiting
(
)
)
;
}
)
;
addEventListener
(
"
activate
"
function
(
event
)
{
event
.
waitUntil
(
clients
.
claim
(
)
)
;
}
)
;

#
ifndef
XULMenuBarElement_h__
#
define
XULMenuBarElement_h__
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
dom
/
NameSpaceConstants
.
h
"
#
include
"
nsINode
.
h
"
#
include
"
nsISupports
.
h
"
#
include
"
XULMenuParentElement
.
h
"
namespace
mozilla
:
:
dom
{
class
KeyboardEvent
;
class
XULButtonElement
;
class
MenuBarListener
;
nsXULElement
*
NS_NewXULMenuBarElement
(
already_AddRefed
<
mozilla
:
:
dom
:
:
NodeInfo
>
&
&
aNodeInfo
)
;
class
XULMenuBarElement
final
:
public
XULMenuParentElement
{
public
:
NS_DECL_ISUPPORTS_INHERITED
NS_DECL_CYCLE_COLLECTION_CLASS_INHERITED
(
XULMenuBarElement
XULMenuParentElement
)
NS_IMPL_FROMNODE_WITH_TAG
(
XULMenuBarElement
kNameSpaceID_XUL
menubar
)
explicit
XULMenuBarElement
(
already_AddRefed
<
class
NodeInfo
>
&
&
)
;
MOZ_CAN_RUN_SCRIPT
void
SetActive
(
bool
)
;
bool
IsActive
(
)
const
{
return
mIsActive
;
}
void
SetActiveByKeyboard
(
)
{
mActiveByKeyboard
=
true
;
}
bool
IsActiveByKeyboard
(
)
const
{
return
mActiveByKeyboard
;
}
MOZ_CAN_RUN_SCRIPT
void
MenuClosed
(
)
{
SetActive
(
false
)
;
}
nsresult
BindToTree
(
BindContext
&
nsINode
&
aParent
)
override
;
void
UnbindFromTree
(
bool
aNullParent
)
override
;
protected
:
~
XULMenuBarElement
(
)
override
;
bool
mIsActive
=
false
;
bool
mActiveByKeyboard
=
false
;
RefPtr
<
MenuBarListener
>
mListener
;
}
;
}
#
endif

#
ifndef
nsXULControllers_h__
#
define
nsXULControllers_h__
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsTArray
.
h
"
#
include
"
nsIControllers
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
class
nsXULControllerData
final
{
public
:
nsXULControllerData
(
uint32_t
inControllerID
nsIController
*
inController
)
:
mControllerID
(
inControllerID
)
mController
(
inController
)
{
}
~
nsXULControllerData
(
)
=
default
;
uint32_t
GetControllerID
(
)
{
return
mControllerID
;
}
nsresult
GetController
(
nsIController
*
*
outController
)
{
NS_IF_ADDREF
(
*
outController
=
mController
)
;
return
NS_OK
;
}
uint32_t
mControllerID
;
nsCOMPtr
<
nsIController
>
mController
;
}
;
class
nsXULControllers
final
:
public
nsIControllers
{
public
:
nsXULControllers
(
)
;
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_CLASS_AMBIGUOUS
(
nsXULControllers
nsIControllers
)
NS_DECL_NSICONTROLLERS
protected
:
virtual
~
nsXULControllers
(
void
)
;
void
DeleteControllers
(
)
;
nsTArray
<
nsXULControllerData
*
>
mControllers
;
uint32_t
mCurControllerID
;
}
;
#
endif

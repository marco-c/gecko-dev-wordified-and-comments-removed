#
include
"
mozilla
/
dom
/
XULTextElement
.
h
"
#
include
"
mozilla
/
dom
/
Element
.
h
"
#
include
"
mozilla
/
dom
/
ToJSValue
.
h
"
#
include
"
mozilla
/
dom
/
XULTextElementBinding
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsChangeHint
.
h
"
#
include
"
nsIContent
.
h
"
#
include
"
nsIMutationObserver
.
h
"
#
include
"
nsPresContext
.
h
"
namespace
mozilla
:
:
dom
{
nsChangeHint
XULTextElement
:
:
GetAttributeChangeHint
(
const
nsAtom
*
aAttribute
AttrModType
aModType
)
const
{
const
bool
reframe
=
[
&
]
{
if
(
aAttribute
=
=
nsGkAtoms
:
:
value
)
{
return
IsAdditionOrRemoval
(
aModType
)
|
|
HasAttr
(
nsGkAtoms
:
:
accesskey
)
;
}
if
(
aAttribute
=
=
nsGkAtoms
:
:
crop
|
|
aAttribute
=
=
nsGkAtoms
:
:
accesskey
)
{
return
HasAttr
(
nsGkAtoms
:
:
value
)
;
}
return
false
;
}
(
)
;
if
(
reframe
)
{
return
nsChangeHint_ReconstructFrame
;
}
return
nsXULElement
:
:
GetAttributeChangeHint
(
aAttribute
aModType
)
;
}
void
XULTextElement
:
:
AfterSetAttr
(
int32_t
aNamespaceID
nsAtom
*
aName
const
nsAttrValue
*
aValue
const
nsAttrValue
*
aOldValue
nsIPrincipal
*
aSubjectPrincipal
bool
aNotify
)
{
nsXULElement
:
:
AfterSetAttr
(
aNamespaceID
aName
aValue
aOldValue
aSubjectPrincipal
aNotify
)
;
if
(
aNamespaceID
=
=
kNameSpaceID_None
&
&
aName
=
=
nsGkAtoms
:
:
disabled
)
{
SetStates
(
ElementState
:
:
DISABLED
!
!
aValue
aNotify
)
;
}
}
JSObject
*
XULTextElement
:
:
WrapNode
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
{
return
XULTextElement_Binding
:
:
Wrap
(
aCx
this
aGivenProto
)
;
}
}

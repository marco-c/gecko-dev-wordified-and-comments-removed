#
ifndef
mozilla_dom_SharedMessagePortMessage_h
#
define
mozilla_dom_SharedMessagePortMessage_h
#
include
"
mozilla
/
dom
/
ipc
/
StructuredCloneData
.
h
"
namespace
mozilla
{
namespace
dom
{
class
MessagePortChild
;
class
MessagePortMessage
;
class
MessagePortParent
;
class
SharedMessagePortMessage
final
:
public
ipc
:
:
StructuredCloneData
{
public
:
NS_INLINE_DECL_REFCOUNTING
(
SharedMessagePortMessage
)
SharedMessagePortMessage
(
)
:
ipc
:
:
StructuredCloneData
(
StructuredCloneScope
:
:
UnknownDestination
)
{
}
static
void
FromSharedToMessagesChild
(
MessagePortChild
*
aActor
const
nsTArray
<
RefPtr
<
SharedMessagePortMessage
>
>
&
aData
nsTArray
<
MessageData
>
&
aArray
)
;
static
bool
FromMessagesToSharedChild
(
nsTArray
<
MessageData
>
&
aArray
FallibleTArray
<
RefPtr
<
SharedMessagePortMessage
>
>
&
aData
)
;
static
bool
FromSharedToMessagesParent
(
MessagePortParent
*
aActor
const
nsTArray
<
RefPtr
<
SharedMessagePortMessage
>
>
&
aData
FallibleTArray
<
MessageData
>
&
aArray
)
;
static
bool
FromMessagesToSharedParent
(
nsTArray
<
MessageData
>
&
aArray
FallibleTArray
<
RefPtr
<
SharedMessagePortMessage
>
>
&
aData
)
;
private
:
~
SharedMessagePortMessage
(
)
=
default
;
}
;
}
}
#
endif

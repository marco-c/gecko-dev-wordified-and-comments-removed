#
ifndef
mozilla_dom_SVGDocument_h
#
define
mozilla_dom_SVGDocument_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
dom
/
XMLDocument
.
h
"
class
nsSVGElement
;
namespace
mozilla
{
class
SVGContextPaint
;
namespace
dom
{
class
SVGForeignObjectElement
;
class
SVGDocument
final
:
public
XMLDocument
{
friend
class
SVGForeignObjectElement
;
friend
class
nsIDocument
;
public
:
SVGDocument
(
)
:
XMLDocument
(
"
image
/
svg
+
xml
"
)
mHasLoadedNonSVGUserAgentStyleSheets
(
false
)
{
mType
=
eSVG
;
}
virtual
nsresult
InsertChildBefore
(
nsIContent
*
aKid
nsIContent
*
aBeforeThis
bool
aNotify
)
override
;
virtual
nsresult
Clone
(
mozilla
:
:
dom
:
:
NodeInfo
*
aNodeInfo
nsINode
*
*
aResult
bool
aPreallocateChildren
)
const
override
;
void
SetCurrentContextPaint
(
const
SVGContextPaint
*
aContextPaint
)
{
mCurrentContextPaint
=
aContextPaint
;
}
const
SVGContextPaint
*
GetCurrentContextPaint
(
)
const
{
return
mCurrentContextPaint
;
}
private
:
void
EnsureNonSVGUserAgentStyleSheetsLoaded
(
)
;
bool
mHasLoadedNonSVGUserAgentStyleSheets
;
const
SVGContextPaint
*
mCurrentContextPaint
=
nullptr
;
}
;
}
}
inline
mozilla
:
:
dom
:
:
SVGDocument
*
nsIDocument
:
:
AsSVGDocument
(
)
{
MOZ_ASSERT
(
IsSVGDocument
(
)
)
;
return
static_cast
<
mozilla
:
:
dom
:
:
SVGDocument
*
>
(
this
)
;
}
#
endif

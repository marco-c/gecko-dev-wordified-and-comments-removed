#
include
"
mozilla
/
dom
/
SVGDocument
.
h
"
#
include
"
SVGElement
.
h
"
#
include
"
mozilla
/
StyleSheet
.
h
"
#
include
"
mozilla
/
StyleSheetInlines
.
h
"
#
include
"
mozilla
/
css
/
Loader
.
h
"
#
include
"
mozilla
/
dom
/
Element
.
h
"
#
include
"
nsLiteralString
.
h
"
#
include
"
nsNetUtil
.
h
"
#
include
"
nsServiceManagerUtils
.
h
"
#
include
"
nsString
.
h
"
using
namespace
mozilla
:
:
css
;
using
namespace
mozilla
:
:
dom
;
namespace
mozilla
:
:
dom
{
nsresult
SVGDocument
:
:
Clone
(
dom
:
:
NodeInfo
*
aNodeInfo
nsINode
*
*
aResult
)
const
{
NS_ASSERTION
(
aNodeInfo
-
>
NodeInfoManager
(
)
=
=
mNodeInfoManager
"
Can
'
t
import
this
document
into
another
document
!
"
)
;
RefPtr
<
SVGDocument
>
clone
=
new
SVGDocument
(
)
;
nsresult
rv
=
CloneDocHelper
(
clone
.
get
(
)
)
;
NS_ENSURE_SUCCESS
(
rv
rv
)
;
clone
.
forget
(
aResult
)
;
return
NS_OK
;
}
}
nsresult
NS_NewSVGDocument
(
Document
*
*
aInstancePtrResult
nsIPrincipal
*
aPrincipal
nsIPrincipal
*
aPartitionedPrincipal
)
{
RefPtr
<
SVGDocument
>
doc
=
new
SVGDocument
(
)
;
nsresult
rv
=
doc
-
>
Init
(
aPrincipal
aPartitionedPrincipal
)
;
if
(
NS_FAILED
(
rv
)
)
{
return
rv
;
}
doc
.
forget
(
aInstancePtrResult
)
;
return
rv
;
}

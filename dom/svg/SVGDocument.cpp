#
include
"
mozilla
/
dom
/
SVGDocument
.
h
"
#
include
"
mozilla
/
css
/
Loader
.
h
"
#
include
"
nsICategoryManager
.
h
"
#
include
"
nsISimpleEnumerator
.
h
"
#
include
"
nsIStyleSheetService
.
h
"
#
include
"
nsISupportsPrimitives
.
h
"
#
include
"
nsLayoutStylesheetCache
.
h
"
#
include
"
nsNetUtil
.
h
"
#
include
"
nsServiceManagerUtils
.
h
"
#
include
"
nsString
.
h
"
#
include
"
nsLiteralString
.
h
"
#
include
"
mozilla
/
dom
/
Element
.
h
"
#
include
"
nsSVGElement
.
h
"
#
include
"
mozilla
/
StyleSheet
.
h
"
#
include
"
mozilla
/
StyleSheetInlines
.
h
"
using
namespace
mozilla
:
:
css
;
using
namespace
mozilla
:
:
dom
;
namespace
mozilla
{
namespace
dom
{
nsresult
SVGDocument
:
:
Clone
(
mozilla
:
:
dom
:
:
NodeInfo
*
aNodeInfo
nsINode
*
*
aResult
bool
aPreallocateChildren
)
const
{
NS_ASSERTION
(
aNodeInfo
-
>
NodeInfoManager
(
)
=
=
mNodeInfoManager
"
Can
'
t
import
this
document
into
another
document
!
"
)
;
RefPtr
<
SVGDocument
>
clone
=
new
SVGDocument
(
)
;
nsresult
rv
=
CloneDocHelper
(
clone
.
get
(
)
aPreallocateChildren
)
;
NS_ENSURE_SUCCESS
(
rv
rv
)
;
return
CallQueryInterface
(
clone
.
get
(
)
aResult
)
;
}
}
}
nsresult
NS_NewSVGDocument
(
nsIDocument
*
*
aInstancePtrResult
)
{
RefPtr
<
SVGDocument
>
doc
=
new
SVGDocument
(
)
;
nsresult
rv
=
doc
-
>
Init
(
)
;
if
(
NS_FAILED
(
rv
)
)
{
return
rv
;
}
doc
.
forget
(
aInstancePtrResult
)
;
return
rv
;
}

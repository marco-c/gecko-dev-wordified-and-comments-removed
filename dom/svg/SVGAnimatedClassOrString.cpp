#
include
"
SVGAnimatedClassOrString
.
h
"
#
include
"
DOMSVGAnimatedString
.
h
"
#
include
"
SVGAttrTearoffTable
.
h
"
namespace
mozilla
{
static
SVGAttrTearoffTable
<
SVGAnimatedClassOrString
DOMSVGAnimatedString
>
sSVGAnimatedClassOrStringTearoffTable
;
already_AddRefed
<
DOMSVGAnimatedString
>
SVGAnimatedClassOrString
:
:
ToDOMAnimatedString
(
SVGElement
*
aSVGElement
)
{
RefPtr
<
DOMSVGAnimatedString
>
domAnimatedString
=
sSVGAnimatedClassOrStringTearoffTable
.
GetTearoff
(
this
)
;
if
(
!
domAnimatedString
)
{
domAnimatedString
=
new
DOMSVGAnimatedString
(
this
aSVGElement
)
;
sSVGAnimatedClassOrStringTearoffTable
.
AddTearoff
(
this
domAnimatedString
)
;
}
return
domAnimatedString
.
forget
(
)
;
}
void
SVGAnimatedClassOrString
:
:
RemoveTearoff
(
)
{
sSVGAnimatedClassOrStringTearoffTable
.
RemoveTearoff
(
this
)
;
}
}

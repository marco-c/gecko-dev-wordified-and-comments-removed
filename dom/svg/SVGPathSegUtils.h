#
ifndef
DOM_SVG_SVGPATHSEGUTILS_H_
#
define
DOM_SVG_SVGPATHSEGUTILS_H_
#
include
"
mozilla
/
Span
.
h
"
#
include
"
mozilla
/
gfx
/
Point
.
h
"
#
include
"
mozilla
/
gfx
/
Rect
.
h
"
namespace
mozilla
{
template
<
typename
H
typename
V
>
struct
StyleGenericPosition
;
template
<
typename
Position
typename
LP
>
struct
StyleCommandEndPoint
;
template
<
typename
T
>
using
StyleEndPoint
=
StyleCommandEndPoint
<
StyleGenericPosition
<
T
T
>
T
>
;
template
<
typename
Position
typename
LP
>
struct
StyleControlPoint
;
template
<
typename
T
>
using
StyleCurveControlPoint
=
StyleControlPoint
<
StyleGenericPosition
<
T
T
>
T
>
;
template
<
typename
Angle
typename
Position
typename
LP
>
struct
StyleGenericShapeCommand
;
using
StylePathCommand
=
StyleGenericShapeCommand
<
float
StyleGenericPosition
<
float
float
>
float
>
;
struct
SVGPathTraversalState
{
using
Point
=
gfx
:
:
Point
;
enum
TraversalMode
{
eUpdateAll
eUpdateOnlyStartAndCurrentPos
}
;
SVGPathTraversalState
(
)
:
start
(
0
.
0
0
.
0
)
pos
(
0
.
0
0
.
0
)
cp1
(
0
.
0
0
.
0
)
cp2
(
0
.
0
0
.
0
)
length
(
0
.
0
)
mode
(
eUpdateAll
)
{
}
bool
ShouldUpdateLengthAndControlPoints
(
)
{
return
mode
=
=
eUpdateAll
;
}
Point
start
;
Point
pos
;
Point
cp1
;
Point
cp2
;
float
length
;
TraversalMode
mode
;
}
;
class
SVGPathSegUtils
{
private
:
SVGPathSegUtils
(
)
=
default
;
public
:
static
void
TraversePathSegment
(
const
StylePathCommand
&
SVGPathTraversalState
&
)
;
}
;
Maybe
<
gfx
:
:
Rect
>
SVGPathToAxisAlignedRect
(
Span
<
const
StylePathCommand
>
)
;
}
#
endif

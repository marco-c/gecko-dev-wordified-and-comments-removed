#
ifndef
DOM_SVG_SVGANIMATEDBOOLEAN_H_
#
define
DOM_SVG_SVGANIMATEDBOOLEAN_H_
#
include
"
mozilla
/
AlreadyAddRefed
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
SMILAttr
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
nsError
.
h
"
class
nsAtom
;
namespace
mozilla
{
class
SMILValue
;
namespace
dom
{
class
DOMSVGAnimatedBoolean
;
class
SVGAnimationElement
;
class
SVGElement
;
}
class
SVGAnimatedBoolean
{
public
:
friend
class
AutoChangeBooleanNotifier
;
using
SVGElement
=
dom
:
:
SVGElement
;
void
Init
(
uint8_t
aAttrEnum
=
0xff
bool
aValue
=
false
)
{
mAnimVal
=
mBaseVal
=
aValue
;
mAttrEnum
=
aAttrEnum
;
mIsAnimated
=
false
;
}
nsresult
SetBaseValueAtom
(
const
nsAtom
*
aValue
SVGElement
*
aSVGElement
)
;
nsAtom
*
GetBaseValueAtom
(
)
const
;
void
SetBaseValue
(
bool
aValue
SVGElement
*
aSVGElement
)
;
bool
GetBaseValue
(
)
const
{
return
mBaseVal
;
}
void
SetAnimValue
(
bool
aValue
SVGElement
*
aSVGElement
)
;
bool
GetAnimValue
(
)
const
{
return
mAnimVal
;
}
already_AddRefed
<
dom
:
:
DOMSVGAnimatedBoolean
>
ToDOMAnimatedBoolean
(
SVGElement
*
aSVGElement
)
;
UniquePtr
<
SMILAttr
>
ToSMILAttr
(
SVGElement
*
aSVGElement
)
;
private
:
bool
mAnimVal
;
bool
mBaseVal
;
bool
mIsAnimated
;
uint8_t
mAttrEnum
;
public
:
struct
SMILBool
:
public
SMILAttr
{
public
:
SMILBool
(
SVGAnimatedBoolean
*
aVal
SVGElement
*
aSVGElement
)
:
mVal
(
aVal
)
mSVGElement
(
aSVGElement
)
{
}
SVGAnimatedBoolean
*
mVal
;
SVGElement
*
mSVGElement
;
nsresult
ValueFromString
(
const
nsAString
&
aStr
const
dom
:
:
SVGAnimationElement
*
aSrcElement
SMILValue
&
aValue
bool
&
aPreventCachingOfSandwich
)
const
override
;
SMILValue
GetBaseValue
(
)
const
override
;
void
ClearAnimValue
(
)
override
;
nsresult
SetAnimValue
(
const
SMILValue
&
aValue
)
override
;
}
;
}
;
}
#
endif

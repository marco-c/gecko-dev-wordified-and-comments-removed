#
include
"
mozilla
/
dom
/
SVGTitleElement
.
h
"
#
include
"
mozilla
/
dom
/
SVGTitleElementBinding
.
h
"
#
include
"
mozilla
/
dom
/
Document
.
h
"
NS_IMPL_NS_NEW_SVG_ELEMENT
(
Title
)
namespace
mozilla
:
:
dom
{
JSObject
*
SVGTitleElement
:
:
WrapNode
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
{
return
SVGTitleElement_Binding
:
:
Wrap
(
aCx
this
aGivenProto
)
;
}
NS_IMPL_ISUPPORTS_INHERITED
(
SVGTitleElement
SVGTitleElementBase
nsIMutationObserver
)
SVGTitleElement
:
:
SVGTitleElement
(
already_AddRefed
<
mozilla
:
:
dom
:
:
NodeInfo
>
&
&
aNodeInfo
)
:
SVGTitleElementBase
(
std
:
:
move
(
aNodeInfo
)
)
{
AddMutationObserver
(
this
)
;
SetEnabledCallbacks
(
kCharacterDataChanged
|
kContentAppended
|
kContentInserted
|
kContentWillBeRemoved
)
;
}
void
SVGTitleElement
:
:
CharacterDataChanged
(
nsIContent
*
aContent
const
CharacterDataChangeInfo
&
)
{
SendTitleChangeEvent
(
false
)
;
}
void
SVGTitleElement
:
:
ContentAppended
(
nsIContent
*
aFirstNewContent
const
ContentAppendInfo
&
)
{
SendTitleChangeEvent
(
false
)
;
}
void
SVGTitleElement
:
:
ContentInserted
(
nsIContent
*
aChild
const
ContentInsertInfo
&
)
{
SendTitleChangeEvent
(
false
)
;
}
void
SVGTitleElement
:
:
ContentWillBeRemoved
(
nsIContent
*
aChild
const
ContentRemoveInfo
&
)
{
SendTitleChangeEvent
(
false
)
;
}
nsresult
SVGTitleElement
:
:
BindToTree
(
BindContext
&
aContext
nsINode
&
aParent
)
{
nsresult
rv
=
SVGTitleElementBase
:
:
BindToTree
(
aContext
aParent
)
;
NS_ENSURE_SUCCESS
(
rv
rv
)
;
SendTitleChangeEvent
(
true
)
;
return
NS_OK
;
}
void
SVGTitleElement
:
:
UnbindFromTree
(
UnbindContext
&
aContext
)
{
SendTitleChangeEvent
(
false
)
;
SVGTitleElementBase
:
:
UnbindFromTree
(
aContext
)
;
}
void
SVGTitleElement
:
:
DoneAddingChildren
(
bool
aHaveNotified
)
{
if
(
!
aHaveNotified
)
{
SendTitleChangeEvent
(
false
)
;
}
}
void
SVGTitleElement
:
:
SendTitleChangeEvent
(
bool
aBound
)
{
if
(
Document
*
doc
=
GetUncomposedDoc
(
)
)
{
doc
-
>
NotifyPossibleTitleChange
(
aBound
)
;
}
}
NS_IMPL_ELEMENT_CLONE_WITH_INIT
(
SVGTitleElement
)
}

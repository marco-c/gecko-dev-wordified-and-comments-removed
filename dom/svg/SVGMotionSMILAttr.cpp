#
include
"
SVGMotionSMILAttr
.
h
"
#
include
"
SVGMotionSMILType
.
h
"
#
include
"
gfx2DGlue
.
h
"
#
include
"
mozilla
/
SMILValue
.
h
"
#
include
"
mozilla
/
dom
/
SVGAnimationElement
.
h
"
#
include
"
mozilla
/
dom
/
SVGElement
.
h
"
#
include
"
nsDebug
.
h
"
namespace
mozilla
{
nsresult
SVGMotionSMILAttr
:
:
ValueFromString
(
const
nsAString
&
aStr
const
dom
:
:
SVGAnimationElement
*
aSrcElement
SMILValue
&
aValue
bool
&
aPreventCachingOfSandwich
)
const
{
MOZ_ASSERT_UNREACHABLE
(
"
Shouldn
'
t
using
SMILAttr
:
:
ValueFromString
for
"
"
parsing
animateMotion
'
s
SMIL
values
.
"
)
;
return
NS_ERROR_FAILURE
;
}
SMILValue
SVGMotionSMILAttr
:
:
GetBaseValue
(
)
const
{
return
SMILValue
(
&
SVGMotionSMILType
:
:
sSingleton
)
;
}
void
SVGMotionSMILAttr
:
:
ClearAnimValue
(
)
{
mSVGElement
-
>
SetAnimateMotionTransform
(
nullptr
)
;
}
nsresult
SVGMotionSMILAttr
:
:
SetAnimValue
(
const
SMILValue
&
aValue
)
{
gfx
:
:
Matrix
matrix
=
SVGMotionSMILType
:
:
CreateMatrix
(
aValue
)
;
mSVGElement
-
>
SetAnimateMotionTransform
(
&
matrix
)
;
return
NS_OK
;
}
const
nsIContent
*
SVGMotionSMILAttr
:
:
GetTargetNode
(
)
const
{
return
mSVGElement
;
}
}

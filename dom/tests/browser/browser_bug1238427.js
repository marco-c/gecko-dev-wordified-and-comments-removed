"
use
strict
"
;
const
TEST_URI
=
"
http
:
/
/
example
.
com
/
"
+
"
browser
/
dom
/
tests
/
browser
/
geo_leak_test
.
html
"
;
const
BASE_GEO_URL
=
"
http
:
/
/
mochi
.
test
:
8888
/
tests
/
dom
/
tests
/
mochitest
/
geolocation
/
network_geolocation
.
sjs
"
;
add_task
(
async
function
(
)
{
Services
.
prefs
.
setBoolPref
(
"
geo
.
prompt
.
testing
"
true
)
;
Services
.
prefs
.
setBoolPref
(
"
geo
.
prompt
.
testing
.
allow
"
true
)
;
Services
.
prefs
.
setCharPref
(
"
geo
.
provider
.
network
.
url
"
BASE_GEO_URL
+
"
?
delay
=
100000
"
)
;
await
BrowserTestUtils
.
withNewTab
(
{
gBrowser
url
:
TEST_URI
}
function
(
)
{
}
)
;
ok
(
true
"
Need
to
do
something
in
this
test
"
)
;
}
)
;

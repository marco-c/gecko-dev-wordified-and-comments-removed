<
!
DOCTYPE
html
>
<
html
>
<
head
>
<
script
type
=
"
text
/
javascript
"
src
=
"
/
tests
/
SimpleTest
/
SimpleTest
.
js
"
>
<
/
script
>
<
link
rel
=
"
stylesheet
"
type
=
"
text
/
css
"
href
=
"
/
tests
/
SimpleTest
/
test
.
css
"
/
>
<
script
defer
src
=
"
file_blocked_script
.
sjs
?
blocked
&
defer
"
>
<
/
script
>
<
script
async
src
=
"
file_blocked_script
.
sjs
?
blocked
&
async
"
>
<
/
script
>
<
/
head
>
<
body
>
<
script
>
/
/
No
need
for
an
async
test
we
make
it
all
before
window
.
onload
.
/
/
/
/
We
can
'
t
test
whether
the
two
scripts
have
not
been
executed
here
since
/
/
preloads
of
the
two
images
below
(
that
unblock
the
two
tested
<
head
>
/
/
scripts
)
may
happen
sooner
than
this
script
executes
.
document
.
addEventListener
(
"
DOMContentLoaded
"
function
(
)
{
ok
(
window
.
script_executed_defer
"
Deferred
script
executed
before
DOMContentLoaded
"
)
;
}
)
;
window
.
addEventListener
(
"
load
"
function
(
)
{
ok
(
window
.
script_executed_async
"
Async
script
executed
before
onload
"
)
;
}
true
)
;
<
/
script
>
<
img
src
=
"
file_blocked_script
.
sjs
?
unblock
&
defer
"
/
>
<
img
src
=
"
file_blocked_script
.
sjs
?
unblock
&
async
"
/
>
<
/
body
>

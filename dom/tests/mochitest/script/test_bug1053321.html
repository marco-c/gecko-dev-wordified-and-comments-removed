<
!
DOCTYPE
html
>
<
html
>
<
head
>
<
script
type
=
"
text
/
javascript
"
src
=
"
/
tests
/
SimpleTest
/
SimpleTest
.
js
"
>
<
/
script
>
<
link
rel
=
"
stylesheet
"
type
=
"
text
/
css
"
href
=
"
/
tests
/
SimpleTest
/
test
.
css
"
/
>
<
script
>
/
/
The
two
scripts
below
are
expected
to
load
and
call
scriptLoaded
(
)
.
SimpleTest
.
waitForExplicitFinish
(
)
;
window
.
expected_scripts
=
{
"
defer
"
:
true
"
async
"
:
true
}
;
function
scriptLoaded
(
script
)
{
ok
(
true
'
Script
'
+
script
+
'
executed
'
)
;
delete
window
.
expected_scripts
[
script
]
;
let
expecting
=
Object
.
keys
(
window
.
expected_scripts
)
.
length
;
info
(
"
Expecting
"
+
expecting
+
"
more
script
(
s
)
to
execute
"
)
;
if
(
expecting
=
=
0
)
{
SimpleTest
.
finish
(
)
;
}
}
<
/
script
>
<
script
defer
src
=
"
file_blocked_script
.
sjs
?
blocked
&
defer
"
>
<
/
script
>
<
script
async
src
=
"
file_blocked_script
.
sjs
?
blocked
&
async
"
>
<
/
script
>
<
/
head
>
<
body
>
<
img
src
=
"
file_blocked_script
.
sjs
?
unblock
&
defer
"
/
>
<
img
src
=
"
file_blocked_script
.
sjs
?
unblock
&
async
"
/
>
<
/
body
>

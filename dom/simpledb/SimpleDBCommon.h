#
ifndef
mozilla_dom_simpledb_SimpledbCommon_h
#
define
mozilla_dom_simpledb_SimpledbCommon_h
#
include
"
mozilla
/
dom
/
quota
/
QuotaCommon
.
h
"
#
define
SDB_TRY_GLUE
(
.
.
.
)
\
QM_TRY_META
(
mozilla
:
:
dom
:
:
simpledb
MOZ_UNIQUE_VAR
(
tryResult
)
#
#
__VA_ARGS__
)
#
define
SDB_TRY
(
.
.
.
)
SDB_TRY_GLUE
(
__VA_ARGS__
)
#
ifdef
DEBUG
#
define
SDB_DEBUG_TRY
(
.
.
.
)
SDB_TRY
(
__VA_ARGS__
)
#
else
#
define
SDB_DEBUG_TRY
(
.
.
.
)
#
endif
#
define
SDB_TRY_VAR_GLUE
(
accessFunction
.
.
.
)
\
QM_TRY_VAR_META
(
mozilla
:
:
dom
:
:
simpledb
MOZ_UNIQUE_VAR
(
tryResult
)
\
accessFunction
#
#
__VA_ARGS__
)
#
define
SDB_TRY_UNWRAP
(
.
.
.
)
SDB_TRY_VAR_GLUE
(
unwrap
__VA_ARGS__
)
#
define
SDB_TRY_INSPECT
(
.
.
.
)
SDB_TRY_VAR_GLUE
(
inspect
__VA_ARGS__
)
#
ifdef
DEBUG
#
define
SDB_DEBUG_TRY_UNWRAP
(
.
.
.
)
SDB_TRY_UNWRAP
(
__VA_ARGS__
)
#
else
#
define
SDB_DEBUG_TRY_UNWRAP
(
.
.
.
)
#
endif
#
define
SDB_TRY_RETURN_GLUE
(
.
.
.
)
\
QM_TRY_RETURN_META
(
mozilla
:
:
dom
:
:
simpledb
MOZ_UNIQUE_VAR
(
tryResult
)
\
#
#
__VA_ARGS__
)
#
define
SDB_TRY_RETURN
(
.
.
.
)
SDB_TRY_RETURN_GLUE
(
__VA_ARGS__
)
#
ifdef
DEBUG
#
define
SDB_DEBUG_TRY_RETURN
(
.
.
.
)
SDB_TRY_RETURN
(
__VA_ARGS__
)
#
else
#
define
SDB_DEBUG_TRY_RETURN
(
.
.
.
)
#
endif
#
define
SDB_FAIL_GLUE
(
.
.
.
)
QM_FAIL_META
(
mozilla
:
:
dom
:
:
simpledb
#
#
__VA_ARGS__
)
#
define
SDB_FAIL
(
.
.
.
)
SDB_FAIL_GLUE
(
__VA_ARGS__
)
#
ifdef
DEBUG
#
define
SDB_DEBUG_FAIL
(
.
.
.
)
SDB_FAIL
(
__VA_ARGS__
)
#
else
#
define
SDB_DEBUG_FAIL
(
.
.
.
)
#
endif
namespace
mozilla
{
namespace
dom
{
extern
const
char
*
kPrefSimpleDBEnabled
;
namespace
simpledb
{
QM_META_HANDLE_ERROR
(
"
SimpleDB
"
_ns
)
}
}
}
#
endif

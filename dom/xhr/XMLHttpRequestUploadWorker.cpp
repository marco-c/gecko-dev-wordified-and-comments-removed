#
include
"
XMLHttpRequestUploadWorker
.
h
"
#
include
"
XMLHttpRequestWorker
.
h
"
#
include
"
mozilla
/
dom
/
XMLHttpRequestUploadBinding
.
h
"
USING_WORKERS_NAMESPACE
XMLHttpRequestUploadWorker
:
:
XMLHttpRequestUploadWorker
(
XMLHttpRequestWorker
*
aXHR
)
:
mXHR
(
aXHR
)
{
}
XMLHttpRequestUploadWorker
:
:
~
XMLHttpRequestUploadWorker
(
)
{
}
NS_IMPL_ADDREF_INHERITED
(
XMLHttpRequestUploadWorker
nsXHREventTarget
)
NS_IMPL_RELEASE_INHERITED
(
XMLHttpRequestUploadWorker
nsXHREventTarget
)
NS_INTERFACE_MAP_BEGIN_CYCLE_COLLECTION_INHERITED
(
XMLHttpRequestUploadWorker
)
NS_INTERFACE_MAP_END_INHERITING
(
nsXHREventTarget
)
NS_IMPL_CYCLE_COLLECTION_INHERITED
(
XMLHttpRequestUploadWorker
nsXHREventTarget
mXHR
)
JSObject
*
XMLHttpRequestUploadWorker
:
:
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
{
return
XMLHttpRequestUploadBinding_workers
:
:
Wrap
(
aCx
this
aGivenProto
)
;
}
already_AddRefed
<
XMLHttpRequestUploadWorker
>
XMLHttpRequestUploadWorker
:
:
Create
(
XMLHttpRequestWorker
*
aXHR
)
{
RefPtr
<
XMLHttpRequestUploadWorker
>
upload
=
new
XMLHttpRequestUploadWorker
(
aXHR
)
;
return
upload
.
forget
(
)
;
}

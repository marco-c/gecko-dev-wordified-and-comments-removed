#
ifndef
mozilla_dom_GeolocationPosition_h
#
define
mozilla_dom_GeolocationPosition_h
#
include
"
js
/
TypeDecls
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
#
include
"
nsIDOMGeoPosition
.
h
"
#
include
"
nsIDOMGeoPositionCoords
.
h
"
#
include
"
nsWrapperCache
.
h
"
class
nsGeoPositionCoords
final
:
public
nsIDOMGeoPositionCoords
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIDOMGEOPOSITIONCOORDS
nsGeoPositionCoords
(
double
aLat
double
aLong
double
aAlt
double
aHError
double
aVError
double
aHeading
double
aSpeed
)
;
private
:
~
nsGeoPositionCoords
(
)
;
const
double
mLat
mLong
mAlt
mHError
mVError
mHeading
mSpeed
;
}
;
class
nsGeoPosition
final
:
public
nsIDOMGeoPosition
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIDOMGEOPOSITION
nsGeoPosition
(
double
aLat
double
aLong
double
aAlt
double
aHError
double
aVError
double
aHeading
double
aSpeed
EpochTimeStamp
aTimestamp
)
;
nsGeoPosition
(
nsIDOMGeoPositionCoords
*
aCoords
EpochTimeStamp
aTimestamp
)
;
private
:
~
nsGeoPosition
(
)
;
EpochTimeStamp
mTimestamp
;
RefPtr
<
nsIDOMGeoPositionCoords
>
mCoords
;
}
;
namespace
mozilla
:
:
dom
{
class
GeolocationCoordinates
;
class
GeolocationPosition
final
:
public
nsISupports
public
nsWrapperCache
{
~
GeolocationPosition
(
)
;
public
:
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_WRAPPERCACHE_CLASS
(
GeolocationPosition
)
public
:
GeolocationPosition
(
nsISupports
*
aParent
nsIDOMGeoPosition
*
aGeoPosition
)
;
nsISupports
*
GetParentObject
(
)
const
;
virtual
JSObject
*
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
override
;
GeolocationCoordinates
*
Coords
(
)
;
uint64_t
Timestamp
(
)
const
;
nsIDOMGeoPosition
*
GetWrappedGeoPosition
(
)
{
return
mGeoPosition
;
}
private
:
RefPtr
<
GeolocationCoordinates
>
mCoordinates
;
nsCOMPtr
<
nsISupports
>
mParent
;
nsCOMPtr
<
nsIDOMGeoPosition
>
mGeoPosition
;
}
;
}
#
endif

#
ifndef
mozilla_dom_PositionError_h
#
define
mozilla_dom_PositionError_h
#
include
"
nsIDOMGeoPositionError
.
h
"
#
include
"
nsWrapperCache
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
#
include
"
mozilla
/
dom
/
CallbackObject
.
h
"
class
nsIDOMGeoPositionErrorCallback
;
namespace
mozilla
{
namespace
dom
{
class
PositionErrorCallback
;
class
Geolocation
;
typedef
CallbackObjectHolder
<
PositionErrorCallback
nsIDOMGeoPositionErrorCallback
>
GeoPositionErrorCallback
;
class
PositionError
final
:
public
nsIDOMGeoPositionError
public
nsWrapperCache
{
public
:
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_SCRIPT_HOLDER_CLASS
(
PositionError
)
NS_DECL_NSIDOMGEOPOSITIONERROR
PositionError
(
Geolocation
*
aParent
int16_t
aCode
)
;
nsWrapperCache
*
GetParentObject
(
)
const
;
virtual
JSObject
*
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
override
;
int16_t
Code
(
)
const
{
return
mCode
;
}
void
NotifyCallback
(
const
GeoPositionErrorCallback
&
callback
)
;
private
:
~
PositionError
(
)
;
int16_t
mCode
;
RefPtr
<
Geolocation
>
mParent
;
}
;
}
}
#
endif

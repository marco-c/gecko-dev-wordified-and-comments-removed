#
ifndef
mozilla_dom_GeolocationPositionError_h
#
define
mozilla_dom_GeolocationPositionError_h
#
include
"
nsWrapperCache
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
#
include
"
mozilla
/
dom
/
CallbackObject
.
h
"
class
nsIDOMGeoPositionErrorCallback
;
namespace
mozilla
{
namespace
dom
{
class
PositionErrorCallback
;
class
Geolocation
;
typedef
CallbackObjectHolder
<
PositionErrorCallback
nsIDOMGeoPositionErrorCallback
>
GeoPositionErrorCallback
;
class
GeolocationPositionError
final
:
public
nsWrapperCache
{
public
:
NS_INLINE_DECL_CYCLE_COLLECTING_NATIVE_REFCOUNTING
(
GeolocationPositionError
)
NS_DECL_CYCLE_COLLECTION_SCRIPT_HOLDER_NATIVE_CLASS
(
GeolocationPositionError
)
GeolocationPositionError
(
Geolocation
*
aParent
int16_t
aCode
)
;
nsWrapperCache
*
GetParentObject
(
)
const
;
virtual
JSObject
*
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
override
;
int16_t
Code
(
)
const
{
return
mCode
;
}
void
GetMessage
(
nsAString
&
aMessage
)
const
;
MOZ_CAN_RUN_SCRIPT
void
NotifyCallback
(
const
GeoPositionErrorCallback
&
callback
)
;
private
:
~
GeolocationPositionError
(
)
;
int16_t
mCode
;
RefPtr
<
Geolocation
>
mParent
;
}
;
}
}
#
endif

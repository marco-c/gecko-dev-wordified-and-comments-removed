#
ifndef
mozilla_dom_CookieStoreNotificationWatcherWrapper_h
#
define
mozilla_dom_CookieStoreNotificationWatcherWrapper_h
#
include
"
mozilla
/
OriginAttributes
.
h
"
namespace
mozilla
:
:
dom
{
class
Promise
;
class
CookieStore
;
class
CookieStoreNotificationWatcher
;
class
CookieStoreNotificationWatcherWrapper
final
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
CookieStoreNotificationWatcherWrapper
)
static
already_AddRefed
<
CookieStoreNotificationWatcherWrapper
>
Create
(
CookieStore
*
aCookieStore
)
;
void
ResolvePromiseWhenNotified
(
const
nsID
&
aOperationID
Promise
*
aPromise
)
;
void
ForgetOperationID
(
const
nsID
&
aOperationID
)
;
private
:
CookieStoreNotificationWatcherWrapper
(
)
=
default
;
~
CookieStoreNotificationWatcherWrapper
(
)
;
void
CreateWatcherOnMainThread
(
bool
aPrivateBrowsing
)
;
RefPtr
<
CookieStoreNotificationWatcher
>
mWatcherOnMainThread
;
}
;
}
#
endif

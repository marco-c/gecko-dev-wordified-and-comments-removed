#
ifndef
NS_SMILCSSVALUETYPE_H_
#
define
NS_SMILCSSVALUETYPE_H_
#
include
"
nsISMILType
.
h
"
#
include
"
nsCSSPropertyID
.
h
"
#
include
"
nsStringFwd
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
namespace
mozilla
{
struct
AnimationValue
;
class
DeclarationBlock
;
namespace
dom
{
class
Element
;
}
class
SMILCSSValueType
:
public
nsISMILType
{
public
:
typedef
mozilla
:
:
dom
:
:
Element
Element
;
typedef
mozilla
:
:
AnimationValue
AnimationValue
;
static
SMILCSSValueType
sSingleton
;
protected
:
void
Init
(
nsSMILValue
&
aValue
)
const
override
;
void
Destroy
(
nsSMILValue
&
)
const
override
;
nsresult
Assign
(
nsSMILValue
&
aDest
const
nsSMILValue
&
aSrc
)
const
override
;
bool
IsEqual
(
const
nsSMILValue
&
aLeft
const
nsSMILValue
&
aRight
)
const
override
;
nsresult
Add
(
nsSMILValue
&
aDest
const
nsSMILValue
&
aValueToAdd
uint32_t
aCount
)
const
override
;
nsresult
SandwichAdd
(
nsSMILValue
&
aDest
const
nsSMILValue
&
aValueToAdd
)
const
override
;
nsresult
ComputeDistance
(
const
nsSMILValue
&
aFrom
const
nsSMILValue
&
aTo
double
&
aDistance
)
const
override
;
nsresult
Interpolate
(
const
nsSMILValue
&
aStartVal
const
nsSMILValue
&
aEndVal
double
aUnitDistance
nsSMILValue
&
aResult
)
const
override
;
public
:
static
void
ValueFromString
(
nsCSSPropertyID
aPropID
Element
*
aTargetElement
const
nsAString
&
aString
nsSMILValue
&
aValue
bool
*
aIsContextSensitive
)
;
static
nsSMILValue
ValueFromAnimationValue
(
nsCSSPropertyID
aPropID
Element
*
aTargetElement
const
AnimationValue
&
aValue
)
;
static
bool
SetPropertyValues
(
const
nsSMILValue
&
mozilla
:
:
DeclarationBlock
&
)
;
static
nsCSSPropertyID
PropertyFromValue
(
const
nsSMILValue
&
aValue
)
;
static
void
FinalizeValue
(
nsSMILValue
&
aValue
const
nsSMILValue
&
aValueToMatch
)
;
private
:
constexpr
SMILCSSValueType
(
)
{
}
}
;
}
#
endif

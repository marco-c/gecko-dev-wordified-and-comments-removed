#
ifndef
mozilla_dom_PresentationChild_h
#
define
mozilla_dom_PresentationChild_h
#
include
"
mozilla
/
dom
/
PPresentationChild
.
h
"
#
include
"
mozilla
/
dom
/
PPresentationRequestChild
.
h
"
class
nsIPresentationServiceCallback
;
namespace
mozilla
{
namespace
dom
{
class
PresentationIPCService
;
class
PresentationChild
final
:
public
PPresentationChild
{
public
:
explicit
PresentationChild
(
PresentationIPCService
*
aService
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
PPresentationRequestChild
*
AllocPPresentationRequestChild
(
const
PresentationIPCRequest
&
aRequest
)
override
;
virtual
bool
DeallocPPresentationRequestChild
(
PPresentationRequestChild
*
aActor
)
override
;
virtual
bool
RecvNotifyAvailableChange
(
const
bool
&
aAvailable
)
override
;
virtual
bool
RecvNotifySessionStateChange
(
const
nsString
&
aSessionId
const
uint16_t
&
aState
)
override
;
virtual
bool
RecvNotifyMessage
(
const
nsString
&
aSessionId
const
nsCString
&
aData
)
override
;
virtual
bool
RecvNotifySessionConnect
(
const
uint64_t
&
aWindowId
const
nsString
&
aSessionId
)
override
;
private
:
virtual
~
PresentationChild
(
)
;
bool
mActorDestroyed
;
nsRefPtr
<
PresentationIPCService
>
mService
;
}
;
class
PresentationRequestChild
final
:
public
PPresentationRequestChild
{
friend
class
PresentationChild
;
public
:
explicit
PresentationRequestChild
(
nsIPresentationServiceCallback
*
aCallback
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
bool
Recv__delete__
(
const
nsresult
&
aResult
)
override
;
private
:
virtual
~
PresentationRequestChild
(
)
;
bool
mActorDestroyed
;
nsCOMPtr
<
nsIPresentationServiceCallback
>
mCallback
;
}
;
}
}
#
endif

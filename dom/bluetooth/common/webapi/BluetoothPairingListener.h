#
ifndef
mozilla_dom_bluetooth_BluetoothPairingListener_h
#
define
mozilla_dom_bluetooth_BluetoothPairingListener_h
#
include
"
BluetoothCommon
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
DOMEventTargetHelper
.
h
"
BEGIN_BLUETOOTH_NAMESPACE
class
BluetoothSignal
;
class
BluetoothPairingListener
final
:
public
DOMEventTargetHelper
public
BluetoothSignalObserver
{
public
:
NS_DECL_ISUPPORTS_INHERITED
static
already_AddRefed
<
BluetoothPairingListener
>
Create
(
nsPIDOMWindowInner
*
aWindow
)
;
void
DispatchPairingEvent
(
const
BluetoothRemoteName
&
aName
const
BluetoothAddress
&
aAddress
const
nsAString
&
aPasskey
const
nsAString
&
aType
)
;
void
Notify
(
const
BluetoothSignal
&
aParam
)
;
nsPIDOMWindowInner
*
GetParentObject
(
)
const
{
return
GetOwner
(
)
;
}
virtual
JSObject
*
WrapObject
(
JSContext
*
aCx
JS
:
:
Handle
<
JSObject
*
>
aGivenProto
)
override
;
virtual
void
DisconnectFromOwner
(
)
override
;
virtual
void
EventListenerAdded
(
nsIAtom
*
aType
)
override
;
IMPL_EVENT_HANDLER
(
displaypasskeyreq
)
;
IMPL_EVENT_HANDLER
(
enterpincodereq
)
;
IMPL_EVENT_HANDLER
(
pairingconfirmationreq
)
;
IMPL_EVENT_HANDLER
(
pairingconsentreq
)
;
private
:
BluetoothPairingListener
(
nsPIDOMWindowInner
*
aWindow
)
;
~
BluetoothPairingListener
(
)
;
void
TryListeningToBluetoothSignal
(
)
;
bool
mHasListenedToSignal
;
}
;
END_BLUETOOTH_NAMESPACE
#
endif

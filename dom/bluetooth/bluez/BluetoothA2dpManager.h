#
ifndef
mozilla_dom_bluetooth_bluez_BluetoothA2dpManager_h
#
define
mozilla_dom_bluetooth_bluez_BluetoothA2dpManager_h
#
include
"
BluetoothCommon
.
h
"
#
include
"
BluetoothProfileController
.
h
"
#
include
"
BluetoothProfileManagerBase
.
h
"
BEGIN_BLUETOOTH_NAMESPACE
class
BluetoothA2dpManager
:
public
BluetoothProfileManagerBase
{
public
:
BT_DECL_PROFILE_MGR_BASE
virtual
void
GetName
(
nsACString
&
aName
)
{
aName
.
AssignLiteral
(
"
A2DP
"
)
;
}
enum
SinkState
{
SINK_UNKNOWN
SINK_DISCONNECTED
SINK_CONNECTING
SINK_CONNECTED
SINK_PLAYING
}
;
static
BluetoothA2dpManager
*
Get
(
)
;
void
HandleSinkPropertyChanged
(
const
BluetoothSignal
&
aSignal
)
;
protected
:
virtual
~
BluetoothA2dpManager
(
)
;
private
:
BluetoothA2dpManager
(
)
;
bool
Init
(
)
;
void
ResetA2dp
(
)
;
void
HandleShutdown
(
)
;
void
NotifyConnectionStatusChanged
(
)
;
nsString
mDeviceAddress
;
nsRefPtr
<
BluetoothProfileController
>
mController
;
bool
mA2dpConnected
;
SinkState
mSinkState
;
}
;
END_BLUETOOTH_NAMESPACE
#
endif

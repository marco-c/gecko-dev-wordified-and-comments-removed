"
use
strict
"
;
add_task
(
async
function
(
)
{
pushPref
(
"
devtools
.
enabled
"
false
)
;
let
{
doc
win
}
=
await
openAboutDevTools
(
)
;
info
(
"
Check
that
the
close
button
is
available
on
the
page
"
)
;
let
closeButton
=
doc
.
getElementById
(
"
close
"
)
;
ok
(
closeButton
"
close
button
is
displayed
"
)
;
let
onWindowUnload
=
new
Promise
(
r
=
>
win
.
addEventListener
(
"
unload
"
r
{
once
:
true
}
)
)
;
info
(
"
Click
on
the
install
button
to
enable
DevTools
.
"
)
;
EventUtils
.
synthesizeMouseAtCenter
(
closeButton
{
}
win
)
;
info
(
"
Wait
for
the
about
:
devtools
tab
to
be
closed
"
)
;
await
onWindowUnload
;
}
)
;

"
use
strict
"
;
const
{
utils
:
Cu
}
=
Components
;
const
{
Services
}
=
Cu
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
{
}
)
;
function
onInit
(
message
)
{
if
(
Services
.
appinfo
.
processType
=
=
Services
.
appinfo
.
PROCESS_TYPE_CONTENT
)
{
let
{
init
}
=
Cu
.
import
(
"
resource
:
/
/
devtools
/
server
/
content
-
server
.
jsm
"
{
}
)
;
init
(
message
)
;
}
}
function
onClose
(
)
{
removeMessageListener
(
"
debug
:
init
-
content
-
server
"
onInit
)
;
removeMessageListener
(
"
debug
:
close
-
content
-
server
"
onClose
)
;
}
addMessageListener
(
"
debug
:
init
-
content
-
server
"
onInit
)
;
addMessageListener
(
"
debug
:
close
-
content
-
server
"
onClose
)
;

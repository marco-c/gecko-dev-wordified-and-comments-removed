"
use
strict
"
;
const
{
Actor
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
protocol
.
js
"
)
;
const
{
pushSubscriptionSpec
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
specs
/
worker
/
push
-
subscription
.
js
"
)
;
class
PushSubscriptionActor
extends
Actor
{
constructor
(
conn
subscription
)
{
super
(
conn
pushSubscriptionSpec
)
;
this
.
_subscription
=
subscription
;
}
form
(
)
{
const
subscription
=
this
.
_subscription
;
return
{
actor
:
this
.
actorID
endpoint
:
subscription
.
endpoint
quota
:
subscription
.
quota
}
;
}
destroy
(
)
{
this
.
_subscription
=
null
;
super
.
destroy
(
)
;
}
}
exports
.
PushSubscriptionActor
=
PushSubscriptionActor
;

"
use
strict
"
;
exports
.
resolveSourceURL
=
resolveSourceURL
;
function
resolveSourceURL
(
sourceURL
global
)
{
if
(
sourceURL
)
{
try
{
return
new
URL
(
sourceURL
global
?
.
location
?
.
href
|
|
undefined
)
.
href
;
}
catch
(
err
)
{
}
}
return
null
;
}
exports
.
getSourcemapBaseURL
=
getSourcemapBaseURL
;
function
getSourcemapBaseURL
(
url
global
)
{
let
sourceMapBaseURL
=
null
;
if
(
url
)
{
sourceMapBaseURL
=
url
;
}
else
if
(
global
?
.
location
?
.
href
)
{
sourceMapBaseURL
=
global
?
.
location
?
.
href
;
}
else
{
return
null
;
}
if
(
sourceMapBaseURL
.
startsWith
(
"
data
:
"
)
)
{
return
null
;
}
if
(
sourceMapBaseURL
.
startsWith
(
"
blob
:
"
)
)
{
try
{
const
parsedBaseURL
=
new
URL
(
sourceMapBaseURL
)
;
return
parsedBaseURL
.
origin
=
=
=
"
null
"
?
null
:
parsedBaseURL
.
origin
;
}
catch
(
err
)
{
return
null
;
}
}
return
sourceMapBaseURL
;
}

"
use
strict
"
;
loader
.
lazyRequireGetter
(
this
"
getSourceURL
"
"
devtools
/
server
/
actors
/
source
"
true
)
;
function
SourceActorStore
(
)
{
this
.
_sourceActorIds
=
Object
.
create
(
null
)
;
}
SourceActorStore
.
prototype
=
{
getReusableActorId
:
function
(
source
originalUrl
)
{
let
url
=
this
.
getUniqueKey
(
source
originalUrl
)
;
if
(
url
&
&
url
in
this
.
_sourceActorIds
)
{
return
this
.
_sourceActorIds
[
url
]
;
}
return
null
;
}
setReusableActorId
:
function
(
source
originalUrl
actorID
)
{
let
url
=
this
.
getUniqueKey
(
source
originalUrl
)
;
if
(
url
)
{
this
.
_sourceActorIds
[
url
]
=
actorID
;
}
}
getUniqueKey
:
function
(
source
originalUrl
)
{
if
(
originalUrl
)
{
return
originalUrl
;
}
return
getSourceURL
(
source
)
;
}
}
;
exports
.
SourceActorStore
=
SourceActorStore
;

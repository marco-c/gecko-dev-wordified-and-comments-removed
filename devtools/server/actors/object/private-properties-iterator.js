"
use
strict
"
;
const
{
Actor
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
protocol
.
js
"
)
;
const
{
privatePropertiesIteratorSpec
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
specs
/
private
-
properties
-
iterator
.
js
"
)
;
const
DevToolsUtils
=
require
(
"
resource
:
/
/
devtools
/
shared
/
DevToolsUtils
.
js
"
)
;
loader
.
lazyRequireGetter
(
this
"
propertyDescriptor
"
"
resource
:
/
/
devtools
/
server
/
actors
/
object
/
property
-
descriptor
.
js
"
true
)
;
class
PrivatePropertiesIteratorActor
extends
Actor
{
constructor
(
objectActor
conn
)
{
super
(
conn
privatePropertiesIteratorSpec
)
;
let
privateProperties
=
[
]
;
if
(
DevToolsUtils
.
isSafeDebuggerObject
(
objectActor
.
obj
)
)
{
try
{
privateProperties
=
objectActor
.
obj
.
getOwnPrivateProperties
(
)
;
}
catch
(
err
)
{
}
}
this
.
iterator
=
{
size
:
privateProperties
.
length
propertyDescription
(
index
)
{
const
symbol
=
privateProperties
[
index
]
;
return
{
name
:
symbol
.
description
descriptor
:
propertyDescriptor
(
objectActor
symbol
0
)
}
;
}
}
;
}
form
(
)
{
return
{
type
:
this
.
typeName
actor
:
this
.
actorID
count
:
this
.
iterator
.
size
}
;
}
slice
(
{
start
count
}
)
{
const
privateProperties
=
[
]
;
for
(
let
i
=
start
m
=
start
+
count
;
i
<
m
;
i
+
+
)
{
privateProperties
.
push
(
this
.
iterator
.
propertyDescription
(
i
)
)
;
}
return
{
privateProperties
}
;
}
all
(
)
{
return
this
.
slice
(
{
start
:
0
count
:
this
.
iterator
.
size
}
)
;
}
}
exports
.
PrivatePropertiesIteratorActor
=
PrivatePropertiesIteratorActor
;

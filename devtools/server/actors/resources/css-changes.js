"
use
strict
"
;
class
CSSChangeWatcher
{
constructor
(
)
{
this
.
onTrackChange
=
this
.
onTrackChange
.
bind
(
this
)
;
}
#
targetActor
;
async
watch
(
targetActor
{
onAvailable
}
)
{
this
.
#
targetActor
=
targetActor
;
this
.
onAvailable
=
onAvailable
;
this
.
#
targetActor
.
on
(
"
track
-
css
-
change
"
this
.
onTrackChange
)
;
}
onTrackChange
(
change
)
{
this
.
onAvailable
(
[
change
]
)
;
}
destroy
(
)
{
this
.
#
targetActor
.
off
(
"
track
-
css
-
change
"
this
.
onTrackChange
)
;
this
.
#
targetActor
=
null
;
}
}
module
.
exports
=
CSSChangeWatcher
;

"
use
strict
"
;
class
LastPrivateContextExitWatcher
{
#
onAvailable
;
async
watch
(
watcherActor
{
onAvailable
}
)
{
this
.
#
onAvailable
=
onAvailable
;
Services
.
obs
.
addObserver
(
this
"
last
-
pb
-
context
-
exited
"
)
;
}
observe
(
subject
topic
)
{
if
(
topic
=
=
=
"
last
-
pb
-
context
-
exited
"
)
{
this
.
#
onAvailable
(
[
{
}
]
)
;
}
}
destroy
(
)
{
Services
.
obs
.
removeObserver
(
this
"
last
-
pb
-
context
-
exited
"
)
;
}
}
module
.
exports
=
LastPrivateContextExitWatcher
;

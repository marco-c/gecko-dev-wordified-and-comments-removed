"
use
strict
"
;
const
{
Actor
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
protocol
.
js
"
)
;
const
{
responsiveSpec
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
specs
/
responsive
.
js
"
)
;
class
ResponsiveActor
extends
Actor
{
constructor
(
conn
targetActor
)
{
super
(
conn
responsiveSpec
)
;
this
.
targetActor
=
targetActor
;
this
.
docShell
=
targetActor
.
docShell
;
}
destroy
(
)
{
this
.
targetActor
=
null
;
this
.
docShell
=
null
;
super
.
destroy
(
)
;
}
get
win
(
)
{
return
this
.
docShell
.
chromeEventHandler
.
ownerGlobal
;
}
_previousTouchEventsOverride
=
undefined
;
setElementPickerState
(
state
pickerType
)
{
this
.
targetActor
.
touchSimulator
.
setElementPickerState
(
state
pickerType
)
;
}
async
dispatchOrientationChangeEvent
(
)
{
const
{
CustomEvent
}
=
this
.
win
;
const
orientationChangeEvent
=
new
CustomEvent
(
"
orientationchange
"
)
;
this
.
win
.
dispatchEvent
(
orientationChangeEvent
)
;
this
.
win
.
screen
.
orientation
.
dispatchEvent
(
new
CustomEvent
(
"
change
"
)
)
;
}
}
exports
.
ResponsiveActor
=
ResponsiveActor
;

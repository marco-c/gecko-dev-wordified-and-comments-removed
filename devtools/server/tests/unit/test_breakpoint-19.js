"
use
strict
"
;
const
URL
=
"
test
.
js
"
;
function
setUpCode
(
debuggee
)
{
Cu
.
evalInSandbox
(
"
"
+
function
test
(
)
{
var
a
=
1
;
debugger
;
}
+
"
\
ndebugger
;
"
debuggee
"
1
.
8
"
URL
)
;
}
add_task
(
threadClientTest
(
async
(
{
threadClient
debuggee
}
)
=
>
{
setBreakpoint
(
threadClient
{
sourceUrl
:
URL
line
:
2
}
)
;
await
executeOnNextTickAndWaitForPause
(
(
)
=
>
setUpCode
(
debuggee
)
threadClient
)
;
await
resume
(
threadClient
)
;
const
packet
=
await
executeOnNextTickAndWaitForPause
(
debuggee
.
test
threadClient
)
;
equal
(
packet
.
why
.
type
"
breakpoint
"
)
;
}
)
)
;

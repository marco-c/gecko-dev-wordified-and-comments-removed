"
use
strict
"
;
add_task
(
async
(
)
=
>
{
const
{
memoryFront
}
=
await
createTabMemoryFront
(
)
;
const
snapshotFilePath
=
await
memoryFront
.
saveHeapSnapshot
(
{
forceCopy
:
true
}
)
;
ok
(
!
!
(
await
IOUtils
.
stat
(
snapshotFilePath
)
)
"
Should
have
the
heap
snapshot
file
"
)
;
const
snapshot
=
ChromeUtils
.
readHeapSnapshot
(
snapshotFilePath
)
;
ok
(
HeapSnapshot
.
isInstance
(
snapshot
)
"
And
we
should
be
able
to
read
a
HeapSnapshot
instance
from
the
file
"
)
;
}
)
;

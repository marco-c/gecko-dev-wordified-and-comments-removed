"
use
strict
"
;
add_task
(
function
*
(
)
{
let
{
client
walker
animations
}
=
yield
initAnimationsFrontForUrl
(
MAIN_DOMAIN
+
"
animation
.
html
"
)
;
info
(
"
Get
the
test
node
and
its
animation
front
"
)
;
let
node
=
yield
walker
.
querySelector
(
walker
.
rootNode
"
.
simple
-
animation
"
)
;
let
[
player
]
=
yield
animations
.
getAnimationPlayersForNode
(
node
)
;
ok
(
player
.
getFrames
"
The
front
has
the
getFrames
method
"
)
;
let
frames
=
yield
player
.
getFrames
(
)
;
is
(
frames
.
length
2
"
The
correct
number
of
keyframes
was
retrieved
"
)
;
ok
(
frames
[
0
]
.
transform
"
Frame
0
has
the
transform
property
"
)
;
ok
(
frames
[
1
]
.
transform
"
Frame
1
has
the
transform
property
"
)
;
yield
client
.
close
(
)
;
gBrowser
.
removeCurrentTab
(
)
;
}
)
;

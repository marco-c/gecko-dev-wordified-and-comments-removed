"
use
strict
"
;
function
run_test
(
)
{
const
path
=
ChromeUtils
.
saveHeapSnapshot
(
{
runtime
:
true
}
)
;
const
snapshot
=
ChromeUtils
.
readHeapSnapshot
(
path
)
;
const
dominatorTree
=
snapshot
.
computeDominatorTree
(
)
;
ok
(
dominatorTree
)
;
ok
(
DominatorTree
.
isInstance
(
dominatorTree
)
)
;
let
threw
=
false
;
try
{
new
DominatorTree
(
)
;
}
catch
(
e
)
{
threw
=
true
;
}
ok
(
threw
"
Constructor
shouldn
'
t
be
usable
"
)
;
do_test_finished
(
)
;
}

"
use
strict
"
;
const
ResourceCommand
=
require
(
"
resource
:
/
/
devtools
/
shared
/
commands
/
resource
/
resource
-
command
.
js
"
)
;
module
.
exports
=
async
function
(
{
targetCommand
targetFront
onAvailable
}
)
{
if
(
!
targetFront
.
isTopLevel
)
{
return
;
}
const
isBrowserConsoleOrToolbox
=
targetCommand
.
descriptorFront
.
isBrowserProcessDescriptor
;
if
(
!
isBrowserConsoleOrToolbox
)
{
return
;
}
const
webConsoleFront
=
await
targetFront
.
getFront
(
"
console
"
)
;
webConsoleFront
.
on
(
"
lastPrivateContextExited
"
(
)
=
>
{
onAvailable
(
[
{
resourceType
:
ResourceCommand
.
TYPES
.
LAST_PRIVATE_CONTEXT_EXIT
}
]
)
;
}
)
;
webConsoleFront
.
startListeners
(
[
]
)
;
}
;

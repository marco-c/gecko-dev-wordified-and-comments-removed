"
use
strict
"
;
ALLOW_CONSOLE_ERRORS
=
true
;
function
run_test
(
)
{
flags
.
testing
=
true
;
const
{
assert
}
=
DevToolsUtils
;
equal
(
typeof
assert
"
function
"
)
;
try
{
assert
(
true
"
this
assertion
should
not
fail
"
)
;
}
catch
(
e
)
{
ok
(
false
"
Should
not
get
an
error
for
an
assertion
that
should
not
fail
.
Got
"
+
DevToolsUtils
.
safeErrorString
(
e
)
)
;
}
let
assertionFailed
=
false
;
try
{
assert
(
false
"
this
assertion
should
fail
"
)
;
}
catch
(
e
)
{
ok
(
e
.
message
.
startsWith
(
"
Assertion
failure
:
"
)
"
Should
be
an
assertion
failure
error
"
)
;
assertionFailed
=
true
;
}
ok
(
assertionFailed
"
The
assertion
should
have
failed
which
should
throw
an
error
when
assertions
"
+
"
are
enabled
.
"
)
;
}

"
use
strict
"
;
var
{
executeSoon
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
DevToolsUtils
.
js
"
)
;
add_task
(
async
function
(
)
{
await
waitForTick
(
)
;
let
stack
=
Components
.
stack
;
while
(
stack
)
{
info
(
stack
.
name
)
;
if
(
stack
.
name
=
=
"
waitForTick
"
)
{
ok
(
true
"
Complete
stack
"
)
;
return
;
}
stack
=
stack
.
asyncCaller
|
|
stack
.
caller
;
}
ok
(
false
"
Incomplete
stack
"
)
;
}
)
;
function
waitForTick
(
)
{
return
new
Promise
(
resolve
=
>
{
executeSoon
(
resolve
)
;
}
)
;
}

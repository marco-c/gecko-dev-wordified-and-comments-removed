"
use
strict
"
;
const
Services
=
require
(
"
Services
"
)
;
function
makePrefTrackedFlag
(
exports
name
pref
)
{
let
flag
;
if
(
isWorker
)
{
flag
=
false
;
}
else
{
flag
=
Services
.
prefs
.
getBoolPref
(
pref
false
)
;
const
prefObserver
=
(
)
=
>
{
flag
=
Services
.
prefs
.
getBoolPref
(
pref
false
)
;
}
;
Services
.
prefs
.
addObserver
(
pref
prefObserver
)
;
const
unloadObserver
=
function
(
subject
)
{
if
(
subject
.
wrappedJSObject
=
=
require
(
"
loader
/
unload
"
)
)
{
Services
.
prefs
.
removeObserver
(
pref
prefObserver
)
;
Services
.
obs
.
removeObserver
(
unloadObserver
"
devtools
:
loader
:
destroy
"
)
;
}
}
;
Services
.
obs
.
addObserver
(
unloadObserver
"
devtools
:
loader
:
destroy
"
)
;
}
Object
.
defineProperty
(
exports
name
{
get
(
)
{
return
flag
;
}
}
)
;
}
makePrefTrackedFlag
(
exports
"
wantLogging
"
"
devtools
.
debugger
.
log
"
)
;
makePrefTrackedFlag
(
exports
"
wantVerbose
"
"
devtools
.
debugger
.
log
.
verbose
"
)
;
makePrefTrackedFlag
(
exports
"
testing
"
"
devtools
.
testing
"
)
;

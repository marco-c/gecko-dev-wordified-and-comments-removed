"
use
strict
"
;
var
{
Task
}
=
require
(
"
devtools
/
shared
/
task
"
)
;
exports
.
listenOnce
=
function
listenOnce
(
element
event
useCapture
)
{
return
new
Promise
(
function
(
resolve
reject
)
{
let
onEvent
=
function
(
ev
)
{
element
.
removeEventListener
(
event
onEvent
useCapture
)
;
resolve
(
ev
)
;
}
;
element
.
addEventListener
(
event
onEvent
useCapture
)
;
}
)
;
}
;

"
use
strict
"
;
const
{
loader
require
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
devtools
/
shared
/
Loader
.
jsm
"
)
;
const
{
XPCOMUtils
}
=
require
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
const
EventEmitter
=
require
(
"
devtools
/
shared
/
event
-
emitter
"
)
;
const
DevToolsUtils
=
require
(
"
devtools
/
shared
/
DevToolsUtils
"
)
;
const
Services
=
require
(
"
Services
"
)
;
const
{
gDevTools
}
=
require
(
"
devtools
/
client
/
framework
/
devtools
"
)
;
const
{
LocalizationHelper
}
=
require
(
"
devtools
/
shared
/
l10n
"
)
;
const
{
ViewHelpers
}
=
require
(
"
devtools
/
client
/
shared
/
widgets
/
view
-
helpers
"
)
;
const
Promise
=
require
(
"
Promise
"
)
;
const
STRINGS_URI
=
"
devtools
/
client
/
locales
/
webaudioeditor
.
properties
"
;
const
L10N
=
new
LocalizationHelper
(
STRINGS_URI
)
;
loader
.
lazyRequireGetter
(
this
"
LineGraphWidget
"
"
devtools
/
client
/
shared
/
widgets
/
LineGraphWidget
"
)
;
var
AUDIO_NODE_DEFINITION
;
const
{
defer
all
}
=
require
(
"
promise
"
)
;
const
EVENTS
=
{
START_CONTEXT
:
"
WebAudioEditor
:
StartContext
"
THEME_CHANGE
:
"
WebAudioEditor
:
ThemeChange
"
UI_RESET
:
"
WebAudioEditor
:
UIReset
"
UI_SET_PARAM
:
"
WebAudioEditor
:
UISetParam
"
UI_SELECT_NODE
:
"
WebAudioEditor
:
UISelectNode
"
UI_INSPECTOR_NODE_SET
:
"
WebAudioEditor
:
UIInspectorNodeSet
"
UI_INSPECTOR_TOGGLED
:
"
WebAudioEditor
:
UIInspectorToggled
"
UI_PROPERTIES_TAB_RENDERED
:
"
WebAudioEditor
:
UIPropertiesTabRendered
"
UI_AUTOMATION_TAB_RENDERED
:
"
WebAudioEditor
:
UIAutomationTabRendered
"
UI_GRAPH_RENDERED
:
"
WebAudioEditor
:
UIGraphRendered
"
UI_INSPECTOR_RESIZE
:
"
WebAudioEditor
:
UIInspectorResize
"
}
;
XPCOMUtils
.
defineConstant
(
this
"
EVENTS
"
EVENTS
)
;
var
gToolbox
gTarget
gFront
;
EventEmitter
.
decorate
(
this
)
;
function
(
selector
target
=
document
)
{
return
target
.
querySelector
(
selector
)
;
}
function
(
selector
target
=
document
)
{
return
target
.
querySelectorAll
(
selector
)
;
}
function
findWhere
(
collection
attrs
)
{
const
keys
=
Object
.
keys
(
attrs
)
;
for
(
const
model
of
collection
)
{
if
(
keys
.
every
(
key
=
>
model
[
key
]
=
=
=
attrs
[
key
]
)
)
{
return
model
;
}
}
return
void
0
;
}
function
mixin
(
source
.
.
.
args
)
{
args
.
forEach
(
obj
=
>
Object
.
keys
(
obj
)
.
forEach
(
prop
=
>
source
[
prop
]
=
obj
[
prop
]
)
)
;
return
source
;
}

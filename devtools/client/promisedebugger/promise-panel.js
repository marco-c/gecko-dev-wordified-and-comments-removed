"
use
strict
"
;
var
PromisesPanel
=
{
PANEL_INITIALIZED
:
"
panel
-
initialized
"
initialize
:
Task
.
async
(
function
*
(
)
{
if
(
PromisesController
.
destroyed
)
{
return
null
;
}
if
(
this
.
initialized
)
{
return
this
.
initialized
.
promise
;
}
this
.
initialized
=
promise
.
defer
(
)
;
this
.
initialized
.
resolve
(
)
;
this
.
emit
(
this
.
PANEL_INITIALIZED
)
;
}
)
destroy
:
Task
.
async
(
function
*
(
)
{
if
(
!
this
.
initialized
)
{
return
null
;
}
if
(
this
.
destroyed
)
{
return
this
.
destroyed
.
promise
;
}
this
.
destroyed
=
promise
.
defer
(
)
;
this
.
destroyed
.
resolve
(
)
;
}
)
}
;
EventEmitter
.
decorate
(
PromisesPanel
)
;

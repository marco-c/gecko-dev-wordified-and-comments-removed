"
use
strict
"
;
const
Cu
=
Components
.
utils
;
const
{
Services
}
=
Cu
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
{
}
)
;
const
{
BrowserLoader
}
=
Cu
.
import
(
"
resource
:
/
/
devtools
/
client
/
shared
/
browser
-
loader
.
js
"
{
}
)
;
function
Netmonitor
(
toolbox
)
{
const
{
require
}
=
BrowserLoader
(
{
baseURI
:
"
resource
:
/
/
devtools
/
client
/
netmonitor
/
"
window
commonLibRequire
:
toolbox
.
browserRequire
}
)
;
window
.
windowRequire
=
require
;
const
{
NetMonitorController
}
=
require
(
"
.
/
netmonitor
-
controller
.
js
"
)
;
const
{
NetMonitorView
}
=
require
(
"
.
/
netmonitor
-
view
.
js
"
)
;
window
.
NetMonitorController
=
NetMonitorController
;
window
.
NetMonitorView
=
NetMonitorView
;
NetMonitorController
.
_toolbox
=
toolbox
;
NetMonitorController
.
_target
=
toolbox
.
target
;
}
Netmonitor
.
prototype
=
{
init
(
)
{
return
window
.
NetMonitorController
.
startupNetMonitor
(
)
;
}
destroy
(
)
{
return
window
.
NetMonitorController
.
shutdownNetMonitor
(
)
;
}
}
;
var
=
(
selector
target
=
document
)
=
>
target
.
querySelector
(
selector
)
;
var
all
=
(
selector
target
=
document
)
=
>
target
.
querySelectorAll
(
selector
)
;
function
dumpn
(
str
)
{
if
(
wantLogging
)
{
dump
(
"
NET
-
FRONTEND
:
"
+
str
+
"
\
n
"
)
;
}
}
var
wantLogging
=
Services
.
prefs
.
getBoolPref
(
"
devtools
.
debugger
.
log
"
)
;

"
use
strict
"
;
Object
.
defineProperty
(
exports
"
__esModule
"
{
value
:
true
}
)
;
class
TextMessageFormat
{
static
write
(
output
)
{
return
{
output
}
{
TextMessageFormat
.
RecordSeparator
}
;
}
static
parse
(
input
)
{
if
(
input
[
input
.
length
-
1
]
!
=
=
TextMessageFormat
.
RecordSeparator
)
{
throw
new
Error
(
"
Message
is
incomplete
.
"
)
;
}
const
messages
=
input
.
split
(
TextMessageFormat
.
RecordSeparator
)
;
messages
.
pop
(
)
;
return
messages
;
}
}
exports
.
TextMessageFormat
=
TextMessageFormat
;
TextMessageFormat
.
RecordSeparatorCode
=
0x1e
;
TextMessageFormat
.
RecordSeparator
=
String
.
fromCharCode
(
TextMessageFormat
.
RecordSeparatorCode
)
;

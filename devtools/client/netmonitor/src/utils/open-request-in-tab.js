"
use
strict
"
;
loader
.
lazyRequireGetter
(
this
"
openContentLink
"
"
devtools
/
client
/
shared
/
link
"
true
)
;
function
openRequestInTab
(
url
requestHeaders
requestPostData
)
{
if
(
!
requestPostData
)
{
openContentLink
(
url
{
relatedToCurrent
:
true
}
)
;
}
else
{
openPostRequestInTabHelper
(
{
url
data
:
requestPostData
.
postData
}
)
;
}
}
function
openPostRequestInTabHelper
(
{
url
data
}
)
{
const
form
=
document
.
createElement
(
"
form
"
)
;
form
.
target
=
"
_blank
"
;
form
.
action
=
url
;
form
.
method
=
"
post
"
;
if
(
data
)
{
for
(
const
key
in
data
)
{
const
input
=
document
.
createElement
(
"
input
"
)
;
input
.
name
=
key
;
input
.
value
=
data
[
key
]
;
form
.
appendChild
(
input
)
;
}
}
form
.
hidden
=
true
;
document
.
body
.
appendChild
(
form
)
;
form
.
submit
(
)
;
form
.
remove
(
)
;
}
module
.
exports
=
{
openRequestInTab
}
;

"
use
strict
"
;
const
I
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
immutable
"
)
;
const
{
OPEN_NETWORK_DETAILS
OPEN_STATISTICS
SELECT_DETAILS_PANEL_TAB
WATERFALL_RESIZE
}
=
require
(
"
.
.
/
constants
"
)
;
const
UI
=
I
.
Record
(
{
detailsPanelSelectedTab
:
"
headers
"
networkDetailsOpen
:
false
statisticsOpen
:
false
waterfallWidth
:
null
}
)
;
const
REQUESTS_WATERFALL_SAFE_BOUNDS
=
90
;
function
resizeWaterfall
(
state
action
)
{
return
state
.
set
(
"
waterfallWidth
"
action
.
width
-
REQUESTS_WATERFALL_SAFE_BOUNDS
)
;
}
function
openNetworkDetails
(
state
action
)
{
return
state
.
set
(
"
networkDetailsOpen
"
action
.
open
)
;
}
function
openStatistics
(
state
action
)
{
return
state
.
set
(
"
statisticsOpen
"
action
.
open
)
;
}
function
setDetailsPanelTab
(
state
action
)
{
return
state
.
set
(
"
detailsPanelSelectedTab
"
action
.
id
)
;
}
function
ui
(
state
=
new
UI
(
)
action
)
{
switch
(
action
.
type
)
{
case
OPEN_NETWORK_DETAILS
:
return
openNetworkDetails
(
state
action
)
;
case
OPEN_STATISTICS
:
return
openStatistics
(
state
action
)
;
case
SELECT_DETAILS_PANEL_TAB
:
return
setDetailsPanelTab
(
state
action
)
;
case
WATERFALL_RESIZE
:
return
resizeWaterfall
(
state
action
)
;
default
:
return
state
;
}
}
module
.
exports
=
ui
;

"
use
strict
"
;
requestLongerTimeout
(
2
)
;
loadHelperScript
(
"
helper_disable_cache
.
js
"
)
;
add_task
(
async
function
(
)
{
await
pushPref
(
"
network
.
http
.
rcwn
.
enabled
"
false
)
;
registerCleanupFunction
(
(
)
=
>
{
info
(
"
Resetting
devtools
.
cache
.
disabled
to
false
.
"
)
;
Services
.
prefs
.
setBoolPref
(
"
devtools
.
cache
.
disabled
"
false
)
;
}
)
;
for
(
const
tab
of
tabs
)
{
await
initTab
(
tab
tab
.
startToolbox
)
;
}
await
setDisableCacheCheckboxChecked
(
tabs
[
0
]
true
)
;
tabs
[
2
]
.
toolbox
=
await
gDevTools
.
showToolbox
(
tabs
[
2
]
.
target
"
options
"
)
;
await
checkCacheEnabled
(
tabs
[
2
]
false
)
;
await
tabs
[
2
]
.
toolbox
.
destroy
(
)
;
tabs
[
2
]
.
target
=
TargetFactory
.
forTab
(
tabs
[
2
]
.
tab
)
;
await
checkCacheEnabled
(
tabs
[
2
]
true
)
;
tabs
[
2
]
.
toolbox
=
await
gDevTools
.
showToolbox
(
tabs
[
2
]
.
target
"
options
"
)
;
await
checkCacheEnabled
(
tabs
[
2
]
false
)
;
await
setDisableCacheCheckboxChecked
(
tabs
[
2
]
false
)
;
await
checkCacheStateForAllTabs
(
[
true
true
true
true
]
)
;
await
finishUp
(
)
;
}
)
;

"
use
strict
"
;
loadHelperScript
(
"
helper_enable_devtools_popup
.
js
"
)
;
const
TEST_URL
=
"
data
:
text
/
html
<
html
>
<
head
>
<
title
>
Test
Disable
F12
experiment
<
/
title
>
<
/
head
>
<
body
>
"
+
"
<
h1
>
Disable
F12
experiment
<
/
h1
>
<
/
body
>
<
/
html
>
"
;
add_task
(
async
function
(
)
{
const
tab
=
await
addTab
(
TEST_URL
)
;
await
new
Promise
(
done
=
>
waitForFocus
(
done
)
)
;
await
checkF12IsEnabled
(
tab
)
;
const
isF12Disabled
=
Services
.
prefs
.
getBoolPref
(
"
devtools
.
experiment
.
f12
.
shortcut_disabled
"
)
;
ok
(
!
isF12Disabled
"
The
F12
disabled
preference
has
been
correctly
flipped
"
)
;
}
)
;

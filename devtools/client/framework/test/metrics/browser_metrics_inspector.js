"
use
strict
"
;
const
TEST_URL
=
"
data
:
text
/
html
;
charset
=
UTF
-
8
<
div
>
Inspector
modules
load
test
<
/
div
>
"
;
add_task
(
async
function
(
)
{
await
openNewTabAndToolbox
(
TEST_URL
"
inspector
"
)
;
const
loaders
=
[
loader
.
provider
.
loader
]
;
const
allModules
=
getFilteredModules
(
"
"
loaders
)
;
const
inspectorModules
=
getFilteredModules
(
"
devtools
/
client
/
inspector
"
loaders
)
;
const
allModulesCount
=
allModules
.
length
;
const
inspectorModulesCount
=
inspectorModules
.
length
;
const
allModulesChars
=
countCharsInModules
(
allModules
)
;
const
inspectorModulesChars
=
countCharsInModules
(
inspectorModules
)
;
const
PERFHERDER_DATA
=
{
framework
:
{
name
:
"
devtools
"
}
suites
:
[
{
name
:
"
inspector
-
metrics
"
value
:
allModulesChars
subtests
:
[
{
name
:
"
inspector
-
modules
"
value
:
inspectorModulesCount
}
{
name
:
"
inspector
-
chars
"
value
:
inspectorModulesChars
}
{
name
:
"
all
-
modules
"
value
:
allModulesCount
}
{
name
:
"
all
-
chars
"
value
:
allModulesChars
}
]
}
]
}
;
info
(
"
PERFHERDER_DATA
:
"
+
JSON
.
stringify
(
PERFHERDER_DATA
)
)
;
ok
(
allModulesCount
>
inspectorModulesCount
&
&
inspectorModulesCount
>
0
"
Successfully
recorded
module
count
for
Inspector
"
)
;
ok
(
allModulesChars
>
inspectorModulesChars
&
&
inspectorModulesChars
>
0
"
Successfully
recorded
char
count
for
Inspector
"
)
;
}
)
;

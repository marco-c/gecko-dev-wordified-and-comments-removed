"
use
strict
"
;
const
URL
=
"
data
:
text
/
html
;
charset
=
utf8
test
page
for
toolbox
switching
"
;
var
{
Toolbox
}
=
require
(
"
devtools
/
client
/
framework
/
toolbox
"
)
;
const
{
LocalizationHelper
}
=
require
(
"
devtools
/
shared
/
l10n
"
)
;
const
L10N
=
new
LocalizationHelper
(
"
devtools
/
client
/
locales
/
toolbox
.
properties
"
)
;
add_task
(
async
function
(
)
{
info
(
"
Create
a
test
tab
and
open
the
toolbox
"
)
;
const
tab
=
await
addTab
(
URL
)
;
const
target
=
TargetFactory
.
forTab
(
tab
)
;
const
toolbox
=
await
gDevTools
.
showToolbox
(
target
"
webconsole
"
)
;
const
shortcut
=
L10N
.
getStr
(
"
toolbox
.
toggleHost
.
key
"
)
;
const
{
SIDE
BOTTOM
WINDOW
}
=
Toolbox
.
HostType
;
checkHostType
(
toolbox
BOTTOM
SIDE
)
;
info
(
"
Switching
from
bottom
to
side
"
)
;
let
onHostChanged
=
toolbox
.
once
(
"
host
-
changed
"
)
;
synthesizeKeyShortcut
(
shortcut
toolbox
.
win
)
;
await
onHostChanged
;
checkHostType
(
toolbox
SIDE
BOTTOM
)
;
info
(
"
Switching
from
side
to
bottom
"
)
;
onHostChanged
=
toolbox
.
once
(
"
host
-
changed
"
)
;
synthesizeKeyShortcut
(
shortcut
toolbox
.
win
)
;
await
onHostChanged
;
checkHostType
(
toolbox
BOTTOM
SIDE
)
;
info
(
"
Switching
to
window
"
)
;
await
toolbox
.
switchHost
(
WINDOW
)
;
checkHostType
(
toolbox
WINDOW
BOTTOM
)
;
info
(
"
Switching
from
window
to
bottom
"
)
;
onHostChanged
=
toolbox
.
once
(
"
host
-
changed
"
)
;
synthesizeKeyShortcut
(
shortcut
toolbox
.
win
)
;
await
onHostChanged
;
checkHostType
(
toolbox
BOTTOM
WINDOW
)
;
await
toolbox
.
destroy
(
)
;
gBrowser
.
removeCurrentTab
(
)
;
}
)
;

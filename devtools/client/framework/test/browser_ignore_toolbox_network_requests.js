"
use
strict
"
;
add_task
(
async
function
(
)
{
await
pushPref
(
"
devtools
.
testing
"
false
)
;
let
tab
=
await
addTab
(
URL_ROOT
+
"
doc_viewsource
.
html
"
)
;
let
target
=
await
TargetFactory
.
forTab
(
tab
)
;
let
toolbox
=
await
gDevTools
.
showToolbox
(
target
"
styleeditor
"
)
;
let
panel
=
toolbox
.
getPanel
(
"
styleeditor
"
)
;
is
(
panel
.
UI
.
editors
.
length
1
"
correct
number
of
editors
opened
"
)
;
const
monitor
=
await
toolbox
.
selectTool
(
"
netmonitor
"
)
;
const
{
store
}
=
monitor
.
panelWin
;
is
(
store
.
getState
(
)
.
requests
.
requests
.
size
0
"
No
network
requests
appear
in
the
network
panel
"
)
;
await
gDevTools
.
closeToolbox
(
target
)
;
tab
=
target
=
toolbox
=
panel
=
null
;
gBrowser
.
removeCurrentTab
(
)
;
}
)
;

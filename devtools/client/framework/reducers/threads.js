"
use
strict
"
;
const
initialReducerState
=
{
threads
:
[
]
selected
:
null
}
;
exports
.
reducer
=
threadsReducer
;
function
threadsReducer
(
state
=
initialReducerState
action
)
{
switch
(
action
.
type
)
{
case
"
SELECT_THREAD
"
:
{
const
{
threadActorID
}
=
action
;
if
(
state
.
selected
?
.
actorID
=
=
=
threadActorID
)
{
return
state
;
}
const
selectedThread
=
state
.
threads
.
find
(
thread
=
>
thread
.
actorID
=
=
=
threadActorID
)
;
if
(
!
selectedThread
)
{
return
state
;
}
return
{
.
.
.
state
selected
:
selectedThread
}
;
}
case
"
ADD_THREAD
"
:
{
return
{
.
.
.
state
threads
:
[
.
.
.
state
.
threads
action
.
thread
]
}
;
}
case
"
CLEAR_THREAD
"
:
{
const
threads
=
state
.
threads
.
filter
(
thread
=
>
thread
.
_targetFront
!
=
=
action
.
target
)
;
let
{
selected
}
=
state
;
if
(
selected
?
.
_targetFront
=
=
=
action
.
target
)
{
selected
=
null
;
}
return
{
.
.
.
state
threads
selected
}
;
}
}
return
state
;
}
exports
.
getToolboxThreads
=
getToolboxThreads
;
function
getToolboxThreads
(
state
)
{
return
state
.
threads
.
threads
;
}
exports
.
getSelectedThread
=
getSelectedThread
;
function
getSelectedThread
(
state
)
{
return
state
.
threads
.
selected
;
}

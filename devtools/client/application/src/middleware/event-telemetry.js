"
use
strict
"
;
const
{
START_WORKER
UNREGISTER_WORKER
UPDATE_SELECTED_PAGE
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
application
/
src
/
constants
.
js
"
)
;
function
eventTelemetryMiddleware
(
telemetry
)
{
function
recordEvent
(
method
details
=
{
}
)
{
telemetry
.
recordEvent
(
method
"
application
"
null
details
)
;
}
return
store
=
>
next
=
>
action
=
>
{
switch
(
action
.
type
)
{
case
UPDATE_SELECTED_PAGE
:
recordEvent
(
"
select_page
"
{
page_type
:
action
.
selectedPage
}
)
;
break
;
case
UNREGISTER_WORKER
:
recordEvent
(
"
unregister_worker
"
)
;
break
;
case
START_WORKER
:
recordEvent
(
"
start_worker
"
)
;
break
;
}
return
next
(
action
)
;
}
;
}
module
.
exports
=
eventTelemetryMiddleware
;

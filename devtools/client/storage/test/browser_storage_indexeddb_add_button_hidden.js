"
use
strict
"
;
add_task
(
async
function
(
)
{
await
openTabAndSetupStorage
(
MAIN_DOMAIN
+
"
storage
-
empty
-
objectstores
.
html
"
)
;
info
(
"
Select
an
indexedDB
item
"
)
;
const
idbItem
=
[
"
indexedDB
"
"
http
:
/
/
test1
.
example
.
org
"
"
idb1
(
default
)
"
]
;
await
selectTreeItem
(
idbItem
)
;
checkAddButtonState
(
{
expectHidden
:
true
}
)
;
info
(
"
Select
a
cookie
item
"
)
;
const
cookieItem
=
[
"
cookies
"
"
http
:
/
/
test1
.
example
.
org
"
]
;
await
selectTreeItem
(
cookieItem
)
;
checkAddButtonState
(
{
expectHidden
:
false
}
)
;
}
)
;
function
checkAddButtonState
(
{
expectHidden
}
)
{
const
toolbar
=
gPanelWindow
.
document
.
getElementById
(
"
storage
-
toolbar
"
)
;
const
addButton
=
toolbar
.
querySelector
(
"
#
add
-
button
"
)
;
is
(
addButton
.
hidden
expectHidden
The
add
button
is
{
expectHidden
?
"
hidden
"
:
"
displayed
"
}
)
;
}

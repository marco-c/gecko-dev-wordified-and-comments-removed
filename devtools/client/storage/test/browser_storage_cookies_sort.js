"
use
strict
"
;
add_task
(
async
function
(
)
{
const
TEST_URL
=
MAIN_DOMAIN
+
"
storage
-
cookies
-
sort
.
html
"
;
await
openTabAndSetupStorage
(
TEST_URL
)
;
showAllColumns
(
true
)
;
info
(
"
Sort
on
the
expires
column
ascending
order
"
)
;
clickColumnHeader
(
"
expires
"
)
;
checkCells
(
[
"
test_session
"
"
test_session
"
"
test_hour
"
"
test_day
"
"
test_year
"
]
)
;
info
(
"
Sort
on
the
expires
column
descending
order
"
)
;
clickColumnHeader
(
"
expires
"
)
;
checkCells
(
[
"
test_year
"
"
test_day
"
"
test_hour
"
"
test_session
"
"
test_session
"
]
)
;
info
(
"
Sort
on
the
name
column
ascending
order
"
)
;
clickColumnHeader
(
"
name
"
)
;
checkCells
(
[
"
test_day
"
"
test_hour
"
"
test_session1
"
"
test_session2
"
"
test_year
"
]
)
;
}
)
;
function
checkCells
(
expected
)
{
const
cells
=
[
.
.
.
gPanelWindow
.
document
.
querySelectorAll
(
"
#
name
.
table
-
widget
-
cell
"
)
]
;
cells
.
forEach
(
function
(
cell
i
arr
)
{
ok
(
cell
.
value
.
startsWith
(
expected
[
i
]
)
Cell
value
starts
with
"
{
expected
[
i
]
}
"
.
)
;
}
)
;
}

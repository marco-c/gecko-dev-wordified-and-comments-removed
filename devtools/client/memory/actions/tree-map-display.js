"
use
strict
"
;
const
{
assert
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
DevToolsUtils
.
js
"
)
;
const
{
actions
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
memory
/
constants
.
js
"
)
;
const
{
refresh
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
memory
/
actions
/
refresh
.
js
"
)
;
exports
.
setTreeMapAndRefresh
=
function
(
heapWorker
display
)
{
return
async
function
(
{
dispatch
}
)
{
dispatch
(
setTreeMap
(
display
)
)
;
await
dispatch
(
refresh
(
heapWorker
)
)
;
}
;
}
;
const
setTreeMap
=
(
exports
.
setTreeMap
=
function
(
display
)
{
assert
(
typeof
display
=
=
=
"
object
"
&
&
display
&
&
display
.
breakdown
&
&
display
.
breakdown
.
by
"
Breakdowns
must
be
an
object
with
a
by
property
attempted
to
set
:
"
+
JSON
.
stringify
(
display
)
)
;
return
{
type
:
actions
.
SET_TREE_MAP_DISPLAY
display
}
;
}
)
;

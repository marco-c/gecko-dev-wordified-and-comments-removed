"
use
strict
"
;
const
{
actions
ALLOCATION_RECORDING_OPTIONS
}
=
require
(
"
devtools
/
client
/
memory
/
constants
"
)
;
exports
.
toggleRecordingAllocationStacks
=
function
(
front
)
{
return
async
function
(
dispatch
getState
)
{
dispatch
(
{
type
:
actions
.
TOGGLE_RECORD_ALLOCATION_STACKS_START
}
)
;
if
(
getState
(
)
.
recordingAllocationStacks
)
{
await
front
.
stopRecordingAllocations
(
)
;
}
else
{
await
front
.
startRecordingAllocations
(
ALLOCATION_RECORDING_OPTIONS
)
;
}
dispatch
(
{
type
:
actions
.
TOGGLE_RECORD_ALLOCATION_STACKS_END
}
)
;
}
;
}
;

"
use
strict
"
;
const
actions
=
exports
.
actions
=
{
}
;
actions
.
TAKE_SNAPSHOT_START
=
"
take
-
snapshot
-
start
"
;
actions
.
TAKE_SNAPSHOT_END
=
"
take
-
snapshot
-
end
"
;
actions
.
READ_SNAPSHOT_START
=
"
read
-
snapshot
-
start
"
;
actions
.
READ_SNAPSHOT_END
=
"
read
-
snapshot
-
end
"
;
actions
.
TAKE_CENSUS_START
=
"
take
-
census
-
start
"
;
actions
.
TAKE_CENSUS_END
=
"
take
-
census
-
end
"
;
actions
.
TOGGLE_RECORD_ALLOCATION_STACKS_START
=
"
toggle
-
record
-
allocation
-
stacks
-
start
"
;
actions
.
TOGGLE_RECORD_ALLOCATION_STACKS_END
=
"
toggle
-
record
-
allocation
-
stacks
-
end
"
;
actions
.
SELECT_SNAPSHOT
=
"
select
-
snapshot
"
;
actions
.
TOGGLE_INVERTED
=
"
toggle
-
inverted
"
;
actions
.
SNAPSHOT_ERROR
=
"
snapshot
-
error
"
;
exports
.
ALLOCATION_RECORDING_OPTIONS
=
{
probability
:
1
maxLogLength
:
1
}
;
const
COUNT
=
{
by
:
"
count
"
count
:
true
bytes
:
true
}
;
const
INTERNAL_TYPE
=
{
by
:
"
internalType
"
then
:
COUNT
}
;
const
ALLOCATION_STACK
=
{
by
:
"
allocationStack
"
then
:
COUNT
noStack
:
COUNT
}
;
const
OBJECT_CLASS
=
{
by
:
"
objectClass
"
then
:
COUNT
other
:
COUNT
}
;
const
breakdowns
=
exports
.
breakdowns
=
{
coarseType
:
{
displayName
:
"
Coarse
Type
"
breakdown
:
{
by
:
"
coarseType
"
objects
:
ALLOCATION_STACK
strings
:
COUNT
scripts
:
INTERNAL_TYPE
other
:
INTERNAL_TYPE
}
}
allocationStack
:
{
displayName
:
"
Allocation
Stack
"
breakdown
:
ALLOCATION_STACK
}
objectClass
:
{
displayName
:
"
Object
Class
"
breakdown
:
OBJECT_CLASS
}
internalType
:
{
displayName
:
"
Internal
Type
"
breakdown
:
INTERNAL_TYPE
}
}
;
const
snapshotState
=
exports
.
snapshotState
=
{
}
;
snapshotState
.
ERROR
=
"
snapshot
-
state
-
error
"
;
snapshotState
.
SAVING
=
"
snapshot
-
state
-
saving
"
;
snapshotState
.
SAVED
=
"
snapshot
-
state
-
saved
"
;
snapshotState
.
READING
=
"
snapshot
-
state
-
reading
"
;
snapshotState
.
READ
=
"
snapshot
-
state
-
read
"
;
snapshotState
.
SAVING_CENSUS
=
"
snapshot
-
state
-
saving
-
census
"
;
snapshotState
.
SAVED_CENSUS
=
"
snapshot
-
state
-
saved
-
census
"
;

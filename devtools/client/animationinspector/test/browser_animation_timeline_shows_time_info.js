"
use
strict
"
;
requestLongerTimeout
(
2
)
;
add_task
(
function
*
(
)
{
yield
addTab
(
URL_ROOT
+
"
doc_simple_animation
.
html
"
)
;
let
{
panel
controller
}
=
yield
openAnimationInspector
(
)
;
info
(
"
Getting
the
animation
element
from
the
panel
"
)
;
let
timelineEl
=
panel
.
animationsTimelineComponent
.
rootWrapperEl
;
let
timeBlockNameEls
=
timelineEl
.
querySelectorAll
(
"
.
time
-
block
.
name
"
)
;
[
.
.
.
timeBlockNameEls
]
.
forEach
(
(
el
i
)
=
>
{
ok
(
el
.
hasAttribute
(
"
title
"
)
"
The
tooltip
is
defined
for
animation
"
+
i
)
;
let
title
=
el
.
getAttribute
(
"
title
"
)
;
ok
(
title
.
match
(
/
Delay
:
[
\
d
.
-
]
+
s
/
)
"
The
tooltip
shows
the
delay
"
)
;
ok
(
title
.
match
(
/
Duration
:
[
\
d
.
]
+
s
/
)
"
The
tooltip
shows
the
duration
"
)
;
if
(
controller
.
animationPlayers
[
i
]
.
state
.
iterationCount
!
=
=
1
)
{
ok
(
title
.
match
(
/
Repeats
:
/
)
"
The
tooltip
shows
the
iterations
"
)
;
}
else
{
ok
(
!
title
.
match
(
/
Repeats
:
/
)
"
The
tooltip
doesn
'
t
show
the
iterations
"
)
;
}
ok
(
!
title
.
match
(
/
Iteration
start
:
/
)
"
The
tooltip
doesn
'
t
show
the
iteration
start
"
)
;
}
)
;
}
)
;

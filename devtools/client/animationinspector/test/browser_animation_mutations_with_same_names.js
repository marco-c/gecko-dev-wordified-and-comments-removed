"
use
strict
"
;
add_task
(
function
*
(
)
{
yield
addTab
(
TEST_URL_ROOT
+
"
doc_negative_animation
.
html
"
)
;
let
{
controller
panel
}
=
yield
openAnimationInspector
(
)
;
info
(
"
Wait
until
all
animations
have
been
added
"
+
"
(
they
'
re
added
with
setTimeout
)
"
)
;
while
(
controller
.
animationPlayers
.
length
<
3
)
{
yield
controller
.
once
(
controller
.
PLAYERS_UPDATED_EVENT
)
;
}
yield
waitForAllAnimationTargets
(
panel
)
;
is
(
panel
.
animationsTimelineComponent
.
animations
.
length
3
"
The
timeline
shows
3
animations
too
"
)
;
let
nodeFronts
=
new
Set
(
panel
.
animationsTimelineComponent
.
targetNodes
.
map
(
n
=
>
n
.
previewer
.
nodeFront
)
)
;
is
(
nodeFronts
.
size
3
"
The
animations
are
applied
to
3
different
node
fronts
"
)
;
}
)
;

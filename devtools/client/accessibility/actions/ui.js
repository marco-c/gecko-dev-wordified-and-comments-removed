"
use
strict
"
;
const
Services
=
require
(
"
Services
"
)
;
const
{
ENABLE
DISABLE
RESET
UPDATE_CAN_BE_DISABLED
UPDATE_CAN_BE_ENABLED
UPDATE_PREF
PREF_KEYS
}
=
require
(
"
.
.
/
constants
"
)
;
exports
.
reset
=
(
accessibility
supports
)
=
>
dispatch
=
>
dispatch
(
{
accessibility
supports
type
:
RESET
}
)
;
exports
.
updateCanBeDisabled
=
canBeDisabled
=
>
dispatch
=
>
dispatch
(
{
canBeDisabled
type
:
UPDATE_CAN_BE_DISABLED
}
)
;
exports
.
updateCanBeEnabled
=
canBeEnabled
=
>
dispatch
=
>
dispatch
(
{
canBeEnabled
type
:
UPDATE_CAN_BE_ENABLED
}
)
;
exports
.
updatePref
=
(
name
value
)
=
>
dispatch
=
>
{
dispatch
(
{
type
:
UPDATE_PREF
name
value
}
)
;
Services
.
prefs
.
setBoolPref
(
PREF_KEYS
[
name
]
value
)
;
}
;
exports
.
enable
=
accessibility
=
>
dispatch
=
>
accessibility
.
enable
(
)
.
then
(
(
)
=
>
dispatch
(
{
type
:
ENABLE
}
)
)
.
catch
(
error
=
>
dispatch
(
{
error
type
:
ENABLE
}
)
)
;
exports
.
disable
=
accessibility
=
>
dispatch
=
>
accessibility
.
disable
(
)
.
then
(
(
)
=
>
dispatch
(
{
type
:
DISABLE
}
)
)
.
catch
(
error
=
>
dispatch
(
{
type
:
DISABLE
error
}
)
)
;

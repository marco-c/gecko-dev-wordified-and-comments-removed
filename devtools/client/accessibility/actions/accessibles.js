"
use
strict
"
;
const
{
FETCH_CHILDREN
SELECT
HIGHLIGHT
UNHIGHLIGHT
}
=
require
(
"
devtools
/
client
/
accessibility
/
constants
"
)
;
exports
.
fetchChildren
=
accessible
=
>
dispatch
=
>
accessible
.
children
(
)
.
then
(
response
=
>
dispatch
(
{
accessible
type
:
FETCH_CHILDREN
response
}
)
)
.
catch
(
error
=
>
dispatch
(
{
accessible
type
:
FETCH_CHILDREN
error
}
)
)
;
exports
.
select
=
accessible
=
>
dispatch
=
>
{
const
accessibleWalkerFront
=
accessible
.
parent
(
)
;
if
(
!
accessibleWalkerFront
)
{
dispatch
(
{
accessible
type
:
SELECT
error
:
new
Error
(
"
AccessibleWalker
front
is
not
available
.
"
)
}
)
;
return
Promise
.
reject
(
)
;
}
return
accessibleWalkerFront
.
getAncestry
(
accessible
)
.
then
(
response
=
>
dispatch
(
{
accessible
type
:
SELECT
response
}
)
)
.
catch
(
error
=
>
dispatch
(
{
accessible
type
:
SELECT
error
}
)
)
;
}
;
exports
.
highlight
=
accessible
=
>
dispatch
=
>
{
const
accessibleWalkerFront
=
accessible
.
parent
(
)
;
if
(
!
accessibleWalkerFront
)
{
dispatch
(
{
accessible
type
:
SELECT
error
:
new
Error
(
"
AccessibleWalker
front
is
not
available
.
"
)
}
)
;
return
Promise
.
reject
(
)
;
}
return
accessibleWalkerFront
.
getAncestry
(
accessible
)
.
then
(
response
=
>
dispatch
(
{
accessible
type
:
HIGHLIGHT
response
}
)
)
.
catch
(
error
=
>
dispatch
(
{
accessible
type
:
HIGHLIGHT
error
}
)
)
;
}
;
exports
.
unhighlight
=
(
)
=
>
dispatch
=
>
dispatch
(
{
type
:
UNHIGHLIGHT
}
)
;

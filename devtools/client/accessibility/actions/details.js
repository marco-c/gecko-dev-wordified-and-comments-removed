"
use
strict
"
;
const
{
UPDATE_DETAILS
}
=
require
(
"
devtools
/
client
/
accessibility
/
constants
"
)
;
exports
.
updateDetails
=
accessible
=
>
async
(
{
dispatch
}
)
=
>
{
const
{
walker
:
domWalker
}
=
await
accessible
.
targetFront
.
getFront
(
"
inspector
"
)
;
if
(
accessible
.
isDestroyed
(
)
)
{
return
;
}
try
{
const
response
=
await
Promise
.
all
(
[
domWalker
.
getNodeFromActor
(
accessible
.
actorID
[
"
rawAccessible
"
"
DOMNode
"
]
)
accessible
.
getRelations
(
)
accessible
.
audit
(
)
accessible
.
hydrate
(
)
]
)
;
dispatch
(
{
accessible
type
:
UPDATE_DETAILS
response
}
)
;
}
catch
(
error
)
{
dispatch
(
{
accessible
type
:
UPDATE_DETAILS
error
}
)
;
}
}
;

"
use
strict
"
;
const
TEST_PAGE_URL
=
URL_ROOT
+
"
page_basic
.
html
"
;
add_task
(
async
function
(
)
{
info
(
"
Test
DOM
panel
basic
started
"
)
;
const
{
panel
}
=
await
addTestTab
(
TEST_PAGE_URL
)
;
await
SpecialPowers
.
spawn
(
gBrowser
.
selectedBrowser
[
]
(
)
=
>
{
content
.
wrappedJSObject
.
_b
=
10
;
}
)
;
await
refreshPanel
(
panel
)
;
const
row
=
getRowByLabel
(
panel
"
_b
"
)
;
ok
(
row
"
New
variable
must
be
displayed
"
)
;
await
SpecialPowers
.
spawn
(
gBrowser
.
selectedBrowser
[
]
(
)
=
>
{
delete
content
.
wrappedJSObject
.
_b
;
}
)
;
}
)
;

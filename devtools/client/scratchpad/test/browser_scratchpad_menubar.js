var
{
TargetFactory
}
=
require
(
"
devtools
/
client
/
framework
/
target
"
)
;
add_task
(
async
function
(
)
{
info
(
"
Test
existence
of
menu
bar
of
scratchpad
.
"
)
;
const
options
=
{
tabContent
:
"
Sanity
test
for
scratchpad
panel
.
"
}
;
info
(
"
Open
scratchpad
.
"
)
;
const
[
win
]
=
await
openTabAndScratchpad
(
options
)
;
const
menuToolbar
=
win
.
document
.
getElementById
(
"
sp
-
menu
-
toolbar
"
)
;
ok
(
menuToolbar
"
The
scratchpad
should
have
a
menu
bar
.
"
)
;
}
)
;
add_task
(
async
function
(
)
{
info
(
"
Test
existence
of
menu
bar
of
scratchpad
panel
.
"
)
;
await
new
Promise
(
resolve
=
>
{
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
devtools
.
scratchpad
.
enabled
"
true
]
]
}
resolve
)
;
}
)
;
info
(
"
Open
devtools
on
the
Scratchpad
.
"
)
;
const
target
=
await
TargetFactory
.
forTab
(
gBrowser
.
selectedTab
)
;
const
toolbox
=
await
gDevTools
.
showToolbox
(
target
"
scratchpad
"
)
;
const
menuToolbar
=
toolbox
.
doc
.
getElementById
(
"
sp
-
menu
-
toolbar
"
)
;
ok
(
!
menuToolbar
"
The
scratchpad
panel
should
not
have
a
menu
bar
.
"
)
;
}
)
;

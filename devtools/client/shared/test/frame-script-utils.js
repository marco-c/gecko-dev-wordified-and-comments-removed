"
use
strict
"
;
const
{
require
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
devtools
/
shared
/
Loader
.
jsm
"
)
;
const
Services
=
require
(
"
Services
"
)
;
addMessageListener
(
"
devtools
:
test
:
console
"
function
(
{
data
}
)
{
const
{
method
args
id
}
=
data
;
content
.
console
[
method
]
.
apply
(
content
.
console
args
)
;
sendAsyncMessage
(
"
devtools
:
test
:
console
:
response
"
{
id
}
)
;
}
)
;
addMessageListener
(
"
devtools
:
test
:
profiler
"
function
(
{
data
}
)
{
const
{
method
args
id
}
=
data
;
const
result
=
Services
.
profiler
[
method
]
(
.
.
.
args
)
;
sendAsyncMessage
(
"
devtools
:
test
:
profiler
:
response
"
{
data
:
result
id
:
id
}
)
;
}
)
;
addMessageListener
(
"
devtools
:
test
:
eval
"
function
(
{
data
}
)
{
sendAsyncMessage
(
"
devtools
:
test
:
eval
:
response
"
{
value
:
content
.
eval
(
data
.
script
)
id
:
data
.
id
}
)
;
}
)
;
addEventListener
(
"
load
"
function
(
)
{
sendAsyncMessage
(
"
devtools
:
test
:
load
"
)
;
}
true
)
;

"
use
strict
"
;
const
{
getJSON
}
=
require
(
"
devtools
/
client
/
shared
/
getjson
"
)
;
const
DEVICES_URL
=
"
devtools
.
devices
.
url
"
;
const
{
LocalizationHelper
}
=
require
(
"
devtools
/
client
/
shared
/
l10n
"
)
;
const
L10N
=
new
LocalizationHelper
(
"
devtools
/
locale
/
device
.
properties
"
)
;
var
localDevices
=
{
}
;
function
AddDevice
(
device
type
=
"
phones
"
)
{
let
list
=
localDevices
[
type
]
;
if
(
!
list
)
{
list
=
localDevices
[
type
]
=
[
]
;
}
list
.
push
(
device
)
;
}
exports
.
AddDevice
=
AddDevice
;
function
GetDevices
(
)
{
return
getJSON
(
DEVICES_URL
)
.
then
(
devices
=
>
{
for
(
let
type
in
localDevices
)
{
if
(
!
devices
[
type
]
)
{
devices
.
TYPES
.
push
(
type
)
;
devices
[
type
]
=
[
]
;
}
devices
[
type
]
=
localDevices
[
type
]
.
concat
(
devices
[
type
]
)
;
}
return
devices
;
}
)
;
}
exports
.
GetDevices
=
GetDevices
;
function
GetDeviceString
(
deviceType
)
{
return
L10N
.
getStr
(
"
device
.
"
+
deviceType
)
;
}
exports
.
GetDeviceString
=
GetDeviceString
;

"
use
strict
"
;
const
{
getWasmXScopes
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
shared
/
source
-
map
-
loader
/
wasm
-
dwarf
/
wasmXScopes
"
)
;
const
{
getSourceMap
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
shared
/
source
-
map
-
loader
/
utils
/
sourceMapRequests
"
)
;
const
{
generatedToOriginalId
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
shared
/
source
-
map
-
loader
/
utils
/
index
"
)
;
async
function
getOriginalStackFrames
(
generatedLocation
)
{
const
wasmXScopes
=
await
getWasmXScopes
(
generatedLocation
.
sourceId
{
getSourceMap
generatedToOriginalId
}
)
;
if
(
!
wasmXScopes
)
{
return
null
;
}
const
scopes
=
wasmXScopes
.
search
(
generatedLocation
)
;
if
(
scopes
.
length
=
=
=
0
)
{
console
.
warn
(
"
Something
wrong
with
debug
data
:
none
original
frames
found
"
)
;
return
null
;
}
return
scopes
;
}
module
.
exports
=
{
getOriginalStackFrames
}
;

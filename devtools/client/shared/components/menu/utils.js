"
use
strict
"
;
const
Menu
=
require
(
"
devtools
/
client
/
framework
/
menu
"
)
;
const
MenuItem
=
require
(
"
devtools
/
client
/
framework
/
menu
-
item
"
)
;
function
showMenu
(
items
options
)
{
if
(
items
.
length
=
=
=
0
)
{
return
;
}
const
menu
=
new
Menu
(
)
;
items
.
forEach
(
item
=
>
{
if
(
item
=
=
"
-
"
)
{
item
=
{
type
:
"
separator
"
}
;
}
const
menuItem
=
new
MenuItem
(
item
)
;
const
subItems
=
item
.
submenu
;
if
(
subItems
)
{
const
subMenu
=
new
Menu
(
)
;
subItems
.
forEach
(
subItem
=
>
{
subMenu
.
append
(
new
MenuItem
(
subItem
)
)
;
}
)
;
menuItem
.
submenu
=
subMenu
;
}
menu
.
append
(
menuItem
)
;
}
)
;
if
(
options
.
button
)
{
menu
.
popupAtTarget
(
options
.
button
window
.
document
)
;
}
else
{
const
screenX
=
options
.
screenX
;
const
screenY
=
options
.
screenY
;
menu
.
popup
(
screenX
screenY
window
.
document
)
;
}
}
module
.
exports
=
{
showMenu
}
;

"
use
strict
"
;
const
{
Ci
ChromeWorker
}
=
require
(
"
chrome
"
)
;
const
Services
=
require
(
"
Services
"
)
;
function
watchFiles
(
path
onFileChanged
)
{
const
watchWorker
=
new
ChromeWorker
(
"
resource
:
/
/
devtools
/
client
/
shared
/
file
-
watcher
-
worker
.
js
"
)
;
watchWorker
.
onmessage
=
event
=
>
{
const
{
path
}
=
event
.
data
;
onFileChanged
(
path
)
;
}
;
watchWorker
.
postMessage
(
{
path
fileRegex
:
/
\
.
(
js
|
css
|
svg
|
png
)
/
}
)
;
return
watchWorker
;
}
exports
.
watchFiles
=
watchFiles
;

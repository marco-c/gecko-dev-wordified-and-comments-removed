"
use
strict
"
;
const
{
getAllUi
}
=
require
(
"
devtools
/
client
/
webconsole
/
selectors
/
ui
"
)
;
const
{
getMessage
}
=
require
(
"
devtools
/
client
/
webconsole
/
selectors
/
messages
"
)
;
const
{
FILTER_BAR_TOGGLE
INITIALIZE
PERSIST_TOGGLE
PREFS
REVERSE_SEARCH_INPUT_TOGGLE
SELECT_NETWORK_MESSAGE_TAB
SHOW_OBJECT_IN_SIDEBAR
SIDEBAR_CLOSE
SPLIT_CONSOLE_CLOSE_BUTTON_TOGGLE
TIMESTAMPS_TOGGLE
}
=
require
(
"
devtools
/
client
/
webconsole
/
constants
"
)
;
function
filterBarToggle
(
)
{
return
(
dispatch
getState
{
prefsService
}
)
=
>
{
dispatch
(
{
type
:
FILTER_BAR_TOGGLE
}
)
;
const
{
filterBarVisible
}
=
getAllUi
(
getState
(
)
)
;
prefsService
.
setBoolPref
(
PREFS
.
UI
.
FILTER_BAR
filterBarVisible
)
;
}
;
}
function
persistToggle
(
)
{
return
(
dispatch
getState
{
prefsService
}
)
=
>
{
dispatch
(
{
type
:
PERSIST_TOGGLE
}
)
;
const
uiState
=
getAllUi
(
getState
(
)
)
;
prefsService
.
setBoolPref
(
PREFS
.
UI
.
PERSIST
uiState
.
persistLogs
)
;
}
;
}
function
timestampsToggle
(
visible
)
{
return
{
type
:
TIMESTAMPS_TOGGLE
visible
}
;
}
function
selectNetworkMessageTab
(
id
)
{
return
{
type
:
SELECT_NETWORK_MESSAGE_TAB
id
}
;
}
function
initialize
(
)
{
return
{
type
:
INITIALIZE
}
;
}
function
sidebarClose
(
show
)
{
return
{
type
:
SIDEBAR_CLOSE
}
;
}
function
splitConsoleCloseButtonToggle
(
shouldDisplayButton
)
{
return
{
type
:
SPLIT_CONSOLE_CLOSE_BUTTON_TOGGLE
shouldDisplayButton
}
;
}
function
showMessageObjectInSidebar
(
actor
messageId
)
{
return
(
dispatch
getState
)
=
>
{
const
{
parameters
}
=
getMessage
(
getState
(
)
messageId
)
;
if
(
Array
.
isArray
(
parameters
)
)
{
for
(
const
parameter
of
parameters
)
{
if
(
parameter
.
actor
=
=
=
actor
)
{
dispatch
(
showObjectInSidebar
(
parameter
)
)
;
return
;
}
}
}
}
;
}
function
showObjectInSidebar
(
grip
)
{
return
{
type
:
SHOW_OBJECT_IN_SIDEBAR
grip
}
;
}
function
reverseSearchInputToggle
(
)
{
return
{
type
:
REVERSE_SEARCH_INPUT_TOGGLE
}
;
}
module
.
exports
=
{
filterBarToggle
initialize
persistToggle
reverseSearchInputToggle
selectNetworkMessageTab
showMessageObjectInSidebar
showObjectInSidebar
sidebarClose
splitConsoleCloseButtonToggle
timestampsToggle
}
;

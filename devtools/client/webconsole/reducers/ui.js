"
use
strict
"
;
const
{
FILTER_BAR_TOGGLE
INITIALIZE
PERSIST_TOGGLE
SELECT_NETWORK_MESSAGE_TAB
SIDEBAR_CLOSE
SHOW_OBJECT_IN_SIDEBAR
TIMESTAMPS_TOGGLE
MESSAGES_CLEAR
SPLIT_CONSOLE_CLOSE_BUTTON_TOGGLE
}
=
require
(
"
devtools
/
client
/
webconsole
/
constants
"
)
;
const
{
PANELS
}
=
require
(
"
devtools
/
client
/
netmonitor
/
src
/
constants
"
)
;
const
UiState
=
(
overrides
)
=
>
Object
.
freeze
(
Object
.
assign
(
{
filterBarVisible
:
false
initialized
:
false
networkMessageActiveTabId
:
PANELS
.
HEADERS
persistLogs
:
false
sidebarVisible
:
false
timestampsVisible
:
true
gripInSidebar
:
null
closeButtonVisible
:
false
}
overrides
)
)
;
function
ui
(
state
=
UiState
(
)
action
)
{
switch
(
action
.
type
)
{
case
FILTER_BAR_TOGGLE
:
return
Object
.
assign
(
{
}
state
{
filterBarVisible
:
!
state
.
filterBarVisible
}
)
;
case
PERSIST_TOGGLE
:
return
Object
.
assign
(
{
}
state
{
persistLogs
:
!
state
.
persistLogs
}
)
;
case
TIMESTAMPS_TOGGLE
:
return
Object
.
assign
(
{
}
state
{
timestampsVisible
:
action
.
visible
}
)
;
case
SELECT_NETWORK_MESSAGE_TAB
:
return
Object
.
assign
(
{
}
state
{
networkMessageActiveTabId
:
action
.
id
}
)
;
case
SIDEBAR_CLOSE
:
return
Object
.
assign
(
{
}
state
{
sidebarVisible
:
false
gripInSidebar
:
null
}
)
;
case
INITIALIZE
:
return
Object
.
assign
(
{
}
state
{
initialized
:
true
}
)
;
case
MESSAGES_CLEAR
:
return
Object
.
assign
(
{
}
state
{
sidebarVisible
:
false
gripInSidebar
:
null
}
)
;
case
SHOW_OBJECT_IN_SIDEBAR
:
if
(
action
.
grip
=
=
=
state
.
gripInSidebar
)
{
return
state
;
}
return
Object
.
assign
(
{
}
state
{
sidebarVisible
:
true
gripInSidebar
:
action
.
grip
}
)
;
case
SPLIT_CONSOLE_CLOSE_BUTTON_TOGGLE
:
return
Object
.
assign
(
{
}
state
{
closeButtonVisible
:
action
.
shouldDisplayButton
}
)
;
}
return
state
;
}
module
.
exports
=
{
UiState
ui
}
;

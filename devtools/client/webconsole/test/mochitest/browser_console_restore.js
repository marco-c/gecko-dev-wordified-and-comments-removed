"
use
strict
"
;
add_task
(
async
function
(
)
{
is
(
BrowserConsoleManager
.
getBrowserConsoleSessionState
(
)
false
"
Session
state
false
by
default
"
)
;
BrowserConsoleManager
.
storeBrowserConsoleSessionState
(
)
;
is
(
BrowserConsoleManager
.
getBrowserConsoleSessionState
(
)
false
"
Session
state
still
not
true
even
after
setting
(
since
Browser
Console
is
closed
)
"
)
;
await
BrowserConsoleManager
.
toggleBrowserConsole
(
)
;
BrowserConsoleManager
.
storeBrowserConsoleSessionState
(
)
;
is
(
BrowserConsoleManager
.
getBrowserConsoleSessionState
(
)
true
"
Session
state
true
(
since
Browser
Console
is
opened
)
"
)
;
info
(
"
Closing
the
browser
console
and
waiting
for
the
session
restore
to
reopen
it
"
)
;
await
BrowserConsoleManager
.
toggleBrowserConsole
(
)
;
const
opened
=
waitForBrowserConsole
(
)
;
gDevTools
.
restoreDevToolsSession
(
{
browserConsole
:
true
}
)
;
info
(
"
Waiting
for
the
console
to
open
after
session
restore
"
)
;
await
opened
;
}
)
;

"
use
strict
"
;
const
TEST_URI
=
"
http
:
/
/
example
.
com
/
browser
/
devtools
/
client
/
webconsole
/
"
+
"
test
/
test
-
console
-
column
.
html
"
;
var
hud
;
function
test
(
)
{
loadTab
(
TEST_URI
)
.
then
(
(
)
=
>
{
openConsole
(
)
.
then
(
consoleOpened
)
;
}
)
;
}
function
consoleOpened
(
aHud
)
{
hud
=
aHud
;
waitForMessages
(
{
webconsole
:
hud
messages
:
[
{
text
:
"
Error
Message
"
category
:
CATEGORY_WEBDEV
severity
:
SEVERITY_ERROR
}
]
}
)
.
then
(
testLocationColumn
)
;
}
function
testLocationColumn
(
)
{
let
messages
=
hud
.
outputNode
.
children
;
let
expected
=
[
"
11
:
7
"
"
11
:
39
"
"
12
:
9
"
"
13
:
11
"
"
14
:
9
"
"
15
:
7
"
]
;
for
(
let
i
=
0
len
=
messages
.
length
;
i
<
len
;
i
+
+
)
{
let
msg
=
messages
[
i
]
.
textContent
;
is
(
msg
.
includes
(
expected
[
i
]
)
true
"
Found
expected
line
:
column
of
"
+
expected
[
i
]
)
;
}
finishTest
(
)
;
}

"
use
strict
"
;
const
{
LocalizationHelper
}
=
require
(
"
resource
:
/
/
devtools
/
shared
/
l10n
.
js
"
)
;
const
helper
=
new
LocalizationHelper
(
"
devtools
/
client
/
locales
/
webconsole
.
properties
"
)
;
let
dateFormatter
;
const
l10n
=
{
timestampString
(
milliseconds
)
{
const
d
=
new
Date
(
milliseconds
?
milliseconds
:
null
)
;
const
hours
=
d
.
getHours
(
)
;
const
minutes
=
d
.
getMinutes
(
)
;
const
seconds
=
d
.
getSeconds
(
)
;
milliseconds
=
d
.
getMilliseconds
(
)
;
const
parameters
=
[
hours
minutes
seconds
milliseconds
]
;
return
l10n
.
getFormatStr
(
"
timestampFormat
"
parameters
)
;
}
dateString
(
milliseconds
)
{
if
(
!
dateFormatter
)
{
dateFormatter
=
new
Intl
.
DateTimeFormat
(
)
;
}
return
dateFormatter
.
format
(
milliseconds
|
|
Date
.
now
(
)
)
;
}
getStr
(
name
)
{
try
{
return
helper
.
getStr
(
name
)
;
}
catch
(
ex
)
{
console
.
error
(
"
Failed
to
get
string
:
"
+
name
)
;
throw
ex
;
}
}
getFormatStr
(
name
array
)
{
try
{
return
helper
.
getFormatStr
(
name
.
.
.
array
)
;
}
catch
(
ex
)
{
console
.
error
(
"
Failed
to
format
string
:
"
+
name
)
;
throw
ex
;
}
}
}
;
module
.
exports
=
l10n
;

"
use
strict
"
;
const
{
createElement
createFactory
}
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
react
"
)
;
const
PropTypes
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
react
-
prop
-
types
"
)
;
const
Message
=
createFactory
(
require
(
"
devtools
/
client
/
webconsole
/
components
/
Output
/
Message
"
)
)
;
ConsoleCommand
.
displayName
=
"
ConsoleCommand
"
;
ConsoleCommand
.
propTypes
=
{
message
:
PropTypes
.
object
.
isRequired
timestampsVisible
:
PropTypes
.
bool
.
isRequired
serviceContainer
:
PropTypes
.
object
maybeScrollToBottom
:
PropTypes
.
func
}
;
function
ConsoleCommand
(
props
)
{
const
{
message
timestampsVisible
serviceContainer
maybeScrollToBottom
}
=
props
;
const
{
indent
source
type
level
timeStamp
}
=
message
;
const
messageText
=
trimCode
(
message
.
messageText
)
;
const
messageBody
=
createElement
(
"
syntax
-
highlighted
"
null
messageText
)
;
return
Message
(
{
source
type
level
topLevelClasses
:
[
]
messageBody
serviceContainer
indent
timeStamp
timestampsVisible
maybeScrollToBottom
message
}
)
;
}
module
.
exports
=
ConsoleCommand
;
function
trimCode
(
input
)
{
if
(
typeof
input
!
=
=
"
string
"
)
{
return
input
;
}
if
(
input
.
trim
(
)
.
includes
(
"
\
n
"
)
=
=
=
false
)
{
return
input
.
trim
(
)
;
}
return
input
.
replace
(
/
^
\
s
*
\
n
/
"
"
)
.
trimEnd
(
)
;
}

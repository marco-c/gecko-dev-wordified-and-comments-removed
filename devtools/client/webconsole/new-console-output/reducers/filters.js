"
use
strict
"
;
const
Immutable
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
immutable
"
)
;
const
constants
=
require
(
"
devtools
/
client
/
webconsole
/
new
-
console
-
output
/
constants
"
)
;
const
FilterState
=
Immutable
.
Record
(
constants
.
DEFAULT_FILTERS_VALUES
)
;
function
filters
(
state
=
new
FilterState
(
)
action
)
{
switch
(
action
.
type
)
{
case
constants
.
FILTER_TOGGLE
:
const
{
filter
}
=
action
;
const
active
=
!
state
.
get
(
filter
)
;
return
state
.
set
(
filter
active
)
;
case
constants
.
FILTERS_CLEAR
:
return
new
FilterState
(
)
;
case
constants
.
DEFAULT_FILTERS_RESET
:
return
state
.
withMutations
(
record
=
>
{
constants
.
DEFAULT_FILTERS
.
forEach
(
filterName
=
>
{
record
.
set
(
filterName
constants
.
DEFAULT_FILTERS_VALUES
[
filterName
]
)
;
}
)
;
}
)
;
case
constants
.
FILTER_TEXT_SET
:
let
{
text
}
=
action
;
return
state
.
set
(
constants
.
FILTERS
.
TEXT
text
)
;
}
return
state
;
}
exports
.
FilterState
=
FilterState
;
exports
.
filters
=
filters
;

"
use
strict
"
;
const
Services
=
require
(
"
Services
"
)
;
function
getPreferenceName
(
hud
suffix
)
{
if
(
!
suffix
)
{
console
.
error
(
"
Suffix
shouldn
'
t
be
falsy
"
{
suffix
}
)
;
return
null
;
}
if
(
!
hud
)
{
console
.
error
(
"
hud
shouldn
'
t
be
falsy
"
{
hud
}
)
;
return
null
;
}
if
(
suffix
.
startsWith
(
"
devtools
.
"
)
)
{
return
suffix
;
}
const
component
=
hud
.
isBrowserConsole
?
"
browserconsole
"
:
"
webconsole
"
;
return
devtools
.
{
component
}
.
{
suffix
}
;
}
function
getPrefsService
(
hud
)
{
const
getPrefName
=
pref
=
>
getPreferenceName
(
hud
pref
)
;
return
{
getBoolPref
:
(
pref
deflt
)
=
>
Services
.
prefs
.
getBoolPref
(
getPrefName
(
pref
)
deflt
)
getIntPref
:
(
pref
deflt
)
=
>
Services
.
prefs
.
getIntPref
(
getPrefName
(
pref
)
deflt
)
setBoolPref
:
(
pref
value
)
=
>
Services
.
prefs
.
setBoolPref
(
getPrefName
(
pref
)
value
)
clearUserPref
:
pref
=
>
Services
.
prefs
.
clearUserPref
(
getPrefName
(
pref
)
)
}
;
}
module
.
exports
=
{
getPrefsService
}
;

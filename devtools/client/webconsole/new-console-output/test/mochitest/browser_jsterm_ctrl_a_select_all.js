"
use
strict
"
;
const
TEST_URI
=
"
data
:
text
/
html
;
charset
=
utf
-
8
Test
console
select
all
"
;
add_task
(
async
function
testCtrlA
(
)
{
let
hud
=
await
openNewTabAndConsole
(
TEST_URI
)
;
let
jsterm
=
hud
.
jsterm
;
jsterm
.
setInputValue
(
"
Ignore
These
Four
Words
"
)
;
let
inputNode
=
jsterm
.
inputNode
;
EventUtils
.
synthesizeKey
(
"
a
"
{
accelKey
:
true
}
)
;
let
inputLength
=
inputNode
.
selectionEnd
-
inputNode
.
selectionStart
;
is
(
inputLength
jsterm
.
getInputValue
(
)
.
length
"
Select
all
of
input
"
)
;
if
(
Services
.
appinfo
.
OS
!
=
=
"
Linux
"
)
{
jsterm
.
setInputValue
(
"
Ignore
These
Four
Words
"
)
;
inputNode
.
selectionStart
=
0
;
EventUtils
.
synthesizeKey
(
"
e
"
{
accelKey
:
true
}
)
;
is
(
inputNode
.
selectionStart
0
"
control
|
cmd
+
e
does
not
move
to
end
of
input
"
)
;
}
}
)
;

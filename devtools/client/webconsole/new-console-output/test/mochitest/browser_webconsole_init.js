"
use
strict
"
;
const
TEST_URI
=
"
http
:
/
/
example
.
com
/
browser
/
devtools
/
client
/
webconsole
/
new
-
console
-
output
/
test
/
mochitest
/
test
-
console
.
html
"
;
add_task
(
function
*
(
)
{
let
toolbox
=
yield
openNewTabAndToolbox
(
TEST_URI
"
webconsole
"
)
;
let
hud
=
toolbox
.
getCurrentPanel
(
)
.
hud
;
let
{
ui
}
=
hud
;
ok
(
ui
.
jsterm
"
jsterm
exists
"
)
;
ok
(
ui
.
newConsoleOutput
"
newConsoleOutput
exists
"
)
;
let
receievedMessages
=
waitForMessages
(
{
hud
messages
:
[
{
text
:
"
0
"
}
{
text
:
"
1
"
}
{
text
:
"
2
"
}
]
}
)
;
yield
ContentTask
.
spawn
(
gBrowser
.
selectedBrowser
{
}
function
(
)
{
content
.
wrappedJSObject
.
doLogs
(
3
)
;
}
)
;
yield
receievedMessages
;
}
)
;

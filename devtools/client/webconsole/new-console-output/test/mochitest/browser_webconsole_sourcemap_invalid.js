"
use
strict
"
;
const
JS_URL
=
URL_ROOT
+
"
code_bundle_invalidmap
.
js
"
;
const
PAGE_URL
=
data
:
text
/
html
<
!
doctype
html
>
<
html
>
<
head
>
<
meta
charset
=
"
utf
-
8
"
/
>
<
title
>
Empty
test
page
to
test
source
map
with
invalid
source
map
<
/
title
>
<
/
head
>
<
body
>
<
script
src
=
"
{
JS_URL
}
"
>
<
/
script
>
<
/
body
>
<
/
html
>
;
add_task
(
function
*
(
)
{
yield
pushPref
(
"
devtools
.
source
-
map
.
client
-
service
.
enabled
"
true
)
;
const
hud
=
yield
openNewTabAndConsole
(
PAGE_URL
)
;
const
node
=
yield
waitFor
(
(
)
=
>
findMessage
(
hud
"
Source
map
error
"
)
)
;
ok
(
node
"
source
map
error
is
displayed
in
web
console
"
)
;
}
)
;

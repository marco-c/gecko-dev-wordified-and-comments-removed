"
use
strict
"
;
const
{
require
}
=
Cu
.
import
(
"
resource
:
/
/
devtools
/
shared
/
Loader
.
jsm
"
{
}
)
;
const
{
isImage
isHTML
getHeaderValue
isURLEncodedRequest
isMultiPartRequest
}
=
require
(
"
devtools
/
client
/
webconsole
/
net
/
utils
/
net
"
)
;
const
imageMimeTypes
=
[
"
image
/
jpeg
"
"
image
/
jpg
"
"
image
/
gif
"
"
image
/
png
"
"
image
/
bmp
"
]
;
const
htmlMimeTypes
=
[
"
text
/
html
"
"
text
/
xml
"
"
application
/
xml
"
"
application
/
rss
+
xml
"
"
application
/
atom
+
xml
"
"
application
/
xhtml
+
xml
"
"
application
/
mathml
+
xml
"
"
application
/
rdf
+
xml
"
]
;
const
headers
=
[
{
name
:
"
headerName
"
value
:
"
value1
"
}
]
;
const
har1
=
{
request
:
{
postData
:
{
text
:
"
content
-
type
:
application
/
x
-
www
-
form
-
urlencoded
"
}
}
}
;
const
har2
=
{
request
:
{
headers
:
[
{
name
:
"
content
-
type
"
value
:
"
application
/
x
-
www
-
form
-
urlencoded
"
}
]
}
}
;
const
har3
=
{
request
:
{
headers
:
[
{
name
:
"
content
-
type
"
value
:
"
multipart
/
form
-
data
"
}
]
}
}
;
function
run_test
(
)
{
imageMimeTypes
.
forEach
(
mimeType
=
>
{
ok
(
isImage
(
mimeType
)
)
;
}
)
;
htmlMimeTypes
.
forEach
(
mimeType
=
>
{
ok
(
isHTML
(
mimeType
)
)
;
}
)
;
equal
(
getHeaderValue
(
headers
"
headerName
"
)
"
value1
"
)
;
ok
(
isURLEncodedRequest
(
har1
)
)
;
ok
(
isURLEncodedRequest
(
har2
)
)
;
ok
(
isMultiPartRequest
(
har3
)
)
;
}

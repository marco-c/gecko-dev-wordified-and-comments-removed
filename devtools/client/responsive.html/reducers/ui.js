"
use
strict
"
;
const
Services
=
require
(
"
Services
"
)
;
const
{
CHANGE_DISPLAY_PIXEL_RATIO
CHANGE_USER_AGENT
TOGGLE_LEFT_ALIGNMENT
TOGGLE_TOUCH_SIMULATION
TOGGLE_USER_AGENT_INPUT
}
=
require
(
"
.
.
/
actions
/
index
"
)
;
const
LEFT_ALIGNMENT_ENABLED
=
"
devtools
.
responsive
.
leftAlignViewport
.
enabled
"
;
const
SHOW_USER_AGENT_INPUT
=
"
devtools
.
responsive
.
showUserAgentInput
"
;
const
INITIAL_UI
=
{
displayPixelRatio
:
0
leftAlignmentEnabled
:
Services
.
prefs
.
getBoolPref
(
LEFT_ALIGNMENT_ENABLED
)
showUserAgentInput
:
Services
.
prefs
.
getBoolPref
(
SHOW_USER_AGENT_INPUT
)
touchSimulationEnabled
:
false
userAgent
:
"
"
}
;
const
reducers
=
{
[
CHANGE_DISPLAY_PIXEL_RATIO
]
(
ui
{
displayPixelRatio
}
)
{
return
Object
.
assign
(
{
}
ui
{
displayPixelRatio
}
)
;
}
[
CHANGE_USER_AGENT
]
(
ui
{
userAgent
}
)
{
return
Object
.
assign
(
{
}
ui
{
userAgent
}
)
;
}
[
TOGGLE_LEFT_ALIGNMENT
]
(
ui
{
enabled
}
)
{
const
leftAlignmentEnabled
=
enabled
!
=
=
undefined
?
enabled
:
!
ui
.
leftAlignmentEnabled
;
Services
.
prefs
.
setBoolPref
(
LEFT_ALIGNMENT_ENABLED
leftAlignmentEnabled
)
;
return
Object
.
assign
(
{
}
ui
{
leftAlignmentEnabled
}
)
;
}
[
TOGGLE_TOUCH_SIMULATION
]
(
ui
{
enabled
}
)
{
return
Object
.
assign
(
{
}
ui
{
touchSimulationEnabled
:
enabled
}
)
;
}
[
TOGGLE_USER_AGENT_INPUT
]
(
ui
{
enabled
}
)
{
const
showUserAgentInput
=
enabled
!
=
=
undefined
?
enabled
:
!
ui
.
showUserAgentInput
;
Services
.
prefs
.
setBoolPref
(
SHOW_USER_AGENT_INPUT
showUserAgentInput
)
;
return
Object
.
assign
(
{
}
ui
{
showUserAgentInput
}
)
;
}
}
;
module
.
exports
=
function
(
ui
=
INITIAL_UI
action
)
{
const
reducer
=
reducers
[
action
.
type
]
;
if
(
!
reducer
)
{
return
ui
;
}
return
reducer
(
ui
action
)
;
}
;

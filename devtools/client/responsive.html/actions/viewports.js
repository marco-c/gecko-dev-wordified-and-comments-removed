"
use
strict
"
;
const
asyncStorage
=
require
(
"
devtools
/
shared
/
async
-
storage
"
)
;
const
{
ADD_VIEWPORT
CHANGE_DEVICE
CHANGE_PIXEL_RATIO
REMOVE_DEVICE_ASSOCIATION
RESIZE_VIEWPORT
ROTATE_VIEWPORT
}
=
require
(
"
.
/
index
"
)
;
const
{
post
}
=
require
(
"
.
.
/
utils
/
message
"
)
;
module
.
exports
=
{
addViewport
(
userContextId
=
0
)
{
return
{
type
:
ADD_VIEWPORT
userContextId
}
;
}
changeDevice
(
id
device
deviceType
)
{
return
async
function
(
dispatch
)
{
dispatch
(
{
type
:
CHANGE_DEVICE
id
device
deviceType
}
)
;
try
{
await
asyncStorage
.
setItem
(
"
devtools
.
responsive
.
deviceState
"
{
id
device
deviceType
}
)
;
}
catch
(
e
)
{
console
.
error
(
e
)
;
}
}
;
}
changePixelRatio
(
id
pixelRatio
=
0
)
{
return
{
type
:
CHANGE_PIXEL_RATIO
id
pixelRatio
}
;
}
removeDeviceAssociation
(
id
)
{
return
async
function
(
dispatch
)
{
post
(
window
"
remove
-
device
-
association
"
)
;
dispatch
(
{
type
:
REMOVE_DEVICE_ASSOCIATION
id
}
)
;
await
asyncStorage
.
removeItem
(
"
devtools
.
responsive
.
deviceState
"
)
;
}
;
}
resizeViewport
(
id
width
height
)
{
return
{
type
:
RESIZE_VIEWPORT
id
width
height
}
;
}
rotateViewport
(
id
)
{
return
{
type
:
ROTATE_VIEWPORT
id
}
;
}
}
;

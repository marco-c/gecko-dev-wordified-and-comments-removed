"
use
strict
"
;
const
{
CHANGE_RELOAD_CONDITION
LOAD_RELOAD_CONDITIONS_END
}
=
require
(
"
.
/
index
"
)
;
const
Types
=
require
(
"
.
.
/
types
"
)
;
const
Services
=
require
(
"
Services
"
)
;
const
PREF_PREFIX
=
"
devtools
.
responsive
.
reloadConditions
.
"
;
module
.
exports
=
{
changeReloadCondition
(
id
value
)
{
return
dispatch
=
>
{
const
pref
=
PREF_PREFIX
+
id
;
Services
.
prefs
.
setBoolPref
(
pref
value
)
;
dispatch
(
{
type
:
CHANGE_RELOAD_CONDITION
id
value
}
)
;
}
;
}
loadReloadConditions
(
)
{
return
dispatch
=
>
{
for
(
const
id
in
Types
.
reloadConditions
)
{
if
(
id
=
=
"
state
"
)
{
return
;
}
const
pref
=
PREF_PREFIX
+
id
;
const
value
=
Services
.
prefs
.
getBoolPref
(
pref
false
)
;
dispatch
(
{
type
:
CHANGE_RELOAD_CONDITION
id
value
}
)
;
}
dispatch
(
{
type
:
LOAD_RELOAD_CONDITIONS_END
}
)
;
}
;
}
}
;

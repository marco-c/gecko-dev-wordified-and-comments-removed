"
use
strict
"
;
const
{
BrowserTestUtils
}
=
require
(
"
resource
:
/
/
testing
-
common
/
BrowserTestUtils
.
jsm
"
)
;
function
getRandomInt
(
min
max
)
{
return
Math
.
floor
(
Math
.
random
(
)
*
(
max
-
min
+
1
)
)
+
min
;
}
exports
.
addTab
=
function
(
{
url
win
}
options
=
{
}
)
{
const
id
=
getRandomInt
(
0
Number
.
MAX_SAFE_INTEGER
-
1
)
;
url
+
=
#
{
id
}
;
dump
(
Adding
tab
with
url
:
{
url
}
.
\
n
)
;
const
{
gBrowser
}
=
win
|
|
window
;
return
BrowserTestUtils
.
openNewForegroundTab
(
gBrowser
url
!
options
.
dontWaitForTabReady
)
;
}
;
exports
.
removeTab
=
function
(
tab
)
{
dump
(
Removing
tab
:
{
tab
.
linkedBrowser
.
currentURI
.
spec
}
.
\
n
)
;
BrowserTestUtils
.
removeTab
(
tab
)
;
}
;

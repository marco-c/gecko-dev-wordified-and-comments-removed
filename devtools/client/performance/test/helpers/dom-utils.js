"
use
strict
"
;
const
Services
=
require
(
"
Services
"
)
;
const
{
waitForMozAfterPaint
}
=
require
(
"
devtools
/
client
/
performance
/
test
/
helpers
/
wait
-
utils
"
)
;
exports
.
isVisible
=
(
element
)
=
>
{
return
!
element
.
classList
.
contains
(
"
hidden
"
)
&
&
!
element
.
hidden
;
}
;
exports
.
appendAndWaitForPaint
=
function
(
parent
element
)
{
let
isE10s
=
Services
.
appinfo
.
browserTabsRemoteAutostart
;
if
(
isE10s
)
{
let
win
=
parent
.
ownerDocument
.
defaultView
;
let
onMozAfterPaint
=
waitForMozAfterPaint
(
win
)
;
parent
.
appendChild
(
element
)
;
return
onMozAfterPaint
;
}
parent
.
appendChild
(
element
)
;
return
null
;
}
;

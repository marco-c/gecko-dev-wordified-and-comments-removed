"
use
strict
"
;
const
{
BrowserLoader
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
devtools
/
client
/
shared
/
browser
-
loader
.
js
"
)
;
const
{
require
}
=
BrowserLoader
(
{
baseURI
:
"
resource
:
/
/
devtools
/
client
/
performance
/
"
window
:
window
}
)
;
const
{
PerformanceController
}
=
require
(
"
.
/
performance
-
controller
"
)
;
const
{
PerformanceView
}
=
require
(
"
.
/
performance
-
view
"
)
;
const
{
DetailsView
}
=
require
(
"
.
/
views
/
details
"
)
;
const
{
DetailsSubview
}
=
require
(
"
.
/
views
/
details
-
abstract
-
subview
"
)
;
const
{
JsCallTreeView
}
=
require
(
"
.
/
views
/
details
-
js
-
call
-
tree
"
)
;
const
{
JsFlameGraphView
}
=
require
(
"
.
/
views
/
details
-
js
-
flamegraph
"
)
;
const
{
MemoryCallTreeView
}
=
require
(
"
.
/
views
/
details
-
memory
-
call
-
tree
"
)
;
const
{
MemoryFlameGraphView
}
=
require
(
"
.
/
views
/
details
-
memory
-
flamegraph
"
)
;
const
{
OverviewView
}
=
require
(
"
.
/
views
/
overview
"
)
;
const
{
RecordingsView
}
=
require
(
"
.
/
views
/
recordings
"
)
;
const
{
ToolbarView
}
=
require
(
"
.
/
views
/
toolbar
"
)
;
const
{
WaterfallView
}
=
require
(
"
.
/
views
/
details
-
waterfall
"
)
;
const
EVENTS
=
require
(
"
.
/
events
"
)
;
const
startupPerformance
=
async
function
(
toolbox
target
front
)
{
await
PerformanceController
.
initialize
(
toolbox
target
front
)
;
await
PerformanceView
.
initialize
(
)
;
PerformanceController
.
enableFrontEventListeners
(
)
;
}
;
const
shutdownPerformance
=
async
function
(
)
{
await
PerformanceController
.
destroy
(
)
;
await
PerformanceView
.
destroy
(
)
;
PerformanceController
.
disableFrontEventListeners
(
)
;
}
;
window
.
PerformanceController
=
PerformanceController
;
window
.
PerformanceView
=
PerformanceView
;
window
.
DetailsView
=
DetailsView
;
window
.
DetailsSubview
=
DetailsSubview
;
window
.
JsCallTreeView
=
JsCallTreeView
;
window
.
JsFlameGraphView
=
JsFlameGraphView
;
window
.
MemoryCallTreeView
=
MemoryCallTreeView
;
window
.
MemoryFlameGraphView
=
MemoryFlameGraphView
;
window
.
OverviewView
=
OverviewView
;
window
.
RecordingsView
=
RecordingsView
;
window
.
ToolbarView
=
ToolbarView
;
window
.
WaterfallView
=
WaterfallView
;
window
.
shutdownPerformance
=
shutdownPerformance
;
window
.
startupPerformance
=
startupPerformance
;
window
.
EVENTS
=
EVENTS
;
function
(
selector
target
=
document
)
{
return
target
.
querySelector
(
selector
)
;
}
window
.
=
;
function
(
selector
target
=
document
)
{
return
target
.
querySelectorAll
(
selector
)
;
}
window
.
=
;

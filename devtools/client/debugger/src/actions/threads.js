import
{
createThread
}
from
"
.
.
/
client
/
firefox
/
create
"
;
import
{
getSourcesToRemoveForThread
}
from
"
.
.
/
selectors
/
index
"
;
import
{
removeSources
}
from
"
.
/
sources
/
removeSources
"
;
export
function
addTarget
(
targetFront
)
{
return
{
type
:
"
INSERT_THREAD
"
newThread
:
createThread
(
targetFront
)
}
;
}
export
function
removeTarget
(
targetFront
)
{
return
async
(
{
getState
dispatch
}
)
=
>
{
const
threadActorID
=
targetFront
.
targetForm
.
threadActor
;
const
{
actors
sources
}
=
getSourcesToRemoveForThread
(
getState
(
)
threadActorID
)
;
dispatch
(
{
type
:
"
REMOVE_THREAD
"
threadActorID
}
)
;
await
dispatch
(
removeSources
(
sources
actors
)
)
;
}
;
}
export
function
toggleJavaScriptEnabled
(
enabled
)
{
return
async
(
{
dispatch
client
}
)
=
>
{
await
client
.
toggleJavaScriptEnabled
(
enabled
)
;
dispatch
(
{
type
:
"
TOGGLE_JAVASCRIPT_ENABLED
"
value
:
enabled
}
)
;
}
;
}

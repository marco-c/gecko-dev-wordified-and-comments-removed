import
{
WorkerDispatcher
}
from
"
devtools
/
client
/
shared
/
worker
-
utils
"
;
const
WORKER_URL
=
"
resource
:
/
/
devtools
/
client
/
debugger
/
dist
/
search
-
worker
.
js
"
;
let
dispatcher
;
let
jestWorkerUrl
;
function
getDispatcher
(
)
{
if
(
!
dispatcher
)
{
dispatcher
=
new
WorkerDispatcher
(
jestWorkerUrl
|
|
WORKER_URL
)
;
}
return
dispatcher
;
}
export
const
setJestWorkerURL
=
jestUrl
=
>
{
jestWorkerUrl
=
jestUrl
;
}
;
export
const
stop
=
(
)
=
>
{
if
(
dispatcher
)
{
dispatcher
.
stop
(
)
;
dispatcher
=
null
;
}
}
;
export
const
getMatches
=
(
.
.
.
args
)
=
>
{
return
getDispatcher
(
)
.
invoke
(
"
getMatches
"
.
.
.
args
)
;
}
;
export
const
findSourceMatches
=
(
.
.
.
args
)
=
>
{
return
getDispatcher
(
)
.
invoke
(
"
findSourceMatches
"
.
.
.
args
)
;
}
;

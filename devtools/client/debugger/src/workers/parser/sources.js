const
cachedSources
=
new
Map
(
)
;
export
function
setSource
(
source
)
{
cachedSources
.
set
(
source
.
id
source
)
;
}
export
function
getSource
(
sourceId
)
{
const
source
=
cachedSources
.
get
(
sourceId
)
;
if
(
!
source
)
{
throw
new
Error
(
Parser
:
source
{
sourceId
}
was
not
provided
.
)
;
}
return
source
;
}
export
function
clearSources
(
sourceIds
)
{
for
(
const
sourceId
of
sourceIds
)
{
cachedSources
.
delete
(
sourceId
)
;
}
}

import
ReactDOM
from
"
react
-
dom
"
;
import
{
onConnect
onDisconnect
}
from
"
.
/
client
"
;
import
{
teardownWorkers
}
from
"
.
/
utils
/
bootstrap
"
;
import
sourceQueue
from
"
.
/
utils
/
source
-
queue
"
;
function
unmountRoot
(
)
{
const
mount
=
document
.
querySelector
(
"
#
mount
.
launchpad
-
root
"
)
;
ReactDOM
.
unmountComponentAtNode
(
mount
)
;
}
module
.
exports
=
{
bootstrap
:
(
{
targetList
resourceWatcher
devToolsClient
workers
panel
}
:
any
)
=
>
onConnect
(
{
tab
:
{
clientType
:
"
firefox
"
}
targetList
resourceWatcher
devToolsClient
}
workers
panel
)
destroy
:
(
)
=
>
{
onDisconnect
(
)
;
unmountRoot
(
)
;
sourceQueue
.
clear
(
)
;
teardownWorkers
(
)
;
}
}
;

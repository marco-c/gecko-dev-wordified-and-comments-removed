import
React
{
PureComponent
}
from
"
react
"
;
import
{
div
span
}
from
"
devtools
/
client
/
shared
/
vendor
/
react
-
dom
-
factories
"
;
import
PropTypes
from
"
devtools
/
client
/
shared
/
vendor
/
react
-
prop
-
types
"
;
import
{
connect
}
from
"
.
.
/
.
.
/
.
.
/
utils
/
connect
"
;
import
actions
from
"
.
.
/
.
.
/
.
.
/
actions
"
;
import
{
getTruncatedFileName
getDisplayPath
getSourceQueryString
getFileURL
}
from
"
.
.
/
.
.
/
.
.
/
utils
/
source
"
;
import
{
createLocation
}
from
"
.
.
/
.
.
/
.
.
/
utils
/
location
"
;
import
{
getFirstSourceActorForGeneratedSource
}
from
"
.
.
/
.
.
/
.
.
/
selectors
"
;
import
SourceIcon
from
"
.
.
/
.
.
/
shared
/
SourceIcon
"
;
class
BreakpointHeading
extends
PureComponent
{
static
get
propTypes
(
)
{
return
{
sources
:
PropTypes
.
array
.
isRequired
source
:
PropTypes
.
object
.
isRequired
firstSourceActor
:
PropTypes
.
object
selectSource
:
PropTypes
.
func
.
isRequired
showBreakpointHeadingContextMenu
:
PropTypes
.
func
.
isRequired
}
;
}
onContextMenu
=
event
=
>
{
event
.
preventDefault
(
)
;
this
.
props
.
showBreakpointHeadingContextMenu
(
event
this
.
props
.
source
)
;
}
;
render
(
)
{
const
{
sources
source
selectSource
}
=
this
.
props
;
const
path
=
getDisplayPath
(
source
sources
)
;
const
query
=
getSourceQueryString
(
source
)
;
return
div
(
{
className
:
"
breakpoint
-
heading
"
title
:
getFileURL
(
source
false
)
onClick
:
(
)
=
>
selectSource
(
source
)
onContextMenu
:
this
.
onContextMenu
}
React
.
createElement
(
SourceIcon
{
location
:
createLocation
(
{
source
sourceActor
:
this
.
props
.
firstSourceActor
}
)
modifier
:
icon
=
>
[
"
file
"
"
javascript
"
]
.
includes
(
icon
)
?
null
:
icon
}
)
div
(
{
className
:
"
filename
"
}
getTruncatedFileName
(
source
query
)
path
&
&
span
(
null
.
.
/
{
path
}
/
.
.
)
)
)
;
}
}
const
mapStateToProps
=
(
state
{
source
}
)
=
>
(
{
firstSourceActor
:
getFirstSourceActorForGeneratedSource
(
state
source
.
id
)
}
)
;
export
default
connect
(
mapStateToProps
{
selectSource
:
actions
.
selectSource
showBreakpointHeadingContextMenu
:
actions
.
showBreakpointHeadingContextMenu
}
)
(
BreakpointHeading
)
;

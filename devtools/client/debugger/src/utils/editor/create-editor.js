import
SourceEditor
from
"
devtools
/
client
/
shared
/
sourceeditor
/
editor
"
;
import
{
features
prefs
}
from
"
.
.
/
prefs
"
;
export
function
createEditor
(
config
=
{
cm6
:
false
}
)
{
const
gutters
=
[
"
breakpoints
"
"
hit
-
markers
"
"
CodeMirror
-
linenumbers
"
]
;
if
(
features
.
codeFolding
)
{
gutters
.
push
(
"
CodeMirror
-
foldgutter
"
)
;
}
return
new
SourceEditor
(
{
mode
:
SourceEditor
.
modes
.
js
foldGutter
:
features
.
codeFolding
enableCodeFolding
:
features
.
codeFolding
readOnly
:
true
lineNumbers
:
true
theme
:
"
mozilla
"
styleActiveLine
:
false
lineWrapping
:
prefs
.
editorWrapping
matchBrackets
:
true
showAnnotationRuler
:
true
gutters
value
:
"
"
extraKeys
:
{
Esc
:
false
Tab
:
false
"
Shift
-
Tab
"
:
false
"
Cmd
-
F
"
:
false
"
Ctrl
-
F
"
:
false
"
Cmd
-
G
"
:
false
"
Ctrl
-
G
"
:
false
}
cursorBlinkRate
:
prefs
.
cursorBlinkRate
.
.
.
config
}
)
;
}
export
function
createHeadlessEditor
(
useCm6
)
{
const
editor
=
createEditor
(
{
cm6
:
useCm6
}
)
;
editor
.
appendToLocalElement
(
document
.
createElement
(
"
div
"
)
)
;
return
editor
;
}

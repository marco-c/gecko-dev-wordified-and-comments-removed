jest
.
mock
(
"
devtools
-
environment
"
(
)
=
>
(
{
isFirefox
:
jest
.
fn
(
)
}
)
)
;
import
{
isFirefox
}
from
"
devtools
-
environment
"
;
import
{
scrollList
}
from
"
.
.
/
result
-
list
.
js
"
;
describe
(
"
scrollList
"
(
)
=
>
{
beforeEach
(
(
)
=
>
{
jest
.
useFakeTimers
(
)
;
}
)
;
it
(
"
just
returns
if
element
not
found
"
(
)
=
>
{
const
li
=
document
.
createElement
(
"
li
"
)
;
scrollList
(
[
li
]
1
)
;
}
)
;
it
(
"
calls
scrollIntoView
if
Firefox
"
(
)
=
>
{
const
ul
=
document
.
createElement
(
"
ul
"
)
;
const
li
=
document
.
createElement
(
"
li
"
)
;
(
li
:
any
)
.
scrollIntoView
=
jest
.
fn
(
)
;
ul
.
appendChild
(
li
)
;
isFirefox
.
mockImplementation
(
(
)
=
>
true
)
;
scrollList
(
[
li
]
0
)
;
jest
.
runAllTimers
(
)
;
expect
(
li
.
scrollIntoView
)
.
toHaveBeenCalled
(
)
;
}
)
;
it
(
"
sets
element
scrollTop
if
not
Firefox
"
(
)
=
>
{
const
ul
=
document
.
createElement
(
"
ul
"
)
;
const
li
=
document
.
createElement
(
"
li
"
)
;
ul
.
appendChild
(
li
)
;
isFirefox
.
mockImplementation
(
(
)
=
>
false
)
;
scrollList
(
[
li
]
0
)
;
expect
(
li
.
scrollTop
)
.
toEqual
(
0
)
;
}
)
;
}
)
;

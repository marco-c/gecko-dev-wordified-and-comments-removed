jest
.
mock
(
"
devtools
/
client
/
shared
/
telemetry
"
(
)
=
>
{
function
MockTelemetry
(
)
{
}
MockTelemetry
.
prototype
.
recordEvent
=
jest
.
fn
(
)
;
return
MockTelemetry
;
}
)
;
const
Telemetry
=
require
(
"
devtools
/
client
/
shared
/
telemetry
"
)
;
import
{
recordEvent
}
from
"
.
.
/
telemetry
"
;
const
telemetry
=
new
Telemetry
(
)
;
describe
(
"
telemetry
.
recordEvent
(
)
"
(
)
=
>
{
it
(
"
Receives
the
correct
telemetry
information
"
(
)
=
>
{
recordEvent
(
"
foo
"
{
bar
:
1
}
)
;
expect
(
telemetry
.
recordEvent
)
.
toHaveBeenCalledWith
(
"
foo
"
"
debugger
"
null
{
session_id
:
-
1
bar
:
1
}
)
;
}
)
;
}
)
;

"
use
strict
"
;
add_task
(
async
function
(
)
{
const
url
=
{
EXAMPLE_URL
}
doc
-
script
-
switching
.
html
;
const
toolbox
=
await
openNewTabAndToolbox
(
url
"
webconsole
"
)
;
const
wrapper
=
toolbox
.
getPanel
(
"
webconsole
"
)
.
hud
.
ui
.
wrapper
;
const
onSelected
=
toolbox
.
once
(
"
jsdebugger
-
selected
"
)
;
wrapper
.
dispatchEvaluateExpression
(
"
debugger
"
)
;
await
onSelected
;
is
(
toolbox
.
threadFront
.
state
"
paused
"
)
;
const
dbg
=
createDebuggerContext
(
toolbox
)
;
await
waitForPaused
(
dbg
)
;
const
selectedSource
=
dbg
.
selectors
.
getSelectedSource
(
)
;
ok
(
!
selectedSource
.
url
"
The
selected
source
is
the
console
evaluation
and
doesn
'
t
have
a
URL
"
)
;
is
(
getEditorContent
(
dbg
)
"
debugger
"
)
;
assertPausedAtSourceAndLine
(
dbg
selectedSource
.
id
1
)
;
await
resume
(
dbg
)
;
}
)
;

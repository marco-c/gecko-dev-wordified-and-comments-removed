"
use
strict
"
;
requestLongerTimeout
(
5
)
;
add_task
(
async
function
test
(
)
{
await
pushPref
(
"
devtools
.
debugger
.
map
-
scopes
-
enabled
"
true
)
;
const
dbg
=
await
initDebugger
(
"
big
-
sourcemap
.
html
"
"
bundle
.
js
"
"
step
-
in
-
test
.
js
"
)
;
invokeInTab
(
"
hitDebugStatement
"
)
;
await
waitForPaused
(
dbg
"
bundle
.
js
"
)
;
await
assertPausedAtSourceAndLine
(
dbg
findSource
(
dbg
"
bundle
.
js
"
)
.
id
52411
)
;
await
stepIn
(
dbg
)
;
const
whyPaused
=
await
waitFor
(
(
)
=
>
dbg
.
win
.
document
.
querySelector
(
"
.
why
-
paused
"
)
?
.
innerText
)
;
is
(
whyPaused
Paused
while
stepping
\
ndebugStatement
-
bundle
.
js
:
52412
:
10
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
stepIn
(
dbg
)
;
await
assertPausedAtSourceAndLine
(
dbg
findSource
(
dbg
"
step
-
in
-
test
.
js
"
)
.
id
7679
)
;
}
)
;

"
use
strict
"
;
add_task
(
async
function
(
)
{
const
dbg
=
await
initDebuggerWithAbsoluteURL
(
"
data
:
text
/
html
<
meta
charset
=
utf8
>
<
script
>
debugger
;
<
/
script
>
"
)
;
info
(
"
Reload
the
page
to
hit
the
debugger
statement
while
loading
"
)
;
reload
(
dbg
)
;
await
waitForPaused
(
dbg
)
;
ok
(
true
"
We
'
re
paused
"
)
;
info
(
"
Check
that
the
paused
overlay
is
displayed
"
)
;
const
highlighterTestFront
=
await
dbg
.
toolbox
.
target
.
getFront
(
"
highlighterTest
"
)
;
await
waitFor
(
async
(
)
=
>
{
const
visible
=
await
highlighterTestFront
.
isPausedDebuggerOverlayVisible
(
)
;
return
visible
;
}
)
;
ok
(
true
"
Paused
debugger
overlay
is
visible
"
)
;
info
(
"
Click
the
resume
button
"
)
;
await
highlighterTestFront
.
clickPausedDebuggerOverlayButton
(
"
paused
-
dbg
-
resume
-
button
"
)
;
await
waitForResumed
(
dbg
)
;
ok
(
"
The
debugger
isn
'
t
paused
after
clicking
on
the
resume
button
"
)
;
await
waitFor
(
async
(
)
=
>
{
const
visible
=
await
highlighterTestFront
.
isPausedDebuggerOverlayVisible
(
)
;
return
!
visible
;
}
)
;
ok
(
true
"
The
overlay
is
now
hidden
"
)
;
}
)
;

"
use
strict
"
;
function
test
(
)
{
let
{
Parser
SyntaxTreeVisitor
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
devtools
/
shared
/
Parser
.
jsm
"
{
}
)
;
let
ast
=
Parser
.
reflectionAPI
.
parse
(
"
foo
{
i
}
bar
"
)
;
let
nodes
=
SyntaxTreeVisitor
.
filter
(
ast
e
=
>
e
.
type
=
=
"
TemplateLiteral
"
)
;
ok
(
nodes
&
&
nodes
.
length
=
=
=
1
"
Found
the
TemplateLiteral
node
"
)
;
let
elements
=
nodes
[
0
]
.
elements
;
ok
(
elements
"
The
TemplateLiteral
node
has
elements
"
)
;
is
(
elements
.
length
3
"
There
are
3
elements
in
the
literal
"
)
;
[
"
Literal
"
"
Identifier
"
"
Literal
"
]
.
forEach
(
(
type
i
)
=
>
{
is
(
elements
[
i
]
.
type
type
Element
at
index
{
i
}
is
'
{
type
}
'
)
;
}
)
;
finish
(
)
;
}

"
use
strict
"
;
add_task
(
async
function
(
)
{
const
dbg
=
await
initDebugger
(
"
doc
-
scripts
.
html
"
"
simple1
.
js
"
)
;
openOutlinePanel
(
dbg
false
)
;
is
(
findAllElements
(
dbg
"
outlineItems
"
)
.
length
0
"
There
are
no
outline
items
when
no
source
is
selected
"
)
;
is
(
findElementWithSelector
(
dbg
"
.
outline
-
pane
-
info
"
)
.
innerText
"
No
file
selected
"
"
The
correct
message
is
displayed
when
there
are
no
outline
items
"
)
;
const
sourcesTab
=
findElementWithSelector
(
dbg
"
.
sources
-
tab
a
"
)
;
EventUtils
.
synthesizeMouseAtCenter
(
sourcesTab
{
}
sourcesTab
.
ownerGlobal
)
;
await
waitForSourcesInSourceTree
(
dbg
[
]
{
noExpand
:
true
}
)
;
await
selectSource
(
dbg
"
simple1
.
js
"
1
)
;
await
openOutlinePanel
(
dbg
)
;
assertOutlineItems
(
dbg
[
"
main
(
)
"
"
doEval
(
)
"
"
evaledFunc
(
)
"
"
doNamedEval
(
)
"
"
evaledFunc
(
)
"
"
class
MyClass
"
"
constructor
(
a
b
)
"
"
test
(
)
"
"
#
privateFunc
(
a
b
)
"
"
class
Klass
"
"
constructor
(
)
"
"
test
(
)
"
]
)
;
info
(
"
Sort
the
list
"
)
;
findElementWithSelector
(
dbg
"
.
outline
-
footer
button
"
)
.
click
(
)
;
is
(
findElementWithSelector
(
dbg
"
.
outline
-
footer
button
"
)
.
className
"
active
"
"
Alphabetize
button
is
highlighted
when
active
"
)
;
info
(
"
Check
that
the
list
was
sorted
as
expected
"
)
;
assertOutlineItems
(
dbg
[
"
doEval
(
)
"
"
doNamedEval
(
)
"
"
evaledFunc
(
)
"
"
evaledFunc
(
)
"
"
main
(
)
"
"
class
Klass
"
"
constructor
(
)
"
"
test
(
)
"
"
class
MyClass
"
"
#
privateFunc
(
a
b
)
"
"
constructor
(
a
b
)
"
"
test
(
)
"
]
)
;
}
)
;
add_task
(
async
function
(
)
{
const
dbg
=
await
initDebugger
(
"
doc
-
on
-
load
.
html
"
"
top
-
level
.
js
"
)
;
await
selectSource
(
dbg
"
top
-
level
.
js
"
1
)
;
openOutlinePanel
(
dbg
false
)
;
await
waitFor
(
(
)
=
>
dbg
.
win
.
document
.
querySelector
(
"
.
outline
-
pane
-
info
"
)
.
innerText
=
=
"
No
functions
"
)
;
is
(
findAllElements
(
dbg
"
outlineItems
"
)
.
length
0
"
There
are
no
outline
items
when
no
source
is
selected
"
)
;
}
)
;

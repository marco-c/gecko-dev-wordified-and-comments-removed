"
use
strict
"
;
Object
.
defineProperty
(
exports
"
__esModule
"
{
value
:
true
}
)
;
exports
.
shouldStep
=
shouldStep
;
var
_lodash
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
lodash
"
)
;
var
_devtoolsSourceMap
=
require
(
"
devtools
/
client
/
shared
/
source
-
map
/
index
.
js
"
)
;
var
_selectors
=
require
(
"
.
.
/
.
.
/
selectors
/
index
"
)
;
function
getFrameLocation
(
source
frame
)
{
if
(
!
frame
)
{
return
null
;
}
return
(
0
_devtoolsSourceMap
.
isOriginalId
)
(
source
.
id
)
?
frame
.
location
:
frame
.
generatedLocation
;
}
function
shouldStep
(
rootFrame
state
sourceMaps
)
{
const
selectedSource
=
(
0
_selectors
.
getSelectedSource
)
(
state
)
;
const
previousFrameInfo
=
(
0
_selectors
.
getPreviousPauseFrameLocation
)
(
state
)
;
if
(
!
rootFrame
|
|
!
selectedSource
)
{
return
false
;
}
const
previousFrameLoc
=
getFrameLocation
(
selectedSource
previousFrameInfo
)
;
const
frameLoc
=
getFrameLocation
(
selectedSource
rootFrame
)
;
const
sameLocation
=
previousFrameLoc
&
&
(
0
_lodash
.
isEqual
)
(
previousFrameLoc
frameLoc
)
;
const
pausePoint
=
(
0
_selectors
.
getPausePoint
)
(
state
frameLoc
)
;
const
invalidPauseLocation
=
pausePoint
&
&
!
pausePoint
.
step
;
if
(
!
frameLoc
|
|
(
0
_devtoolsSourceMap
.
isGeneratedId
)
(
frameLoc
.
sourceId
)
)
{
return
false
;
}
return
sameLocation
|
|
invalidPauseLocation
;
}

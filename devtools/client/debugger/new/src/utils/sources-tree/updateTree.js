"
use
strict
"
;
Object
.
defineProperty
(
exports
"
__esModule
"
{
value
:
true
}
)
;
exports
.
updateTree
=
updateTree
;
var
_addToTree
=
require
(
"
.
/
addToTree
"
)
;
var
_collapseTree
=
require
(
"
.
/
collapseTree
"
)
;
var
_utils
=
require
(
"
.
/
utils
"
)
;
var
_lodash
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
lodash
"
)
;
function
newSourcesSet
(
newSources
prevSources
)
{
const
newSourceIds
=
(
0
_lodash
.
difference
)
(
Object
.
keys
(
newSources
)
Object
.
keys
(
prevSources
)
)
;
const
uniqSources
=
newSourceIds
.
map
(
id
=
>
newSources
[
id
]
)
;
return
uniqSources
;
}
function
updateTree
(
{
newSources
prevSources
debuggeeUrl
projectRoot
uncollapsedTree
sourceTree
}
)
{
const
newSet
=
newSourcesSet
(
newSources
prevSources
)
;
for
(
const
source
of
newSet
)
{
(
0
_addToTree
.
addToTree
)
(
uncollapsedTree
source
debuggeeUrl
projectRoot
)
;
}
const
newSourceTree
=
(
0
_collapseTree
.
collapseTree
)
(
uncollapsedTree
)
;
return
{
uncollapsedTree
sourceTree
:
newSourceTree
parentMap
:
(
0
_utils
.
createParentMap
)
(
sourceTree
)
focusedItem
:
null
}
;
}

"
use
strict
"
;
Object
.
defineProperty
(
exports
"
__esModule
"
{
value
:
true
}
)
;
exports
.
collapseTree
=
collapseTree
;
var
_utils
=
require
(
"
.
/
utils
"
)
;
function
collapseTree
(
node
depth
=
0
)
{
if
(
Array
.
isArray
(
node
.
contents
)
)
{
if
(
depth
>
1
&
&
node
.
contents
.
length
=
=
=
1
)
{
const
next
=
node
.
contents
[
0
]
;
if
(
(
0
_utils
.
nodeHasChildren
)
(
next
)
)
{
return
collapseTree
(
(
0
_utils
.
createNode
)
(
{
node
.
name
}
/
{
next
.
name
}
next
.
path
next
.
contents
)
depth
+
1
)
;
}
}
return
(
0
_utils
.
createNode
)
(
node
.
name
node
.
path
node
.
contents
.
map
(
next
=
>
collapseTree
(
next
depth
+
1
)
)
)
;
}
return
node
;
}

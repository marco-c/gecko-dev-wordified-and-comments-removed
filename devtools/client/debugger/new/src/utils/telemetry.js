"
use
strict
"
;
Object
.
defineProperty
(
exports
"
__esModule
"
{
value
:
true
}
)
;
exports
.
recordEvent
=
recordEvent
;
var
_telemetry
=
require
(
"
devtools
/
client
/
shared
/
telemetry
"
)
;
var
_telemetry2
=
_interopRequireDefault
(
_telemetry
)
;
var
_devtoolsEnvironment
=
require
(
"
devtools
/
client
/
debugger
/
new
/
dist
/
vendors
"
)
.
vendored
[
"
devtools
-
environment
"
]
;
function
_interopRequireDefault
(
obj
)
{
return
obj
&
&
obj
.
__esModule
?
obj
:
{
default
:
obj
}
;
}
const
telemetry
=
new
_telemetry2
.
default
(
)
;
function
recordEvent
(
eventName
fields
=
{
}
)
{
let
sessionId
=
-
1
;
if
(
typeof
window
!
=
=
"
object
"
)
{
return
;
}
if
(
window
.
parent
.
frameElement
)
{
sessionId
=
window
.
parent
.
frameElement
.
getAttribute
(
"
session_id
"
)
;
}
telemetry
.
recordEvent
(
"
devtools
.
main
"
eventName
"
debugger
"
null
{
session_id
:
sessionId
.
.
.
fields
}
)
;
if
(
!
(
0
_devtoolsEnvironment
.
isFirefoxPanel
)
(
)
&
&
window
.
dbg
)
{
const
events
=
window
.
dbg
.
_telemetry
.
events
;
if
(
!
events
[
eventName
]
)
{
events
[
eventName
]
=
[
]
;
}
events
[
eventName
]
.
push
(
fields
)
;
}
}

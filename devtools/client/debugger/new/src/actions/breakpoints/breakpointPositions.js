import
{
getSourceActors
getBreakpointPositionsForLine
}
from
"
.
.
/
.
.
/
selectors
"
;
import
{
makeSourceActorLocation
}
from
"
.
.
/
.
.
/
utils
/
breakpoint
"
;
export
function
setBreakpointPositions
(
location
)
{
return
async
(
{
getState
dispatch
client
}
:
ThunkArgs
)
=
>
{
if
(
getBreakpointPositionsForLine
(
getState
(
)
location
.
sourceId
location
.
line
)
)
{
return
;
}
const
sourceActors
=
getSourceActors
(
getState
(
)
location
.
sourceId
)
;
const
sourceActor
=
sourceActors
[
0
]
;
const
sourceActorLocation
=
makeSourceActorLocation
(
sourceActor
location
)
;
const
positions
=
await
client
.
getBreakpointPositions
(
sourceActorLocation
)
;
return
dispatch
(
{
type
:
"
ADD_BREAKPOINT_POSITIONS
"
positions
location
}
)
;
}
;
}

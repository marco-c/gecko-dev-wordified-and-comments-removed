async
function
openFunctionSearch
(
dbg
)
{
synthesizeKeyShortcut
(
"
CmdOrCtrl
+
Shift
+
O
"
)
;
return
new
Promise
(
r
=
>
setTimeout
(
r
200
)
)
;
}
function
resultCount
(
dbg
)
{
return
findAllElements
(
dbg
"
resultItems
"
)
.
length
;
}
add_task
(
function
*
(
)
{
const
dbg
=
yield
initDebugger
(
"
doc
-
script
-
switching
.
html
"
"
switching
-
01
"
)
;
yield
selectSource
(
dbg
"
switching
-
01
"
)
;
yield
openFunctionSearch
(
dbg
)
;
is
(
dbg
.
selectors
.
getActiveSearchState
(
dbg
.
getState
(
)
)
"
symbol
"
)
;
pressKey
(
dbg
"
Escape
"
)
;
is
(
dbg
.
selectors
.
getActiveSearchState
(
dbg
.
getState
(
)
)
null
)
;
yield
openFunctionSearch
(
dbg
)
;
is
(
resultCount
(
dbg
)
1
)
;
type
(
dbg
"
x
"
)
;
is
(
resultCount
(
dbg
)
0
)
;
}
)
;

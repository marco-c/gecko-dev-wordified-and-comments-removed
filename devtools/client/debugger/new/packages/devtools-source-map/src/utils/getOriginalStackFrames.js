import
type
{
SourceLocation
}
from
"
debugger
-
html
"
;
const
{
getWasmXScopes
}
=
require
(
"
.
/
wasmXScopes
"
)
;
async
function
getOriginalStackFrames
(
generatedLocation
:
SourceLocation
)
:
Promise
<
?
Array
<
{
displayName
:
string
location
?
:
SourceLocation
}
>
>
{
const
wasmXScopes
=
await
getWasmXScopes
(
generatedLocation
.
sourceId
)
;
if
(
!
wasmXScopes
)
{
return
null
;
}
const
scopes
=
wasmXScopes
.
search
(
generatedLocation
)
;
if
(
scopes
.
length
=
=
=
0
)
{
console
.
warn
(
"
Something
wrong
with
debug
data
:
none
original
frames
found
"
)
;
return
null
;
}
return
scopes
;
}
module
.
exports
=
{
getOriginalStackFrames
}
;

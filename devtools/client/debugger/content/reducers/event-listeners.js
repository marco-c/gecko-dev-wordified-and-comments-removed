"
use
strict
"
;
const
constants
=
require
(
'
.
.
/
constants
'
)
;
const
FETCH_EVENT_LISTENERS_DELAY
=
200
;
const
initialState
=
{
activeEventNames
:
[
]
listeners
:
[
]
fetchingListeners
:
false
}
;
function
update
(
state
=
initialState
action
emit
)
{
switch
(
action
.
type
)
{
case
constants
.
UPDATE_EVENT_BREAKPOINTS
:
state
.
activeEventNames
=
action
.
eventNames
;
emit
(
"
redux
:
activeEventNames
"
state
.
activeEventNames
)
;
break
;
case
constants
.
FETCH_EVENT_LISTENERS
:
if
(
action
.
status
=
=
=
"
begin
"
)
{
state
.
fetchingListeners
=
true
;
}
else
if
(
action
.
status
=
=
=
"
done
"
)
{
state
.
fetchingListeners
=
false
;
state
.
listeners
=
action
.
listeners
;
emit
(
"
redux
:
listeners
"
state
.
listeners
)
;
}
break
;
}
return
state
;
}
module
.
exports
=
update
;

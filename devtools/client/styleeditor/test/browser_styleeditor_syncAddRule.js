"
use
strict
"
;
const
TESTCASE_URI
=
TEST_BASE_HTTP
+
"
sync
.
html
"
;
const
expectedText
=
#
testid
{
}
;
add_task
(
async
function
(
)
{
await
addTab
(
TESTCASE_URI
)
;
const
{
inspector
view
}
=
await
openRuleView
(
)
;
await
selectNode
(
"
#
testid
"
inspector
)
;
const
onNewRuleAdded
=
once
(
view
"
new
-
rule
-
added
"
)
;
view
.
addRuleButton
.
click
(
)
;
await
onNewRuleAdded
;
const
{
ui
}
=
await
openStyleEditor
(
)
;
info
(
"
Selecting
the
second
editor
"
)
;
await
ui
.
selectStyleSheet
(
ui
.
editors
[
1
]
.
styleSheet
)
;
const
editor
=
ui
.
editors
[
1
]
;
const
text
=
editor
.
sourceEditor
.
getText
(
)
;
is
(
text
expectedText
"
selector
edits
are
synced
"
)
;
}
)
;

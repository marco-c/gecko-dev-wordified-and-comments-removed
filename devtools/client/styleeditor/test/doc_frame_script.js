"
use
strict
"
;
addMessageListener
(
"
Test
:
cssRules
"
function
(
msg
)
{
let
{
num
}
=
msg
.
data
;
let
sheet
=
content
.
document
.
styleSheets
[
num
]
;
let
result
=
[
]
;
for
(
let
i
=
0
;
i
<
sheet
.
cssRules
.
length
;
+
+
i
)
{
result
.
push
(
sheet
.
cssRules
[
i
]
.
cssText
)
;
}
sendAsyncMessage
(
"
Test
:
cssRules
"
result
)
;
}
)
;
addMessageListener
(
"
Test
:
GetComputedStylePropertyValue
"
function
(
msg
)
{
let
{
selector
pseudo
name
}
=
msg
.
data
;
let
element
=
content
.
document
.
querySelector
(
selector
)
;
let
style
=
content
.
document
.
defaultView
.
getComputedStyle
(
element
pseudo
)
;
let
value
=
style
.
getPropertyValue
(
name
)
;
sendAsyncMessage
(
"
Test
:
GetComputedStylePropertyValue
"
value
)
;
}
)
;
addMessageListener
(
"
Test
:
GetStyleContent
"
function
(
)
{
sendAsyncMessage
(
"
Test
:
GetStyleContent
"
content
.
document
.
querySelector
(
"
style
"
)
.
textContent
)
;
}
)
;

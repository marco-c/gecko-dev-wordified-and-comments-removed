"
use
strict
"
;
const
PARENT_PROCESS_URI
=
"
about
:
robots
"
;
const
CONTENT_PROCESS_URI
=
TEST_BASE_HTTPS
+
"
simple
.
html
"
;
add_task
(
async
function
(
)
{
await
pushPref
(
"
devtools
.
target
-
switching
.
enabled
"
true
)
;
info
(
"
Open
a
page
that
runs
in
the
parent
process
"
)
;
const
{
toolbox
ui
}
=
await
openStyleEditorForURL
(
PARENT_PROCESS_URI
)
;
is
(
ui
.
editors
.
length
3
Three
style
sheets
for
{
PARENT_PROCESS_URI
}
)
;
info
(
"
Navigate
to
a
page
that
runs
in
the
child
process
"
)
;
await
navigateToAndWaitForStyleSheets
(
CONTENT_PROCESS_URI
ui
)
;
is
(
ui
.
editors
.
length
2
Two
sheets
present
for
{
CONTENT_PROCESS_URI
}
)
;
const
onToolboxDestroyed
=
gDevTools
.
once
(
"
toolbox
-
destroyed
"
)
;
toolbox
.
closeToolbox
(
)
;
await
onToolboxDestroyed
;
}
)
;

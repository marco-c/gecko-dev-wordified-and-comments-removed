"
use
strict
"
;
const
PARENT_PROCESS_URI
=
"
about
:
robots
"
;
const
CONTENT_PROCESS_URI
=
TEST_BASE_HTTPS
+
"
simple
.
html
"
;
add_task
(
async
function
(
)
{
info
(
"
Open
a
page
that
runs
in
the
parent
process
"
)
;
const
{
ui
}
=
await
openStyleEditorForURL
(
PARENT_PROCESS_URI
)
;
await
waitUntil
(
(
)
=
>
ui
.
editors
.
length
=
=
=
4
)
;
ok
(
true
Three
style
sheets
for
{
PARENT_PROCESS_URI
}
)
;
info
(
"
Navigate
to
a
page
that
runs
in
the
child
process
"
)
;
await
navigateToAndWaitForStyleSheets
(
CONTENT_PROCESS_URI
ui
2
)
;
ok
(
ui
.
editors
.
every
(
editor
=
>
editor
.
_resource
.
nodeHref
=
=
CONTENT_PROCESS_URI
)
Two
sheets
present
for
{
CONTENT_PROCESS_URI
}
)
;
info
(
"
Wait
until
the
editor
is
ready
"
)
;
await
waitFor
(
(
)
=
>
ui
.
selectedEditor
?
.
sourceEditor
)
;
}
)
;

"
use
strict
"
;
function
OriginalSource
(
url
sourceId
sourceMapLoader
)
{
this
.
isOriginalSource
=
true
;
this
.
_url
=
url
;
this
.
_sourceId
=
sourceId
;
this
.
_sourceMapLoader
=
sourceMapLoader
;
}
OriginalSource
.
prototype
=
{
get
sourceId
(
)
{
return
this
.
_sourceId
;
}
get
url
(
)
{
return
this
.
_url
;
}
get
href
(
)
{
return
this
.
_url
;
}
getText
(
)
{
if
(
!
this
.
_sourcePromise
)
{
this
.
_sourcePromise
=
this
.
_sourceMapLoader
.
getOriginalSourceText
(
this
.
_sourceId
)
.
then
(
contents
=
>
{
return
{
string
:
(
)
=
>
contents
.
text
}
;
}
)
;
}
return
this
.
_sourcePromise
;
}
getOriginalLocation
(
relatedSheet
line
column
)
{
const
{
href
nodeHref
resourceId
:
sourceId
}
=
relatedSheet
;
const
sourceUrl
=
href
|
|
nodeHref
;
return
this
.
_sourceMapLoader
.
getOriginalLocation
(
{
sourceId
line
column
sourceUrl
}
)
.
then
(
location
=
>
{
location
.
source
=
location
.
sourceUrl
;
location
.
styleSheet
=
relatedSheet
;
return
location
;
}
)
;
}
on
(
)
{
}
off
(
)
{
}
}
;
exports
.
OriginalSource
=
OriginalSource
;

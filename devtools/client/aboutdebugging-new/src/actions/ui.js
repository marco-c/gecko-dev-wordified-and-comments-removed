"
use
strict
"
;
const
{
DEBUG_TARGET_COLLAPSIBILITY_UPDATED
NETWORK_LOCATIONS_UPDATED
PAGE_SELECTED
PAGES
}
=
require
(
"
.
.
/
constants
"
)
;
const
NetworkLocationsModule
=
require
(
"
.
.
/
modules
/
network
-
locations
"
)
;
const
Actions
=
require
(
"
.
/
index
"
)
;
function
selectPage
(
page
)
{
return
async
(
dispatch
getState
)
=
>
{
const
currentPage
=
getState
(
)
.
ui
.
selectedPage
;
if
(
page
=
=
=
currentPage
)
{
return
;
}
if
(
page
=
=
=
PAGES
.
THIS_FIREFOX
)
{
await
dispatch
(
Actions
.
connectRuntime
(
)
)
;
}
else
{
await
dispatch
(
Actions
.
disconnectRuntime
(
)
)
;
}
dispatch
(
{
type
:
PAGE_SELECTED
page
}
)
;
}
;
}
function
updateDebugTargetCollapsibility
(
key
isCollapsed
)
{
return
{
type
:
DEBUG_TARGET_COLLAPSIBILITY_UPDATED
key
isCollapsed
}
;
}
function
addNetworkLocation
(
location
)
{
return
(
dispatch
getState
)
=
>
{
NetworkLocationsModule
.
addNetworkLocation
(
location
)
;
}
;
}
function
removeNetworkLocation
(
location
)
{
return
(
dispatch
getState
)
=
>
{
NetworkLocationsModule
.
removeNetworkLocation
(
location
)
;
}
;
}
function
updateNetworkLocations
(
locations
)
{
return
{
type
:
NETWORK_LOCATIONS_UPDATED
locations
}
;
}
module
.
exports
=
{
addNetworkLocation
removeNetworkLocation
selectPage
updateDebugTargetCollapsibility
updateNetworkLocations
}
;

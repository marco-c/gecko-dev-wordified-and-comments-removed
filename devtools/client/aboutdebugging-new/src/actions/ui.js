"
use
strict
"
;
const
{
ADB_ADDON_STATUS_UPDATED
DEBUG_TARGET_COLLAPSIBILITY_UPDATED
NETWORK_LOCATIONS_UPDATED
PAGE_SELECTED
PAGES
}
=
require
(
"
.
.
/
constants
"
)
;
const
NetworkLocationsModule
=
require
(
"
.
.
/
modules
/
network
-
locations
"
)
;
const
Actions
=
require
(
"
.
/
index
"
)
;
function
_isRuntimePage
(
page
)
{
return
page
&
&
page
!
=
=
PAGES
.
CONNECT
;
}
function
selectPage
(
page
runtimeId
)
{
return
async
(
dispatch
getState
)
=
>
{
const
currentPage
=
getState
(
)
.
ui
.
selectedPage
;
if
(
page
=
=
=
currentPage
)
{
return
;
}
if
(
_isRuntimePage
(
currentPage
)
)
{
const
currentRuntimeId
=
getState
(
)
.
runtimes
.
selectedRuntimeId
;
await
dispatch
(
Actions
.
unwatchRuntime
(
currentRuntimeId
)
)
;
}
if
(
_isRuntimePage
(
page
)
)
{
await
dispatch
(
Actions
.
watchRuntime
(
runtimeId
)
)
;
}
dispatch
(
{
type
:
PAGE_SELECTED
page
}
)
;
}
;
}
function
updateDebugTargetCollapsibility
(
key
isCollapsed
)
{
return
{
type
:
DEBUG_TARGET_COLLAPSIBILITY_UPDATED
key
isCollapsed
}
;
}
function
addNetworkLocation
(
location
)
{
return
(
dispatch
getState
)
=
>
{
NetworkLocationsModule
.
addNetworkLocation
(
location
)
;
}
;
}
function
removeNetworkLocation
(
location
)
{
return
(
dispatch
getState
)
=
>
{
NetworkLocationsModule
.
removeNetworkLocation
(
location
)
;
}
;
}
function
updateAdbAddonStatus
(
adbAddonStatus
)
{
return
{
type
:
ADB_ADDON_STATUS_UPDATED
adbAddonStatus
}
;
}
function
updateNetworkLocations
(
locations
)
{
return
{
type
:
NETWORK_LOCATIONS_UPDATED
locations
}
;
}
module
.
exports
=
{
addNetworkLocation
removeNetworkLocation
selectPage
updateAdbAddonStatus
updateDebugTargetCollapsibility
updateNetworkLocations
}
;

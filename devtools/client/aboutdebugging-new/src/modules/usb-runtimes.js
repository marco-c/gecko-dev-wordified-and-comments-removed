"
use
strict
"
;
loader
.
lazyGetter
(
this
"
adbScanner
"
(
)
=
>
{
const
{
AddonAwareADBScanner
}
=
require
(
"
devtools
/
shared
/
adb
/
addon
-
aware
-
adb
-
scanner
"
)
;
return
new
AddonAwareADBScanner
(
)
;
}
)
;
function
addUSBRuntimesObserver
(
listener
)
{
adbScanner
.
on
(
"
runtime
-
list
-
updated
"
listener
)
;
}
exports
.
addUSBRuntimesObserver
=
addUSBRuntimesObserver
;
function
disableUSBRuntimes
(
)
{
adbScanner
.
disable
(
)
;
}
exports
.
disableUSBRuntimes
=
disableUSBRuntimes
;
async
function
enableUSBRuntimes
(
)
{
adbScanner
.
enable
(
)
;
}
exports
.
enableUSBRuntimes
=
enableUSBRuntimes
;
function
getUSBRuntimes
(
)
{
return
adbScanner
.
listRuntimes
(
)
;
}
exports
.
getUSBRuntimes
=
getUSBRuntimes
;
function
removeUSBRuntimesObserver
(
listener
)
{
adbScanner
.
off
(
"
runtime
-
list
-
updated
"
listener
)
;
}
exports
.
removeUSBRuntimesObserver
=
removeUSBRuntimesObserver
;
function
refreshUSBRuntimes
(
)
{
return
adbScanner
.
scan
(
)
;
}
exports
.
refreshUSBRuntimes
=
refreshUSBRuntimes
;
require
(
"
.
/
test
-
helper
"
)
.
enableMocks
(
module
"
modules
/
usb
-
runtimes
"
)
;

"
use
strict
"
;
const
EXPECTED_TARGET_PANES
=
[
"
Temporary
Extensions
"
"
Extensions
"
"
Tabs
"
"
Service
Workers
"
"
Shared
Workers
"
"
Other
Workers
"
]
;
add_task
(
async
function
(
)
{
const
{
document
tab
window
}
=
await
openAboutDebugging
(
)
;
await
selectThisFirefoxPage
(
document
window
.
AboutDebugging
.
store
)
;
const
selectedSidebarItem
=
document
.
querySelector
(
"
.
js
-
sidebar
-
item
-
selected
"
)
;
ok
(
selectedSidebarItem
"
An
item
is
selected
in
the
sidebar
"
)
;
is
(
selectedSidebarItem
.
textContent
"
This
Firefox
"
"
The
selected
sidebar
item
is
This
Firefox
"
)
;
const
paneTitlesEls
=
document
.
querySelectorAll
(
"
.
js
-
debug
-
target
-
pane
-
title
"
)
;
is
(
paneTitlesEls
.
length
EXPECTED_TARGET_PANES
.
length
"
This
Firefox
has
the
expecte
number
of
debug
target
categories
"
)
;
const
paneTitles
=
[
.
.
.
paneTitlesEls
]
.
map
(
el
=
>
el
.
textContent
)
;
for
(
let
i
=
0
;
i
<
EXPECTED_TARGET_PANES
.
length
;
i
+
+
)
{
const
expectedPaneTitle
=
EXPECTED_TARGET_PANES
[
i
]
;
const
actualPaneTitle
=
paneTitles
[
i
]
;
ok
(
actualPaneTitle
.
startsWith
(
expectedPaneTitle
)
Expected
debug
target
category
found
:
{
expectedPaneTitle
}
)
;
}
await
removeTab
(
tab
)
;
}
)
;

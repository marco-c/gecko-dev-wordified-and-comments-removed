"
use
strict
"
;
Services
.
scriptloader
.
loadSubScript
(
CHROME_URL_ROOT
+
"
helper
-
real
-
usb
.
js
"
this
)
;
add_task
(
async
function
(
)
{
if
(
!
isAvailable
(
)
)
{
ok
(
true
"
Real
usb
runtime
test
is
not
available
"
)
;
return
;
}
const
{
document
tab
}
=
await
openAboutDebuggingWithADB
(
)
;
for
(
const
{
sidebarInfo
}
of
await
getExpectedRuntimeAll
(
)
)
{
const
{
deviceName
shortName
}
=
sidebarInfo
;
await
waitUntil
(
(
)
=
>
findSidebarItemByText
(
deviceName
document
)
)
;
const
usbRuntimeSidebarItem
=
findSidebarItemByText
(
deviceName
document
)
;
ok
(
usbRuntimeSidebarItem
.
textContent
.
includes
(
shortName
)
"
The
device
name
and
short
name
of
the
usb
runtime
are
visible
in
sidebar
item
"
+
[
{
usbRuntimeSidebarItem
.
textContent
}
]
)
;
}
await
removeTab
(
tab
)
;
}
)
;

"
use
strict
"
;
const
{
l10n
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
aboutdebugging
/
src
/
modules
/
l10n
.
js
"
)
;
const
{
DEBUG_TARGETS
REQUEST_PROCESSES_SUCCESS
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
aboutdebugging
/
src
/
constants
.
js
"
)
;
const
processComponentDataMiddleware
=
store
=
>
next
=
>
action
=
>
{
switch
(
action
.
type
)
{
case
REQUEST_PROCESSES_SUCCESS
:
{
const
mainProcessComponentData
=
toMainProcessComponentData
(
action
.
mainProcess
)
;
action
.
processes
=
[
mainProcessComponentData
]
;
break
;
}
}
return
next
(
action
)
;
}
;
function
toMainProcessComponentData
(
process
)
{
const
type
=
DEBUG_TARGETS
.
PROCESS
;
const
icon
=
"
chrome
:
/
/
devtools
/
skin
/
images
/
aboutdebugging
-
process
-
icon
.
svg
"
;
const
name
=
l10n
.
getString
(
"
about
-
debugging
-
multiprocess
-
toolbox
-
name
"
)
;
const
description
=
l10n
.
getString
(
"
about
-
debugging
-
multiprocess
-
toolbox
-
description
"
)
;
return
{
name
icon
type
details
:
{
description
}
}
;
}
module
.
exports
=
processComponentDataMiddleware
;

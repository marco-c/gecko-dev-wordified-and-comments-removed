"
use
strict
"
;
const
{
XPCOMUtils
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
sys
.
mjs
"
)
;
const
{
PREFERENCES
}
=
require
(
"
resource
:
/
/
devtools
/
client
/
aboutdebugging
/
src
/
constants
.
js
"
)
;
const
lazy
=
{
}
;
XPCOMUtils
.
defineLazyPreferenceGetter
(
lazy
"
shouldLog
"
PREFERENCES
.
SHOW_REDUX_ACTIONS
false
)
;
const
simpleConsoleLogger
=
store
=
>
next
=
>
action
=
>
{
if
(
!
lazy
.
shouldLog
)
{
return
next
(
action
)
;
}
console
.
group
(
Action
:
{
action
.
type
}
)
;
console
.
log
(
"
Previous
state
:
"
store
.
getState
(
)
)
;
console
.
log
(
"
Dispatched
action
:
"
action
)
;
const
result
=
next
(
action
)
;
console
.
log
(
"
Next
state
:
"
store
.
getState
(
)
)
;
console
.
groupEnd
(
)
;
return
result
;
}
;
exports
.
simpleConsoleLogger
=
simpleConsoleLogger
;

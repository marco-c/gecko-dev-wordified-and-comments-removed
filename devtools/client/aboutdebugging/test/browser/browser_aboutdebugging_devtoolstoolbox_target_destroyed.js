"
use
strict
"
;
add_task
(
async
function
(
)
{
const
targetTab
=
await
addTab
(
"
about
:
home
"
)
;
const
{
document
tab
window
}
=
await
openAboutDebugging
(
)
;
info
(
"
Inspecting
a
new
tab
in
This
Firefox
"
)
;
await
selectThisFirefoxPage
(
document
window
.
AboutDebugging
.
store
)
;
const
{
devtoolsDocument
devtoolsTab
devtoolsWindow
}
=
await
openAboutDevtoolsToolbox
(
document
tab
window
"
about
:
home
"
)
;
const
targetInfoHeader
=
devtoolsDocument
.
querySelector
(
"
.
qa
-
debug
-
target
-
info
"
)
;
ok
(
targetInfoHeader
.
textContent
.
includes
(
"
about
:
home
"
)
"
about
:
devtools
-
toolbox
is
open
for
the
target
"
)
;
info
(
"
removing
the
inspected
tab
"
)
;
await
removeTab
(
targetTab
)
;
await
waitUntil
(
(
)
=
>
devtoolsWindow
.
document
.
querySelector
(
"
.
qa
-
error
-
page
"
)
)
;
info
(
"
closing
the
toolbox
"
)
;
await
removeTab
(
devtoolsTab
)
;
await
waitUntil
(
(
)
=
>
!
findDebugTargetByText
(
"
Toolbox
-
"
document
)
)
;
info
(
"
removing
about
:
debugging
tab
"
)
;
await
removeTab
(
tab
)
;
}
)
;

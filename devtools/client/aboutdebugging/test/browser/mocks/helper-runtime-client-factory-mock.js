"
use
strict
"
;
function
enableRuntimeClientFactoryMock
(
mock
)
{
const
{
setMockedModule
}
=
require
(
"
devtools
/
client
/
shared
/
browser
-
loader
-
mocks
"
)
;
setMockedModule
(
mock
"
devtools
/
client
/
aboutdebugging
/
src
/
modules
/
runtime
-
client
-
factory
"
)
;
mockRuntimeDefaultPreferences
(
)
;
}
const
mockRuntimeDefaultPreferences
=
function
(
)
{
const
{
removeMockedModule
setMockedModule
}
=
require
(
"
devtools
/
client
/
shared
/
browser
-
loader
-
mocks
"
)
;
const
mock
=
{
setDefaultPreferencesIfNeeded
:
(
)
=
>
{
}
DEFAULT_PREFERENCES
:
[
]
}
;
setMockedModule
(
mock
"
devtools
/
client
/
aboutdebugging
/
src
/
modules
/
runtime
-
default
-
preferences
"
)
;
registerCleanupFunction
(
(
)
=
>
{
removeMockedModule
(
"
devtools
/
client
/
aboutdebugging
/
src
/
modules
/
runtime
-
default
-
preferences
"
)
;
}
)
;
}
;
function
disableRuntimeClientFactoryMock
(
)
{
const
{
removeMockedModule
}
=
require
(
"
devtools
/
client
/
shared
/
browser
-
loader
-
mocks
"
)
;
removeMockedModule
(
"
devtools
/
client
/
aboutdebugging
/
src
/
modules
/
runtime
-
client
-
factory
"
)
;
}
function
createRuntimeClientFactoryMock
(
)
{
const
RuntimeClientFactoryMock
=
{
}
;
RuntimeClientFactoryMock
.
createClientForRuntime
=
function
(
runtime
)
{
console
.
log
(
"
MOCKED
METHOD
createClientForRuntime
"
)
;
}
;
return
RuntimeClientFactoryMock
;
}

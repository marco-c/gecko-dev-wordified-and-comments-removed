"
use
strict
"
;
const
TEST_URL
=
"
https
:
/
/
example
.
com
/
"
;
addRDMTask
(
null
async
function
(
)
{
const
tab
=
await
addTab
(
TEST_URL
)
;
let
opened
=
0
;
ResponsiveUIManager
.
on
(
"
on
"
(
)
=
>
opened
+
+
)
;
ResponsiveUIManager
.
on
(
"
off
"
(
)
=
>
opened
-
-
)
;
for
(
let
i
=
0
;
i
<
10
;
i
+
+
)
{
info
(
Toggling
RDM
#
{
i
+
1
}
)
;
openRDM
(
tab
)
.
catch
(
e
=
>
{
}
)
;
if
(
i
%
2
=
=
0
)
{
info
(
"
Wait
a
bit
after
open
"
)
;
await
wait
(
250
)
;
}
closeRDM
(
tab
)
;
if
(
i
%
3
=
=
0
)
{
info
(
"
Wait
a
bit
after
close
"
)
;
await
wait
(
250
)
;
}
}
await
wait
(
1000
)
;
info
(
"
Wait
for
all
opened
RDM
to
be
closed
before
closing
the
tab
"
)
;
await
waitFor
(
(
)
=
>
opened
=
=
0
)
;
info
(
"
All
RDM
are
closed
"
)
;
await
removeTab
(
tab
)
;
}
{
onlyPrefAndTask
:
true
}
)
;

"
use
strict
"
;
addMessageListener
(
"
Test
:
RemoveAnimatedElementsExcept
"
function
(
msg
)
{
const
{
selectors
}
=
msg
.
data
;
for
(
const
animation
of
content
.
document
.
getAnimations
(
)
)
{
if
(
isRemovableElement
(
animation
selectors
)
)
{
animation
.
effect
.
target
.
remove
(
)
;
}
}
sendAsyncMessage
(
"
Test
:
RemoveAnimatedElementsExcept
"
)
;
}
)
;
function
isRemovableElement
(
animation
selectors
)
{
for
(
const
selector
of
selectors
)
{
if
(
animation
.
effect
.
target
.
matches
(
selector
)
)
{
return
false
;
}
}
return
true
;
}

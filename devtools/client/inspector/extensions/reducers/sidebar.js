"
use
strict
"
;
const
{
EXTENSION_SIDEBAR_OBJECT_TREEVIEW_UPDATE
EXTENSION_SIDEBAR_EXPRESSION_RESULT_VIEW_UPDATE
EXTENSION_SIDEBAR_PAGE_UPDATE
EXTENSION_SIDEBAR_REMOVE
}
=
require
(
"
devtools
/
client
/
inspector
/
extensions
/
actions
/
index
"
)
;
const
INITIAL_SIDEBAR
=
{
}
;
const
reducers
=
{
[
EXTENSION_SIDEBAR_OBJECT_TREEVIEW_UPDATE
]
(
sidebar
{
sidebarId
object
}
)
{
return
Object
.
assign
(
{
}
sidebar
{
[
sidebarId
]
:
{
viewMode
:
"
object
-
treeview
"
object
}
}
)
;
}
[
EXTENSION_SIDEBAR_EXPRESSION_RESULT_VIEW_UPDATE
]
(
sidebar
{
sidebarId
expressionResult
rootTitle
}
)
{
return
Object
.
assign
(
{
}
sidebar
{
[
sidebarId
]
:
{
viewMode
:
"
object
-
value
-
grip
-
view
"
expressionResult
rootTitle
}
}
)
;
}
[
EXTENSION_SIDEBAR_PAGE_UPDATE
]
(
sidebar
{
sidebarId
iframeURL
}
)
{
return
Object
.
assign
(
{
}
sidebar
{
[
sidebarId
]
:
{
viewMode
:
"
extension
-
page
"
iframeURL
}
}
)
;
}
[
EXTENSION_SIDEBAR_REMOVE
]
(
sidebar
{
sidebarId
}
)
{
delete
sidebar
[
sidebarId
]
;
return
Object
.
assign
(
{
}
sidebar
)
;
}
}
;
module
.
exports
=
function
(
sidebar
=
INITIAL_SIDEBAR
action
)
{
const
reducer
=
reducers
[
action
.
type
]
;
if
(
!
reducer
)
{
return
sidebar
;
}
return
reducer
(
sidebar
action
)
;
}
;

"
use
strict
"
;
module
.
exports
=
{
getStepForUnit
(
unit
)
{
let
step
;
switch
(
unit
)
{
case
"
"
:
case
"
em
"
:
case
"
rem
"
:
case
"
vw
"
:
case
"
vh
"
:
case
"
vmin
"
:
case
"
vmax
"
:
step
=
0
.
1
;
break
;
default
:
step
=
1
;
}
return
step
;
}
getUnitFromValue
(
value
)
{
if
(
typeof
value
!
=
=
"
string
"
|
|
isNaN
(
parseFloat
(
value
)
)
)
{
return
null
;
}
const
match
=
value
.
match
(
/
\
D
+
?
/
)
;
return
match
?
.
length
?
match
[
0
]
:
null
;
}
parseFontVariationAxes
(
string
)
{
let
axes
=
{
}
;
const
keywords
=
[
"
initial
"
"
normal
"
"
inherit
"
"
unset
"
]
;
if
(
!
string
|
|
keywords
.
includes
(
string
.
trim
(
)
)
)
{
return
axes
;
}
axes
=
string
.
split
(
"
"
)
.
reduce
(
(
acc
pair
)
=
>
{
pair
=
pair
.
split
(
/
[
"
'
]
/
)
.
filter
(
part
=
>
part
.
trim
(
)
!
=
=
"
"
)
;
if
(
pair
.
length
=
=
=
0
)
{
return
acc
;
}
const
tag
=
pair
[
0
]
;
const
value
=
pair
[
1
]
.
trim
(
)
;
if
(
tag
.
length
=
=
=
4
)
{
acc
[
tag
]
=
parseFloat
(
value
)
;
}
return
acc
;
}
{
}
)
;
return
axes
;
}
toFixed
(
number
decimals
=
1
)
{
if
(
typeof
number
!
=
=
"
number
"
)
{
return
number
;
}
return
Math
.
floor
(
number
*
Math
.
pow
(
10
decimals
)
)
/
Math
.
pow
(
10
decimals
)
;
}
}
;

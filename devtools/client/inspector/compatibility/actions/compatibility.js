"
use
strict
"
;
const
{
COMPATIBILITY_UPDATE_SELECTED_NODE
}
=
require
(
"
.
/
index
"
)
;
function
updateSelectedNode
(
nodeFront
)
{
return
async
(
{
dispatch
}
)
=
>
{
const
pageStyle
=
nodeFront
.
inspectorFront
.
pageStyle
;
const
styles
=
await
pageStyle
.
getApplied
(
nodeFront
{
skipPseudo
:
false
}
)
;
const
declarationBlocks
=
styles
.
map
(
(
{
rule
}
)
=
>
rule
.
declarations
.
filter
(
d
=
>
!
d
.
commentOffsets
)
)
.
filter
(
declarations
=
>
declarations
.
length
)
;
dispatch
(
{
type
:
COMPATIBILITY_UPDATE_SELECTED_NODE
declarationBlocks
}
)
;
}
;
}
module
.
exports
=
{
updateSelectedNode
}
;

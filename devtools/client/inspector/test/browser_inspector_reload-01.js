"
use
strict
"
;
const
TEST_URI
=
"
data
:
text
/
html
<
p
id
=
'
1
'
>
p
<
/
p
>
"
;
add_task
(
async
function
(
)
{
const
{
inspector
testActor
}
=
await
openInspectorForURL
(
TEST_URI
)
;
await
selectNode
(
"
p
"
inspector
)
;
const
markupLoaded
=
inspector
.
once
(
"
markuploaded
"
)
;
info
(
"
Reloading
page
.
"
)
;
await
testActor
.
eval
(
"
location
.
reload
(
)
"
)
;
info
(
"
Waiting
for
markupview
to
load
after
reload
.
"
)
;
await
markupLoaded
;
const
nodeFront
=
await
getNodeFront
(
"
p
"
inspector
)
;
is
(
inspector
.
selection
.
nodeFront
nodeFront
"
<
p
>
selected
after
reload
.
"
)
;
info
(
"
Selecting
a
node
to
see
that
inspector
still
works
.
"
)
;
await
selectNode
(
"
body
"
inspector
)
;
}
)
;

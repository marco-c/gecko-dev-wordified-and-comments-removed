"
use
strict
"
;
const
TEST_URI
=
"
data
:
text
/
html
;
charset
=
UTF
-
8
"
+
"
<
h1
>
browser_inspector_addtabbar
.
js
<
/
h1
>
"
;
const
CONTENT_TEXT
=
"
Hello
World
!
"
;
add_task
(
async
function
(
)
{
const
{
inspector
}
=
await
openInspectorForURL
(
TEST_URI
)
;
const
{
Component
createFactory
}
=
inspector
.
React
;
const
dom
=
require
(
"
devtools
/
client
/
shared
/
vendor
/
react
-
dom
-
factories
"
)
;
const
{
div
}
=
dom
;
info
(
"
Adding
custom
panel
.
"
)
;
class
myTabPanel
extends
Component
{
render
(
)
{
return
(
div
(
{
className
:
"
my
-
tab
-
panel
"
}
CONTENT_TEXT
)
)
;
}
}
let
tabPanel
=
createFactory
(
myTabPanel
)
;
inspector
.
addSidebarTab
(
"
myPanel
"
"
My
Panel
"
tabPanel
true
)
;
is
(
inspector
.
sidebar
.
getCurrentTabID
(
)
"
myPanel
"
"
My
Panel
is
selected
by
default
"
)
;
class
myTabPanel2
extends
Component
{
render
(
)
{
return
(
div
(
{
className
:
"
my
-
tab
-
panel2
"
}
"
Another
Content
"
)
)
;
}
}
tabPanel
=
createFactory
(
myTabPanel2
)
;
inspector
.
addSidebarTab
(
"
myPanel
"
"
My
Panel
"
tabPanel
false
)
;
is
(
inspector
.
sidebar
.
getCurrentTabID
(
)
"
myPanel
"
"
My
Panel
is
selected
by
default
"
)
;
const
tabPanelNode
=
inspector
.
panelDoc
.
querySelector
(
"
.
my
-
tab
-
panel
"
)
;
is
(
tabPanelNode
.
textContent
CONTENT_TEXT
"
Side
panel
content
has
been
rendered
.
"
)
;
}
)
;

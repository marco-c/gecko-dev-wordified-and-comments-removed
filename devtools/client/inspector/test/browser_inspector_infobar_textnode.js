"
use
strict
"
;
const
TEST_URI
=
URL_ROOT
+
"
doc_inspector_infobar_textnode
.
html
"
;
add_task
(
async
function
(
)
{
const
{
inspector
testActor
}
=
await
openInspectorForURL
(
TEST_URI
)
;
const
{
walker
}
=
inspector
;
info
(
"
Retrieve
the
children
of
#
textnode
-
container
"
)
;
const
div
=
await
walker
.
querySelector
(
walker
.
rootNode
"
#
textnode
-
container
"
)
;
const
{
nodes
}
=
await
inspector
.
walker
.
children
(
div
)
;
info
(
"
Select
the
first
text
node
"
)
;
await
selectNode
(
nodes
[
0
]
inspector
"
test
-
highlight
"
)
;
await
checkTextNodeInfoBar
(
testActor
)
;
info
(
"
Select
the
second
text
node
"
)
;
await
selectNode
(
nodes
[
2
]
inspector
"
test
-
highlight
"
)
;
await
checkTextNodeInfoBar
(
testActor
)
;
info
(
"
Select
the
third
text
node
"
)
;
await
selectNode
(
nodes
[
4
]
inspector
"
test
-
highlight
"
)
;
await
checkTextNodeInfoBar
(
testActor
)
;
}
)
;
async
function
checkTextNodeInfoBar
(
testActor
)
{
const
tag
=
await
testActor
.
getHighlighterNodeTextContent
(
"
box
-
model
-
infobar
-
tagname
"
)
;
is
(
tag
"
#
text
"
"
node
display
name
is
#
text
"
)
;
const
dims
=
await
testActor
.
getHighlighterNodeTextContent
(
"
box
-
model
-
infobar
-
dimensions
"
)
;
ok
(
!
!
dims
"
node
has
dims
"
)
;
}

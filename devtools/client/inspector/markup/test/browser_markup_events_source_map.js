"
use
strict
"
;
const
INITIAL_URL
=
URL_ROOT
+
"
doc_markup_void_elements
.
html
"
;
const
TEST_URL
=
URL_ROOT
+
"
doc_markup_events
-
source_map
.
html
"
;
loadHelperScript
(
"
helper_events_test_runner
.
js
"
)
;
const
TEST_DATA
=
[
{
selector
:
"
#
clicky
"
isSourceMapped
:
true
expected
:
[
{
type
:
"
click
"
filename
:
"
webpack
:
/
/
/
events_original
.
js
:
7
"
attributes
:
[
"
Bubbling
"
"
DOM2
"
]
handler
:
function
clickme
(
)
{
console
.
log
(
"
clickme
"
)
;
}
}
]
}
]
;
add_task
(
async
function
(
)
{
const
{
toolbox
inspector
testActor
}
=
await
openInspectorForURL
(
INITIAL_URL
)
;
toolbox
.
sourceMapURLService
;
await
navigateTo
(
TEST_URL
)
;
await
inspector
.
markup
.
expandAll
(
)
;
for
(
const
test
of
TEST_DATA
)
{
await
checkEventsForNode
(
test
inspector
testActor
)
;
}
await
promiseNextTick
(
)
;
}
)
;

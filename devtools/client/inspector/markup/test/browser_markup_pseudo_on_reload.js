"
use
strict
"
;
const
TEST_URL
=
URL_ROOT
+
"
doc_markup_pseudo
.
html
"
;
add_task
(
async
function
(
)
{
const
{
inspector
}
=
await
openInspectorForURL
(
TEST_URL
)
;
await
selectNode
(
"
div
"
inspector
)
;
info
(
"
Check
that
the
markup
-
view
shows
the
expected
nodes
before
reload
"
)
;
await
checkMarkupView
(
inspector
)
;
await
refreshTab
(
)
;
info
(
"
Check
that
the
markup
-
view
shows
the
expected
nodes
after
reload
"
)
;
await
checkMarkupView
(
inspector
)
;
}
)
;
async
function
checkMarkupView
(
inspector
)
{
const
articleContainer
=
await
getContainerForSelector
(
"
article
"
inspector
)
;
ok
(
articleContainer
"
The
parent
<
article
>
element
was
found
"
)
;
const
childrenContainers
=
articleContainer
.
getChildContainers
(
)
;
const
beforeNode
=
childrenContainers
[
0
]
.
node
;
const
divNode
=
childrenContainers
[
1
]
.
node
;
const
afterNode
=
childrenContainers
[
2
]
.
node
;
ok
(
beforeNode
.
isBeforePseudoElement
"
The
first
child
is
the
:
:
before
pseudo
element
"
)
;
is
(
divNode
.
displayName
"
div
"
"
The
second
child
is
the
<
div
>
element
"
)
;
ok
(
afterNode
.
isAfterPseudoElement
"
The
last
child
is
the
:
:
after
pseudo
element
"
)
;
}

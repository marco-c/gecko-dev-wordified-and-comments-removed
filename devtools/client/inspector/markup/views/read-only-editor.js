"
use
strict
"
;
const
nodeConstants
=
require
(
"
resource
:
/
/
devtools
/
shared
/
dom
-
node
-
constants
.
js
"
)
;
class
ReadOnlyEditor
{
constructor
(
container
nodeFront
)
{
this
.
container
=
container
;
this
.
markup
=
this
.
container
.
markup
;
this
.
buildMarkup
(
)
;
if
(
nodeFront
.
nodeType
=
=
nodeConstants
.
DOCUMENT_TYPE_NODE
)
{
this
.
elt
.
classList
.
add
(
"
comment
"
"
doctype
"
)
;
this
.
tag
.
textContent
=
nodeFront
.
doctypeString
;
}
else
if
(
nodeFront
.
isShadowRoot
)
{
this
.
tag
.
textContent
=
#
shadow
-
root
(
{
nodeFront
.
shadowRootMode
}
)
;
}
else
{
this
.
tag
.
textContent
=
nodeFront
.
displayName
;
if
(
nodeFront
.
isPseudoElement
)
{
this
.
tag
.
classList
.
add
(
"
pseudo
"
"
force
-
color
-
on
-
flash
"
)
;
}
}
this
.
tag
.
setAttribute
(
"
tabindex
"
"
-
1
"
)
;
}
buildMarkup
(
)
{
const
doc
=
this
.
markup
.
doc
;
this
.
elt
=
doc
.
createElement
(
"
span
"
)
;
this
.
elt
.
classList
.
add
(
"
editor
"
)
;
this
.
tag
=
doc
.
createElement
(
"
span
"
)
;
this
.
tag
.
classList
.
add
(
"
tag
"
)
;
this
.
elt
.
appendChild
(
this
.
tag
)
;
}
destroy
(
)
{
if
(
!
this
.
elt
)
{
return
;
}
this
.
elt
.
remove
(
)
;
this
.
elt
=
null
;
this
.
tag
=
null
;
}
setOverflowHighlight
(
showOverflowHighlight
)
{
this
.
container
.
tagState
.
classList
.
toggle
(
"
overflow
-
causing
-
highlighted
"
showOverflowHighlight
)
;
}
getInfoAtNode
(
)
{
return
null
;
}
}
module
.
exports
=
ReadOnlyEditor
;

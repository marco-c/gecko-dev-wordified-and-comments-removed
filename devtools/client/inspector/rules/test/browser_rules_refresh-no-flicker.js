"
use
strict
"
;
const
TESTCASE_URI
=
"
data
:
text
/
html
;
charset
=
utf
-
8
"
+
'
<
div
id
=
"
testdiv
"
style
=
"
font
-
size
:
10px
;
"
>
'
+
"
Test
div
!
<
/
div
>
"
;
add_task
(
async
function
(
)
{
await
addTab
(
TESTCASE_URI
)
;
info
(
"
Opening
the
rule
view
and
selecting
the
test
node
"
)
;
const
{
inspector
view
}
=
await
openRuleView
(
)
;
const
testdiv
=
await
getNodeFront
(
"
#
testdiv
"
inspector
)
;
await
selectNode
(
testdiv
inspector
)
;
const
htmlBefore
=
view
.
element
.
innerHTML
;
ok
(
htmlBefore
.
indexOf
(
"
font
-
size
"
)
>
-
1
"
The
rule
view
should
contain
a
font
-
size
property
.
"
)
;
info
(
"
refreshing
the
node
"
)
;
const
p
=
view
.
selectElement
(
testdiv
true
)
;
is
(
view
.
element
.
innerHTML
htmlBefore
"
The
rule
view
is
unchanged
during
selection
.
"
)
;
ok
(
view
.
element
.
classList
.
contains
(
"
non
-
interactive
"
)
"
The
rule
view
is
marked
non
-
interactive
.
"
)
;
await
p
;
info
(
"
node
refreshed
"
)
;
ok
(
!
view
.
element
.
classList
.
contains
(
"
non
-
interactive
"
)
"
The
rule
view
is
marked
interactive
again
.
"
)
;
}
)
;

"
use
strict
"
;
const
{
getStr
}
=
require
(
"
devtools
/
client
/
inspector
/
layout
/
utils
/
l10n
"
)
;
const
TEST_URI
=
URL_ROOT
+
"
doc_flexbox_specific_cases
.
html
"
;
add_task
(
async
function
(
)
{
await
addTab
(
TEST_URI
)
;
const
{
inspector
flexboxInspector
}
=
await
openLayoutView
(
)
;
const
{
document
:
doc
}
=
flexboxInspector
;
info
(
"
Select
the
test
item
in
the
document
and
wait
for
the
sizing
info
to
render
"
)
;
const
onFlexibilityReasonsRendered
=
waitForDOM
(
doc
"
ul
.
flex
-
item
-
sizing
.
section
.
flexibility
.
reasons
"
)
;
await
selectNode
(
"
#
grow
-
not
-
grow
div
:
first
-
child
"
inspector
)
;
const
[
reasonsList
]
=
await
onFlexibilityReasonsRendered
;
info
(
"
Get
the
list
of
reasons
in
the
flexibility
section
"
)
;
const
[
.
.
.
reasons
]
=
reasonsList
.
querySelectorAll
(
"
li
"
)
;
ok
(
reasons
.
some
(
r
=
>
r
.
textContent
=
=
=
getStr
(
"
flexbox
.
itemSizing
.
setToGrow
"
)
)
"
The
'
set
to
grow
'
reason
was
found
"
)
;
ok
(
reasons
.
every
(
r
=
>
r
.
textContent
!
=
=
getStr
(
"
flexbox
.
itemSizing
.
notSetToGrow
"
)
)
"
The
'
not
set
to
grow
'
reason
was
not
found
"
)
;
}
)
;

#
ifndef
nsDocShellEditorData_h__
#
define
nsDocShellEditorData_h__
#
ifndef
nsCOMPtr_h___
#
include
"
nsCOMPtr
.
h
"
#
endif
#
include
"
mozilla
/
HTMLEditor
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
nsIHTMLDocument
.
h
"
class
nsIDocShell
;
class
nsIEditingSession
;
class
nsDocShellEditorData
{
public
:
explicit
nsDocShellEditorData
(
nsIDocShell
*
aOwningDocShell
)
;
~
nsDocShellEditorData
(
)
;
nsresult
MakeEditable
(
bool
aWaitForUriLoad
)
;
bool
GetEditable
(
)
;
nsresult
CreateEditor
(
)
;
nsresult
GetEditingSession
(
nsIEditingSession
*
*
aResult
)
;
mozilla
:
:
HTMLEditor
*
GetHTMLEditor
(
)
const
{
return
mHTMLEditor
;
}
nsresult
SetHTMLEditor
(
mozilla
:
:
HTMLEditor
*
aHTMLEditor
)
;
void
TearDownEditor
(
)
;
nsresult
DetachFromWindow
(
)
;
nsresult
ReattachToWindow
(
nsIDocShell
*
aDocShell
)
;
bool
WaitingForLoad
(
)
const
{
return
mMakeEditable
;
}
protected
:
nsresult
EnsureEditingSession
(
)
;
nsIDocShell
*
mDocShell
;
nsCOMPtr
<
nsIEditingSession
>
mEditingSession
;
RefPtr
<
mozilla
:
:
HTMLEditor
>
mHTMLEditor
;
nsIHTMLDocument
:
:
EditingState
mDetachedEditingState
;
bool
mMakeEditable
;
bool
mIsDetached
;
bool
mDetachedMakeEditable
;
}
;
#
endif

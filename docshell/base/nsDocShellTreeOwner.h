#
ifndef
nsDocShellTreeOwner_h__
#
define
nsDocShellTreeOwner_h__
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsString
.
h
"
#
include
"
nsIBaseWindow
.
h
"
#
include
"
nsIDocShellTreeOwner
.
h
"
#
include
"
nsIInterfaceRequestor
.
h
"
#
include
"
nsIInterfaceRequestorUtils
.
h
"
#
include
"
nsIWebBrowserChrome
.
h
"
#
include
"
nsIDOMEventListener
.
h
"
#
include
"
nsIEmbeddingSiteWindow
.
h
"
#
include
"
nsIWebProgressListener
.
h
"
#
include
"
nsWeakReference
.
h
"
#
include
"
nsITimer
.
h
"
#
include
"
nsIPrompt
.
h
"
#
include
"
nsIAuthPrompt
.
h
"
#
include
"
nsITooltipTextProvider
.
h
"
#
include
"
nsCTooltipTextProvider
.
h
"
namespace
mozilla
{
namespace
dom
{
class
Event
;
class
EventTarget
;
}
}
class
nsIDocShellTreeItem
;
class
nsWebBrowser
;
class
ChromeTooltipListener
;
class
nsDocShellTreeOwner
final
:
public
nsIDocShellTreeOwner
public
nsIBaseWindow
public
nsIInterfaceRequestor
public
nsIWebProgressListener
public
nsIDOMEventListener
public
nsSupportsWeakReference
{
friend
class
nsWebBrowser
;
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIBASEWINDOW
NS_DECL_NSIDOCSHELLTREEOWNER
NS_DECL_NSIDOMEVENTLISTENER
NS_DECL_NSIINTERFACEREQUESTOR
NS_DECL_NSIWEBPROGRESSLISTENER
protected
:
nsDocShellTreeOwner
(
)
;
virtual
~
nsDocShellTreeOwner
(
)
;
void
WebBrowser
(
nsWebBrowser
*
aWebBrowser
)
;
nsWebBrowser
*
WebBrowser
(
)
;
NS_IMETHOD
SetTreeOwner
(
nsIDocShellTreeOwner
*
aTreeOwner
)
;
NS_IMETHOD
SetWebBrowserChrome
(
nsIWebBrowserChrome
*
aWebBrowserChrome
)
;
NS_IMETHOD
AddChromeListeners
(
)
;
NS_IMETHOD
RemoveChromeListeners
(
)
;
void
EnsurePrompter
(
)
;
void
EnsureAuthPrompter
(
)
;
void
AddToWatcher
(
)
;
void
RemoveFromWatcher
(
)
;
void
EnsureContentTreeOwner
(
)
;
already_AddRefed
<
nsIWebBrowserChrome
>
GetWebBrowserChrome
(
)
;
already_AddRefed
<
nsIEmbeddingSiteWindow
>
GetOwnerWin
(
)
;
already_AddRefed
<
nsIInterfaceRequestor
>
GetOwnerRequestor
(
)
;
protected
:
nsWebBrowser
*
mWebBrowser
;
nsIDocShellTreeOwner
*
mTreeOwner
;
nsIDocShellTreeItem
*
mPrimaryContentShell
;
nsIWebBrowserChrome
*
mWebBrowserChrome
;
nsIEmbeddingSiteWindow
*
mOwnerWin
;
nsIInterfaceRequestor
*
mOwnerRequestor
;
nsWeakPtr
mWebBrowserChromeWeak
;
RefPtr
<
ChromeTooltipListener
>
mChromeTooltipListener
;
RefPtr
<
nsDocShellTreeOwner
>
mContentTreeOwner
;
nsCOMPtr
<
nsIPrompt
>
mPrompter
;
nsCOMPtr
<
nsIAuthPrompt
>
mAuthPrompter
;
nsCOMPtr
<
nsIRemoteTab
>
mPrimaryRemoteTab
;
}
;
#
endif

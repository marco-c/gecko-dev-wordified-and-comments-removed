#
ifndef
nsPingListener_h__
#
define
nsPingListener_h__
#
include
"
nsIStreamListener
.
h
"
#
include
"
nsCOMPtr
.
h
"
namespace
mozilla
{
namespace
dom
{
class
DocGroup
;
}
}
class
nsIContent
;
class
nsIDocShell
;
class
nsILoadGroup
;
class
nsITimer
;
class
nsIURI
;
class
nsPingListener
final
:
public
nsIStreamListener
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIREQUESTOBSERVER
NS_DECL_NSISTREAMLISTENER
nsPingListener
(
)
{
}
void
SetLoadGroup
(
nsILoadGroup
*
aLoadGroup
)
{
mLoadGroup
=
aLoadGroup
;
}
nsresult
StartTimeout
(
mozilla
:
:
dom
:
:
DocGroup
*
aDocGroup
)
;
static
void
DispatchPings
(
nsIDocShell
*
aDocShell
nsIContent
*
aContent
nsIURI
*
aTarget
nsIURI
*
aReferrer
uint32_t
aReferrerPolicy
)
;
private
:
~
nsPingListener
(
)
;
nsCOMPtr
<
nsILoadGroup
>
mLoadGroup
;
nsCOMPtr
<
nsITimer
>
mTimer
;
}
;
#
endif

#
ifndef
mozilla_LayerTimelineMarker_h_
#
define
mozilla_LayerTimelineMarker_h_
#
include
"
TimelineMarker
.
h
"
#
include
"
mozilla
/
dom
/
ProfileTimelineMarkerBinding
.
h
"
#
include
"
nsRegion
.
h
"
namespace
mozilla
{
class
LayerTimelineMarker
:
public
TimelineMarker
{
public
:
explicit
LayerTimelineMarker
(
const
nsIntRegion
&
aRegion
)
:
TimelineMarker
(
"
Layer
"
MarkerTracingType
:
:
HELPER_EVENT
)
mRegion
(
aRegion
)
{
}
void
AddLayerRectangles
(
dom
:
:
Sequence
<
dom
:
:
ProfileTimelineLayerRect
>
&
aRectangles
)
{
nsIntRegionRectIterator
it
(
mRegion
)
;
while
(
const
nsIntRect
*
iterRect
=
it
.
Next
(
)
)
{
dom
:
:
ProfileTimelineLayerRect
rect
;
rect
.
mX
=
iterRect
-
>
X
(
)
;
rect
.
mY
=
iterRect
-
>
Y
(
)
;
rect
.
mWidth
=
iterRect
-
>
Width
(
)
;
rect
.
mHeight
=
iterRect
-
>
Height
(
)
;
aRectangles
.
AppendElement
(
rect
fallible
)
;
}
}
private
:
nsIntRegion
mRegion
;
}
;
}
#
endif

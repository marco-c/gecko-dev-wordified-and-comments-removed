#
ifndef
mozilla_TimelineMarker_h_
#
define
mozilla_TimelineMarker_h_
#
include
"
AbstractTimelineMarker
.
h
"
#
include
"
js
/
RootingAPI
.
h
"
namespace
mozilla
{
class
TimelineMarker
:
public
AbstractTimelineMarker
{
public
:
TimelineMarker
(
const
char
*
aName
MarkerTracingType
aTracingType
MarkerStackRequest
aStackRequest
=
MarkerStackRequest
:
:
STACK
)
;
TimelineMarker
(
const
char
*
aName
const
TimeStamp
&
aTime
MarkerTracingType
aTracingType
MarkerStackRequest
aStackRequest
=
MarkerStackRequest
:
:
STACK
)
;
virtual
void
AddDetails
(
JSContext
*
aCx
dom
:
:
ProfileTimelineMarker
&
aMarker
)
override
;
virtual
JSObject
*
GetStack
(
)
override
;
protected
:
void
CaptureStack
(
)
;
private
:
JS
:
:
PersistentRooted
<
JSObject
*
>
mStackTrace
;
void
CaptureStackIfNecessary
(
MarkerTracingType
aTracingType
MarkerStackRequest
aStackRequest
)
;
}
;
}
#
endif

#
ifndef
nsDocShellLoadInfo_h__
#
define
nsDocShellLoadInfo_h__
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsString
.
h
"
#
include
"
nsDocShellLoadTypes
.
h
"
class
nsIInputStream
;
class
nsISHEntry
;
class
nsIURI
;
class
nsIDocShell
;
class
nsDocShellLoadInfo
{
public
:
NS_INLINE_DECL_REFCOUNTING
(
nsDocShellLoadInfo
)
;
nsDocShellLoadInfo
(
)
;
nsIURI
*
Referrer
(
)
const
;
void
SetReferrer
(
nsIURI
*
aReferrer
)
;
nsIURI
*
OriginalURI
(
)
const
;
void
SetOriginalURI
(
nsIURI
*
aOriginalURI
)
;
nsIURI
*
ResultPrincipalURI
(
)
const
;
void
SetResultPrincipalURI
(
nsIURI
*
aResultPrincipalURI
)
;
bool
ResultPrincipalURIIsSome
(
)
const
;
void
SetResultPrincipalURIIsSome
(
bool
aIsSome
)
;
bool
LoadReplace
(
)
const
;
void
SetLoadReplace
(
bool
aLoadReplace
)
;
nsIPrincipal
*
TriggeringPrincipal
(
)
const
;
void
SetTriggeringPrincipal
(
nsIPrincipal
*
aTriggeringPrincipal
)
;
bool
InheritPrincipal
(
)
const
;
void
SetInheritPrincipal
(
bool
aInheritPrincipal
)
;
bool
PrincipalIsExplicit
(
)
const
;
void
SetPrincipalIsExplicit
(
bool
aPrincipalIsExplicit
)
;
bool
ForceAllowDataURI
(
)
const
;
void
SetForceAllowDataURI
(
bool
aForceAllowDataURI
)
;
bool
OriginalFrameSrc
(
)
const
;
void
SetOriginalFrameSrc
(
bool
aOriginalFrameSrc
)
;
uint32_t
LoadType
(
)
const
;
void
SetLoadType
(
uint32_t
aLoadType
)
;
nsISHEntry
*
SHEntry
(
)
const
;
void
SetSHEntry
(
nsISHEntry
*
aSHEntry
)
;
void
GetTarget
(
nsAString
&
aTarget
)
const
;
void
SetTarget
(
const
nsAString
&
aTarget
)
;
nsIInputStream
*
PostDataStream
(
)
const
;
void
SetPostDataStream
(
nsIInputStream
*
aStream
)
;
nsIInputStream
*
HeadersStream
(
)
const
;
void
SetHeadersStream
(
nsIInputStream
*
aHeadersStream
)
;
bool
SendReferrer
(
)
const
;
void
SetSendReferrer
(
bool
aSendReferrer
)
;
uint32_t
ReferrerPolicy
(
)
const
;
void
SetReferrerPolicy
(
mozilla
:
:
net
:
:
ReferrerPolicy
aReferrerPolicy
)
;
bool
IsSrcdocLoad
(
)
const
;
void
GetSrcdocData
(
nsAString
&
aSrcdocData
)
const
;
void
SetSrcdocData
(
const
nsAString
&
aSrcdocData
)
;
nsIDocShell
*
SourceDocShell
(
)
const
;
void
SetSourceDocShell
(
nsIDocShell
*
aSourceDocShell
)
;
nsIURI
*
BaseURI
(
)
const
;
void
SetBaseURI
(
nsIURI
*
aBaseURI
)
;
void
GetMaybeResultPrincipalURI
(
mozilla
:
:
Maybe
<
nsCOMPtr
<
nsIURI
>
>
&
aRPURI
)
const
;
void
SetMaybeResultPrincipalURI
(
mozilla
:
:
Maybe
<
nsCOMPtr
<
nsIURI
>
>
const
&
aRPURI
)
;
protected
:
virtual
~
nsDocShellLoadInfo
(
)
;
protected
:
nsCOMPtr
<
nsIURI
>
mReferrer
;
nsCOMPtr
<
nsIURI
>
mOriginalURI
;
nsCOMPtr
<
nsIURI
>
mResultPrincipalURI
;
bool
mResultPrincipalURIIsSome
;
nsCOMPtr
<
nsIPrincipal
>
mTriggeringPrincipal
;
bool
mLoadReplace
;
bool
mInheritPrincipal
;
bool
mPrincipalIsExplicit
;
bool
mForceAllowDataURI
;
bool
mOriginalFrameSrc
;
bool
mSendReferrer
;
mozilla
:
:
net
:
:
ReferrerPolicy
mReferrerPolicy
;
uint32_t
mLoadType
;
nsCOMPtr
<
nsISHEntry
>
mSHEntry
;
nsString
mTarget
;
nsCOMPtr
<
nsIInputStream
>
mPostDataStream
;
nsCOMPtr
<
nsIInputStream
>
mHeadersStream
;
bool
mIsSrcdocLoad
;
nsString
mSrcdocData
;
nsCOMPtr
<
nsIDocShell
>
mSourceDocShell
;
nsCOMPtr
<
nsIURI
>
mBaseURI
;
}
;
#
endif

#
include
"
EntryList
.
h
"
#
include
"
nsIWeakReferenceUtils
.
h
"
#
include
"
nsSHistory
.
h
"
namespace
mozilla
:
:
dom
{
EntryList
:
:
EntryList
(
nsSHistory
*
aSessionHistory
const
nsID
&
aHistoryID
)
:
mSessionHistory
(
do_GetWeakReference
(
aSessionHistory
)
)
mHistoryID
(
aHistoryID
)
{
}
EntryList
:
:
~
EntryList
(
)
{
clear
(
)
;
if
(
nsCOMPtr
<
nsISHistory
>
shistory
=
do_QueryReferent
(
mSessionHistory
)
)
{
static_cast
<
nsSHistory
*
>
(
shistory
.
get
(
)
)
-
>
RemoveEntryList
(
mHistoryID
)
;
}
}
}

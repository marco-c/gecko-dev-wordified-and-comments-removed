#
ifndef
mozilla_AutoProfilerLabel_h
#
define
mozilla_AutoProfilerLabel_h
#
ifdef
MOZ_GECKO_PROFILER
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
GuardObjects
.
h
"
#
include
"
mozilla
/
Types
.
h
"
class
PseudoStack
;
namespace
mozilla
{
typedef
PseudoStack
*
(
*
ProfilerLabelEnter
)
(
const
char
*
const
char
*
void
*
uint32_t
)
;
typedef
void
(
*
ProfilerLabelExit
)
(
PseudoStack
*
)
;
MFBT_API
void
RegisterProfilerLabelEnterExit
(
ProfilerLabelEnter
aEnter
ProfilerLabelExit
aExit
)
;
#
ifdef
IMPL_MFBT
class
MOZ_RAII
AutoProfilerLabel
{
public
:
AutoProfilerLabel
(
const
char
*
aLabel
const
char
*
aDynamicString
uint32_t
aLine
MOZ_GUARD_OBJECT_NOTIFIER_PARAM
)
;
~
AutoProfilerLabel
(
)
;
private
:
MOZ_DECL_USE_GUARD_OBJECT_NOTIFIER
PseudoStack
*
mPseudoStack
;
}
;
#
endif
}
#
endif
#
endif

#
ifndef
BaseProfilerUtils_h
#
define
BaseProfilerUtils_h
#
ifndef
MOZ_GECKO_PROFILER
namespace
mozilla
:
:
baseprofiler
{
[
[
nodiscard
]
]
inline
int
profiler_current_process_id
(
)
{
return
0
;
}
[
[
nodiscard
]
]
inline
int
profiler_current_thread_id
(
)
{
return
0
;
}
[
[
nodiscard
]
]
inline
int
profiler_main_thread_id
(
)
{
return
0
;
}
[
[
nodiscard
]
]
inline
bool
profiler_is_main_thread
(
)
{
return
false
;
}
}
#
else
#
include
"
mozilla
/
Types
.
h
"
namespace
mozilla
:
:
baseprofiler
{
[
[
nodiscard
]
]
MFBT_API
int
profiler_current_process_id
(
)
;
[
[
nodiscard
]
]
MFBT_API
int
profiler_current_thread_id
(
)
;
namespace
detail
{
extern
MFBT_DATA
int
scProfilerMainThreadId
;
}
[
[
nodiscard
]
]
inline
int
profiler_main_thread_id
(
)
{
return
detail
:
:
scProfilerMainThreadId
;
}
[
[
nodiscard
]
]
inline
bool
profiler_is_main_thread
(
)
{
return
profiler_current_thread_id
(
)
=
=
profiler_main_thread_id
(
)
;
}
}
#
endif
#
endif

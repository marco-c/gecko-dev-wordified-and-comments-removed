#
ifndef
BaseProfilingCategory_h
#
define
BaseProfilingCategory_h
#
ifndef
MOZ_GECKO_PROFILER
#
error
Do
not
#
include
this
header
when
MOZ_GECKO_PROFILER
is
not
#
defined
.
#
endif
#
include
"
mozilla
/
Types
.
h
"
#
include
<
cstdint
>
#
include
"
ProfilingCategoryList
.
h
"
namespace
mozilla
{
namespace
baseprofiler
{
#
define
CATEGORY_ENUM_BEGIN_CATEGORY
(
name
labelAsString
color
)
#
define
CATEGORY_ENUM_SUBCATEGORY
(
supercategory
name
labelAsString
)
name
#
define
CATEGORY_ENUM_END_CATEGORY
enum
class
ProfilingCategoryPair
:
uint32_t
{
MOZ_PROFILING_CATEGORY_LIST
(
CATEGORY_ENUM_BEGIN_CATEGORY
CATEGORY_ENUM_SUBCATEGORY
CATEGORY_ENUM_END_CATEGORY
)
COUNT
LAST
=
COUNT
-
1
}
;
#
undef
CATEGORY_ENUM_BEGIN_CATEGORY
#
undef
CATEGORY_ENUM_SUBCATEGORY
#
undef
CATEGORY_ENUM_END_CATEGORY
#
define
SUPERCATEGORY_ENUM_BEGIN_CATEGORY
(
name
labelAsString
color
)
name
#
define
SUPERCATEGORY_ENUM_SUBCATEGORY
(
supercategory
name
labelAsString
)
#
define
SUPERCATEGORY_ENUM_END_CATEGORY
enum
class
ProfilingCategory
:
uint32_t
{
MOZ_PROFILING_CATEGORY_LIST
(
SUPERCATEGORY_ENUM_BEGIN_CATEGORY
SUPERCATEGORY_ENUM_SUBCATEGORY
SUPERCATEGORY_ENUM_END_CATEGORY
)
COUNT
LAST
=
COUNT
-
1
}
;
#
undef
SUPERCATEGORY_ENUM_BEGIN_CATEGORY
#
undef
SUPERCATEGORY_ENUM_SUBCATEGORY
#
undef
SUPERCATEGORY_ENUM_END_CATEGORY
struct
ProfilingCategoryPairInfo
{
ProfilingCategory
mCategory
;
uint32_t
mSubcategoryIndex
;
const
char
*
mLabel
;
}
;
MFBT_API
const
ProfilingCategoryPairInfo
&
GetProfilingCategoryPairInfo
(
ProfilingCategoryPair
aCategoryPair
)
;
}
}
#
endif

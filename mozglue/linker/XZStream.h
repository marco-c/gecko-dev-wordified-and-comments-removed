#
ifndef
XZSTREAM_h
#
define
XZSTREAM_h
#
include
<
cstdlib
>
#
define
XZ_DEC_DYNALLOC
#
include
"
xz
.
h
"
class
XZStream
{
public
:
static
bool
IsXZ
(
const
void
*
aBuf
size_t
aBufSize
)
;
XZStream
(
const
void
*
aInBuf
size_t
aInSize
)
;
~
XZStream
(
)
;
bool
Init
(
)
;
size_t
Decode
(
void
*
aOutBuf
size_t
aOutSize
)
;
size_t
RemainingInput
(
)
const
;
size_t
Size
(
)
const
;
size_t
UncompressedSize
(
)
const
;
private
:
size_t
ParseIndexSize
(
)
const
;
size_t
ParseUncompressedSize
(
)
const
;
const
uint8_t
*
mInBuf
;
size_t
mUncompSize
;
xz_buf
mBuffers
;
xz_dec
*
mDec
;
}
;
#
endif

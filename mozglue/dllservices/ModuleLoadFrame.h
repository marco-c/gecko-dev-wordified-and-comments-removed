#
ifndef
mozilla_glue_ModuleLoadFrame_h
#
define
mozilla_glue_ModuleLoadFrame_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
LoaderAPIInterfaces
.
h
"
namespace
mozilla
{
namespace
glue
{
class
MOZ_RAII
ModuleLoadFrame
final
{
public
:
explicit
ModuleLoadFrame
(
PCUNICODE_STRING
aRequestedDllName
)
;
~
ModuleLoadFrame
(
)
;
void
SetLoadStatus
(
NTSTATUS
aNtStatus
HANDLE
aHandle
)
;
ModuleLoadFrame
(
const
ModuleLoadFrame
&
)
=
delete
;
ModuleLoadFrame
(
ModuleLoadFrame
&
&
)
=
delete
;
ModuleLoadFrame
&
operator
=
(
const
ModuleLoadFrame
&
)
=
delete
;
ModuleLoadFrame
&
operator
=
(
ModuleLoadFrame
&
&
)
=
delete
;
static
void
StaticInit
(
nt
:
:
LoaderObserver
*
aNewObserver
nt
:
:
WinLauncherFunctions
*
aOutWinLauncherFunctions
)
;
private
:
bool
mAlreadyLoaded
;
void
*
mContext
;
NTSTATUS
mDllLoadStatus
;
ModuleLoadInfo
mLoadInfo
;
private
:
static
nt
:
:
LoaderAPI
*
sLoaderAPI
;
}
;
}
}
#
endif

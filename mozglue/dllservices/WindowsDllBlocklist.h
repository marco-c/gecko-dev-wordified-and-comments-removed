#
ifndef
mozilla_windowsdllblocklist_h
#
define
mozilla_windowsdllblocklist_h
#
if
(
defined
(
_MSC_VER
)
|
|
defined
(
__MINGW32__
)
)
&
&
\
(
defined
(
_M_IX86
)
|
|
defined
(
_M_X64
)
|
|
defined
(
_M_ARM64
)
)
#
include
<
windows
.
h
>
#
include
"
CrashAnnotations
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Types
.
h
"
#
define
HAS_DLL_BLOCKLIST
enum
DllBlocklistInitFlags
{
eDllBlocklistInitFlagDefault
=
0
eDllBlocklistInitFlagIsChildProcess
=
1
eDllBlocklistInitFlagWasBootstrapped
=
2
}
;
MFBT_API
void
DllBlocklist_Initialize
(
uint32_t
aInitFlags
=
eDllBlocklistInitFlagDefault
)
;
MFBT_API
void
DllBlocklist_WriteNotes
(
CrashReporter
:
:
AnnotationWriter
&
aWriter
)
;
MFBT_API
bool
DllBlocklist_CheckStatus
(
)
;
#
ifdef
DEBUG
MFBT_API
void
DllBlocklist_Shutdown
(
)
;
#
endif
namespace
mozilla
{
namespace
glue
{
namespace
detail
{
class
DllServicesBase
;
}
}
}
MFBT_API
void
DllBlocklist_SetFullDllServices
(
mozilla
:
:
glue
:
:
detail
:
:
DllServicesBase
*
aSvc
)
;
MFBT_API
void
DllBlocklist_SetBasicDllServices
(
mozilla
:
:
glue
:
:
detail
:
:
DllServicesBase
*
aSvc
)
;
#
endif
#
endif

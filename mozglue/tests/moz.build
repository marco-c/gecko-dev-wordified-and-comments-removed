DisableStlWrapping
(
)
GeckoCppUnitTests
(
[
"
ShowSSEConfig
"
]
linkage
=
None
)
CppUnitTests
(
[
"
TestBaseProfiler
"
"
TestIntegerPrintfMacros
"
"
TestPrintf
"
]
)
with
Files
(
"
TestBaseProfiler
.
cpp
"
)
:
BUG_COMPONENT
=
(
"
Core
"
"
Gecko
Profiler
"
)
if
CONFIG
[
"
OS_ARCH
"
]
=
=
"
WINNT
"
:
GeckoCppUnitTests
(
[
"
TestNativeNt
"
"
TestPEExportSection
"
"
TestStackCookie
"
"
TestTimeStampWin
"
]
linkage
=
None
)
OS_LIBS
+
=
[
"
ntdll
"
"
version
"
]
if
CONFIG
[
"
OS_TARGET
"
]
=
=
"
WINNT
"
and
CONFIG
[
"
CC_TYPE
"
]
in
(
"
gcc
"
"
clang
"
)
:
LDFLAGS
+
=
[
"
-
municode
"
]
if
CONFIG
[
"
MOZ_WIDGET_TOOLKIT
"
]
=
=
"
android
"
:
OS_LIBS
+
=
[
"
android
"
]
TEST_DIRS
+
=
[
"
gtest
"
]

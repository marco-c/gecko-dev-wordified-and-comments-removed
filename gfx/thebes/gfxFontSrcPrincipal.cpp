#
include
"
gfxFontSrcPrincipal
.
h
"
#
include
"
nsProxyRelease
.
h
"
#
include
"
nsURIHashKey
.
h
"
#
include
"
mozilla
/
BasePrincipal
.
h
"
using
mozilla
:
:
BasePrincipal
;
gfxFontSrcPrincipal
:
:
gfxFontSrcPrincipal
(
nsIPrincipal
*
aPrincipal
)
{
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
MOZ_ASSERT
(
aPrincipal
)
;
mPrincipal
=
aPrincipal
;
uint32_t
hash
=
0
;
mPrincipal
-
>
GetHashValue
(
&
hash
)
;
mHash
=
hash
;
}
gfxFontSrcPrincipal
:
:
~
gfxFontSrcPrincipal
(
)
{
NS_ReleaseOnMainThreadSystemGroup
(
"
gfxFontSrcPrincipal
:
:
mPrincipal
"
mPrincipal
.
forget
(
)
)
;
}
bool
gfxFontSrcPrincipal
:
:
Equals
(
gfxFontSrcPrincipal
*
aOther
)
{
return
BasePrincipal
:
:
Cast
(
mPrincipal
)
-
>
FastEquals
(
BasePrincipal
:
:
Cast
(
aOther
-
>
mPrincipal
)
)
;
}

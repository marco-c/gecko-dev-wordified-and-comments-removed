#
ifndef
gfxMacPlatformFontList_H_
#
define
gfxMacPlatformFontList_H_
#
include
<
CoreFoundation
/
CoreFoundation
.
h
>
#
include
"
CoreTextFontList
.
h
"
class
gfxMacPlatformFontList
final
:
public
CoreTextFontList
{
public
:
static
gfxMacPlatformFontList
*
PlatformFontList
(
)
{
return
static_cast
<
gfxMacPlatformFontList
*
>
(
gfxPlatformFontList
:
:
PlatformFontList
(
)
)
;
}
static
void
LookupSystemFont
(
mozilla
:
:
LookAndFeel
:
:
FontID
aSystemFontID
nsACString
&
aSystemFontName
gfxFontStyle
&
aFontStyle
)
;
protected
:
bool
DeprecatedFamilyIsAvailable
(
const
nsACString
&
aName
)
override
;
FontVisibility
GetVisibilityForFamily
(
const
nsACString
&
aName
)
const
override
;
FontFamily
GetDefaultFontForPlatform
(
nsPresContext
*
aPresContext
const
gfxFontStyle
*
aStyle
nsAtom
*
aLanguage
=
nullptr
)
MOZ_REQUIRES
(
mLock
)
override
;
private
:
friend
class
gfxPlatformMac
;
gfxMacPlatformFontList
(
)
;
virtual
~
gfxMacPlatformFontList
(
)
{
sSystemFontName
.
~
nsCString
(
)
;
}
void
InitSingleFaceList
(
)
MOZ_REQUIRES
(
mLock
)
override
;
void
InitAliasesForSingleFaceList
(
)
MOZ_REQUIRES
(
mLock
)
override
;
void
InitSystemFontNames
(
)
override
MOZ_REQUIRES
(
mLock
)
;
static
const
nsCString
&
GetSystemFontName
(
)
;
static
nsCString
sSystemFontName
;
nsTArray
<
nsCString
>
mSingleFaceFonts
;
}
;
#
endif

#
ifndef
COMPILER_TRANSLATOR_INTERMNODEPATTERNMATCHER_H_
#
define
COMPILER_TRANSLATOR_INTERMNODEPATTERNMATCHER_H_
namespace
sh
{
class
TIntermAggregate
;
class
TIntermBinary
;
class
TIntermNode
;
class
TIntermTernary
;
class
TIntermDeclaration
;
class
IntermNodePatternMatcher
{
public
:
static
bool
IsDynamicIndexingOfVectorOrMatrix
(
TIntermBinary
*
node
)
;
enum
PatternType
{
kUnfoldedShortCircuitExpression
=
0x0001
kExpressionReturningArray
=
0x0002
kDynamicIndexingOfVectorOrMatrixInLValue
=
0x0004
kMultiDeclaration
=
0x0008
}
;
IntermNodePatternMatcher
(
const
unsigned
int
mask
)
;
bool
match
(
TIntermBinary
*
node
TIntermNode
*
parentNode
)
;
bool
match
(
TIntermBinary
*
node
TIntermNode
*
parentNode
bool
isLValueRequiredHere
)
;
bool
match
(
TIntermAggregate
*
node
TIntermNode
*
parentNode
)
;
bool
match
(
TIntermTernary
*
node
)
;
bool
match
(
TIntermDeclaration
*
node
)
;
private
:
const
unsigned
int
mMask
;
bool
matchInternal
(
TIntermBinary
*
node
TIntermNode
*
parentNode
)
;
}
;
}
#
endif

#
include
"
libANGLE
/
renderer
/
Format
.
h
"
#
include
"
image_util
/
copyimage
.
h
"
using
namespace
rx
;
namespace
angle
{
namespace
{
const
FastCopyFunctionMap
&
GetFastCopyFunctionsMap
(
Format
:
:
ID
formatID
)
{
switch
(
formatID
)
{
case
Format
:
:
ID
:
:
B8G8R8A8_UNORM
:
{
static
FastCopyFunctionMap
fastCopyMap
;
if
(
fastCopyMap
.
empty
(
)
)
{
fastCopyMap
[
gl
:
:
FormatType
(
GL_RGBA
GL_UNSIGNED_BYTE
)
]
=
CopyBGRA8ToRGBA8
;
}
return
fastCopyMap
;
}
default
:
{
static
FastCopyFunctionMap
emptyMap
;
return
emptyMap
;
}
}
}
}
Format
:
:
Format
(
ID
id
GLenum
glFormat
GLenum
fboFormat
MipGenerationFunction
mipGen
ColorReadFunction
colorRead
)
:
id
(
id
)
glInternalFormat
(
glFormat
)
fboImplementationInternalFormat
(
fboFormat
)
mipGenerationFunction
(
mipGen
)
colorReadFunction
(
colorRead
)
fastCopyFunctions
(
GetFastCopyFunctionsMap
(
id
)
)
{
}
}

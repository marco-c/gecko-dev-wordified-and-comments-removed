#
ifndef
LIBANGLE_RENDERER_GL_RENDERERGL_H_
#
define
LIBANGLE_RENDERER_GL_RENDERERGL_H_
#
include
"
libANGLE
/
Version
.
h
"
#
include
"
libANGLE
/
renderer
/
Renderer
.
h
"
#
include
"
libANGLE
/
renderer
/
gl
/
WorkaroundsGL
.
h
"
namespace
rx
{
class
BlitGL
;
class
FunctionsGL
;
class
StateManagerGL
;
class
RendererGL
:
public
Renderer
{
public
:
RendererGL
(
const
FunctionsGL
*
functions
const
egl
:
:
AttributeMap
&
attribMap
)
;
~
RendererGL
(
)
override
;
gl
:
:
Error
flush
(
)
override
;
gl
:
:
Error
finish
(
)
override
;
gl
:
:
Error
drawArrays
(
const
gl
:
:
Data
&
data
GLenum
mode
GLint
first
GLsizei
count
)
override
;
gl
:
:
Error
drawArraysInstanced
(
const
gl
:
:
Data
&
data
GLenum
mode
GLint
first
GLsizei
count
GLsizei
instanceCount
)
override
;
gl
:
:
Error
drawElements
(
const
gl
:
:
Data
&
data
GLenum
mode
GLsizei
count
GLenum
type
const
GLvoid
*
indices
const
gl
:
:
IndexRange
&
indexRange
)
override
;
gl
:
:
Error
drawElementsInstanced
(
const
gl
:
:
Data
&
data
GLenum
mode
GLsizei
count
GLenum
type
const
GLvoid
*
indices
GLsizei
instances
const
gl
:
:
IndexRange
&
indexRange
)
override
;
gl
:
:
Error
drawRangeElements
(
const
gl
:
:
Data
&
data
GLenum
mode
GLuint
start
GLuint
end
GLsizei
count
GLenum
type
const
GLvoid
*
indices
const
gl
:
:
IndexRange
&
indexRange
)
override
;
CompilerImpl
*
createCompiler
(
)
override
;
ShaderImpl
*
createShader
(
const
gl
:
:
Shader
:
:
Data
&
data
)
override
;
ProgramImpl
*
createProgram
(
const
gl
:
:
Program
:
:
Data
&
data
)
override
;
FramebufferImpl
*
createFramebuffer
(
const
gl
:
:
Framebuffer
:
:
Data
&
data
)
override
;
TextureImpl
*
createTexture
(
GLenum
target
)
override
;
RenderbufferImpl
*
createRenderbuffer
(
)
override
;
BufferImpl
*
createBuffer
(
)
override
;
VertexArrayImpl
*
createVertexArray
(
const
gl
:
:
VertexArray
:
:
Data
&
data
)
override
;
QueryImpl
*
createQuery
(
GLenum
type
)
override
;
FenceNVImpl
*
createFenceNV
(
)
override
;
FenceSyncImpl
*
createFenceSync
(
)
override
;
TransformFeedbackImpl
*
createTransformFeedback
(
)
override
;
SamplerImpl
*
createSampler
(
)
override
;
void
insertEventMarker
(
GLsizei
length
const
char
*
marker
)
override
;
void
pushGroupMarker
(
GLsizei
length
const
char
*
marker
)
override
;
void
popGroupMarker
(
)
override
;
void
notifyDeviceLost
(
)
override
;
bool
isDeviceLost
(
)
const
override
;
bool
testDeviceLost
(
)
override
;
bool
testDeviceResettable
(
)
override
;
std
:
:
string
getVendorString
(
)
const
override
;
std
:
:
string
getRendererDescription
(
)
const
override
;
void
syncState
(
const
gl
:
:
State
&
state
const
gl
:
:
State
:
:
DirtyBits
&
dirtyBits
)
override
;
GLint
getGPUDisjoint
(
)
override
;
GLint64
getTimestamp
(
)
override
;
void
onMakeCurrent
(
const
gl
:
:
Data
&
data
)
override
;
const
gl
:
:
Version
&
getMaxSupportedESVersion
(
)
const
;
const
FunctionsGL
*
getFunctions
(
)
const
{
return
mFunctions
;
}
StateManagerGL
*
getStateManager
(
)
const
{
return
mStateManager
;
}
const
WorkaroundsGL
&
getWorkarounds
(
)
const
{
return
mWorkarounds
;
}
private
:
void
generateCaps
(
gl
:
:
Caps
*
outCaps
gl
:
:
TextureCapsMap
*
outTextureCaps
gl
:
:
Extensions
*
outExtensions
gl
:
:
Limitations
*
outLimitations
)
const
override
;
mutable
gl
:
:
Version
mMaxSupportedESVersion
;
const
FunctionsGL
*
mFunctions
;
StateManagerGL
*
mStateManager
;
BlitGL
*
mBlitter
;
WorkaroundsGL
mWorkarounds
;
bool
mHasDebugOutput
;
bool
mSkipDrawCalls
;
}
;
}
#
endif

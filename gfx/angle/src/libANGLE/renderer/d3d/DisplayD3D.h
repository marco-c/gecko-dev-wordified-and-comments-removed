#
ifndef
LIBANGLE_RENDERER_D3D_DISPLAYD3D_H_
#
define
LIBANGLE_RENDERER_D3D_DISPLAYD3D_H_
#
include
"
libANGLE
/
renderer
/
DisplayImpl
.
h
"
#
include
"
libANGLE
/
Device
.
h
"
namespace
rx
{
class
RendererD3D
;
class
DisplayD3D
:
public
DisplayImpl
{
public
:
DisplayD3D
(
)
;
egl
:
:
Error
initialize
(
egl
:
:
Display
*
display
)
override
;
virtual
void
terminate
(
)
override
;
SurfaceImpl
*
createWindowSurface
(
const
egl
:
:
SurfaceState
&
state
const
egl
:
:
Config
*
configuration
EGLNativeWindowType
window
const
egl
:
:
AttributeMap
&
attribs
)
override
;
SurfaceImpl
*
createPbufferSurface
(
const
egl
:
:
SurfaceState
&
state
const
egl
:
:
Config
*
configuration
const
egl
:
:
AttributeMap
&
attribs
)
override
;
SurfaceImpl
*
createPbufferFromClientBuffer
(
const
egl
:
:
SurfaceState
&
state
const
egl
:
:
Config
*
configuration
EGLClientBuffer
shareHandle
const
egl
:
:
AttributeMap
&
attribs
)
override
;
SurfaceImpl
*
createPixmapSurface
(
const
egl
:
:
SurfaceState
&
state
const
egl
:
:
Config
*
configuration
NativePixmapType
nativePixmap
const
egl
:
:
AttributeMap
&
attribs
)
override
;
ImageImpl
*
createImage
(
EGLenum
target
egl
:
:
ImageSibling
*
buffer
const
egl
:
:
AttributeMap
&
attribs
)
override
;
ContextImpl
*
createContext
(
const
gl
:
:
ContextState
&
state
)
override
;
StreamProducerImpl
*
createStreamProducerD3DTextureNV12
(
egl
:
:
Stream
:
:
ConsumerType
consumerType
const
egl
:
:
AttributeMap
&
attribs
)
override
;
egl
:
:
Error
makeCurrent
(
egl
:
:
Surface
*
drawSurface
egl
:
:
Surface
*
readSurface
gl
:
:
Context
*
context
)
override
;
egl
:
:
ConfigSet
generateConfigs
(
)
override
;
bool
isDeviceLost
(
)
const
override
;
bool
testDeviceLost
(
)
override
;
egl
:
:
Error
restoreLostDevice
(
)
override
;
bool
isValidNativeWindow
(
EGLNativeWindowType
window
)
const
override
;
egl
:
:
Error
getDevice
(
DeviceImpl
*
*
device
)
override
;
std
:
:
string
getVendorString
(
)
const
override
;
egl
:
:
Error
waitClient
(
)
const
override
;
egl
:
:
Error
waitNative
(
EGLint
engine
egl
:
:
Surface
*
drawSurface
egl
:
:
Surface
*
readSurface
)
const
override
;
private
:
void
generateExtensions
(
egl
:
:
DisplayExtensions
*
outExtensions
)
const
override
;
void
generateCaps
(
egl
:
:
Caps
*
outCaps
)
const
override
;
egl
:
:
Display
*
mDisplay
;
rx
:
:
RendererD3D
*
mRenderer
;
}
;
}
#
endif

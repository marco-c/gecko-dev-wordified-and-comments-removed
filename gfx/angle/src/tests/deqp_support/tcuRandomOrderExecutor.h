#
ifndef
TCU_RANDOM_ORDER_EXECUTOR_H_
#
define
TCU_RANDOM_ORDER_EXECUTOR_H_
#
include
"
tcuTestHierarchyIterator
.
hpp
"
#
include
"
deUniquePtr
.
hpp
"
namespace
tcu
{
class
RandomOrderExecutor
{
public
:
RandomOrderExecutor
(
TestPackageRoot
&
root
TestContext
&
testCtx
)
;
~
RandomOrderExecutor
(
void
)
;
TestStatus
execute
(
const
std
:
:
string
&
path
)
;
private
:
void
pruneStack
(
size_t
newStackSize
)
;
TestCase
*
seekToCase
(
const
std
:
:
string
&
path
)
;
TestStatus
executeInner
(
TestCase
*
testCase
const
std
:
:
string
&
casePath
)
;
struct
NodeStackEntry
{
TestNode
*
node
;
std
:
:
vector
<
TestNode
*
>
children
;
NodeStackEntry
(
void
)
:
node
(
DE_NULL
)
{
}
NodeStackEntry
(
TestNode
*
node_
)
:
node
(
node_
)
{
}
}
;
TestContext
&
m_testCtx
;
DefaultHierarchyInflater
m_inflater
;
std
:
:
vector
<
NodeStackEntry
>
m_nodeStack
;
de
:
:
MovePtr
<
TestCaseExecutor
>
m_caseExecutor
;
}
;
}
#
endif

#
include
<
functional
>
#
include
"
angle_gl
.
h
"
namespace
angle
{
using
GLGen
=
decltype
(
glGenBuffers
)
;
using
GLDelete
=
decltype
(
glDeleteBuffers
)
;
template
<
GLGen
GenF
GLDelete
DeleteF
>
class
GLWrapper
{
public
:
GLWrapper
(
)
{
}
~
GLWrapper
(
)
{
DeleteF
(
1
&
mHandle
)
;
}
GLuint
get
(
)
{
if
(
!
mHandle
)
{
GenF
(
1
&
mHandle
)
;
}
return
mHandle
;
}
private
:
GLuint
mHandle
=
0
;
}
;
using
GLBuffer
=
GLWrapper
<
glGenBuffers
glDeleteBuffers
>
;
using
GLTexture
=
GLWrapper
<
glGenTextures
glDeleteTextures
>
;
using
GLFramebuffer
=
GLWrapper
<
glGenFramebuffers
glDeleteFramebuffers
>
;
using
GLRenderbuffer
=
GLWrapper
<
glGenRenderbuffers
glDeleteRenderbuffers
>
;
}

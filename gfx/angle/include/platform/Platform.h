#
ifndef
ANGLE_PLATFORM_H
#
define
ANGLE_PLATFORM_H
#
include
<
stdint
.
h
>
#
if
defined
(
_WIN32
)
#
if
!
defined
(
LIBANGLE_IMPLEMENTATION
)
#
define
ANGLE_PLATFORM_EXPORT
__declspec
(
dllimport
)
#
endif
#
elif
defined
(
__GNUC__
)
#
if
defined
(
LIBANGLE_IMPLEMENTATION
)
#
define
ANGLE_PLATFORM_EXPORT
__attribute__
(
(
visibility
(
"
default
"
)
)
)
#
endif
#
endif
#
if
!
defined
(
ANGLE_PLATFORM_EXPORT
)
#
define
ANGLE_PLATFORM_EXPORT
#
endif
#
if
defined
(
_WIN32
)
#
define
ANGLE_APIENTRY
__stdcall
#
else
#
define
ANGLE_APIENTRY
#
endif
namespace
angle
{
class
Platform
{
public
:
virtual
double
currentTime
(
)
{
return
0
;
}
virtual
double
monotonicallyIncreasingTime
(
)
{
return
0
;
}
virtual
void
logError
(
const
char
*
errorMessage
)
{
}
virtual
void
logWarning
(
const
char
*
warningMessage
)
{
}
virtual
void
logInfo
(
const
char
*
infoMessage
)
{
}
virtual
const
unsigned
char
*
getTraceCategoryEnabledFlag
(
const
char
*
categoryName
)
{
return
0
;
}
typedef
uint64_t
TraceEventHandle
;
virtual
TraceEventHandle
addTraceEvent
(
char
phase
const
unsigned
char
*
categoryEnabledFlag
const
char
*
name
unsigned
long
long
id
double
timestamp
int
numArgs
const
char
*
*
argNames
const
unsigned
char
*
argTypes
const
unsigned
long
long
*
argValues
unsigned
char
flags
)
{
return
0
;
}
virtual
void
updateTraceEventDuration
(
const
unsigned
char
*
categoryEnabledFlag
const
char
*
name
TraceEventHandle
eventHandle
)
{
}
virtual
void
histogramCustomCounts
(
const
char
*
name
int
sample
int
min
int
max
int
bucketCount
)
{
}
virtual
void
histogramEnumeration
(
const
char
*
name
int
sample
int
boundaryValue
)
{
}
virtual
void
histogramSparse
(
const
char
*
name
int
sample
)
{
}
virtual
void
histogramBoolean
(
const
char
*
name
bool
sample
)
{
}
protected
:
virtual
~
Platform
(
)
{
}
}
;
}
extern
"
C
"
{
typedef
void
(
ANGLE_APIENTRY
*
ANGLEPlatformInitializeFunc
)
(
angle
:
:
Platform
*
)
;
ANGLE_PLATFORM_EXPORT
void
ANGLE_APIENTRY
ANGLEPlatformInitialize
(
angle
:
:
Platform
*
)
;
typedef
void
(
ANGLE_APIENTRY
*
ANGLEPlatformShutdownFunc
)
(
)
;
ANGLE_PLATFORM_EXPORT
void
ANGLE_APIENTRY
ANGLEPlatformShutdown
(
)
;
typedef
angle
:
:
Platform
*
(
ANGLE_APIENTRY
*
ANGLEPlatformCurrentFunc
)
(
)
;
ANGLE_PLATFORM_EXPORT
angle
:
:
Platform
*
ANGLE_APIENTRY
ANGLEPlatformCurrent
(
)
;
}
#
endif

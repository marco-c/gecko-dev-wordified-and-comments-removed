#
ifndef
ANGLE_PLATFORM_FEATURESVK_H_
#
define
ANGLE_PLATFORM_FEATURESVK_H_
#
include
"
platform
/
Feature
.
h
"
namespace
angle
{
struct
FeaturesVk
:
FeatureSetBase
{
FeaturesVk
(
)
;
~
FeaturesVk
(
)
;
Feature
basicGLLineRasterization
=
{
"
basic_gl_line_rasterization
"
FeatureCategory
:
:
VulkanFeatures
"
Enable
the
use
of
pixel
shader
patching
to
implement
OpenGL
basic
line
"
"
rasterization
rules
"
&
members
}
;
Feature
flipViewportY
=
{
"
flip_viewport_y
"
FeatureCategory
:
:
VulkanFeatures
"
Flips
the
viewport
to
render
upside
-
down
"
&
members
}
;
Feature
extraCopyBufferRegion
=
{
"
extra_copy_buffer_region
"
FeatureCategory
:
:
VulkanWorkarounds
"
Windows
Intel
driver
seems
to
have
a
bug
where
the
last
copy
region
in
"
"
vkCmdCopyBuffer
is
ignored
"
&
members
}
;
Feature
forceFallbackFormat
=
{
"
force_fallback_format
"
FeatureCategory
:
:
VulkanWorkarounds
"
Force
a
fallback
format
for
angle_end2end_tests
"
&
members
}
;
Feature
clampPointSize
=
{
"
clamp_point_size
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
some
NVIDIA
drivers
the
point
size
range
reported
from
the
API
is
"
"
inconsistent
with
the
actual
behavior
"
&
members
"
http
:
/
/
anglebug
.
com
/
2970
"
}
;
Feature
flushAfterVertexConversion
=
{
"
flush_after_vertex_conversion
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
some
android
devices
the
memory
barrier
between
the
compute
shader
that
converts
"
"
vertex
attributes
and
the
vertex
shader
that
reads
from
it
is
ineffective
"
&
members
"
http
:
/
/
anglebug
.
com
/
3016
"
}
;
Feature
supportsIncrementalPresent
=
{
"
supports_incremental_present
"
FeatureCategory
:
:
VulkanFeatures
"
VkDevice
supports
the
VK_KHR_incremental_present
extension
"
&
members
}
;
Feature
forceCpuPathForCubeMapCopy
=
{
"
force_cpu_path_for_cube_map_copy
"
FeatureCategory
:
:
VulkanWorkarounds
"
Some
Intel
Windows
drivers
have
an
issue
with
creating
single
-
layer
"
"
views
on
cube
map
textures
"
&
members
}
;
Feature
supportsAndroidHardwareBuffer
=
{
"
supports_android_hardware_buffer
"
FeatureCategory
:
:
VulkanFeatures
"
VkDevice
supports
the
VK_ANDROID_external_memory_android_hardware_buffer
extension
"
&
members
}
;
Feature
supportsExternalMemoryFd
=
{
"
supports_external_memory_fd
"
FeatureCategory
:
:
VulkanFeatures
"
VkDevice
supports
the
VK_KHR_external_memory_fd
extension
"
&
members
}
;
Feature
supportsExternalSemaphoreFd
=
{
"
supports_external_semaphore_fd
"
FeatureCategory
:
:
VulkanFeatures
"
VkDevice
supports
the
VK_KHR_external_semaphore_fd
extension
"
&
members
}
;
Feature
supportsShaderStencilExport
=
{
"
supports_shader_stencil_export
"
FeatureCategory
:
:
VulkanFeatures
"
VkDevice
supports
the
VK_EXT_shader_stencil_export
extension
"
&
members
}
;
Feature
emulateTransformFeedback
=
{
"
emulate_transform_feedback
"
FeatureCategory
:
:
VulkanFeatures
"
Emulate
transform
feedback
as
the
VK_EXT_transform_feedback
is
not
present
.
"
&
members
"
http
:
/
/
anglebug
.
com
/
3205
"
}
;
Feature
disableFifoPresentMode
=
{
"
disable_fifo_present_mode
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
Linux
Intel
VK_PRESENT_MODE_FIFO_KHR
causes
random
timeouts
"
&
members
"
http
:
/
/
anglebug
.
com
/
3153
"
}
;
Feature
restartRenderPassAfterLoadOpClear
=
{
"
restart_render_pass_after_load_op_clear
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
Qualcomm
a
bug
is
preventing
us
from
using
loadOp
=
Clear
with
inline
"
"
commands
in
the
render
pass
"
&
members
"
http
:
/
/
anglebug
.
com
/
2361
"
}
;
Feature
bindEmptyForUnusedDescriptorSets
=
{
"
bind_empty_for_unused_descriptor_sets
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
Qualcomm
gaps
in
bound
descriptor
set
indices
causes
the
post
-
gap
sets
to
misbehave
"
&
members
"
http
:
/
/
anglebug
.
com
/
2727
"
}
;
Feature
forceNonZeroScissor
=
{
"
force_non_zero_scissor
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
Windows
Intel
when
the
scissor
is
(
0
0
0
0
)
the
driver
acts
as
if
the
"
"
scissor
was
disabled
"
&
members
"
http
:
/
/
anglebug
.
com
/
3407
"
}
;
Feature
forceD16TexFilter
=
{
"
force_D16_texture_filter
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
some
Android
devices
VK_FORMAT_D16_UNORM
does
not
support
"
"
VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT
"
"
which
prevents
OES_depth_texture
from
being
supported
.
"
&
members
"
http
:
/
/
anglebug
.
com
/
3452
"
}
;
Feature
disableFlippingBlitWithCommand
=
{
"
disable_flipping_blit_with_command
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
some
android
devices
vkCmdBlitImage
with
flipped
coordinates
blits
incorrectly
.
"
&
members
"
http
:
/
/
anglebug
.
com
/
3498
"
}
;
Feature
perFrameWindowSizeQuery
=
{
"
per_frame_window_size_query
"
FeatureCategory
:
:
VulkanWorkarounds
"
On
platform
with
Intel
or
AMD
gpu
vulkan
swapchain
is
not
returning
VK_ERROR_OUT_OF_DATE
"
"
when
window
resizing
"
&
members
"
http
:
/
/
anglebug
.
com
/
3623
http
:
/
/
anglebug
.
com
/
3624
http
:
/
/
anglebug
.
com
/
3625
"
}
;
}
;
inline
FeaturesVk
:
:
FeaturesVk
(
)
=
default
;
inline
FeaturesVk
:
:
~
FeaturesVk
(
)
=
default
;
}
#
endif

#
include
"
common
/
vulkan
/
libvulkan_loader
.
h
"
#
include
"
common
/
system_utils
.
h
"
namespace
angle
{
namespace
vk
{
void
*
OpenLibVulkan
(
)
{
constexpr
const
char
*
kLibVulkanNames
[
]
=
{
#
if
defined
(
ANGLE_PLATFORM_WINDOWS
)
"
vulkan
-
1
.
dll
"
#
elif
defined
(
ANGLE_PLATFORM_APPLE
)
"
libvulkan
.
dylib
"
"
libvulkan
.
1
.
dylib
"
"
libMoltenVK
.
dylib
"
#
else
"
libvulkan
.
so
"
"
libvulkan
.
so
.
1
"
#
endif
}
;
constexpr
SearchType
kSearchTypes
[
]
=
{
#
if
defined
(
ANGLE_USE_CUSTOM_LIBVULKAN
)
SearchType
:
:
ModuleDir
#
else
SearchType
:
:
SystemDir
#
endif
}
;
for
(
angle
:
:
SearchType
searchType
:
kSearchTypes
)
{
for
(
const
char
*
libraryName
:
kLibVulkanNames
)
{
void
*
library
=
OpenSystemLibraryWithExtension
(
libraryName
searchType
)
;
if
(
library
)
{
return
library
;
}
}
}
return
nullptr
;
}
}
}

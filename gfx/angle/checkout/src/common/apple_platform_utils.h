#
ifndef
COMMON_APPLE_PLATFORM_UTILS_H_
#
define
COMMON_APPLE_PLATFORM_UTILS_H_
#
include
"
common
/
platform
.
h
"
#
if
TARGET_OS_MACCATALYST
#
define
ANGLE_APPLE_AVAILABLE_XCI
(
macVer
macCatalystVer
iOSVer
)
\
available
(
macOS
macVer
macCatalyst
macCatalystVer
iOS
iOSVer
*
)
#
define
ANGLE_APPLE_AVAILABLE_XC
(
macVer
macCatalystVer
)
\
available
(
macOS
macVer
macCatalyst
macCatalystVer
*
)
#
define
ANGLE_APPLE_AVAILABLE_CI
(
macCatalystVer
iOSVer
)
\
available
(
macCatalyst
macCatalystVer
iOS
iOSVer
*
)
#
else
#
define
ANGLE_APPLE_AVAILABLE_XCI
(
macVer
macCatalystVer
iOSVer
)
\
ANGLE_APPLE_AVAILABLE_XI
(
macVer
iOSVer
)
#
define
ANGLE_APPLE_AVAILABLE_XC
(
macVer
macCatalystVer
)
available
(
macOS
macVer
*
)
#
define
ANGLE_APPLE_AVAILABLE_CI
(
macCatalystVer
iOSVer
)
available
(
iOS
iOSVer
tvOS
iOSVer
*
)
#
endif
#
define
ANGLE_APPLE_AVAILABLE_XI
(
macVer
iOSVer
)
\
available
(
macOS
macVer
iOS
iOSVer
tvOS
iOSVer
*
)
#
define
ANGLE_APPLE_AVAILABLE_I
(
iOSVer
)
available
(
iOS
iOSVer
tvOS
iOSVer
*
)
#
if
TARGET_OS_IPHONE
#
if
!
defined
(
__IPHONE_11_0
)
#
define
__IPHONE_11_0
110000
#
endif
#
if
!
defined
(
ANGLE_IOS_DEPLOY_TARGET
)
#
define
ANGLE_IOS_DEPLOY_TARGET
__IPHONE_11_0
#
endif
#
if
!
defined
(
__IPHONE_OS_VERSION_MAX_ALLOWED
)
#
define
__IPHONE_OS_VERSION_MAX_ALLOWED
__IPHONE_11_0
#
endif
#
if
!
defined
(
__TV_OS_VERSION_MAX_ALLOWED
)
#
define
__TV_OS_VERSION_MAX_ALLOWED
__IPHONE_11_0
#
endif
#
endif
#
if
!
defined
(
TARGET_OS_MACCATALYST
)
#
define
TARGET_OS_MACCATALYST
0
#
endif
#
if
defined
(
__ARM_ARCH
)
#
define
ANGLE_APPLE_IS_ARM
(
__ARM_ARCH
!
=
0
)
#
else
#
define
ANGLE_APPLE_IS_ARM
0
#
endif
#
define
ANGLE_APPLE_OBJC_SCOPE
autoreleasepool
#
if
!
__has_feature
(
objc_arc
)
#
define
ANGLE_APPLE_AUTORELEASE
autorelease
#
define
ANGLE_APPLE_RETAIN
retain
#
define
ANGLE_APPLE_RELEASE
release
#
else
#
define
ANGLE_APPLE_AUTORELEASE
self
#
define
ANGLE_APPLE_RETAIN
self
#
define
ANGLE_APPLE_RELEASE
self
#
endif
#
define
ANGLE_APPLE_UNUSED
__attribute__
(
(
unused
)
)
namespace
angle
{
bool
IsMetalRendererAvailable
(
)
;
}
#
endif

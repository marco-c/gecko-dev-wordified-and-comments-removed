#
ifndef
LIBANGLE_RENDERBUFFER_H_
#
define
LIBANGLE_RENDERBUFFER_H_
#
include
"
angle_gl
.
h
"
#
include
"
common
/
angleutils
.
h
"
#
include
"
libANGLE
/
Debug
.
h
"
#
include
"
libANGLE
/
Error
.
h
"
#
include
"
libANGLE
/
FramebufferAttachment
.
h
"
#
include
"
libANGLE
/
Image
.
h
"
#
include
"
libANGLE
/
formatutils
.
h
"
#
include
"
libANGLE
/
renderer
/
RenderbufferImpl
.
h
"
namespace
rx
{
class
GLImplFactory
;
}
namespace
gl
{
class
RenderbufferState
final
:
angle
:
:
NonCopyable
{
public
:
RenderbufferState
(
)
;
~
RenderbufferState
(
)
;
GLsizei
getWidth
(
)
const
;
GLsizei
getHeight
(
)
const
;
const
Format
&
getFormat
(
)
const
;
GLsizei
getSamples
(
)
const
;
private
:
friend
class
Renderbuffer
;
void
update
(
GLsizei
width
GLsizei
height
const
Format
&
format
GLsizei
samples
InitState
initState
)
;
GLsizei
mWidth
;
GLsizei
mHeight
;
Format
mFormat
;
GLsizei
mSamples
;
InitState
mInitState
;
}
;
class
Renderbuffer
final
:
public
egl
:
:
ImageSibling
public
LabeledObject
{
public
:
Renderbuffer
(
rx
:
:
GLImplFactory
*
implFactory
GLuint
id
)
;
~
Renderbuffer
(
)
override
;
Error
onDestroy
(
const
Context
*
context
)
override
;
void
setLabel
(
const
std
:
:
string
&
label
)
override
;
const
std
:
:
string
&
getLabel
(
)
const
override
;
Error
setStorage
(
const
Context
*
context
GLenum
internalformat
size_t
width
size_t
height
)
;
Error
setStorageMultisample
(
const
Context
*
context
size_t
samples
GLenum
internalformat
size_t
width
size_t
height
)
;
Error
setStorageEGLImageTarget
(
const
Context
*
context
egl
:
:
Image
*
imageTarget
)
;
rx
:
:
RenderbufferImpl
*
getImplementation
(
)
const
;
GLsizei
getWidth
(
)
const
;
GLsizei
getHeight
(
)
const
;
const
Format
&
getFormat
(
)
const
;
GLsizei
getSamples
(
)
const
;
GLuint
getRedSize
(
)
const
;
GLuint
getGreenSize
(
)
const
;
GLuint
getBlueSize
(
)
const
;
GLuint
getAlphaSize
(
)
const
;
GLuint
getDepthSize
(
)
const
;
GLuint
getStencilSize
(
)
const
;
Extents
getAttachmentSize
(
const
ImageIndex
&
imageIndex
)
const
override
;
const
Format
&
getAttachmentFormat
(
GLenum
binding
const
ImageIndex
&
imageIndex
)
const
override
;
GLsizei
getAttachmentSamples
(
const
ImageIndex
&
imageIndex
)
const
override
;
void
onAttach
(
const
Context
*
context
)
override
;
void
onDetach
(
const
Context
*
context
)
override
;
GLuint
getId
(
)
const
override
;
InitState
initState
(
const
ImageIndex
&
imageIndex
)
const
override
;
void
setInitState
(
const
ImageIndex
&
imageIndex
InitState
initState
)
override
;
private
:
rx
:
:
FramebufferAttachmentObjectImpl
*
getAttachmentImpl
(
)
const
override
;
RenderbufferState
mState
;
std
:
:
unique_ptr
<
rx
:
:
RenderbufferImpl
>
mImplementation
;
std
:
:
string
mLabel
;
}
;
}
#
endif

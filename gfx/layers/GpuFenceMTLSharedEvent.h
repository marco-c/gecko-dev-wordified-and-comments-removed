#
ifndef
MOZILLA_GFX_GpuFenceMTLSharedEvent_H
#
define
MOZILLA_GFX_GpuFenceMTLSharedEvent_H
#
include
"
mozilla
/
layers
/
GpuFence
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
mozilla
/
webgpu
/
ffi
/
wgpu
.
h
"
#
include
"
mozilla
/
webgpu
/
WebGPUTypes
.
h
"
namespace
mozilla
{
namespace
webgpu
{
namespace
ffi
{
struct
WGPUMetalSharedEventHandle
;
}
}
namespace
layers
{
class
GpuFenceMTLSharedEvent
:
public
GpuFence
{
public
:
static
RefPtr
<
GpuFenceMTLSharedEvent
>
Create
(
UniquePtr
<
webgpu
:
:
ffi
:
:
WGPUMetalSharedEventHandle
>
&
&
aSharedEventHandle
const
uint64_t
aFenceValue
)
;
bool
HasCompleted
(
)
override
;
protected
:
GpuFenceMTLSharedEvent
(
UniquePtr
<
webgpu
:
:
ffi
:
:
WGPUMetalSharedEventHandle
>
&
&
aSharedEventHandle
const
uint64_t
aFenceValue
)
;
virtual
~
GpuFenceMTLSharedEvent
(
)
=
default
;
UniquePtr
<
webgpu
:
:
ffi
:
:
WGPUMetalSharedEventHandle
>
mSharedEventHandle
;
const
uint64_t
mFenceValue
;
}
;
}
}
#
endif

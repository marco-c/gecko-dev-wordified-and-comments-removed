#
ifndef
IPC_SurfaceDescriptor_h
#
define
IPC_SurfaceDescriptor_h
#
if
defined
(
XP_MACOSX
)
#
define
MOZ_HAVE_PLATFORM_SPECIFIC_LAYER_BUFFERS
#
endif
#
if
defined
(
MOZ_X11
)
#
include
"
mozilla
/
AlreadyAddRefed
.
h
"
#
include
"
mozilla
/
gfx
/
Point
.
h
"
#
define
MOZ_HAVE_SURFACEDESCRIPTORX11
#
define
MOZ_HAVE_PLATFORM_SPECIFIC_LAYER_BUFFERS
typedef
unsigned
long
XID
;
typedef
XID
Drawable
;
class
gfxXlibSurface
;
namespace
mozilla
{
namespace
layers
{
struct
SurfaceDescriptorX11
{
SurfaceDescriptorX11
(
)
=
default
;
explicit
SurfaceDescriptorX11
(
gfxXlibSurface
*
aSurf
bool
aForwardGLX
=
false
)
;
SurfaceDescriptorX11
(
Drawable
aDrawable
XID
aFormatID
const
gfx
:
:
IntSize
&
aSize
)
;
bool
operator
=
=
(
const
SurfaceDescriptorX11
&
aOther
)
const
{
return
mId
=
=
aOther
.
mId
;
}
already_AddRefed
<
gfxXlibSurface
>
OpenForeign
(
)
const
;
MOZ_INIT_OUTSIDE_CTOR
Drawable
mId
;
MOZ_INIT_OUTSIDE_CTOR
XID
mFormat
;
MOZ_INIT_OUTSIDE_CTOR
gfx
:
:
IntSize
mSize
;
MOZ_INIT_OUTSIDE_CTOR
Drawable
mGLXPixmap
;
}
;
}
}
#
else
namespace
mozilla
{
namespace
layers
{
struct
SurfaceDescriptorX11
{
bool
operator
=
=
(
const
SurfaceDescriptorX11
&
)
const
{
return
false
;
}
}
;
}
}
#
endif
#
endif

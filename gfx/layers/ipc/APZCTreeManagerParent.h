#
ifndef
mozilla_layers_APZCTreeManagerParent_h
#
define
mozilla_layers_APZCTreeManagerParent_h
#
include
"
mozilla
/
layers
/
PAPZCTreeManagerParent
.
h
"
namespace
mozilla
{
namespace
layers
{
class
APZCTreeManager
;
class
APZUpdater
;
class
APZCTreeManagerParent
:
public
PAPZCTreeManagerParent
{
public
:
APZCTreeManagerParent
(
LayersId
aLayersId
RefPtr
<
APZCTreeManager
>
aAPZCTreeManager
RefPtr
<
APZUpdater
>
mAPZUpdater
)
;
virtual
~
APZCTreeManagerParent
(
)
;
LayersId
GetLayersId
(
)
const
{
return
mLayersId
;
}
void
ChildAdopted
(
RefPtr
<
APZCTreeManager
>
aAPZCTreeManager
RefPtr
<
APZUpdater
>
aAPZUpdater
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvSetKeyboardMap
(
const
KeyboardMap
&
aKeyboardMap
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvZoomToRect
(
const
ScrollableLayerGuid
&
aGuid
const
ZoomTarget
&
aZoomTarget
const
uint32_t
&
aFlags
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvContentReceivedInputBlock
(
const
uint64_t
&
aInputBlockId
const
bool
&
aPreventDefault
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvAddInputBlockCallback
(
uint64_t
aInputBlockId
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvSetTargetAPZC
(
const
uint64_t
&
aInputBlockId
nsTArray
<
ScrollableLayerGuid
>
&
&
aTargets
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvUpdateZoomConstraints
(
const
ScrollableLayerGuid
&
aGuid
const
Maybe
<
ZoomConstraints
>
&
aConstraints
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvSetDPI
(
const
float
&
aDpiValue
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvSetAllowedTouchBehavior
(
const
uint64_t
&
aInputBlockId
nsTArray
<
TouchBehaviorFlags
>
&
&
aValues
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvStartScrollbarDrag
(
const
ScrollableLayerGuid
&
aGuid
const
AsyncDragMetrics
&
aDragMetrics
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvStartAutoscroll
(
const
ScrollableLayerGuid
&
aGuid
const
ScreenPoint
&
aAnchorLocation
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvStopAutoscroll
(
const
ScrollableLayerGuid
&
aGuid
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvSetLongTapEnabled
(
const
bool
&
aTapGestureEnabled
)
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
{
}
private
:
bool
IsGuidValid
(
const
ScrollableLayerGuid
&
aGuid
)
;
static
void
CallInputBlockCallback
(
LayersId
aLayersId
uint64_t
aInputBlockId
const
APZHandledResult
&
aHandledResult
)
;
LayersId
mLayersId
;
RefPtr
<
APZCTreeManager
>
mTreeManager
;
RefPtr
<
APZUpdater
>
mUpdater
;
}
;
}
}
#
endif

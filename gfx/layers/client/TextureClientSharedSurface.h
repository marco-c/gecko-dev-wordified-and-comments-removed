#
ifndef
MOZILLA_GFX_TEXTURECLIENT_SHAREDSURFACE_H
#
define
MOZILLA_GFX_TEXTURECLIENT_SHAREDSURFACE_H
#
include
<
cstddef
>
#
include
<
stdint
.
h
>
#
include
"
GLContextTypes
.
h
"
#
include
"
TextureClient
.
h
"
#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
gfx
/
Point
.
h
"
#
include
"
mozilla
/
gfx
/
Types
.
h
"
#
include
"
mozilla
/
layers
/
CompositorTypes
.
h
"
#
include
"
mozilla
/
layers
/
LayersSurfaces
.
h
"
namespace
mozilla
{
namespace
gl
{
class
GLContext
;
class
SharedSurface
;
class
SurfaceFactory
;
}
namespace
layers
{
class
SharedSurfaceTextureClient
;
class
SharedSurfaceTextureData
:
public
TextureData
{
friend
class
SharedSurfaceTextureClient
;
public
:
const
SurfaceDescriptor
mDesc
;
const
gfx
:
:
SurfaceFormat
mFormat
;
const
gfx
:
:
IntSize
mSize
;
SharedSurfaceTextureData
(
const
SurfaceDescriptor
&
gfx
:
:
SurfaceFormat
gfx
:
:
IntSize
)
;
virtual
~
SharedSurfaceTextureData
(
)
;
bool
Lock
(
OpenMode
)
override
{
return
false
;
}
void
Unlock
(
)
override
{
}
void
FillInfo
(
TextureData
:
:
Info
&
aInfo
)
const
override
;
bool
Serialize
(
SurfaceDescriptor
&
aOutDescriptor
)
override
;
void
Deallocate
(
LayersIPCChannel
*
)
override
;
TextureFlags
GetTextureFlags
(
)
const
override
;
Maybe
<
uint64_t
>
GetBufferId
(
)
const
override
;
mozilla
:
:
ipc
:
:
FileDescriptor
GetAcquireFence
(
)
override
;
}
;
}
}
#
endif

#
include
"
TextureClientSharedSurface
.
h
"
#
include
"
GLContext
.
h
"
#
include
"
mozilla
/
gfx
/
2D
.
h
"
#
include
"
mozilla
/
gfx
/
Logging
.
h
"
#
include
"
mozilla
/
layers
/
ISurfaceAllocator
.
h
"
#
include
"
mozilla
/
Unused
.
h
"
#
include
"
nsThreadUtils
.
h
"
#
include
"
SharedSurface
.
h
"
using
namespace
mozilla
:
:
gl
;
namespace
mozilla
{
namespace
layers
{
SharedSurfaceTextureData
:
:
SharedSurfaceTextureData
(
const
SurfaceDescriptor
&
desc
const
gfx
:
:
SurfaceFormat
format
const
gfx
:
:
IntSize
size
)
:
mDesc
(
desc
)
mFormat
(
format
)
mSize
(
size
)
{
}
SharedSurfaceTextureData
:
:
~
SharedSurfaceTextureData
(
)
=
default
;
void
SharedSurfaceTextureData
:
:
Deallocate
(
LayersIPCChannel
*
)
{
}
void
SharedSurfaceTextureData
:
:
FillInfo
(
TextureData
:
:
Info
&
aInfo
)
const
{
aInfo
.
size
=
mSize
;
aInfo
.
format
=
mFormat
;
aInfo
.
hasIntermediateBuffer
=
false
;
aInfo
.
hasSynchronization
=
false
;
aInfo
.
supportsMoz2D
=
false
;
aInfo
.
canExposeMappedData
=
false
;
}
bool
SharedSurfaceTextureData
:
:
Serialize
(
SurfaceDescriptor
&
aOutDescriptor
)
{
aOutDescriptor
=
mDesc
;
return
true
;
}
}
}

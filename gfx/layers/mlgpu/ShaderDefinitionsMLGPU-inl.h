#
ifndef
_include_gfx_layers_mlgpu_ShaderDefinitions_inl_h
#
define
_include_gfx_layers_mlgpu_ShaderDefinitions_inl_h
namespace
mozilla
{
namespace
layers
{
namespace
mlg
{
struct
SimpleVertex
{
SimpleVertex
(
const
gfx
:
:
Rect
&
aRect
uint32_t
aLayerIndex
int
aDepth
)
:
rect
(
aRect
)
layerIndex
(
aLayerIndex
)
depth
(
aDepth
)
{
}
gfx
:
:
Rect
rect
;
uint32_t
layerIndex
;
int
depth
;
}
;
bool
SimpleTraits
:
:
AddInstanceTo
(
ShaderRenderPass
*
aPass
const
ItemInfo
&
aItem
)
const
{
return
aPass
-
>
GetInstances
(
)
-
>
AddItem
(
SimpleVertex
(
mRect
aItem
.
layerIndex
aItem
.
sortOrder
)
)
;
}
inline
bool
ColorTraits
:
:
AddItemTo
(
ShaderRenderPass
*
aPass
)
const
{
return
aPass
-
>
GetItems
(
)
-
>
AddItem
(
mColor
)
;
}
inline
bool
TexturedTraits
:
:
AddItemTo
(
ShaderRenderPass
*
aPass
)
const
{
return
aPass
-
>
GetItems
(
)
-
>
AddItem
(
mTexCoords
)
;
}
}
}
}
#
endif

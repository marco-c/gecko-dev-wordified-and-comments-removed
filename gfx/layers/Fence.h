#
ifndef
MOZILLA_GFX_Fence_H
#
define
MOZILLA_GFX_Fence_H
#
include
"
mozilla
/
gfx
/
FileHandleWrapper
.
h
"
#
include
"
nsISupportsImpl
.
h
"
namespace
mozilla
{
namespace
layers
{
class
FenceD3D11
;
class
FenceFileHandle
;
class
Fence
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
Fence
)
;
virtual
FenceD3D11
*
AsFenceD3D11
(
)
{
return
nullptr
;
}
virtual
FenceFileHandle
*
AsFenceFileHandle
(
)
{
return
nullptr
;
}
protected
:
virtual
~
Fence
(
)
=
default
;
}
;
class
FenceFileHandle
final
:
public
Fence
{
public
:
explicit
FenceFileHandle
(
UniqueFileHandle
&
&
aFileHandle
)
;
FenceFileHandle
*
AsFenceFileHandle
(
)
override
{
return
this
;
}
UniqueFileHandle
DuplicateFileHandle
(
)
;
protected
:
virtual
~
FenceFileHandle
(
)
;
UniqueFileHandle
mFileHandle
;
}
;
}
}
#
endif

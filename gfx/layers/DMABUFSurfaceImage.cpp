#
include
"
DMABUFSurfaceImage
.
h
"
#
include
"
gfxPlatform
.
h
"
#
include
"
mozilla
/
layers
/
CompositableClient
.
h
"
#
include
"
mozilla
/
layers
/
CompositableForwarder
.
h
"
#
include
"
mozilla
/
layers
/
DMABUFTextureClientOGL
.
h
"
#
include
"
mozilla
/
layers
/
TextureForwarder
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
using
namespace
mozilla
;
using
namespace
mozilla
:
:
layers
;
using
namespace
mozilla
:
:
gfx
;
TextureClient
*
DMABUFSurfaceImage
:
:
GetTextureClient
(
KnowsCompositor
*
aKnowsCompositor
)
{
if
(
!
mTextureClient
)
{
BackendType
backend
=
BackendType
:
:
NONE
;
mTextureClient
=
TextureClient
:
:
CreateWithData
(
DMABUFTextureData
:
:
Create
(
mSurface
backend
)
TextureFlags
:
:
DEFAULT
aKnowsCompositor
-
>
GetTextureForwarder
(
)
)
;
}
return
mTextureClient
;
}

#
ifndef
MOZILLA_GFX_MACIOSURFACETEXTURECLIENTOGL_H
#
define
MOZILLA_GFX_MACIOSURFACETEXTURECLIENTOGL_H
#
include
"
mozilla
/
layers
/
TextureClientOGL
.
h
"
class
MacIOSurface
;
namespace
mozilla
{
namespace
layers
{
class
MacIOSurfaceTextureData
:
public
TextureData
{
public
:
static
MacIOSurfaceTextureData
*
Create
(
MacIOSurface
*
aSurface
gfx
:
:
BackendType
aBackend
)
;
static
MacIOSurfaceTextureData
*
Create
(
const
gfx
:
:
IntSize
&
aSize
gfx
:
:
SurfaceFormat
aFormat
gfx
:
:
BackendType
aBackend
)
;
~
MacIOSurfaceTextureData
(
)
;
TextureType
GetTextureType
(
)
const
override
{
return
TextureType
:
:
MacIOSurface
;
}
void
FillInfo
(
TextureData
:
:
Info
&
aInfo
)
const
override
;
bool
Lock
(
OpenMode
)
override
;
void
Unlock
(
)
override
;
already_AddRefed
<
gfx
:
:
DrawTarget
>
BorrowDrawTarget
(
)
override
;
bool
Serialize
(
SurfaceDescriptor
&
aOutDescriptor
)
override
;
void
GetSubDescriptor
(
RemoteDecoderVideoSubDescriptor
*
const
aOutDesc
)
override
;
void
Deallocate
(
LayersIPCChannel
*
)
override
;
void
Forget
(
LayersIPCChannel
*
)
override
;
bool
UpdateFromSurface
(
gfx
:
:
SourceSurface
*
aSurface
)
override
;
already_AddRefed
<
gfx
:
:
DataSourceSurface
>
GetAsSurface
(
)
;
protected
:
MacIOSurfaceTextureData
(
MacIOSurface
*
aSurface
gfx
:
:
BackendType
aBackend
)
;
RefPtr
<
MacIOSurface
>
mSurface
;
gfx
:
:
BackendType
mBackend
;
}
;
}
}
#
endif

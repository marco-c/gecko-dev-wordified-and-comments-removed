#
ifndef
mozilla_layers_GeckoContentController_h
#
define
mozilla_layers_GeckoContentController_h
#
include
"
FrameMetrics
.
h
"
#
include
"
InputData
.
h
"
#
include
"
Units
.
h
"
#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
mozilla
/
EventForwards
.
h
"
#
include
"
nsISupportsImpl
.
h
"
namespace
mozilla
{
class
Runnable
;
namespace
layers
{
class
GeckoContentController
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
GeckoContentController
)
virtual
void
RequestContentRepaint
(
const
FrameMetrics
&
aFrameMetrics
)
=
0
;
enum
class
TapType
{
eSingleTap
eDoubleTap
eLongTap
eLongTapUp
eSentinel
}
;
virtual
void
HandleTap
(
TapType
aType
const
LayoutDevicePoint
&
aPoint
Modifiers
aModifiers
const
ScrollableLayerGuid
&
aGuid
uint64_t
aInputBlockId
)
=
0
;
virtual
void
NotifyPinchGesture
(
PinchGestureInput
:
:
PinchGestureType
aType
const
ScrollableLayerGuid
&
aGuid
LayoutDeviceCoord
aSpanChange
Modifiers
aModifiers
)
=
0
;
virtual
void
PostDelayedTask
(
already_AddRefed
<
Runnable
>
aRunnable
int
aDelayMs
)
=
0
;
virtual
bool
IsRepaintThread
(
)
=
0
;
virtual
void
DispatchToRepaintThread
(
already_AddRefed
<
Runnable
>
aTask
)
=
0
;
virtual
bool
GetTouchSensitiveRegion
(
CSSRect
*
aOutRegion
)
{
return
false
;
}
enum
class
APZStateChange
{
eTransformBegin
eTransformEnd
eStartTouch
eStartPanning
eEndTouch
eSentinel
}
;
virtual
void
NotifyAPZStateChange
(
const
ScrollableLayerGuid
&
aGuid
APZStateChange
aChange
int
aArg
=
0
)
{
}
virtual
void
NotifyMozMouseScrollEvent
(
const
FrameMetrics
:
:
ViewID
&
aScrollId
const
nsString
&
aEvent
)
{
}
virtual
void
NotifyFlushComplete
(
)
=
0
;
virtual
void
UpdateOverscrollVelocity
(
float
aX
float
aY
bool
aIsRootContent
)
{
}
virtual
void
UpdateOverscrollOffset
(
float
aX
float
aY
bool
aIsRootContent
)
{
}
virtual
void
SetScrollingRootContent
(
bool
isRootContent
)
{
}
GeckoContentController
(
)
{
}
virtual
void
Destroy
(
)
{
}
protected
:
virtual
~
GeckoContentController
(
)
{
}
}
;
}
}
#
endif

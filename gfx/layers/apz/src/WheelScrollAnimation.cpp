#
include
"
WheelScrollAnimation
.
h
"
#
include
<
tuple
>
#
include
"
AsyncPanZoomController
.
h
"
#
include
"
nsLayoutUtils
.
h
"
#
include
"
mozilla
/
StaticPrefs_general
.
h
"
#
include
"
mozilla
/
layers
/
APZPublicUtils
.
h
"
#
include
"
nsPoint
.
h
"
#
include
"
ScrollAnimationBezierPhysics
.
h
"
namespace
mozilla
{
namespace
layers
{
static
ScrollOrigin
OriginForDeltaType
(
ScrollWheelInput
:
:
ScrollDeltaType
aDeltaType
)
{
switch
(
aDeltaType
)
{
case
ScrollWheelInput
:
:
SCROLLDELTA_PAGE
:
return
ScrollOrigin
:
:
Pages
;
case
ScrollWheelInput
:
:
SCROLLDELTA_PIXEL
:
return
ScrollOrigin
:
:
Pixels
;
case
ScrollWheelInput
:
:
SCROLLDELTA_LINE
:
return
ScrollOrigin
:
:
MouseWheel
;
}
return
ScrollOrigin
:
:
MouseWheel
;
}
WheelScrollAnimation
:
:
WheelScrollAnimation
(
AsyncPanZoomController
&
aApzc
const
nsPoint
&
aInitialPosition
ScrollWheelInput
:
:
ScrollDeltaType
aDeltaType
)
:
GenericScrollAnimation
(
aApzc
aInitialPosition
OriginForDeltaType
(
aDeltaType
)
)
{
MOZ_ASSERT
(
nsLayoutUtils
:
:
IsSmoothScrollingEnabled
(
)
"
We
shouldn
'
t
be
creating
a
WheelScrollAnimation
if
smooth
"
"
scrolling
is
disabled
"
)
;
mDirectionForcedToOverscroll
=
mApzc
.
mScrollMetadata
.
GetDisregardedDirection
(
)
;
}
}
}

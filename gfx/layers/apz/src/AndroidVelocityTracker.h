#
ifndef
mozilla_layers_AndroidVelocityTracker_h
#
define
mozilla_layers_AndroidVelocityTracker_h
#
include
<
utility
>
#
include
<
cstdint
>
#
include
"
Axis
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
nsTArray
.
h
"
namespace
mozilla
{
namespace
layers
{
class
AndroidVelocityTracker
:
public
VelocityTracker
{
public
:
explicit
AndroidVelocityTracker
(
)
;
void
StartTracking
(
ParentLayerCoord
aPos
uint32_t
aTimestamp
)
override
;
Maybe
<
float
>
AddPosition
(
ParentLayerCoord
aPos
uint32_t
aTimestampMs
bool
aIsAxisLocked
)
override
;
float
HandleDynamicToolbarMovement
(
uint32_t
aStartTimestampMs
uint32_t
aEndTimestampMs
ParentLayerCoord
aDelta
)
override
;
Maybe
<
float
>
ComputeVelocity
(
uint32_t
aTimestampMs
)
override
;
void
Clear
(
)
override
;
private
:
nsTArray
<
std
:
:
pair
<
uint32_t
ParentLayerCoord
>
>
mHistory
;
uint32_t
mLastEventTime
;
ParentLayerCoord
mAdditionalDelta
;
}
;
}
}
#
endif

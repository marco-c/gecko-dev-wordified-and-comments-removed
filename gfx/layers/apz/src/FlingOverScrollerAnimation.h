#
ifndef
mozilla_layers_FlingOverScrollerAnimation_h_
#
define
mozilla_layers_FlingOverScrollerAnimation_h_
#
include
"
AsyncPanZoomAnimation
.
h
"
#
include
"
OverScroller
.
h
"
namespace
mozilla
{
namespace
layers
{
class
AsyncPanZoomController
;
class
FlingOverScrollerAnimation
:
public
AsyncPanZoomAnimation
{
public
:
FlingOverScrollerAnimation
(
AsyncPanZoomController
&
aApzc
widget
:
:
sdk
:
:
OverScroller
:
:
GlobalRef
aOverScroller
const
RefPtr
<
const
OverscrollHandoffChain
>
&
aOverscrollHandoffChain
const
RefPtr
<
const
AsyncPanZoomController
>
&
aScrolledApzc
)
;
virtual
bool
DoSample
(
FrameMetrics
&
aFrameMetrics
const
TimeDuration
&
aDelta
)
override
;
private
:
bool
CheckBounds
(
Axis
&
aAxis
float
aValue
float
*
aClamped
)
;
AsyncPanZoomController
&
mApzc
;
widget
:
:
sdk
:
:
OverScroller
:
:
GlobalRef
mOverScroller
;
RefPtr
<
const
OverscrollHandoffChain
>
mOverscrollHandoffChain
;
RefPtr
<
const
AsyncPanZoomController
>
mScrolledApzc
;
bool
mSentBounceX
;
bool
mSentBounceY
;
ParentLayerPoint
mStartOffset
;
ParentLayerPoint
mPreviousOffset
;
ParentLayerPoint
mFlingDirection
;
int32_t
mOverScrollCount
;
}
;
}
}
#
endif

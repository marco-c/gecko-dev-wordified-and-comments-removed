#
ifndef
mozilla_layers_FocusTarget_h
#
define
mozilla_layers_FocusTarget_h
#
include
<
stdint
.
h
>
#
include
"
mozilla
/
DefineEnum
.
h
"
#
include
"
mozilla
/
layers
/
ScrollableLayerGuid
.
h
"
#
include
"
mozilla
/
webrender
/
WebRenderTypes
.
h
"
#
include
"
mozilla
/
Variant
.
h
"
#
include
"
mozilla
/
Maybe
.
h
"
namespace
mozilla
{
class
PresShell
;
namespace
layers
{
class
FocusTarget
final
{
public
:
struct
ScrollTargets
{
ScrollableLayerGuid
:
:
ViewID
mHorizontal
;
Maybe
<
wr
:
:
RenderRoot
>
mHorizontalRenderRoot
;
ScrollableLayerGuid
:
:
ViewID
mVertical
;
Maybe
<
wr
:
:
RenderRoot
>
mVerticalRenderRoot
;
bool
operator
=
=
(
const
ScrollTargets
&
aRhs
)
const
{
bool
ret
=
(
mHorizontal
=
=
aRhs
.
mHorizontal
&
&
mVertical
=
=
aRhs
.
mVertical
)
;
if
(
ret
)
{
MOZ_ASSERT
(
mHorizontalRenderRoot
=
=
aRhs
.
mHorizontalRenderRoot
&
&
mVerticalRenderRoot
=
=
aRhs
.
mVerticalRenderRoot
)
;
}
return
ret
;
}
}
;
struct
NoFocusTarget
{
bool
operator
=
=
(
const
NoFocusTarget
&
aRhs
)
const
{
return
true
;
}
}
;
FocusTarget
(
)
;
FocusTarget
(
PresShell
*
aRootPresShell
uint64_t
aFocusSequenceNumber
)
;
bool
operator
=
=
(
const
FocusTarget
&
aRhs
)
const
;
const
char
*
Type
(
)
const
;
public
:
uint64_t
mSequenceNumber
;
bool
mFocusHasKeyEventListeners
;
mozilla
:
:
Variant
<
LayersId
ScrollTargets
NoFocusTarget
>
mData
;
}
;
}
}
#
endif

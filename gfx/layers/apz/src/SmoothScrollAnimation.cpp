#
include
"
SmoothScrollAnimation
.
h
"
#
include
"
ScrollAnimationBezierPhysics
.
h
"
#
include
"
mozilla
/
layers
/
APZPublicUtils
.
h
"
namespace
mozilla
{
namespace
layers
{
SmoothScrollAnimation
:
:
SmoothScrollAnimation
(
AsyncPanZoomController
&
aApzc
const
nsPoint
&
aInitialPosition
ScrollOrigin
aOrigin
)
:
GenericScrollAnimation
(
aApzc
aInitialPosition
apz
:
:
ComputeBezierAnimationSettingsForOrigin
(
aOrigin
)
)
mOrigin
(
aOrigin
)
{
}
SmoothScrollAnimation
*
SmoothScrollAnimation
:
:
AsSmoothScrollAnimation
(
)
{
return
this
;
}
ScrollOrigin
SmoothScrollAnimation
:
:
GetScrollOrigin
(
)
const
{
return
mOrigin
;
}
ScrollOrigin
SmoothScrollAnimation
:
:
GetScrollOriginForAction
(
KeyboardScrollAction
:
:
KeyboardScrollActionType
aAction
)
{
switch
(
aAction
)
{
case
KeyboardScrollAction
:
:
eScrollCharacter
:
case
KeyboardScrollAction
:
:
eScrollLine
:
{
return
ScrollOrigin
:
:
Lines
;
}
case
KeyboardScrollAction
:
:
eScrollPage
:
return
ScrollOrigin
:
:
Pages
;
case
KeyboardScrollAction
:
:
eScrollComplete
:
return
ScrollOrigin
:
:
Other
;
default
:
MOZ_ASSERT
(
false
"
Unknown
keyboard
scroll
action
type
"
)
;
return
ScrollOrigin
:
:
Other
;
}
}
}
}

#
ifndef
mozilla_layers_SmoothMsdScrollAnimation_h_
#
define
mozilla_layers_SmoothMsdScrollAnimation_h_
#
include
"
AsyncPanZoomAnimation
.
h
"
#
include
"
mozilla
/
layers
/
AxisPhysicsMSDModel
.
h
"
#
include
"
mozilla
/
ScrollPositionUpdate
.
h
"
namespace
mozilla
{
namespace
layers
{
class
AsyncPanZoomController
;
class
SmoothMsdScrollAnimation
final
:
public
AsyncPanZoomAnimation
{
public
:
SmoothMsdScrollAnimation
(
AsyncPanZoomController
&
aApzc
const
CSSPoint
&
aInitialPosition
const
CSSPoint
&
aInitialVelocity
const
CSSPoint
&
aDestination
double
aSpringConstant
double
aDampingRatio
ScrollSnapTargetIds
&
&
aSnapTargetIds
ScrollTriggeredByScript
aTriggeredByScript
)
;
bool
DoSample
(
FrameMetrics
&
aFrameMetrics
const
TimeDuration
&
aDelta
)
override
;
void
SetDestination
(
const
CSSPoint
&
aNewDestination
ScrollSnapTargetIds
&
&
aSnapTargetIds
ScrollTriggeredByScript
aTriggeredByScript
)
;
CSSPoint
GetDestination
(
)
const
;
SmoothMsdScrollAnimation
*
AsSmoothMsdScrollAnimation
(
)
override
;
bool
WasTriggeredByScript
(
)
const
override
{
return
mTriggeredByScript
=
=
ScrollTriggeredByScript
:
:
Yes
;
}
ScrollSnapTargetIds
TakeSnapTargetIds
(
)
{
return
std
:
:
move
(
mSnapTargetIds
)
;
}
private
:
AsyncPanZoomController
&
mApzc
;
AxisPhysicsMSDModel
mXAxisModel
;
AxisPhysicsMSDModel
mYAxisModel
;
ScrollSnapTargetIds
mSnapTargetIds
;
ScrollTriggeredByScript
mTriggeredByScript
;
}
;
}
}
#
endif

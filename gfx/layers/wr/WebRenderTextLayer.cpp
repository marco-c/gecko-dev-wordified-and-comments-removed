#
include
"
WebRenderTextLayer
.
h
"
#
include
"
gfxPrefs
.
h
"
#
include
"
LayersLogging
.
h
"
#
include
"
mozilla
/
webrender
/
WebRenderTypes
.
h
"
#
include
"
mozilla
/
layers
/
ScrollingLayersHelper
.
h
"
#
include
"
mozilla
/
layers
/
WebRenderBridgeChild
.
h
"
#
include
"
mozilla
/
gfx
/
2D
.
h
"
namespace
mozilla
{
namespace
layers
{
using
namespace
mozilla
:
:
gfx
;
void
WebRenderTextLayer
:
:
RenderLayer
(
wr
:
:
DisplayListBuilder
&
aBuilder
const
StackingContextHelper
&
aSc
)
{
if
(
mBounds
.
IsEmpty
(
)
)
{
return
;
}
ScrollingLayersHelper
scroller
(
this
aBuilder
aSc
)
;
LayerRect
rect
=
LayerRect
:
:
FromUnknownRect
(
GetTransform
(
)
.
TransformBounds
(
IntRectToRect
(
mBounds
)
)
)
;
DumpLayerInfo
(
"
TextLayer
"
rect
)
;
for
(
GlyphArray
&
glyphs
:
mGlyphs
)
{
WrBridge
(
)
-
>
PushGlyphs
(
aBuilder
glyphs
.
glyphs
(
)
mFont
glyphs
.
color
(
)
.
value
(
)
aSc
rect
rect
)
;
}
}
}
}

#
include
"
CompositorWidgetVsyncObserver
.
h
"
#
include
"
mozilla
/
gfx
/
VsyncBridgeChild
.
h
"
namespace
mozilla
{
namespace
widget
{
CompositorWidgetVsyncObserver
:
:
CompositorWidgetVsyncObserver
(
RefPtr
<
VsyncBridgeChild
>
aVsyncBridge
const
layers
:
:
LayersId
&
aRootLayerTreeId
)
:
mVsyncBridge
(
aVsyncBridge
)
mRootLayerTreeId
(
aRootLayerTreeId
)
{
MOZ_ASSERT
(
XRE_IsParentProcess
(
)
)
;
MOZ_ASSERT
(
NS_IsMainThread
(
)
)
;
}
bool
CompositorWidgetVsyncObserver
:
:
NotifyVsync
(
const
VsyncEvent
&
aVsync
)
{
MOZ_ASSERT
(
XRE_IsParentProcess
(
)
)
;
MOZ_ASSERT
(
!
NS_IsMainThread
(
)
)
;
mVsyncBridge
-
>
NotifyVsync
(
aVsync
mRootLayerTreeId
)
;
return
true
;
}
}
}

#
include
"
VsyncIOThreadHolder
.
h
"
namespace
mozilla
{
namespace
gfx
{
VsyncIOThreadHolder
:
:
VsyncIOThreadHolder
(
)
{
}
VsyncIOThreadHolder
:
:
~
VsyncIOThreadHolder
(
)
{
if
(
!
mThread
)
{
return
;
}
NS_DispatchToMainThread
(
NewRunnableMethod
(
mThread
&
nsIThread
:
:
AsyncShutdown
)
)
;
}
bool
VsyncIOThreadHolder
:
:
Start
(
)
{
nsresult
rv
=
NS_NewNamedThread
(
"
VsyncIOThread
"
getter_AddRefs
(
mThread
)
)
;
return
NS_SUCCEEDED
(
rv
)
;
}
RefPtr
<
nsIThread
>
VsyncIOThreadHolder
:
:
GetThread
(
)
const
{
return
mThread
;
}
}
}

#
include
"
GPUParent
.
h
"
#
include
"
gfxConfig
.
h
"
#
include
"
GPUProcessHost
.
h
"
#
include
"
mozilla
/
Assertions
.
h
"
#
include
"
mozilla
/
ipc
/
ProcessChild
.
h
"
namespace
mozilla
{
namespace
gfx
{
using
namespace
ipc
;
GPUParent
:
:
GPUParent
(
)
{
}
GPUParent
:
:
~
GPUParent
(
)
{
}
bool
GPUParent
:
:
Init
(
base
:
:
ProcessId
aParentPid
MessageLoop
*
aIOLoop
IPC
:
:
Channel
*
aChannel
)
{
if
(
NS_WARN_IF
(
!
Open
(
aChannel
aParentPid
aIOLoop
)
)
)
{
return
false
;
}
return
true
;
}
bool
GPUParent
:
:
RecvBeginShutdown
(
)
{
return
true
;
}
void
GPUParent
:
:
ActorDestroy
(
ActorDestroyReason
aWhy
)
{
if
(
AbnormalShutdown
=
=
aWhy
)
{
NS_WARNING
(
"
Shutting
down
GPU
process
early
due
to
a
crash
!
"
)
;
ProcessChild
:
:
QuickExit
(
)
;
}
XRE_ShutdownChildProcess
(
)
;
}
}
}

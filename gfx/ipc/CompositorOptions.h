#
ifndef
_include_mozilla_gfx_ipc_CompositorOptions_h_
#
define
_include_mozilla_gfx_ipc_CompositorOptions_h_
namespace
IPC
{
template
<
typename
>
struct
ParamTraits
;
}
namespace
mozilla
{
namespace
layers
{
class
CompositorOptions
{
public
:
CompositorOptions
(
)
=
default
;
CompositorOptions
(
bool
aUseAPZ
bool
aUseSoftwareWebRender
)
:
mUseAPZ
(
aUseAPZ
)
mUseSoftwareWebRender
(
aUseSoftwareWebRender
)
{
}
bool
UseAPZ
(
)
const
{
return
mUseAPZ
;
}
bool
UseSoftwareWebRender
(
)
const
{
return
mUseSoftwareWebRender
;
}
bool
AllowSoftwareWebRenderD3D11
(
)
const
{
return
mAllowSoftwareWebRenderD3D11
;
}
bool
AllowSoftwareWebRenderOGL
(
)
const
{
return
mAllowSoftwareWebRenderOGL
;
}
bool
InitiallyPaused
(
)
const
{
return
mInitiallyPaused
;
}
bool
NeedFastSnaphot
(
)
const
{
return
mNeedFastSnaphot
;
}
bool
AllowNativeCompositor
(
)
const
{
return
mAllowNativeCompositor
;
}
void
SetUseAPZ
(
bool
aUseAPZ
)
{
mUseAPZ
=
aUseAPZ
;
}
void
SetAllowSoftwareWebRenderD3D11
(
bool
aAllowSoftwareWebRenderD3D11
)
{
mAllowSoftwareWebRenderD3D11
=
aAllowSoftwareWebRenderD3D11
;
}
void
SetAllowSoftwareWebRenderOGL
(
bool
aAllowSoftwareWebRenderOGL
)
{
mAllowSoftwareWebRenderOGL
=
aAllowSoftwareWebRenderOGL
;
}
void
SetInitiallyPaused
(
bool
aPauseAtStartup
)
{
mInitiallyPaused
=
aPauseAtStartup
;
}
void
SetNeedFastSnaphot
(
bool
aNeedFastSnaphot
)
{
mNeedFastSnaphot
=
aNeedFastSnaphot
;
}
void
SetAllowNativeCompositor
(
bool
aAllowNativeCompositor
)
{
mAllowNativeCompositor
=
aAllowNativeCompositor
;
}
bool
EqualsIgnoringApzEnablement
(
const
CompositorOptions
&
aOther
)
const
{
return
mUseSoftwareWebRender
=
=
aOther
.
mUseSoftwareWebRender
&
&
mAllowSoftwareWebRenderD3D11
=
=
aOther
.
mAllowSoftwareWebRenderD3D11
&
&
mAllowSoftwareWebRenderOGL
=
=
aOther
.
mAllowSoftwareWebRenderOGL
&
&
mInitiallyPaused
=
=
aOther
.
mInitiallyPaused
&
&
mNeedFastSnaphot
=
=
aOther
.
mNeedFastSnaphot
&
&
mAllowNativeCompositor
=
=
aOther
.
mAllowNativeCompositor
;
}
bool
operator
=
=
(
const
CompositorOptions
&
aOther
)
const
{
return
mUseAPZ
=
=
aOther
.
mUseAPZ
&
&
EqualsIgnoringApzEnablement
(
aOther
)
;
}
friend
struct
IPC
:
:
ParamTraits
<
CompositorOptions
>
;
private
:
bool
mUseAPZ
=
false
;
bool
mUseSoftwareWebRender
=
false
;
bool
mAllowSoftwareWebRenderD3D11
=
false
;
bool
mAllowSoftwareWebRenderOGL
=
false
;
bool
mInitiallyPaused
=
false
;
bool
mNeedFastSnaphot
=
false
;
bool
mAllowNativeCompositor
=
true
;
}
;
}
}
#
endif

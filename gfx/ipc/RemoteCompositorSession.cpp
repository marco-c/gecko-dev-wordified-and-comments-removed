#
include
"
RemoteCompositorSession
.
h
"
#
include
"
mozilla
/
layers
/
APZChild
.
h
"
#
include
"
mozilla
/
layers
/
APZCTreeManagerChild
.
h
"
namespace
mozilla
{
namespace
layers
{
using
namespace
gfx
;
using
namespace
widget
;
RemoteCompositorSession
:
:
RemoteCompositorSession
(
CompositorBridgeChild
*
aChild
CompositorWidgetDelegate
*
aWidgetDelegate
APZCTreeManagerChild
*
aAPZ
const
uint64_t
&
aRootLayerTreeId
)
:
CompositorSession
(
aWidgetDelegate
aChild
aRootLayerTreeId
)
mAPZ
(
aAPZ
)
{
}
CompositorBridgeParent
*
RemoteCompositorSession
:
:
GetInProcessBridge
(
)
const
{
return
nullptr
;
}
void
RemoteCompositorSession
:
:
SetContentController
(
GeckoContentController
*
aController
)
{
mCompositorBridgeChild
-
>
SendPAPZConstructor
(
new
APZChild
(
aController
)
0
)
;
}
RefPtr
<
IAPZCTreeManager
>
RemoteCompositorSession
:
:
GetAPZCTreeManager
(
)
const
{
return
mAPZ
;
}
void
RemoteCompositorSession
:
:
Shutdown
(
)
{
mCompositorBridgeChild
-
>
Destroy
(
)
;
mCompositorBridgeChild
=
nullptr
;
mCompositorWidgetDelegate
=
nullptr
;
}
}
}

#
ifndef
Y_CB_CR_UTILS_H_
#
define
Y_CB_CR_UTILS_H_
#
include
"
mozilla
/
gfx
/
Types
.
h
"
#
include
"
ImageContainer
.
h
"
namespace
mozilla
{
namespace
gfx
{
IntSize
GetCroppedCbCrSize
(
const
IntSize
&
aYSize
const
IntSize
&
aCbCrSize
const
IntSize
&
aDisplaySize
)
;
void
GetYCbCrToRGBDestFormatAndSize
(
const
layers
:
:
PlanarYCbCrData
&
aData
SurfaceFormat
&
aSuggestedFormat
IntSize
&
aSuggestedSize
)
;
void
ConvertYCbCrToRGB
(
const
layers
:
:
PlanarYCbCrData
&
aData
const
SurfaceFormat
&
aDestFormat
const
IntSize
&
aDestSize
unsigned
char
*
aDestBuffer
int32_t
aStride
)
;
using
PremultFunc
=
int
(
*
)
(
const
uint8_t
*
src_argb
int
src_stride_argb
uint8_t
*
dst_argb
int
dst_stride_argb
int
width
int
height
)
;
void
ConvertYCbCrAToARGB
(
const
layers
:
:
PlanarYCbCrData
&
aYCbCr
const
layers
:
:
PlanarAlphaData
&
aAlpha
const
SurfaceFormat
&
aDestFormat
const
IntSize
&
aDestSize
unsigned
char
*
aDestBuffer
int32_t
aStride
PremultFunc
premultiplyAlphaOp
)
;
void
ConvertI420AlphaToARGB
(
const
uint8_t
*
aSrcY
const
uint8_t
*
aSrcU
const
uint8_t
*
aSrcV
const
uint8_t
*
aSrcA
int
aSrcStrideYA
int
aSrcStrideUV
uint8_t
*
aDstARGB
int
aDstStrideARGB
int
aWidth
int
aHeight
)
;
}
}
#
endif

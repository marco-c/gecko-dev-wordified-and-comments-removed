#
ifndef
IN_GL_CONTEXT_PROVIDER_H
#
error
GLContextProviderImpl
.
h
must
only
be
included
from
GLContextProvider
.
h
#
endif
#
ifndef
GL_CONTEXT_PROVIDER_NAME
#
error
GL_CONTEXT_PROVIDER_NAME
not
defined
#
endif
#
if
defined
(
MOZ_WIDGET_ANDROID
)
#
include
"
GLTypes
.
h
"
#
endif
class
GL_CONTEXT_PROVIDER_NAME
{
public
:
static
already_AddRefed
<
GLContext
>
CreateForCompositorWidget
(
mozilla
:
:
widget
:
:
CompositorWidget
*
aCompositorWidget
bool
aForceAccelerated
)
;
static
already_AddRefed
<
GLContext
>
CreateForWindow
(
nsIWidget
*
aWidget
bool
aWebRender
bool
aForceAccelerated
)
;
static
already_AddRefed
<
GLContext
>
CreateOffscreen
(
const
mozilla
:
:
gfx
:
:
IntSize
&
size
const
SurfaceCaps
&
minCaps
CreateContextFlags
flags
nsACString
*
const
out_failureId
)
;
static
already_AddRefed
<
GLContext
>
CreateHeadless
(
CreateContextFlags
flags
nsACString
*
const
out_failureId
)
;
static
already_AddRefed
<
GLContext
>
CreateWrappingExisting
(
void
*
aContext
void
*
aSurface
)
;
#
if
defined
(
MOZ_WIDGET_ANDROID
)
static
EGLSurface
CreateEGLSurface
(
void
*
aWindow
EGLConfig
aConfig
=
nullptr
)
;
static
void
DestroyEGLSurface
(
EGLSurface
surface
)
;
#
endif
static
GLContext
*
GetGlobalContext
(
)
;
static
void
Shutdown
(
)
;
}
;

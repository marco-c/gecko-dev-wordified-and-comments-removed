#
include
"
GfxTexturesReporter
.
h
"
using
namespace
mozilla
;
using
namespace
mozilla
:
:
gl
;
NS_IMPL_ISUPPORTS
(
GfxTexturesReporter
nsIMemoryReporter
)
Atomic
<
size_t
>
GfxTexturesReporter
:
:
sAmount
(
0
)
;
Atomic
<
size_t
>
GfxTexturesReporter
:
:
sTileWasteAmount
(
0
)
;
void
GfxTexturesReporter
:
:
UpdateAmount
(
MemoryUse
action
size_t
amount
)
{
if
(
action
=
=
MemoryFreed
)
{
MOZ_RELEASE_ASSERT
(
amount
<
=
sAmount
)
;
sAmount
-
=
amount
;
}
else
{
sAmount
+
=
amount
;
}
}

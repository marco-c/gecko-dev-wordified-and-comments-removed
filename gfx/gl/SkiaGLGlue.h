#
ifndef
SKIA_GL_GLUE_H_
#
define
SKIA_GL_GLUE_H_
#
ifdef
USE_SKIA_GPU
#
include
"
skia
/
include
/
core
/
SkRefCnt
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
struct
GrGLInterface
;
class
GrContext
;
namespace
mozilla
{
namespace
gl
{
class
GLContext
;
class
SkiaGLGlue
:
public
GenericAtomicRefCounted
{
public
:
MOZ_DECLARE_REFCOUNTED_VIRTUAL_TYPENAME
(
SkiaGLGlue
override
)
explicit
SkiaGLGlue
(
GLContext
*
context
)
;
GLContext
*
GetGLContext
(
)
const
{
return
mGLContext
.
get
(
)
;
}
GrContext
*
GetGrContext
(
)
const
{
return
mGrContext
.
get
(
)
;
}
protected
:
virtual
~
SkiaGLGlue
(
)
;
private
:
RefPtr
<
GLContext
>
mGLContext
;
sk_sp
<
GrGLInterface
>
mGrGLInterface
;
sk_sp
<
GrContext
>
mGrContext
;
}
;
}
}
#
else
class
GrContext
;
namespace
mozilla
{
namespace
gl
{
class
GLContext
;
class
SkiaGLGlue
:
public
GenericAtomicRefCounted
{
public
:
SkiaGLGlue
(
GLContext
*
context
)
;
GLContext
*
GetGLContext
(
)
const
{
return
nullptr
;
}
GrContext
*
GetGrContext
(
)
const
{
return
nullptr
;
}
}
;
}
}
#
endif
#
endif

#
ifdef
HAVE_CONFIG_H
#
include
"
.
.
/
config
.
h
"
#
endif
#
include
"
glitz_wglint
.
h
"
HPBUFFERARB
glitz_wgl_pbuffer_create
(
glitz_wgl_screen_info_t
*
screen_info
int
pixel_format
unsigned
int
width
unsigned
int
height
HDC
*
dcp
)
{
if
(
pixel_format
)
{
HPBUFFERARB
retval
;
int
pbuffer_attr
[
3
]
i
=
0
;
pbuffer_attr
[
i
+
+
]
=
WGL_PBUFFER_LARGEST_ARB
;
pbuffer_attr
[
i
+
+
]
=
0
;
pbuffer_attr
[
i
+
+
]
=
0
;
retval
=
screen_info
-
>
wgl
.
create_pbuffer
(
screen_info
-
>
root_dc
pixel_format
width
height
pbuffer_attr
)
;
if
(
retval
!
=
NULL
)
{
*
dcp
=
screen_info
-
>
wgl
.
get_pbuffer_dc
(
retval
)
;
return
retval
;
}
}
*
dcp
=
NULL
;
return
NULL
;
}
void
glitz_wgl_pbuffer_destroy
(
glitz_wgl_screen_info_t
*
screen_info
HPBUFFERARB
pbuffer
HDC
dc
)
{
screen_info
-
>
wgl
.
release_pbuffer_dc
(
pbuffer
dc
)
;
screen_info
-
>
wgl
.
destroy_pbuffer
(
pbuffer
)
;
}

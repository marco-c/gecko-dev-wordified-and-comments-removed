#
ifndef
INCLUDED_QuaternionC_h_GUID_1470A5FE_8209_41A6_C19E_46077FDF9C66
#
define
INCLUDED_QuaternionC_h_GUID_1470A5FE_8209_41A6_C19E_46077FDF9C66
#
include
<
osvr
/
Util
/
APIBaseC
.
h
>
OSVR_EXTERN_C_BEGIN
typedef
struct
OSVR_Quaternion
{
double
data
[
4
]
;
}
OSVR_Quaternion
;
#
define
OSVR_QUAT_MEMBER
(
COMPONENT
INDEX
)
\
OSVR_INLINE
double
osvrQuatGet
#
#
COMPONENT
(
OSVR_Quaternion
const
*
q
)
{
\
return
q
-
>
data
[
INDEX
]
;
\
}
\
/
*
*
brief
Setter
for
quaternion
component
COMPONENT
*
/
\
OSVR_INLINE
void
osvrQuatSet
#
#
COMPONENT
(
OSVR_Quaternion
*
q
double
val
)
{
\
q
-
>
data
[
INDEX
]
=
val
;
\
}
OSVR_QUAT_MEMBER
(
W
0
)
OSVR_QUAT_MEMBER
(
X
1
)
OSVR_QUAT_MEMBER
(
Y
2
)
OSVR_QUAT_MEMBER
(
Z
3
)
#
undef
OSVR_QUAT_MEMBER
OSVR_INLINE
void
osvrQuatSetIdentity
(
OSVR_Quaternion
*
q
)
{
osvrQuatSetW
(
q
1
)
;
osvrQuatSetX
(
q
0
)
;
osvrQuatSetY
(
q
0
)
;
osvrQuatSetZ
(
q
0
)
;
}
OSVR_EXTERN_C_END
#
ifdef
__cplusplus
template
<
typename
StreamType
>
inline
StreamType
&
operator
<
<
(
StreamType
&
os
OSVR_Quaternion
const
&
quat
)
{
os
<
<
"
(
"
<
<
osvrQuatGetW
(
&
quat
)
<
<
"
(
"
<
<
osvrQuatGetX
(
&
quat
)
<
<
"
"
<
<
osvrQuatGetY
(
&
quat
)
<
<
"
"
<
<
osvrQuatGetZ
(
&
quat
)
<
<
"
)
)
"
;
return
os
;
}
#
endif
#
endif

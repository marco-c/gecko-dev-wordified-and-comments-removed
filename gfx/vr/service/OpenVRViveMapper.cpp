#
include
"
OpenVRViveMapper
.
h
"
#
include
"
moz_external_vr
.
h
"
#
include
"
VRSession
.
h
"
namespace
mozilla
:
:
gfx
{
void
OpenVRViveMapper
:
:
UpdateButtons
(
VRControllerState
&
aControllerState
ControllerInfo
&
aControllerInfo
)
{
mNumButtons
=
mNumAxes
=
0
;
GetTriggerValueFromAction
(
aControllerState
aControllerInfo
.
mActionTrigger_Value
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionGrip_Pressed
aControllerInfo
.
mActionGrip_Touched
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionTrackpad_Pressed
aControllerInfo
.
mActionTrackpad_Touched
)
;
+
+
mNumButtons
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionMenu_Pressed
aControllerInfo
.
mActionMenu_Touched
)
;
GetAxisValueFromAction
(
aControllerState
aControllerInfo
.
mActionTrackpad_Analog
)
;
aControllerState
.
numButtons
=
mNumButtons
;
aControllerState
.
numAxes
=
mNumAxes
;
}
}

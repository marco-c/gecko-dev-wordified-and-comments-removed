#
include
"
OpenVRKnucklesMapper
.
h
"
#
include
"
moz_external_vr
.
h
"
#
include
"
VRSession
.
h
"
namespace
mozilla
:
:
gfx
{
void
OpenVRKnucklesMapper
:
:
UpdateButtons
(
VRControllerState
&
aControllerState
ControllerInfo
&
aControllerInfo
)
{
mNumButtons
=
mNumAxes
=
0
;
GetTriggerValueFromAction
(
aControllerState
aControllerInfo
.
mActionTrigger_Value
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionGrip_Pressed
aControllerInfo
.
mActionGrip_Touched
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionTrackpad_Pressed
aControllerInfo
.
mActionTrackpad_Touched
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionThumbstick_Pressed
aControllerInfo
.
mActionThumbstick_Touched
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionA_Pressed
aControllerInfo
.
mActionA_Touched
)
;
GetButtonValueFromAction
(
aControllerState
aControllerInfo
.
mActionB_Pressed
aControllerInfo
.
mActionB_Touched
)
;
GetTriggerValueFromAction
(
aControllerState
aControllerInfo
.
mActionFingerIndex_Value
)
;
GetTriggerValueFromAction
(
aControllerState
aControllerInfo
.
mActionFingerMiddle_Value
)
;
GetTriggerValueFromAction
(
aControllerState
aControllerInfo
.
mActionFingerRing_Value
)
;
GetTriggerValueFromAction
(
aControllerState
aControllerInfo
.
mActionFingerPinky_Value
)
;
GetAxisValueFromAction
(
aControllerState
aControllerInfo
.
mActionTrackpad_Analog
)
;
GetAxisValueFromAction
(
aControllerState
aControllerInfo
.
mActionThumbstick_Analog
)
;
aControllerState
.
numButtons
=
mNumButtons
;
aControllerState
.
numAxes
=
mNumAxes
;
}
}

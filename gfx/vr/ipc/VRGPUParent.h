#
ifndef
GFX_VR_GPU_PARENT_H
#
define
GFX_VR_GPU_PARENT_H
#
include
"
mozilla
/
gfx
/
PVRGPUParent
.
h
"
#
include
"
VRService
.
h
"
namespace
mozilla
{
namespace
gfx
{
class
VRGPUParent
final
:
public
PVRGPUParent
{
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
VRGPUParent
)
public
:
static
RefPtr
<
VRGPUParent
>
CreateForGPU
(
Endpoint
<
PVRGPUParent
>
&
&
aEndpoint
)
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
protected
:
void
Bind
(
Endpoint
<
PVRGPUParent
>
&
&
aEndpoint
)
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvStartVRService
(
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvStopVRService
(
)
override
;
private
:
explicit
VRGPUParent
(
ProcessId
aChildProcessId
)
;
~
VRGPUParent
(
)
;
void
DeferredDestroy
(
)
;
RefPtr
<
VRGPUParent
>
mSelfRef
;
#
if
!
defined
(
MOZ_WIDGET_ANDROID
)
RefPtr
<
VRService
>
mVRService
;
#
endif
DISALLOW_COPY_AND_ASSIGN
(
VRGPUParent
)
;
}
;
}
}
#
endif

#
ifndef
GFX_VR_LAYERPARENT_H
#
define
GFX_VR_LAYERPARENT_H
#
include
"
VRManager
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
gfx
/
PVRLayerParent
.
h
"
#
include
"
gfxVR
.
h
"
namespace
mozilla
{
namespace
gfx
{
class
VRLayerParent
:
public
PVRLayerParent
{
NS_INLINE_DECL_REFCOUNTING
(
VRLayerParent
)
public
:
VRLayerParent
(
uint32_t
aVRDisplayID
const
Rect
&
aLeftEyeRect
const
Rect
&
aRightEyeRect
)
;
virtual
bool
RecvSubmitFrame
(
PTextureParent
*
texture
)
override
;
virtual
bool
RecvDestroy
(
)
override
;
uint32_t
GetDisplayID
(
)
const
{
return
mVRDisplayID
;
}
protected
:
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
~
VRLayerParent
(
)
;
void
Destroy
(
)
;
bool
mIPCOpen
;
uint32_t
mVRDisplayID
;
gfx
:
:
IntSize
mSize
;
gfx
:
:
Rect
mLeftEyeRect
;
gfx
:
:
Rect
mRightEyeRect
;
}
;
}
}
#
endif

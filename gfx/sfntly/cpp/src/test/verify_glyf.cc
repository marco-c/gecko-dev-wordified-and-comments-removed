#
include
"
gtest
/
gtest
.
h
"
#
include
"
sfntly
/
font
.
h
"
#
include
"
sfntly
/
table
/
truetype
/
glyph_table
.
h
"
#
include
"
test
/
serialization_test
.
h
"
namespace
sfntly
{
const
int32_t
GLYPH33_OFFSET
=
0xAC8
;
const
int32_t
GLYPH33_LENGTH
=
40
;
const
int32_t
GLYPH33_XMIN
=
92
;
const
int32_t
GLYPH33_YMIN
=
20
;
const
int32_t
GLYPH33_XMAX
=
797
;
const
int32_t
GLYPH33_YMAX
=
1235
;
static
bool
VerifyGLYF
(
Table
*
table
)
{
GlyphTablePtr
glyf_table
=
down_cast
<
GlyphTable
*
>
(
table
)
;
if
(
glyf_table
=
=
NULL
)
{
return
false
;
}
GlyphPtr
glyf
;
glyf
.
Attach
(
glyf_table
-
>
GetGlyph
(
GLYPH33_OFFSET
GLYPH33_LENGTH
)
)
;
if
(
glyf
=
=
NULL
)
{
return
false
;
}
EXPECT_EQ
(
glyf
-
>
XMin
(
)
GLYPH33_XMIN
)
;
EXPECT_EQ
(
glyf
-
>
YMin
(
)
GLYPH33_YMIN
)
;
EXPECT_EQ
(
glyf
-
>
XMax
(
)
GLYPH33_XMAX
)
;
EXPECT_EQ
(
glyf
-
>
YMax
(
)
GLYPH33_YMAX
)
;
return
true
;
}
bool
VerifyGLYF
(
Table
*
original
Table
*
target
)
{
EXPECT_TRUE
(
VerifyGLYF
(
original
)
)
;
EXPECT_TRUE
(
VerifyGLYF
(
target
)
)
;
return
true
;
}
}

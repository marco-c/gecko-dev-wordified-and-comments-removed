#
ifndef
SFNTLY_CPP_SRC_SFNTLY_TABLE_BITMAP_INDEX_SUBTABLE_FORMAT5_H_
#
define
SFNTLY_CPP_SRC_SFNTLY_TABLE_BITMAP_INDEX_SUBTABLE_FORMAT5_H_
#
include
"
sfntly
/
table
/
bitmap
/
big_glyph_metrics
.
h
"
#
include
"
sfntly
/
table
/
bitmap
/
index_sub_table
.
h
"
namespace
sfntly
{
class
IndexSubTableFormat5
:
public
IndexSubTable
public
RefCounted
<
IndexSubTableFormat5
>
{
public
:
class
Builder
:
public
IndexSubTable
:
:
Builder
public
RefCounted
<
Builder
>
{
public
:
class
BitmapGlyphInfoIterator
:
public
RefIterator
<
BitmapGlyphInfo
Builder
IndexSubTable
:
:
Builder
>
{
public
:
explicit
BitmapGlyphInfoIterator
(
Builder
*
container
)
;
virtual
~
BitmapGlyphInfoIterator
(
)
{
}
virtual
bool
HasNext
(
)
;
CALLER_ATTACH
virtual
BitmapGlyphInfo
*
Next
(
)
;
private
:
int32_t
offset_index_
;
}
;
virtual
~
Builder
(
)
;
virtual
int32_t
NumGlyphs
(
)
;
virtual
int32_t
GlyphLength
(
int32_t
glyph_id
)
;
virtual
int32_t
GlyphStartOffset
(
int32_t
glyph_id
)
;
CALLER_ATTACH
virtual
BitmapGlyphInfoIterator
*
GetIterator
(
)
;
virtual
CALLER_ATTACH
FontDataTable
*
SubBuildTable
(
ReadableFontData
*
data
)
;
virtual
void
SubDataSet
(
)
;
virtual
int32_t
SubDataSizeToSerialize
(
)
;
virtual
bool
SubReadyToSerialize
(
)
;
virtual
int32_t
SubSerialize
(
WritableFontData
*
new_data
)
;
int32_t
ImageSize
(
)
;
void
SetImageSize
(
int32_t
image_size
)
;
BigGlyphMetrics
:
:
Builder
*
BigMetrics
(
)
;
std
:
:
vector
<
int32_t
>
*
GlyphArray
(
)
;
void
SetGlyphArray
(
const
std
:
:
vector
<
int32_t
>
&
v
)
;
static
CALLER_ATTACH
Builder
*
CreateBuilder
(
)
;
static
CALLER_ATTACH
Builder
*
CreateBuilder
(
ReadableFontData
*
data
int32_t
index_sub_table_offset
int32_t
first_glyph_index
int32_t
last_glyph_index
)
;
static
CALLER_ATTACH
Builder
*
CreateBuilder
(
WritableFontData
*
data
int32_t
index_sub_table_offset
int32_t
first_glyph_index
int32_t
last_glyph_index
)
;
protected
:
void
Revert
(
)
;
private
:
Builder
(
)
;
Builder
(
WritableFontData
*
data
int32_t
first_glyph_index
int32_t
last_glyph_index
)
;
Builder
(
ReadableFontData
*
data
int32_t
first_glyph_index
int32_t
last_glyph_index
)
;
std
:
:
vector
<
int32_t
>
*
GetGlyphArray
(
)
;
void
Initialize
(
ReadableFontData
*
data
)
;
static
int32_t
DataLength
(
ReadableFontData
*
data
int32_t
index_sub_table_offset
int32_t
first_glyph_index
int32_t
last_glyph_index
)
;
std
:
:
vector
<
int32_t
>
glyph_array_
;
BigGlyphMetricsBuilderPtr
metrics_
;
}
;
virtual
~
IndexSubTableFormat5
(
)
;
virtual
int32_t
NumGlyphs
(
)
;
virtual
int32_t
GlyphStartOffset
(
int32_t
glyph_id
)
;
virtual
int32_t
GlyphLength
(
int32_t
glyph_id
)
;
int32_t
ImageSize
(
)
;
CALLER_ATTACH
BigGlyphMetrics
*
BigMetrics
(
)
;
private
:
IndexSubTableFormat5
(
ReadableFontData
*
data
int32_t
first_glyph_index
int32_t
last_glyph_index
)
;
static
int32_t
NumGlyphs
(
ReadableFontData
*
dta
int32_t
table_offset
)
;
int32_t
image_size_
;
friend
class
Builder
;
}
;
typedef
Ptr
<
IndexSubTableFormat5
>
IndexSubTableFormat5Ptr
;
typedef
Ptr
<
IndexSubTableFormat5
:
:
Builder
>
IndexSubTableFormat5BuilderPtr
;
}
#
endif

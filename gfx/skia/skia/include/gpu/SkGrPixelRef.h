#
ifndef
SkGrPixelRef_DEFINED
#
define
SkGrPixelRef_DEFINED
#
include
"
SkBitmap
.
h
"
#
include
"
SkPixelRef
.
h
"
#
include
"
GrTexture
.
h
"
#
include
"
GrRenderTarget
.
h
"
class
SK_API
SkROLockPixelsPixelRef
:
public
SkPixelRef
{
public
:
SkROLockPixelsPixelRef
(
const
SkImageInfo
&
)
;
virtual
~
SkROLockPixelsPixelRef
(
)
;
protected
:
bool
onNewLockPixels
(
LockRec
*
)
override
;
void
onUnlockPixels
(
)
override
;
bool
onLockPixelsAreWritable
(
)
const
override
;
private
:
SkBitmap
fBitmap
;
typedef
SkPixelRef
INHERITED
;
}
;
class
SK_API
SkGrPixelRef
:
public
SkROLockPixelsPixelRef
{
public
:
SkGrPixelRef
(
const
SkImageInfo
&
GrSurface
*
)
;
virtual
~
SkGrPixelRef
(
)
;
GrTexture
*
getTexture
(
)
override
;
protected
:
bool
onReadPixels
(
SkBitmap
*
dst
SkColorType
const
SkIRect
*
subset
)
override
;
SkPixelRef
*
deepCopy
(
SkColorType
SkColorProfileType
const
SkIRect
*
subset
)
override
;
void
onNotifyPixelsChanged
(
)
override
;
private
:
GrSurface
*
fSurface
;
typedef
SkROLockPixelsPixelRef
INHERITED
;
}
;
#
endif

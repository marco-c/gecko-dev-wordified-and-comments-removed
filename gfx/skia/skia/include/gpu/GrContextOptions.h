#
ifndef
GrContextOptions_DEFINED
#
define
GrContextOptions_DEFINED
#
include
"
include
/
core
/
SkData
.
h
"
#
include
"
include
/
core
/
SkTypes
.
h
"
#
include
"
include
/
gpu
/
GrDriverBugWorkarounds
.
h
"
#
include
"
include
/
gpu
/
GrTypes
.
h
"
#
include
"
include
/
private
/
GrTypesPriv
.
h
"
#
include
<
vector
>
class
SkExecutor
;
#
if
SK_SUPPORT_GPU
struct
SK_API
GrContextOptions
{
enum
class
Enable
{
kNo
kYes
kDefault
}
;
enum
class
ShaderCacheStrategy
{
kSkSL
kBackendSource
kBackendBinary
}
;
class
SK_API
PersistentCache
{
public
:
virtual
~
PersistentCache
(
)
{
}
virtual
sk_sp
<
SkData
>
load
(
const
SkData
&
key
)
=
0
;
virtual
void
store
(
const
SkData
&
key
const
SkData
&
data
)
=
0
;
}
;
class
SK_API
ShaderErrorHandler
{
public
:
virtual
~
ShaderErrorHandler
(
)
{
}
virtual
void
compileError
(
const
char
*
shader
const
char
*
errors
)
=
0
;
}
;
GrContextOptions
(
)
{
}
bool
fSuppressPrints
=
false
;
int
fMaxTextureSizeOverride
=
SK_MaxS32
;
int
fBufferMapThreshold
=
-
1
;
SkExecutor
*
fExecutor
=
nullptr
;
bool
fDoManualMipmapping
=
false
;
bool
fDisableCoverageCountingPaths
=
true
;
bool
fDisableDistanceFieldPaths
=
false
;
bool
fAllowPathMaskCaching
=
true
;
bool
fDisableGpuYUVConversion
=
false
;
size_t
fGlyphCacheTextureMaximumBytes
=
2048
*
1024
*
4
;
float
fMinDistanceFieldFontSize
=
-
1
.
f
;
float
fGlyphsAsPathsFontSize
=
-
1
.
f
;
Enable
fAllowMultipleGlyphCacheTextures
=
Enable
:
:
kDefault
;
bool
fAvoidStencilBuffers
=
false
;
bool
fSharpenMipmappedTextures
=
false
;
Enable
fUseDrawInsteadOfClear
=
Enable
:
:
kDefault
;
Enable
fReduceOpsTaskSplitting
=
Enable
:
:
kDefault
;
bool
fPreferExternalImagesOverES3
=
false
;
bool
fDisableDriverCorrectnessWorkarounds
=
false
;
int
fRuntimeProgramCacheSize
=
256
;
PersistentCache
*
fPersistentCache
=
nullptr
;
ShaderCacheStrategy
fShaderCacheStrategy
=
ShaderCacheStrategy
:
:
kBackendBinary
;
ShaderErrorHandler
*
fShaderErrorHandler
=
nullptr
;
int
fInternalMultisampleCount
=
4
;
#
if
GR_TEST_UTILS
int
fMaxTileSizeOverride
=
0
;
bool
fSuppressDualSourceBlending
=
false
;
bool
fSuppressGeometryShaders
=
false
;
bool
fWireframeMode
=
false
;
bool
fClearAllTextures
=
false
;
GpuPathRenderers
fGpuPathRenderers
=
GpuPathRenderers
:
:
kAll
;
#
endif
#
if
SK_SUPPORT_ATLAS_TEXT
Enable
fDistanceFieldGlyphVerticesAlwaysHaveW
=
Enable
:
:
kDefault
;
#
endif
GrDriverBugWorkarounds
fDriverBugWorkarounds
;
}
;
#
else
struct
GrContextOptions
{
struct
PersistentCache
{
}
;
}
;
#
endif
#
endif

#
ifndef
GrGLInterface_DEFINED
#
define
GrGLInterface_DEFINED
#
include
"
include
/
core
/
SkRefCnt
.
h
"
#
include
"
include
/
gpu
/
ganesh
/
gl
/
GrGLExtensions
.
h
"
#
include
"
include
/
gpu
/
ganesh
/
gl
/
GrGLFunctions
.
h
"
typedef
void
(
*
GrGLFuncPtr
)
(
)
;
struct
GrGLInterface
;
#
if
!
defined
(
SK_DISABLE_LEGACY_GL_MAKE_NATIVE_INTERFACE
)
SK_API
sk_sp
<
const
GrGLInterface
>
GrGLMakeNativeInterface
(
)
;
#
endif
struct
SK_API
GrGLInterface
:
public
SkRefCnt
{
private
:
using
INHERITED
=
SkRefCnt
;
#
if
GR_GL_CHECK_ERROR
mutable
bool
fOOMed
=
false
;
bool
fSuppressErrorLogging
=
false
;
#
endif
public
:
GrGLInterface
(
)
;
bool
validate
(
)
const
;
#
if
GR_GL_CHECK_ERROR
GrGLenum
checkError
(
const
char
*
location
const
char
*
call
)
const
;
bool
checkAndResetOOMed
(
)
const
;
void
suppressErrorLogging
(
)
;
#
endif
#
if
defined
(
GPU_TEST_UTILS
)
GrGLInterface
(
const
GrGLInterface
&
that
)
:
fStandard
(
that
.
fStandard
)
fExtensions
(
that
.
fExtensions
)
fFunctions
(
that
.
fFunctions
)
{
}
#
endif
GrGLStandard
fStandard
;
GrGLExtensions
fExtensions
;
bool
hasExtension
(
const
char
ext
[
]
)
const
{
return
fExtensions
.
has
(
ext
)
;
}
struct
Functions
{
GrGLFunction
<
GrGLActiveTextureFn
>
fActiveTexture
;
GrGLFunction
<
GrGLAttachShaderFn
>
fAttachShader
;
GrGLFunction
<
GrGLBeginQueryFn
>
fBeginQuery
;
GrGLFunction
<
GrGLBindAttribLocationFn
>
fBindAttribLocation
;
GrGLFunction
<
GrGLBindBufferFn
>
fBindBuffer
;
GrGLFunction
<
GrGLBindFragDataLocationFn
>
fBindFragDataLocation
;
GrGLFunction
<
GrGLBindFragDataLocationIndexedFn
>
fBindFragDataLocationIndexed
;
GrGLFunction
<
GrGLBindFramebufferFn
>
fBindFramebuffer
;
GrGLFunction
<
GrGLBindRenderbufferFn
>
fBindRenderbuffer
;
GrGLFunction
<
GrGLBindSamplerFn
>
fBindSampler
;
GrGLFunction
<
GrGLBindTextureFn
>
fBindTexture
;
GrGLFunction
<
GrGLBindVertexArrayFn
>
fBindVertexArray
;
GrGLFunction
<
GrGLBlendBarrierFn
>
fBlendBarrier
;
GrGLFunction
<
GrGLBlendColorFn
>
fBlendColor
;
GrGLFunction
<
GrGLBlendEquationFn
>
fBlendEquation
;
GrGLFunction
<
GrGLBlendFuncFn
>
fBlendFunc
;
GrGLFunction
<
GrGLBlitFramebufferFn
>
fBlitFramebuffer
;
GrGLFunction
<
GrGLBufferDataFn
>
fBufferData
;
GrGLFunction
<
GrGLBufferSubDataFn
>
fBufferSubData
;
GrGLFunction
<
GrGLCheckFramebufferStatusFn
>
fCheckFramebufferStatus
;
GrGLFunction
<
GrGLClearFn
>
fClear
;
GrGLFunction
<
GrGLClearColorFn
>
fClearColor
;
GrGLFunction
<
GrGLClearStencilFn
>
fClearStencil
;
GrGLFunction
<
GrGLClearTexImageFn
>
fClearTexImage
;
GrGLFunction
<
GrGLClearTexSubImageFn
>
fClearTexSubImage
;
GrGLFunction
<
GrGLColorMaskFn
>
fColorMask
;
GrGLFunction
<
GrGLCompileShaderFn
>
fCompileShader
;
GrGLFunction
<
GrGLCompressedTexImage2DFn
>
fCompressedTexImage2D
;
GrGLFunction
<
GrGLCompressedTexSubImage2DFn
>
fCompressedTexSubImage2D
;
GrGLFunction
<
GrGLCopyBufferSubDataFn
>
fCopyBufferSubData
;
GrGLFunction
<
GrGLCopyTexSubImage2DFn
>
fCopyTexSubImage2D
;
GrGLFunction
<
GrGLCreateProgramFn
>
fCreateProgram
;
GrGLFunction
<
GrGLCreateShaderFn
>
fCreateShader
;
GrGLFunction
<
GrGLCullFaceFn
>
fCullFace
;
GrGLFunction
<
GrGLDeleteBuffersFn
>
fDeleteBuffers
;
GrGLFunction
<
GrGLDeleteFencesFn
>
fDeleteFences
;
GrGLFunction
<
GrGLDeleteFramebuffersFn
>
fDeleteFramebuffers
;
GrGLFunction
<
GrGLDeleteProgramFn
>
fDeleteProgram
;
GrGLFunction
<
GrGLDeleteQueriesFn
>
fDeleteQueries
;
GrGLFunction
<
GrGLDeleteRenderbuffersFn
>
fDeleteRenderbuffers
;
GrGLFunction
<
GrGLDeleteSamplersFn
>
fDeleteSamplers
;
GrGLFunction
<
GrGLDeleteShaderFn
>
fDeleteShader
;
GrGLFunction
<
GrGLDeleteTexturesFn
>
fDeleteTextures
;
GrGLFunction
<
GrGLDeleteVertexArraysFn
>
fDeleteVertexArrays
;
GrGLFunction
<
GrGLDepthMaskFn
>
fDepthMask
;
GrGLFunction
<
GrGLDisableFn
>
fDisable
;
GrGLFunction
<
GrGLDisableVertexAttribArrayFn
>
fDisableVertexAttribArray
;
GrGLFunction
<
GrGLDrawArraysFn
>
fDrawArrays
;
GrGLFunction
<
GrGLDrawArraysIndirectFn
>
fDrawArraysIndirect
;
GrGLFunction
<
GrGLDrawArraysInstancedFn
>
fDrawArraysInstanced
;
GrGLFunction
<
GrGLDrawBufferFn
>
fDrawBuffer
;
GrGLFunction
<
GrGLDrawBuffersFn
>
fDrawBuffers
;
GrGLFunction
<
GrGLDrawElementsFn
>
fDrawElements
;
GrGLFunction
<
GrGLDrawElementsIndirectFn
>
fDrawElementsIndirect
;
GrGLFunction
<
GrGLDrawElementsInstancedFn
>
fDrawElementsInstanced
;
GrGLFunction
<
GrGLDrawRangeElementsFn
>
fDrawRangeElements
;
GrGLFunction
<
GrGLEnableFn
>
fEnable
;
GrGLFunction
<
GrGLEnableVertexAttribArrayFn
>
fEnableVertexAttribArray
;
GrGLFunction
<
GrGLEndQueryFn
>
fEndQuery
;
GrGLFunction
<
GrGLFinishFn
>
fFinish
;
GrGLFunction
<
GrGLFinishFenceFn
>
fFinishFence
;
GrGLFunction
<
GrGLFlushFn
>
fFlush
;
GrGLFunction
<
GrGLFlushMappedBufferRangeFn
>
fFlushMappedBufferRange
;
GrGLFunction
<
GrGLFramebufferRenderbufferFn
>
fFramebufferRenderbuffer
;
GrGLFunction
<
GrGLFramebufferTexture2DFn
>
fFramebufferTexture2D
;
GrGLFunction
<
GrGLFramebufferTexture2DMultisampleFn
>
fFramebufferTexture2DMultisample
;
GrGLFunction
<
GrGLFrontFaceFn
>
fFrontFace
;
GrGLFunction
<
GrGLGenBuffersFn
>
fGenBuffers
;
GrGLFunction
<
GrGLGenFencesFn
>
fGenFences
;
GrGLFunction
<
GrGLGenFramebuffersFn
>
fGenFramebuffers
;
GrGLFunction
<
GrGLGenerateMipmapFn
>
fGenerateMipmap
;
GrGLFunction
<
GrGLGenQueriesFn
>
fGenQueries
;
GrGLFunction
<
GrGLGenRenderbuffersFn
>
fGenRenderbuffers
;
GrGLFunction
<
GrGLGenSamplersFn
>
fGenSamplers
;
GrGLFunction
<
GrGLGenTexturesFn
>
fGenTextures
;
GrGLFunction
<
GrGLGenVertexArraysFn
>
fGenVertexArrays
;
GrGLFunction
<
GrGLGetBufferParameterivFn
>
fGetBufferParameteriv
;
GrGLFunction
<
GrGLGetErrorFn
>
fGetError
;
GrGLFunction
<
GrGLGetFramebufferAttachmentParameterivFn
>
fGetFramebufferAttachmentParameteriv
;
GrGLFunction
<
GrGLGetFloatvFn
>
fGetFloatv
;
GrGLFunction
<
GrGLGetIntegervFn
>
fGetIntegerv
;
GrGLFunction
<
GrGLGetMultisamplefvFn
>
fGetMultisamplefv
;
GrGLFunction
<
GrGLGetProgramBinaryFn
>
fGetProgramBinary
;
GrGLFunction
<
GrGLGetProgramInfoLogFn
>
fGetProgramInfoLog
;
GrGLFunction
<
GrGLGetProgramivFn
>
fGetProgramiv
;
GrGLFunction
<
GrGLGetQueryObjecti64vFn
>
fGetQueryObjecti64v
;
GrGLFunction
<
GrGLGetQueryObjectui64vFn
>
fGetQueryObjectui64v
;
GrGLFunction
<
GrGLGetQueryObjectuivFn
>
fGetQueryObjectuiv
;
GrGLFunction
<
GrGLGetQueryivFn
>
fGetQueryiv
;
GrGLFunction
<
GrGLGetRenderbufferParameterivFn
>
fGetRenderbufferParameteriv
;
GrGLFunction
<
GrGLGetShaderInfoLogFn
>
fGetShaderInfoLog
;
GrGLFunction
<
GrGLGetShaderivFn
>
fGetShaderiv
;
GrGLFunction
<
GrGLGetShaderPrecisionFormatFn
>
fGetShaderPrecisionFormat
;
GrGLFunction
<
GrGLGetStringFn
>
fGetString
;
GrGLFunction
<
GrGLGetStringiFn
>
fGetStringi
;
GrGLFunction
<
GrGLGetTexLevelParameterivFn
>
fGetTexLevelParameteriv
;
GrGLFunction
<
GrGLGetUniformLocationFn
>
fGetUniformLocation
;
GrGLFunction
<
GrGLInsertEventMarkerFn
>
fInsertEventMarker
;
GrGLFunction
<
GrGLInvalidateBufferDataFn
>
fInvalidateBufferData
;
GrGLFunction
<
GrGLInvalidateBufferSubDataFn
>
fInvalidateBufferSubData
;
GrGLFunction
<
GrGLInvalidateFramebufferFn
>
fInvalidateFramebuffer
;
GrGLFunction
<
GrGLInvalidateSubFramebufferFn
>
fInvalidateSubFramebuffer
;
GrGLFunction
<
GrGLInvalidateTexImageFn
>
fInvalidateTexImage
;
GrGLFunction
<
GrGLInvalidateTexSubImageFn
>
fInvalidateTexSubImage
;
GrGLFunction
<
GrGLIsTextureFn
>
fIsTexture
;
GrGLFunction
<
GrGLLineWidthFn
>
fLineWidth
;
GrGLFunction
<
GrGLLinkProgramFn
>
fLinkProgram
;
GrGLFunction
<
GrGLProgramBinaryFn
>
fProgramBinary
;
GrGLFunction
<
GrGLProgramParameteriFn
>
fProgramParameteri
;
GrGLFunction
<
GrGLMapBufferFn
>
fMapBuffer
;
GrGLFunction
<
GrGLMapBufferRangeFn
>
fMapBufferRange
;
GrGLFunction
<
GrGLMapBufferSubDataFn
>
fMapBufferSubData
;
GrGLFunction
<
GrGLMapTexSubImage2DFn
>
fMapTexSubImage2D
;
GrGLFunction
<
GrGLMemoryBarrierFn
>
fMemoryBarrier
;
GrGLFunction
<
GrGLDrawArraysInstancedBaseInstanceFn
>
fDrawArraysInstancedBaseInstance
;
GrGLFunction
<
GrGLDrawElementsInstancedBaseVertexBaseInstanceFn
>
fDrawElementsInstancedBaseVertexBaseInstance
;
GrGLFunction
<
GrGLMultiDrawArraysIndirectFn
>
fMultiDrawArraysIndirect
;
GrGLFunction
<
GrGLMultiDrawElementsIndirectFn
>
fMultiDrawElementsIndirect
;
GrGLFunction
<
GrGLMultiDrawArraysInstancedBaseInstanceFn
>
fMultiDrawArraysInstancedBaseInstance
;
GrGLFunction
<
GrGLMultiDrawElementsInstancedBaseVertexBaseInstanceFn
>
fMultiDrawElementsInstancedBaseVertexBaseInstance
;
GrGLFunction
<
GrGLPatchParameteriFn
>
fPatchParameteri
;
GrGLFunction
<
GrGLPixelStoreiFn
>
fPixelStorei
;
GrGLFunction
<
GrGLPolygonModeFn
>
fPolygonMode
;
GrGLFunction
<
GrGLPopGroupMarkerFn
>
fPopGroupMarker
;
GrGLFunction
<
GrGLPushGroupMarkerFn
>
fPushGroupMarker
;
GrGLFunction
<
GrGLQueryCounterFn
>
fQueryCounter
;
GrGLFunction
<
GrGLReadBufferFn
>
fReadBuffer
;
GrGLFunction
<
GrGLReadPixelsFn
>
fReadPixels
;
GrGLFunction
<
GrGLRenderbufferStorageFn
>
fRenderbufferStorage
;
GrGLFunction
<
GrGLRenderbufferStorageMultisampleFn
>
fRenderbufferStorageMultisampleES2EXT
;
GrGLFunction
<
GrGLRenderbufferStorageMultisampleFn
>
fRenderbufferStorageMultisampleES2APPLE
;
GrGLFunction
<
GrGLRenderbufferStorageMultisampleFn
>
fRenderbufferStorageMultisample
;
GrGLFunction
<
GrGLBindUniformLocationFn
>
fBindUniformLocation
;
GrGLFunction
<
GrGLResolveMultisampleFramebufferFn
>
fResolveMultisampleFramebuffer
;
GrGLFunction
<
GrGLSamplerParameterfFn
>
fSamplerParameterf
;
GrGLFunction
<
GrGLSamplerParameteriFn
>
fSamplerParameteri
;
GrGLFunction
<
GrGLSamplerParameterivFn
>
fSamplerParameteriv
;
GrGLFunction
<
GrGLScissorFn
>
fScissor
;
GrGLFunction
<
GrGLSetFenceFn
>
fSetFence
;
GrGLFunction
<
GrGLShaderSourceFn
>
fShaderSource
;
GrGLFunction
<
GrGLStencilFuncFn
>
fStencilFunc
;
GrGLFunction
<
GrGLStencilFuncSeparateFn
>
fStencilFuncSeparate
;
GrGLFunction
<
GrGLStencilMaskFn
>
fStencilMask
;
GrGLFunction
<
GrGLStencilMaskSeparateFn
>
fStencilMaskSeparate
;
GrGLFunction
<
GrGLStencilOpFn
>
fStencilOp
;
GrGLFunction
<
GrGLStencilOpSeparateFn
>
fStencilOpSeparate
;
GrGLFunction
<
GrGLTestFenceFn
>
fTestFence
;
GrGLFunction
<
GrGLTexBufferFn
>
fTexBuffer
;
GrGLFunction
<
GrGLTexBufferRangeFn
>
fTexBufferRange
;
GrGLFunction
<
GrGLTexImage2DFn
>
fTexImage2D
;
GrGLFunction
<
GrGLTexParameterfFn
>
fTexParameterf
;
GrGLFunction
<
GrGLTexParameterfvFn
>
fTexParameterfv
;
GrGLFunction
<
GrGLTexParameteriFn
>
fTexParameteri
;
GrGLFunction
<
GrGLTexParameterivFn
>
fTexParameteriv
;
GrGLFunction
<
GrGLTexSubImage2DFn
>
fTexSubImage2D
;
GrGLFunction
<
GrGLTexStorage2DFn
>
fTexStorage2D
;
GrGLFunction
<
GrGLTextureBarrierFn
>
fTextureBarrier
;
GrGLFunction
<
GrGLDiscardFramebufferFn
>
fDiscardFramebuffer
;
GrGLFunction
<
GrGLUniform1fFn
>
fUniform1f
;
GrGLFunction
<
GrGLUniform1iFn
>
fUniform1i
;
GrGLFunction
<
GrGLUniform1fvFn
>
fUniform1fv
;
GrGLFunction
<
GrGLUniform1ivFn
>
fUniform1iv
;
GrGLFunction
<
GrGLUniform2fFn
>
fUniform2f
;
GrGLFunction
<
GrGLUniform2iFn
>
fUniform2i
;
GrGLFunction
<
GrGLUniform2fvFn
>
fUniform2fv
;
GrGLFunction
<
GrGLUniform2ivFn
>
fUniform2iv
;
GrGLFunction
<
GrGLUniform3fFn
>
fUniform3f
;
GrGLFunction
<
GrGLUniform3iFn
>
fUniform3i
;
GrGLFunction
<
GrGLUniform3fvFn
>
fUniform3fv
;
GrGLFunction
<
GrGLUniform3ivFn
>
fUniform3iv
;
GrGLFunction
<
GrGLUniform4fFn
>
fUniform4f
;
GrGLFunction
<
GrGLUniform4iFn
>
fUniform4i
;
GrGLFunction
<
GrGLUniform4fvFn
>
fUniform4fv
;
GrGLFunction
<
GrGLUniform4ivFn
>
fUniform4iv
;
GrGLFunction
<
GrGLUniformMatrix2fvFn
>
fUniformMatrix2fv
;
GrGLFunction
<
GrGLUniformMatrix3fvFn
>
fUniformMatrix3fv
;
GrGLFunction
<
GrGLUniformMatrix4fvFn
>
fUniformMatrix4fv
;
GrGLFunction
<
GrGLUnmapBufferFn
>
fUnmapBuffer
;
GrGLFunction
<
GrGLUnmapBufferSubDataFn
>
fUnmapBufferSubData
;
GrGLFunction
<
GrGLUnmapTexSubImage2DFn
>
fUnmapTexSubImage2D
;
GrGLFunction
<
GrGLUseProgramFn
>
fUseProgram
;
GrGLFunction
<
GrGLVertexAttrib1fFn
>
fVertexAttrib1f
;
GrGLFunction
<
GrGLVertexAttrib2fvFn
>
fVertexAttrib2fv
;
GrGLFunction
<
GrGLVertexAttrib3fvFn
>
fVertexAttrib3fv
;
GrGLFunction
<
GrGLVertexAttrib4fvFn
>
fVertexAttrib4fv
;
GrGLFunction
<
GrGLVertexAttribDivisorFn
>
fVertexAttribDivisor
;
GrGLFunction
<
GrGLVertexAttribIPointerFn
>
fVertexAttribIPointer
;
GrGLFunction
<
GrGLVertexAttribPointerFn
>
fVertexAttribPointer
;
GrGLFunction
<
GrGLViewportFn
>
fViewport
;
GrGLFunction
<
GrGLFenceSyncFn
>
fFenceSync
;
GrGLFunction
<
GrGLIsSyncFn
>
fIsSync
;
GrGLFunction
<
GrGLClientWaitSyncFn
>
fClientWaitSync
;
GrGLFunction
<
GrGLWaitSyncFn
>
fWaitSync
;
GrGLFunction
<
GrGLDeleteSyncFn
>
fDeleteSync
;
GrGLFunction
<
GrGLGetInternalformativFn
>
fGetInternalformativ
;
GrGLFunction
<
GrGLDebugMessageControlFn
>
fDebugMessageControl
;
GrGLFunction
<
GrGLDebugMessageInsertFn
>
fDebugMessageInsert
;
GrGLFunction
<
GrGLDebugMessageCallbackFn
>
fDebugMessageCallback
;
GrGLFunction
<
GrGLGetDebugMessageLogFn
>
fGetDebugMessageLog
;
GrGLFunction
<
GrGLPushDebugGroupFn
>
fPushDebugGroup
;
GrGLFunction
<
GrGLPopDebugGroupFn
>
fPopDebugGroup
;
GrGLFunction
<
GrGLObjectLabelFn
>
fObjectLabel
;
GrGLFunction
<
GrGLWindowRectanglesFn
>
fWindowRectangles
;
GrGLFunction
<
GrGLStartTilingFn
>
fStartTiling
;
GrGLFunction
<
GrGLEndTilingFn
>
fEndTiling
;
}
fFunctions
;
#
if
defined
(
GPU_TEST_UTILS
)
virtual
void
abandon
(
)
const
;
#
endif
}
;
#
endif

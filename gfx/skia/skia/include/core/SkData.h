#
ifndef
SkData_DEFINED
#
define
SkData_DEFINED
#
include
<
stdio
.
h
>
#
include
"
include
/
core
/
SkRefCnt
.
h
"
class
SkStream
;
class
SK_API
SkData
final
:
public
SkNVRefCnt
<
SkData
>
{
public
:
size_t
size
(
)
const
{
return
fSize
;
}
bool
isEmpty
(
)
const
{
return
0
=
=
fSize
;
}
const
void
*
data
(
)
const
{
return
fPtr
;
}
const
uint8_t
*
bytes
(
)
const
{
return
reinterpret_cast
<
const
uint8_t
*
>
(
fPtr
)
;
}
void
*
writable_data
(
)
{
if
(
fSize
)
{
SkASSERT
(
this
-
>
unique
(
)
)
;
}
return
fPtr
;
}
size_t
copyRange
(
size_t
offset
size_t
length
void
*
buffer
)
const
;
bool
equals
(
const
SkData
*
other
)
const
;
typedef
void
(
*
ReleaseProc
)
(
const
void
*
ptr
void
*
context
)
;
static
sk_sp
<
SkData
>
MakeWithCopy
(
const
void
*
data
size_t
length
)
;
static
sk_sp
<
SkData
>
MakeUninitialized
(
size_t
length
)
;
static
sk_sp
<
SkData
>
MakeWithCString
(
const
char
cstr
[
]
)
;
static
sk_sp
<
SkData
>
MakeWithProc
(
const
void
*
ptr
size_t
length
ReleaseProc
proc
void
*
ctx
)
;
static
sk_sp
<
SkData
>
MakeWithoutCopy
(
const
void
*
data
size_t
length
)
{
return
MakeWithProc
(
data
length
DummyReleaseProc
nullptr
)
;
}
static
sk_sp
<
SkData
>
MakeFromMalloc
(
const
void
*
data
size_t
length
)
;
static
sk_sp
<
SkData
>
MakeFromFileName
(
const
char
path
[
]
)
;
static
sk_sp
<
SkData
>
MakeFromFILE
(
FILE
*
f
)
;
static
sk_sp
<
SkData
>
MakeFromFD
(
int
fd
)
;
static
sk_sp
<
SkData
>
MakeFromStream
(
SkStream
*
size_t
size
)
;
static
sk_sp
<
SkData
>
MakeSubset
(
const
SkData
*
src
size_t
offset
size_t
length
)
;
static
sk_sp
<
SkData
>
MakeEmpty
(
)
;
private
:
friend
class
SkNVRefCnt
<
SkData
>
;
ReleaseProc
fReleaseProc
;
void
*
fReleaseProcContext
;
void
*
fPtr
;
size_t
fSize
;
SkData
(
const
void
*
ptr
size_t
size
ReleaseProc
void
*
context
)
;
explicit
SkData
(
size_t
size
)
;
~
SkData
(
)
;
void
operator
delete
(
void
*
p
)
;
static
sk_sp
<
SkData
>
PrivateNewWithCopy
(
const
void
*
srcOrNull
size_t
length
)
;
static
void
DummyReleaseProc
(
const
void
*
void
*
)
;
typedef
SkRefCnt
INHERITED
;
}
;
#
endif

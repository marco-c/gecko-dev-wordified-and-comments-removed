#
ifndef
SkPathEffect_DEFINED
#
define
SkPathEffect_DEFINED
#
include
"
SkFlattenable
.
h
"
#
include
"
SkPath
.
h
"
#
include
"
SkPoint
.
h
"
#
include
"
SkRect
.
h
"
class
SkPath
;
class
SkStrokeRec
;
class
SK_API
SkPathEffect
:
public
SkFlattenable
{
public
:
static
sk_sp
<
SkPathEffect
>
MakeSum
(
sk_sp
<
SkPathEffect
>
first
sk_sp
<
SkPathEffect
>
second
)
;
static
sk_sp
<
SkPathEffect
>
MakeCompose
(
sk_sp
<
SkPathEffect
>
outer
sk_sp
<
SkPathEffect
>
inner
)
;
virtual
bool
filterPath
(
SkPath
*
dst
const
SkPath
&
src
SkStrokeRec
*
const
SkRect
*
cullR
)
const
=
0
;
virtual
void
computeFastBounds
(
SkRect
*
dst
const
SkRect
&
src
)
const
;
class
PointData
{
public
:
PointData
(
)
:
fFlags
(
0
)
fPoints
(
nullptr
)
fNumPoints
(
0
)
{
fSize
.
set
(
SK_Scalar1
SK_Scalar1
)
;
}
~
PointData
(
)
{
delete
[
]
fPoints
;
}
enum
PointFlags
{
kCircles_PointFlag
=
0x01
kUsePath_PointFlag
=
0x02
kUseClip_PointFlag
=
0x04
}
;
uint32_t
fFlags
;
SkPoint
*
fPoints
;
int
fNumPoints
;
SkVector
fSize
;
SkRect
fClipRect
;
SkPath
fPath
;
SkPath
fFirst
;
SkPath
fLast
;
}
;
virtual
bool
asPoints
(
PointData
*
results
const
SkPath
&
src
const
SkStrokeRec
&
const
SkMatrix
&
const
SkRect
*
cullR
)
const
;
enum
DashType
{
kNone_DashType
kDash_DashType
}
;
struct
DashInfo
{
DashInfo
(
)
:
fIntervals
(
nullptr
)
fCount
(
0
)
fPhase
(
0
)
{
}
DashInfo
(
SkScalar
*
intervals
int32_t
count
SkScalar
phase
)
:
fIntervals
(
intervals
)
fCount
(
count
)
fPhase
(
phase
)
{
}
SkScalar
*
fIntervals
;
int32_t
fCount
;
SkScalar
fPhase
;
}
;
virtual
DashType
asADash
(
DashInfo
*
info
)
const
;
SK_TO_STRING_PUREVIRT
(
)
SK_DEFINE_FLATTENABLE_TYPE
(
SkPathEffect
)
#
ifdef
SK_BUILD_FOR_ANDROID_FRAMEWORK
virtual
bool
exposedInAndroidJavaAPI
(
)
const
{
return
false
;
}
#
endif
SK_DECLARE_FLATTENABLE_REGISTRAR_GROUP
(
)
protected
:
SkPathEffect
(
)
{
}
private
:
SkPathEffect
(
const
SkPathEffect
&
)
;
SkPathEffect
&
operator
=
(
const
SkPathEffect
&
)
;
typedef
SkFlattenable
INHERITED
;
}
;
#
endif

#
ifndef
SkFontMgr_DEFINED
#
define
SkFontMgr_DEFINED
#
include
"
SkFontArguments
.
h
"
#
include
"
SkFontStyle
.
h
"
#
include
"
SkRefCnt
.
h
"
#
include
"
SkTypes
.
h
"
class
SkData
;
class
SkFontData
;
class
SkStreamAsset
;
class
SkString
;
class
SkTypeface
;
class
SK_API
SkFontStyleSet
:
public
SkRefCnt
{
public
:
virtual
int
count
(
)
=
0
;
virtual
void
getStyle
(
int
index
SkFontStyle
*
SkString
*
style
)
=
0
;
virtual
SkTypeface
*
createTypeface
(
int
index
)
=
0
;
virtual
SkTypeface
*
matchStyle
(
const
SkFontStyle
&
pattern
)
=
0
;
static
SkFontStyleSet
*
CreateEmpty
(
)
;
protected
:
SkTypeface
*
matchStyleCSS3
(
const
SkFontStyle
&
pattern
)
;
private
:
typedef
SkRefCnt
INHERITED
;
}
;
class
SK_API
SkFontMgr
:
public
SkRefCnt
{
public
:
int
countFamilies
(
)
const
;
void
getFamilyName
(
int
index
SkString
*
familyName
)
const
;
SkFontStyleSet
*
createStyleSet
(
int
index
)
const
;
SkFontStyleSet
*
matchFamily
(
const
char
familyName
[
]
)
const
;
SkTypeface
*
matchFamilyStyle
(
const
char
familyName
[
]
const
SkFontStyle
&
)
const
;
SkTypeface
*
matchFamilyStyleCharacter
(
const
char
familyName
[
]
const
SkFontStyle
&
const
char
*
bcp47
[
]
int
bcp47Count
SkUnichar
character
)
const
;
SkTypeface
*
matchFaceStyle
(
const
SkTypeface
*
const
SkFontStyle
&
)
const
;
sk_sp
<
SkTypeface
>
makeFromData
(
sk_sp
<
SkData
>
int
ttcIndex
=
0
)
const
;
sk_sp
<
SkTypeface
>
makeFromStream
(
std
:
:
unique_ptr
<
SkStreamAsset
>
int
ttcIndex
=
0
)
const
;
sk_sp
<
SkTypeface
>
makeFromStream
(
std
:
:
unique_ptr
<
SkStreamAsset
>
const
SkFontArguments
&
)
const
;
sk_sp
<
SkTypeface
>
makeFromFontData
(
std
:
:
unique_ptr
<
SkFontData
>
)
const
;
sk_sp
<
SkTypeface
>
makeFromFile
(
const
char
path
[
]
int
ttcIndex
=
0
)
const
;
sk_sp
<
SkTypeface
>
legacyMakeTypeface
(
const
char
familyName
[
]
SkFontStyle
style
)
const
;
static
sk_sp
<
SkFontMgr
>
RefDefault
(
)
;
protected
:
virtual
int
onCountFamilies
(
)
const
=
0
;
virtual
void
onGetFamilyName
(
int
index
SkString
*
familyName
)
const
=
0
;
virtual
SkFontStyleSet
*
onCreateStyleSet
(
int
index
)
const
=
0
;
virtual
SkFontStyleSet
*
onMatchFamily
(
const
char
familyName
[
]
)
const
=
0
;
virtual
SkTypeface
*
onMatchFamilyStyle
(
const
char
familyName
[
]
const
SkFontStyle
&
)
const
=
0
;
virtual
SkTypeface
*
onMatchFamilyStyleCharacter
(
const
char
familyName
[
]
const
SkFontStyle
&
const
char
*
bcp47
[
]
int
bcp47Count
SkUnichar
character
)
const
=
0
;
virtual
SkTypeface
*
onMatchFaceStyle
(
const
SkTypeface
*
const
SkFontStyle
&
)
const
=
0
;
virtual
sk_sp
<
SkTypeface
>
onMakeFromData
(
sk_sp
<
SkData
>
int
ttcIndex
)
const
=
0
;
virtual
sk_sp
<
SkTypeface
>
onMakeFromStreamIndex
(
std
:
:
unique_ptr
<
SkStreamAsset
>
int
ttcIndex
)
const
=
0
;
virtual
sk_sp
<
SkTypeface
>
onMakeFromStreamArgs
(
std
:
:
unique_ptr
<
SkStreamAsset
>
const
SkFontArguments
&
)
const
;
virtual
sk_sp
<
SkTypeface
>
onMakeFromFontData
(
std
:
:
unique_ptr
<
SkFontData
>
)
const
;
virtual
sk_sp
<
SkTypeface
>
onMakeFromFile
(
const
char
path
[
]
int
ttcIndex
)
const
=
0
;
virtual
sk_sp
<
SkTypeface
>
onLegacyMakeTypeface
(
const
char
familyName
[
]
SkFontStyle
)
const
=
0
;
private
:
static
sk_sp
<
SkFontMgr
>
Factory
(
)
;
typedef
SkRefCnt
INHERITED
;
}
;
#
endif

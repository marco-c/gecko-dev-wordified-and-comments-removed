#
ifndef
SkMultiPictureDraw_DEFINED
#
define
SkMultiPictureDraw_DEFINED
#
include
"
include
/
core
/
SkMatrix
.
h
"
#
include
"
include
/
private
/
SkTDArray
.
h
"
class
SkCanvas
;
class
SkPaint
;
class
SkPicture
;
class
SK_API
SkMultiPictureDraw
{
public
:
SkMultiPictureDraw
(
int
reserve
=
0
)
;
~
SkMultiPictureDraw
(
)
{
this
-
>
reset
(
)
;
}
void
add
(
SkCanvas
*
canvas
const
SkPicture
*
picture
const
SkMatrix
*
matrix
=
nullptr
const
SkPaint
*
paint
=
nullptr
)
;
void
draw
(
bool
flush
=
false
)
;
void
reset
(
)
;
private
:
struct
DrawData
{
SkCanvas
*
fCanvas
;
const
SkPicture
*
fPicture
;
SkMatrix
fMatrix
;
SkPaint
*
fPaint
;
void
init
(
SkCanvas
*
const
SkPicture
*
const
SkMatrix
*
const
SkPaint
*
)
;
void
draw
(
)
;
static
void
Reset
(
SkTDArray
<
DrawData
>
&
)
;
}
;
SkTDArray
<
DrawData
>
fThreadSafeDrawData
;
SkTDArray
<
DrawData
>
fGPUDrawData
;
}
;
#
endif

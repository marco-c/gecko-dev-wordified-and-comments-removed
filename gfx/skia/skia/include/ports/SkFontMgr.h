#
ifndef
SkFontMgr_DEFINED
#
define
SkFontMgr_DEFINED
#
include
"
SkRefCnt
.
h
"
#
include
"
SkFontStyle
.
h
"
class
SkData
;
class
SkFontData
;
class
SkStreamAsset
;
class
SkString
;
class
SkTypeface
;
class
SK_API
SkFontStyleSet
:
public
SkRefCnt
{
public
:
virtual
int
count
(
)
=
0
;
virtual
void
getStyle
(
int
index
SkFontStyle
*
SkString
*
style
)
=
0
;
virtual
SkTypeface
*
createTypeface
(
int
index
)
=
0
;
virtual
SkTypeface
*
matchStyle
(
const
SkFontStyle
&
pattern
)
=
0
;
static
SkFontStyleSet
*
CreateEmpty
(
)
;
protected
:
SkTypeface
*
matchStyleCSS3
(
const
SkFontStyle
&
pattern
)
;
private
:
typedef
SkRefCnt
INHERITED
;
}
;
class
SK_API
SkFontMgr
:
public
SkRefCnt
{
public
:
int
countFamilies
(
)
const
;
void
getFamilyName
(
int
index
SkString
*
familyName
)
const
;
SkFontStyleSet
*
createStyleSet
(
int
index
)
const
;
SkFontStyleSet
*
matchFamily
(
const
char
familyName
[
]
)
const
;
SkTypeface
*
matchFamilyStyle
(
const
char
familyName
[
]
const
SkFontStyle
&
)
const
;
SkTypeface
*
matchFamilyStyleCharacter
(
const
char
familyName
[
]
const
SkFontStyle
&
const
char
*
bcp47
[
]
int
bcp47Count
SkUnichar
character
)
const
;
SkTypeface
*
matchFaceStyle
(
const
SkTypeface
*
const
SkFontStyle
&
)
const
;
SkTypeface
*
createFromData
(
SkData
*
int
ttcIndex
=
0
)
const
;
SkTypeface
*
createFromStream
(
SkStreamAsset
*
int
ttcIndex
=
0
)
const
;
SkTypeface
*
createFromFontData
(
SkFontData
*
)
const
;
SkTypeface
*
createFromFile
(
const
char
path
[
]
int
ttcIndex
=
0
)
const
;
SkTypeface
*
legacyCreateTypeface
(
const
char
familyName
[
]
unsigned
typefaceStyleBits
)
const
;
static
SkFontMgr
*
RefDefault
(
)
;
protected
:
virtual
int
onCountFamilies
(
)
const
=
0
;
virtual
void
onGetFamilyName
(
int
index
SkString
*
familyName
)
const
=
0
;
virtual
SkFontStyleSet
*
onCreateStyleSet
(
int
index
)
const
=
0
;
virtual
SkFontStyleSet
*
onMatchFamily
(
const
char
familyName
[
]
)
const
=
0
;
virtual
SkTypeface
*
onMatchFamilyStyle
(
const
char
familyName
[
]
const
SkFontStyle
&
)
const
=
0
;
virtual
SkTypeface
*
onMatchFamilyStyleCharacter
(
const
char
familyName
[
]
const
SkFontStyle
&
const
char
*
bcp47
[
]
int
bcp47Count
SkUnichar
character
)
const
=
0
;
virtual
SkTypeface
*
onMatchFaceStyle
(
const
SkTypeface
*
const
SkFontStyle
&
)
const
=
0
;
virtual
SkTypeface
*
onCreateFromData
(
SkData
*
int
ttcIndex
)
const
=
0
;
virtual
SkTypeface
*
onCreateFromStream
(
SkStreamAsset
*
int
ttcIndex
)
const
=
0
;
virtual
SkTypeface
*
onCreateFromFontData
(
SkFontData
*
)
const
;
virtual
SkTypeface
*
onCreateFromFile
(
const
char
path
[
]
int
ttcIndex
)
const
=
0
;
virtual
SkTypeface
*
onLegacyCreateTypeface
(
const
char
familyName
[
]
unsigned
styleBits
)
const
=
0
;
private
:
static
SkFontMgr
*
Factory
(
)
;
friend
SkFontMgr
*
sk_fontmgr_create_default
(
)
;
typedef
SkRefCnt
INHERITED
;
}
;
#
endif

#
ifndef
SkHdrMetadata_DEFINED
#
define
SkHdrMetadata_DEFINED
#
include
"
include
/
core
/
SkColorSpace
.
h
"
#
include
"
include
/
core
/
SkRefCnt
.
h
"
#
include
"
include
/
private
/
base
/
SkAPI
.
h
"
#
include
<
optional
>
class
SkData
;
class
SkString
;
namespace
skhdr
{
struct
SK_API
ContentLightLevelInformation
{
float
fMaxCLL
=
0
.
f
;
float
fMaxFALL
=
0
.
f
;
bool
parse
(
const
SkData
*
data
)
;
sk_sp
<
SkData
>
serialize
(
)
const
;
bool
parsePngChunk
(
const
SkData
*
data
)
;
sk_sp
<
SkData
>
serializePngChunk
(
)
const
;
SkString
toString
(
)
const
;
bool
operator
=
=
(
const
ContentLightLevelInformation
&
other
)
const
;
bool
operator
!
=
(
const
ContentLightLevelInformation
&
other
)
const
{
return
!
(
*
this
=
=
other
)
;
}
}
;
struct
SK_API
MasteringDisplayColorVolume
{
SkColorSpacePrimaries
fDisplayPrimaries
=
{
0
.
f
0
.
f
0
.
f
0
.
f
0
.
f
0
.
f
0
.
f
0
.
f
}
;
float
fMaximumDisplayMasteringLuminance
=
0
.
f
;
float
fMinimumDisplayMasteringLuminance
=
0
.
f
;
bool
parse
(
const
SkData
*
data
)
;
sk_sp
<
SkData
>
serialize
(
)
const
;
SkString
toString
(
)
const
;
bool
operator
=
=
(
const
MasteringDisplayColorVolume
&
other
)
const
;
bool
operator
!
=
(
const
MasteringDisplayColorVolume
&
other
)
const
{
return
!
(
*
this
=
=
other
)
;
}
}
;
class
SK_API
Metadata
{
public
:
static
Metadata
MakeEmpty
(
)
;
bool
getContentLightLevelInformation
(
ContentLightLevelInformation
*
clli
)
const
;
void
setContentLightLevelInformation
(
const
ContentLightLevelInformation
&
clli
)
;
bool
getMasteringDisplayColorVolume
(
MasteringDisplayColorVolume
*
mdcv
)
const
;
void
setMasteringDisplayColorVolume
(
const
MasteringDisplayColorVolume
&
mdcv
)
;
SkString
toString
(
)
const
;
bool
operator
=
=
(
const
Metadata
&
other
)
const
;
bool
operator
!
=
(
const
Metadata
&
other
)
const
{
return
!
(
*
this
=
=
other
)
;
}
private
:
std
:
:
optional
<
ContentLightLevelInformation
>
fContentLightLevelInformation
;
std
:
:
optional
<
MasteringDisplayColorVolume
>
fMasteringDisplayColorVolume
;
}
;
}
#
endif

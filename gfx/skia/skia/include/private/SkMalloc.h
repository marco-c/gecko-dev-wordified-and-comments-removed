#
ifndef
SkMalloc_DEFINED
#
define
SkMalloc_DEFINED
#
include
<
stddef
.
h
>
#
include
<
string
.
h
>
#
include
"
SkPreConfig
.
h
"
enum
{
SK_MALLOC_TEMP
=
0x01
SK_MALLOC_THROW
=
0x02
}
;
SK_API
extern
void
*
sk_malloc_flags
(
size_t
size
unsigned
flags
)
;
SK_API
extern
void
*
sk_malloc_throw
(
size_t
size
)
;
SK_API
extern
void
*
sk_realloc_throw
(
void
*
buffer
size_t
size
)
;
SK_API
extern
void
sk_free
(
void
*
)
;
SK_API
extern
void
*
sk_calloc
(
size_t
size
)
;
SK_API
extern
void
*
sk_calloc_throw
(
size_t
size
)
;
SK_API
extern
void
sk_out_of_memory
(
void
)
;
static
inline
void
sk_bzero
(
void
*
buffer
size_t
size
)
{
if
(
size
)
{
memset
(
buffer
0
size
)
;
}
}
static
inline
void
*
sk_careful_memcpy
(
void
*
dst
const
void
*
src
size_t
len
)
{
if
(
len
)
{
memcpy
(
dst
src
len
)
;
}
return
dst
;
}
#
endif

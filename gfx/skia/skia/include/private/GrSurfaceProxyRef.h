#
ifndef
GrSurfaceProxyRef_DEFINED
#
define
GrSurfaceProxyRef_DEFINED
#
include
"
GrTypesPriv
.
h
"
class
GrSurfaceProxy
;
class
GrSurfaceProxyRef
:
SkNoncopyable
{
public
:
virtual
~
GrSurfaceProxyRef
(
)
;
GrSurfaceProxy
*
get
(
)
const
{
return
fProxy
;
}
bool
ownsPendingIO
(
)
const
{
return
fPendingIO
;
}
GrIOType
ioType
(
)
const
{
return
fIOType
;
}
void
reset
(
)
;
protected
:
GrSurfaceProxyRef
(
)
;
GrSurfaceProxyRef
(
sk_sp
<
GrSurfaceProxy
>
GrIOType
)
;
void
setProxy
(
sk_sp
<
GrSurfaceProxy
>
GrIOType
)
;
private
:
void
markPendingIO
(
)
const
;
void
removeRef
(
)
const
;
void
pendingIOComplete
(
)
const
;
friend
class
GrResourceIOProcessor
;
friend
class
GrOpList
;
GrSurfaceProxy
*
fProxy
;
mutable
bool
fOwnRef
;
mutable
bool
fPendingIO
;
GrIOType
fIOType
;
typedef
SkNoncopyable
INHERITED
;
}
;
#
endif

#
ifndef
GrImageContext_DEFINED
#
define
GrImageContext_DEFINED
#
include
"
GrContext_Base
.
h
"
#
include
"
.
.
/
private
/
GrSingleOwner
.
h
"
class
GrImageContextPriv
;
class
GrProxyProvider
;
class
SK_API
GrImageContext
:
public
GrContext_Base
{
public
:
~
GrImageContext
(
)
override
;
GrImageContextPriv
priv
(
)
;
const
GrImageContextPriv
priv
(
)
const
;
protected
:
friend
class
GrImageContextPriv
;
GrImageContext
(
GrBackendApi
const
GrContextOptions
&
uint32_t
contextID
)
;
virtual
void
abandonContext
(
)
;
bool
abandoned
(
)
const
;
GrProxyProvider
*
proxyProvider
(
)
{
return
fProxyProvider
.
get
(
)
;
}
const
GrProxyProvider
*
proxyProvider
(
)
const
{
return
fProxyProvider
.
get
(
)
;
}
GrSingleOwner
*
singleOwner
(
)
const
{
return
&
fSingleOwner
;
}
GrImageContext
*
asImageContext
(
)
override
{
return
this
;
}
private
:
std
:
:
unique_ptr
<
GrProxyProvider
>
fProxyProvider
;
bool
fAbandoned
=
false
;
mutable
GrSingleOwner
fSingleOwner
;
typedef
GrContext_Base
INHERITED
;
}
;
#
endif

#
ifndef
SkPictureImageFilter_DEFINED
#
define
SkPictureImageFilter_DEFINED
#
include
"
SkImageFilter
.
h
"
#
include
"
SkPicture
.
h
"
class
SK_API
SkPictureImageFilter
:
public
SkImageFilter
{
public
:
static
sk_sp
<
SkImageFilter
>
Make
(
sk_sp
<
SkPicture
>
picture
)
;
static
sk_sp
<
SkImageFilter
>
Make
(
sk_sp
<
SkPicture
>
picture
const
SkRect
&
cropRect
)
;
static
sk_sp
<
SkImageFilter
>
MakeForLocalSpace
(
sk_sp
<
SkPicture
>
picture
const
SkRect
&
cropRect
SkFilterQuality
filterQuality
)
;
SK_TO_STRING_OVERRIDE
(
)
SK_DECLARE_PUBLIC_FLATTENABLE_DESERIALIZATION_PROCS
(
SkPictureImageFilter
)
protected
:
enum
PictureResolution
{
kDeviceSpace_PictureResolution
kLocalSpace_PictureResolution
}
;
void
flatten
(
SkWriteBuffer
&
)
const
override
;
sk_sp
<
SkSpecialImage
>
onFilterImage
(
SkSpecialImage
*
source
const
Context
&
SkIPoint
*
offset
)
const
override
;
private
:
explicit
SkPictureImageFilter
(
sk_sp
<
SkPicture
>
picture
)
;
SkPictureImageFilter
(
sk_sp
<
SkPicture
>
picture
const
SkRect
&
cropRect
PictureResolution
SkFilterQuality
)
;
void
drawPictureAtDeviceResolution
(
SkCanvas
*
canvas
const
SkIRect
&
deviceBounds
const
Context
&
)
const
;
void
drawPictureAtLocalResolution
(
SkSpecialImage
*
source
SkCanvas
*
const
SkIRect
&
deviceBounds
const
Context
&
)
const
;
sk_sp
<
SkPicture
>
fPicture
;
SkRect
fCropRect
;
PictureResolution
fPictureResolution
;
SkFilterQuality
fFilterQuality
;
typedef
SkImageFilter
INHERITED
;
}
;
#
endif

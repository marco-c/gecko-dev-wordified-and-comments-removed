#
ifndef
SkVptr_DEFINED
#
define
SkVptr_DEFINED
#
include
<
string
.
h
>
#
include
<
type_traits
>
template
<
typename
T
>
static
inline
void
*
SkVptr
(
const
T
&
object
)
{
static_assert
(
std
:
:
has_virtual_destructor
<
T
>
:
:
value
"
"
)
;
void
*
vptr
;
memcpy
(
&
vptr
(
const
void
*
)
&
object
sizeof
(
vptr
)
)
;
return
vptr
;
}
#
endif

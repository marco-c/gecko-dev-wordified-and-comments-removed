#
ifndef
SkSpecialSurface_DEFINED
#
define
SkSpecialSurface_DEFINED
#
include
"
SkRefCnt
.
h
"
#
include
"
SkSurfaceProps
.
h
"
class
GrContext
;
struct
GrSurfaceDesc
;
class
SkCanvas
;
struct
SkImageInfo
;
class
SkSpecialImage
;
class
SkSpecialSurface
:
public
SkRefCnt
{
public
:
const
SkSurfaceProps
&
props
(
)
const
{
return
fProps
;
}
int
width
(
)
const
{
return
fSubset
.
width
(
)
;
}
int
height
(
)
const
{
return
fSubset
.
height
(
)
;
}
SkCanvas
*
getCanvas
(
)
;
sk_sp
<
SkSpecialImage
>
makeImageSnapshot
(
)
;
static
sk_sp
<
SkSpecialSurface
>
MakeFromTexture
(
SkImageFilter
:
:
Proxy
*
proxy
const
SkIRect
&
subset
GrTexture
*
const
SkSurfaceProps
*
=
nullptr
)
;
static
sk_sp
<
SkSpecialSurface
>
MakeRenderTarget
(
SkImageFilter
:
:
Proxy
*
proxy
GrContext
*
const
GrSurfaceDesc
&
const
SkSurfaceProps
*
=
nullptr
)
;
static
sk_sp
<
SkSpecialSurface
>
MakeFromBitmap
(
SkImageFilter
:
:
Proxy
*
proxy
const
SkIRect
&
subset
SkBitmap
&
bm
const
SkSurfaceProps
*
=
nullptr
)
;
static
sk_sp
<
SkSpecialSurface
>
MakeRaster
(
SkImageFilter
:
:
Proxy
*
proxy
const
SkImageInfo
&
const
SkSurfaceProps
*
=
nullptr
)
;
protected
:
SkSpecialSurface
(
SkImageFilter
:
:
Proxy
*
const
SkIRect
&
subset
const
SkSurfaceProps
*
)
;
friend
class
TestingSpecialSurfaceAccess
;
const
SkIRect
&
subset
(
)
const
{
return
fSubset
;
}
SkImageFilter
:
:
Proxy
*
proxy
(
)
const
{
return
fProxy
;
}
private
:
const
SkSurfaceProps
fProps
;
const
SkIRect
fSubset
;
SkImageFilter
:
:
Proxy
*
fProxy
;
typedef
SkRefCnt
INHERITED
;
}
;
#
endif

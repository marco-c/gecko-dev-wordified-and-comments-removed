#
ifndef
SkMatrixProvider_DEFINED
#
define
SkMatrixProvider_DEFINED
#
include
"
include
/
core
/
SkM44
.
h
"
#
include
"
include
/
core
/
SkMatrix
.
h
"
class
SkMatrixProvider
{
public
:
SkMatrixProvider
(
const
SkMatrix
&
localToDevice
)
:
fLocalToDevice
(
localToDevice
)
fLocalToDevice33
(
localToDevice
)
{
}
SkMatrixProvider
(
const
SkM44
&
localToDevice
)
:
fLocalToDevice
(
localToDevice
)
fLocalToDevice33
(
localToDevice
.
asM33
(
)
)
{
}
const
SkMatrix
&
localToDevice
(
)
const
{
return
fLocalToDevice33
;
}
const
SkM44
&
localToDevice44
(
)
const
{
return
fLocalToDevice
;
}
private
:
friend
class
SkBaseDevice
;
SkM44
fLocalToDevice
;
SkMatrix
fLocalToDevice33
;
}
;
class
SkPostTranslateMatrixProvider
:
public
SkMatrixProvider
{
public
:
SkPostTranslateMatrixProvider
(
const
SkMatrixProvider
&
parent
SkScalar
dx
SkScalar
dy
)
:
SkMatrixProvider
(
SkM44
:
:
Translate
(
dx
dy
)
*
parent
.
localToDevice44
(
)
)
{
}
}
;
class
SkPreConcatMatrixProvider
:
public
SkMatrixProvider
{
public
:
SkPreConcatMatrixProvider
(
const
SkMatrixProvider
&
parent
const
SkMatrix
&
preMatrix
)
:
SkMatrixProvider
(
parent
.
localToDevice44
(
)
*
SkM44
(
preMatrix
)
)
{
}
}
;
#
endif

#
ifndef
SkColorLookUpTable_DEFINED
#
define
SkColorLookUpTable_DEFINED
#
include
"
SkNx
.
h
"
#
include
"
SkRefCnt
.
h
"
#
include
"
SkTemplates
.
h
"
static
constexpr
uint8_t
kMaxColorChannels
=
4
;
class
SkColorLookUpTable
:
public
SkRefCnt
{
public
:
static
constexpr
uint8_t
kOutputChannels
=
3
;
SkColorLookUpTable
(
uint8_t
inputChannels
const
uint8_t
limits
[
]
)
;
int
inputChannels
(
)
const
{
return
fInputChannels
;
}
int
outputChannels
(
)
const
{
return
kOutputChannels
;
}
int
gridPoints
(
int
dimension
)
const
{
SkASSERT
(
dimension
>
=
0
&
&
dimension
<
inputChannels
(
)
)
;
return
fLimits
[
dimension
]
;
}
void
*
operator
new
(
size_t
size
)
=
delete
;
void
*
operator
new
(
size_t
void
*
p
)
{
return
p
;
}
void
operator
delete
(
void
*
p
)
{
sk_free
(
p
)
;
}
const
float
*
table
(
)
const
{
return
SkTAddOffset
<
const
float
>
(
this
sizeof
(
SkColorLookUpTable
)
)
;
}
private
:
uint8_t
fInputChannels
;
uint8_t
fLimits
[
kMaxColorChannels
]
;
}
;
#
endif

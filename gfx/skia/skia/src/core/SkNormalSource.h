#
ifndef
SkNormalSource_DEFINED
#
define
SkNormalSource_DEFINED
#
include
"
SkFlattenable
.
h
"
#
include
"
SkShaderBase
.
h
"
class
SkMatrix
;
struct
SkPoint3
;
#
if
SK_SUPPORT_GPU
class
GrFragmentProcessor
;
#
endif
class
SK_API
SkNormalSource
:
public
SkFlattenable
{
public
:
virtual
~
SkNormalSource
(
)
override
;
#
if
SK_SUPPORT_GPU
virtual
std
:
:
unique_ptr
<
GrFragmentProcessor
>
asFragmentProcessor
(
const
GrFPArgs
&
)
const
=
0
;
#
endif
class
Provider
{
public
:
virtual
~
Provider
(
)
{
}
virtual
void
fillScanLine
(
int
x
int
y
SkPoint3
output
[
]
int
count
)
const
=
0
;
}
;
virtual
Provider
*
asProvider
(
const
SkShaderBase
:
:
ContextRec
&
SkArenaAlloc
*
)
const
=
0
;
static
sk_sp
<
SkNormalSource
>
MakeFromNormalMap
(
sk_sp
<
SkShader
>
map
const
SkMatrix
&
ctm
)
;
static
sk_sp
<
SkNormalSource
>
MakeFlat
(
)
;
SK_DEFINE_FLATTENABLE_TYPE
(
SkNormalSource
)
SK_DECLARE_FLATTENABLE_REGISTRAR_GROUP
(
)
}
;
#
endif

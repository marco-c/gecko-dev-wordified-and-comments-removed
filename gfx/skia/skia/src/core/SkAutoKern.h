#
ifndef
SkAutoKern_DEFINED
#
define
SkAutoKern_DEFINED
#
include
"
SkGlyph
.
h
"
#
define
SkAutoKern_Adjust
(
prev
next
)
SkIntToScalar
(
(
(
next
)
-
(
prev
)
+
32
)
>
>
6
)
class
SkAutoKern
{
public
:
SkAutoKern
(
)
:
fPrevRsbDelta
(
0
)
{
}
SkScalar
adjust
(
const
SkGlyph
&
glyph
)
{
#
if
0
int
distort
=
fPrevRsbDelta
-
glyph
.
fLsbDelta
;
fPrevRsbDelta
=
glyph
.
fRsbDelta
;
if
(
distort
>
=
32
)
return
-
SK_Scalar1
;
else
if
(
distort
<
-
32
)
return
+
SK_Scalar1
;
else
return
0
;
#
else
SkScalar
adjust
=
SkAutoKern_Adjust
(
fPrevRsbDelta
glyph
.
fLsbDelta
)
;
fPrevRsbDelta
=
glyph
.
fRsbDelta
;
return
adjust
;
#
endif
}
private
:
int
fPrevRsbDelta
;
}
;
#
endif

#
include
"
SkContext_Compute
.
h
"
#
ifdef
__cplusplus
extern
"
C
"
{
#
endif
#
ifdef
__cplusplus
}
#
endif
#
define
TARGET_PLATFORM_SUBSTRING
"
TO
BE
SET
"
#
define
TARGET_DEVICE_SUBSTRING
"
TO
BE
SET
"
SkContext_Compute
:
:
SkContext_Compute
(
GrGLInterface
const
*
fInterface
)
:
fInterface
(
fInterface
)
{
SkSafeRef
(
fInterface
)
;
skc_err
err
;
err
=
skc_context_create
(
&
context
TARGET_PLATFORM_SUBSTRING
TARGET_DEVICE_SUBSTRING
)
;
SKC_ERR_CHECK
(
err
)
;
err
=
skc_surface_create
(
context
interop
&
surface
)
;
SKC_ERR_CHECK
(
err
)
;
}
SkContext_Compute
:
:
~
SkContext_Compute
(
)
{
skc_err
err
;
err
=
skc_surface_dispose
(
surface
)
;
SKC_ERR_CHECK
(
err
)
;
err
=
skc_context_release
(
context
)
;
SKC_ERR_CHECK
(
err
)
;
SkSafeUnref
(
fInterface
)
;
}

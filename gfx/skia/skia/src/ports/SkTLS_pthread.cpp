#
include
"
include
/
private
/
SkOnce
.
h
"
#
include
"
src
/
core
/
SkTLS
.
h
"
#
include
<
pthread
.
h
>
static
pthread_key_t
gSkTLSKey
;
void
*
SkTLS
:
:
PlatformGetSpecific
(
bool
forceCreateTheSlot
)
{
static
SkOnce
once
;
once
(
pthread_key_create
&
gSkTLSKey
SkTLS
:
:
Destructor
)
;
return
pthread_getspecific
(
gSkTLSKey
)
;
}
void
SkTLS
:
:
PlatformSetSpecific
(
void
*
ptr
)
{
(
void
)
pthread_setspecific
(
gSkTLSKey
ptr
)
;
}

#
include
"
SkTypes
.
h
"
#
if
defined
(
SK_BUILD_FOR_WIN
)
#
include
"
SkData
.
h
"
#
include
"
SkImageGenerator
.
h
"
#
include
"
SkTemplates
.
h
"
#
include
"
SkTScopedComPtr
.
h
"
#
include
<
wincodec
.
h
>
class
SkImageGeneratorWIC
:
public
SkImageGenerator
{
public
:
static
SkImageGenerator
*
NewFromEncodedWIC
(
SkData
*
data
)
;
protected
:
SkData
*
onRefEncodedData
(
SK_REFENCODEDDATA_CTXPARAM
)
override
;
bool
onGetPixels
(
const
SkImageInfo
&
info
void
*
pixels
size_t
rowBytes
SkPMColor
ctable
[
]
int
*
ctableCount
)
override
;
private
:
SkImageGeneratorWIC
(
const
SkImageInfo
&
info
IWICImagingFactory
*
imagingFactory
IWICBitmapSource
*
imageSource
SkData
*
data
)
;
SkTScopedComPtr
<
IWICImagingFactory
>
fImagingFactory
;
SkTScopedComPtr
<
IWICBitmapSource
>
fImageSource
;
SkAutoTUnref
<
SkData
>
fData
;
typedef
SkImageGenerator
INHERITED
;
}
;
#
endif

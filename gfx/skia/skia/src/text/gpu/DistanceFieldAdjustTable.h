#
ifndef
sktext_gpu_DistanceFieldAdjustTable_DEFINED
#
define
sktext_gpu_DistanceFieldAdjustTable_DEFINED
#
include
"
include
/
core
/
SkScalar
.
h
"
template
<
typename
T
>
class
SkNoDestructor
;
namespace
sktext
:
:
gpu
{
class
DistanceFieldAdjustTable
{
public
:
static
const
DistanceFieldAdjustTable
*
Get
(
)
;
~
DistanceFieldAdjustTable
(
)
{
delete
[
]
fTable
;
delete
[
]
fGammaCorrectTable
;
}
SkScalar
getAdjustment
(
int
lum
bool
useGammaCorrectTable
)
const
{
lum
>
>
=
kDistanceAdjustLumShift
;
return
useGammaCorrectTable
?
fGammaCorrectTable
[
lum
]
:
fTable
[
lum
]
;
}
private
:
DistanceFieldAdjustTable
(
)
;
static
constexpr
int
kDistanceAdjustLumShift
=
5
;
SkScalar
*
fTable
;
SkScalar
*
fGammaCorrectTable
;
friend
class
SkNoDestructor
<
DistanceFieldAdjustTable
>
;
}
;
}
#
endif

#
include
"
include
/
core
/
SkRefCnt
.
h
"
#
include
"
include
/
core
/
SkSerialProcs
.
h
"
#
include
"
include
/
private
/
base
/
SkAssert
.
h
"
#
include
"
include
/
private
/
chromium
/
Slug
.
h
"
#
include
"
src
/
core
/
SkReadBuffer
.
h
"
#
include
<
atomic
>
#
include
<
cstdint
>
namespace
sktext
:
:
gpu
{
sk_sp
<
Slug
>
Slug
:
:
MakeFromBuffer
(
SkReadBuffer
&
buffer
)
{
auto
procs
=
buffer
.
getDeserialProcs
(
)
;
if
(
procs
.
fSlugProc
)
{
return
procs
.
fSlugProc
(
buffer
procs
.
fSlugCtx
)
;
}
SkDEBUGFAIL
(
"
Should
have
set
serial
procs
"
)
;
return
nullptr
;
}
uint32_t
Slug
:
:
NextUniqueID
(
)
{
static
std
:
:
atomic
<
uint32_t
>
nextUnique
=
1
;
return
nextUnique
+
+
;
}
}

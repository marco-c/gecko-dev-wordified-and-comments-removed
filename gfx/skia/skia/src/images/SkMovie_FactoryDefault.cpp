#
include
"
SkMovie
.
h
"
#
include
"
SkStream
.
h
"
typedef
SkTRegistry
<
SkMovie
*
(
*
)
(
SkStreamRewindable
*
)
>
MovieReg
;
SkMovie
*
SkMovie
:
:
DecodeStream
(
SkStreamRewindable
*
stream
)
{
const
MovieReg
*
curr
=
MovieReg
:
:
Head
(
)
;
while
(
curr
)
{
SkMovie
*
movie
=
curr
-
>
factory
(
)
(
stream
)
;
if
(
movie
)
{
return
movie
;
}
stream
-
>
rewind
(
)
;
curr
=
curr
-
>
next
(
)
;
}
return
nullptr
;
}

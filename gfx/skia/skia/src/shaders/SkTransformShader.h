#
ifndef
SkTextCoordShader_DEFINED
#
define
SkTextCoordShader_DEFINED
#
include
"
src
/
core
/
SkVM
.
h
"
#
include
"
src
/
shaders
/
SkShaderBase
.
h
"
class
SkTransformShader
:
public
SkShaderBase
{
public
:
explicit
SkTransformShader
(
const
SkShaderBase
&
shader
bool
allowPerspective
)
;
skvm
:
:
Color
program
(
skvm
:
:
Builder
*
b
skvm
:
:
Coord
device
skvm
:
:
Coord
local
skvm
:
:
Color
color
const
MatrixRec
&
mRec
const
SkColorInfo
&
dst
skvm
:
:
Uniforms
*
uniforms
SkArenaAlloc
*
alloc
)
const
override
;
bool
appendStages
(
const
SkStageRec
&
rec
const
MatrixRec
&
)
const
override
;
bool
update
(
const
SkMatrix
&
matrix
)
;
Factory
getFactory
(
)
const
override
{
SkDEBUGFAIL
(
"
SkTransformShader
shouldn
'
t
be
serialized
.
"
)
;
return
{
}
;
}
const
char
*
getTypeName
(
)
const
override
{
SkDEBUGFAIL
(
"
SkTransformShader
shouldn
'
t
be
serialized
.
"
)
;
return
nullptr
;
}
bool
isOpaque
(
)
const
override
{
return
fShader
.
isOpaque
(
)
;
}
private
:
const
SkShaderBase
&
fShader
;
SkScalar
fMatrixStorage
[
9
]
;
bool
fAllowPerspective
;
}
;
#
endif

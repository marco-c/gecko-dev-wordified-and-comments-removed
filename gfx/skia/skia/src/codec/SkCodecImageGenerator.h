#
include
"
SkCodec
.
h
"
#
include
"
SkData
.
h
"
#
include
"
SkImageGenerator
.
h
"
class
SkCodecImageGenerator
:
public
SkImageGenerator
{
public
:
static
SkImageGenerator
*
NewFromEncodedCodec
(
sk_sp
<
SkData
>
)
;
static
SkImageGenerator
*
NewFromEncodedCodec
(
SkData
*
data
)
{
return
NewFromEncodedCodec
(
sk_ref_sp
(
data
)
)
;
}
protected
:
SkData
*
onRefEncodedData
(
SK_REFENCODEDDATA_CTXPARAM
)
override
;
bool
onGetPixels
(
const
SkImageInfo
&
info
void
*
pixels
size_t
rowBytes
SkPMColor
ctable
[
]
int
*
ctableCount
)
override
;
bool
onQueryYUV8
(
SkYUVSizeInfo
*
SkYUVColorSpace
*
)
const
override
;
bool
onGetYUV8Planes
(
const
SkYUVSizeInfo
&
void
*
planes
[
3
]
)
override
;
private
:
SkCodecImageGenerator
(
SkCodec
*
codec
sk_sp
<
SkData
>
)
;
SkAutoTDelete
<
SkCodec
>
fCodec
;
sk_sp
<
SkData
>
fData
;
typedef
SkImageGenerator
INHERITED
;
}
;

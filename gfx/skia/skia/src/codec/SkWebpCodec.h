#
ifndef
SkWebpCodec_DEFINED
#
define
SkWebpCodec_DEFINED
#
include
"
SkCodec
.
h
"
#
include
"
SkEncodedFormat
.
h
"
#
include
"
SkImageInfo
.
h
"
#
include
"
SkTypes
.
h
"
class
SkStream
;
static
const
size_t
WEBP_VP8_HEADER_SIZE
=
30
;
class
SkWebpCodec
final
:
public
SkCodec
{
public
:
static
SkCodec
*
NewFromStream
(
SkStream
*
)
;
static
bool
IsWebp
(
const
void
*
size_t
)
;
protected
:
Result
onGetPixels
(
const
SkImageInfo
&
void
*
size_t
const
Options
&
SkPMColor
*
int
*
int
*
)
override
;
SkEncodedFormat
onGetEncodedFormat
(
)
const
override
{
return
kWEBP_SkEncodedFormat
;
}
SkISize
onGetScaledDimensions
(
float
desiredScale
)
const
override
;
bool
onDimensionsSupported
(
const
SkISize
&
)
override
;
bool
onGetValidSubset
(
SkIRect
*
)
const
override
;
private
:
SkWebpCodec
(
const
SkImageInfo
&
SkStream
*
)
;
typedef
SkCodec
INHERITED
;
}
;
#
endif

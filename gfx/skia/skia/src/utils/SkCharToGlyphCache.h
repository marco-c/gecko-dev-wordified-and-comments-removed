#
ifndef
SkCharToGlyphCache_DEFINED
#
define
SkCharToGlyphCache_DEFINED
#
include
"
include
/
core
/
SkTypes
.
h
"
#
include
"
include
/
private
/
SkTDArray
.
h
"
class
SkCharToGlyphCache
{
public
:
SkCharToGlyphCache
(
)
;
~
SkCharToGlyphCache
(
)
;
int
count
(
)
const
{
return
fK32
.
count
(
)
;
}
void
reset
(
)
;
int
findGlyphIndex
(
SkUnichar
c
)
const
;
void
insertCharAndGlyph
(
int
index
SkUnichar
SkGlyphID
)
;
void
addCharAndGlyph
(
SkUnichar
unichar
SkGlyphID
glyph
)
{
int
index
=
this
-
>
findGlyphIndex
(
unichar
)
;
if
(
index
>
=
0
)
{
SkASSERT
(
SkToU16
(
index
)
=
=
glyph
)
;
}
else
{
this
-
>
insertCharAndGlyph
(
~
index
unichar
glyph
)
;
}
}
private
:
SkTDArray
<
int32_t
>
fK32
;
SkTDArray
<
uint16_t
>
fV16
;
double
fDenom
;
}
;
#
endif

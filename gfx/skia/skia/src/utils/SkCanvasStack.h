#
ifndef
SkCanvasStack_DEFINED
#
define
SkCanvasStack_DEFINED
#
include
"
include
/
core
/
SkRegion
.
h
"
#
include
"
include
/
private
/
SkTArray
.
h
"
#
include
"
include
/
utils
/
SkNWayCanvas
.
h
"
class
SkCanvasStack
:
public
SkNWayCanvas
{
public
:
SkCanvasStack
(
int
width
int
height
)
;
~
SkCanvasStack
(
)
override
;
void
pushCanvas
(
std
:
:
unique_ptr
<
SkCanvas
>
const
SkIPoint
&
origin
)
;
void
removeAll
(
)
override
;
void
addCanvas
(
SkCanvas
*
)
override
{
SkDEBUGFAIL
(
"
Invalid
Op
"
)
;
}
void
removeCanvas
(
SkCanvas
*
)
override
{
SkDEBUGFAIL
(
"
Invalid
Op
"
)
;
}
protected
:
void
didSetMatrix
(
const
SkMatrix
&
)
override
;
void
onClipRect
(
const
SkRect
&
SkClipOp
ClipEdgeStyle
)
override
;
void
onClipRRect
(
const
SkRRect
&
SkClipOp
ClipEdgeStyle
)
override
;
void
onClipPath
(
const
SkPath
&
SkClipOp
ClipEdgeStyle
)
override
;
void
onClipRegion
(
const
SkRegion
&
SkClipOp
)
override
;
private
:
void
clipToZOrderedBounds
(
)
;
struct
CanvasData
{
SkIPoint
origin
;
SkRegion
requiredClip
;
std
:
:
unique_ptr
<
SkCanvas
>
ownedCanvas
;
}
;
SkTArray
<
CanvasData
>
fCanvasData
;
typedef
SkNWayCanvas
INHERITED
;
}
;
#
endif

#
ifndef
SkBitmapRegionDecoderPriv_DEFINED
#
define
SkBitmapRegionDecoderPriv_DEFINED
#
include
"
SkRect
.
h
"
enum
SubsetType
{
kFullyInside_SubsetType
kPartiallyInside_SubsetType
kOutside_SubsetType
}
;
inline
SubsetType
adjust_subset_rect
(
const
SkISize
&
imageDims
SkIRect
*
subset
int
*
outX
int
*
outY
)
{
int
left
=
SkTMax
(
0
subset
-
>
fLeft
)
;
int
top
=
SkTMax
(
0
subset
-
>
fTop
)
;
*
outX
=
left
-
subset
-
>
fLeft
;
*
outY
=
top
-
subset
-
>
fTop
;
int
width
=
SkTMin
(
imageDims
.
width
(
)
-
left
subset
-
>
width
(
)
-
*
outX
)
;
int
height
=
SkTMin
(
imageDims
.
height
(
)
-
top
subset
-
>
height
(
)
-
*
outY
)
;
if
(
width
<
=
0
|
|
height
<
=
0
)
{
return
SubsetType
:
:
kOutside_SubsetType
;
}
subset
-
>
setXYWH
(
left
top
width
height
)
;
if
(
(
*
outX
!
=
0
)
|
|
(
*
outY
!
=
0
)
|
|
(
width
!
=
subset
-
>
width
(
)
)
|
|
(
height
!
=
subset
-
>
height
(
)
)
)
{
return
SubsetType
:
:
kPartiallyInside_SubsetType
;
}
return
SubsetType
:
:
kFullyInside_SubsetType
;
}
#
endif

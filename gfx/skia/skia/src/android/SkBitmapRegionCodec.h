#
ifndef
SkBitmapRegionCodec_DEFINED
#
define
SkBitmapRegionCodec_DEFINED
#
include
"
SkBitmap
.
h
"
#
include
"
SkBitmapRegionDecoder
.
h
"
#
include
"
SkAndroidCodec
.
h
"
class
SkBitmapRegionCodec
:
public
SkBitmapRegionDecoder
{
public
:
SkBitmapRegionCodec
(
SkAndroidCodec
*
codec
)
;
bool
decodeRegion
(
SkBitmap
*
bitmap
SkBRDAllocator
*
allocator
const
SkIRect
&
desiredSubset
int
sampleSize
SkColorType
colorType
bool
requireUnpremul
sk_sp
<
SkColorSpace
>
prefColorSpace
)
override
;
SkEncodedImageFormat
getEncodedFormat
(
)
override
{
return
fCodec
-
>
getEncodedFormat
(
)
;
}
SkColorType
computeOutputColorType
(
SkColorType
requestedColorType
)
override
{
return
fCodec
-
>
computeOutputColorType
(
requestedColorType
)
;
}
sk_sp
<
SkColorSpace
>
computeOutputColorSpace
(
SkColorType
outputColorType
sk_sp
<
SkColorSpace
>
prefColorSpace
=
nullptr
)
override
{
return
fCodec
-
>
computeOutputColorSpace
(
outputColorType
prefColorSpace
)
;
}
private
:
std
:
:
unique_ptr
<
SkAndroidCodec
>
fCodec
;
typedef
SkBitmapRegionDecoder
INHERITED
;
}
;
#
endif

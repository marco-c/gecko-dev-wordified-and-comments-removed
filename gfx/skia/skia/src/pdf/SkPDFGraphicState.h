#
ifndef
SkPDFGraphicState_DEFINED
#
define
SkPDFGraphicState_DEFINED
#
include
"
SkPaint
.
h
"
#
include
"
SkPDFStream
.
h
"
#
include
"
SkChecksum
.
h
"
class
SkPDFCanon
;
class
SkPDFFormXObject
;
class
SkPDFGraphicState
final
:
public
SkPDFObject
{
public
:
enum
SkPDFSMaskMode
{
kAlpha_SMaskMode
kLuminosity_SMaskMode
}
;
void
emitObject
(
SkWStream
*
stream
const
SkPDFObjNumMap
&
objNumMap
const
SkPDFSubstituteMap
&
substitutes
)
const
override
;
static
SkPDFGraphicState
*
GetGraphicStateForPaint
(
SkPDFCanon
*
canon
const
SkPaint
&
paint
)
;
static
sk_sp
<
SkPDFDict
>
GetSMaskGraphicState
(
SkPDFFormXObject
*
sMask
bool
invert
SkPDFSMaskMode
sMaskMode
SkPDFCanon
*
canon
)
;
static
sk_sp
<
SkPDFDict
>
MakeNoSmaskGraphicState
(
)
;
static
sk_sp
<
SkPDFStream
>
MakeInvertFunction
(
)
;
bool
operator
=
=
(
const
SkPDFGraphicState
&
rhs
)
const
{
return
0
=
=
memcmp
(
&
fStrokeWidth
&
rhs
.
fStrokeWidth
12
)
;
}
uint32_t
hash
(
)
const
{
return
SkChecksum
:
:
Murmur3
(
&
fStrokeWidth
12
)
;
}
private
:
const
SkScalar
fStrokeWidth
;
const
SkScalar
fStrokeMiter
;
const
uint8_t
fAlpha
;
const
uint8_t
fStrokeCap
;
const
uint8_t
fStrokeJoin
;
const
uint8_t
fMode
;
SkPDFGraphicState
(
const
SkPaint
&
)
;
typedef
SkPDFDict
INHERITED
;
}
;
#
endif

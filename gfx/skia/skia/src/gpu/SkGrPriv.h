#
ifndef
SkGrPriv_DEFINED
#
define
SkGrPriv_DEFINED
#
include
"
GrTypes
.
h
"
#
include
"
GrBlend
.
h
"
#
include
"
SkImageInfo
.
h
"
#
include
"
SkMatrix
.
h
"
#
include
"
SkXfermode
.
h
"
class
GrCaps
;
class
GrContext
;
class
GrDrawContext
;
class
GrFragmentProcessor
;
class
GrPaint
;
class
GrTexture
;
class
GrTextureParams
;
class
GrUniqueKey
;
class
SkData
;
class
SkPaint
;
class
SkPixelRef
;
struct
SkIRect
;
void
GrMakeKeyFromImageID
(
GrUniqueKey
*
key
uint32_t
imageID
const
SkIRect
&
imageBounds
)
;
void
GrInstallBitmapUniqueKeyInvalidator
(
const
GrUniqueKey
&
key
SkPixelRef
*
pixelRef
)
;
bool
SkPaintToGrPaint
(
GrContext
*
GrDrawContext
*
const
SkPaint
&
skPaint
const
SkMatrix
&
viewM
GrPaint
*
grPaint
)
;
bool
SkPaintToGrPaintNoShader
(
GrContext
*
context
GrDrawContext
*
dc
const
SkPaint
&
skPaint
GrPaint
*
grPaint
)
;
bool
SkPaintToGrPaintReplaceShader
(
GrContext
*
GrDrawContext
*
const
SkPaint
&
skPaint
sk_sp
<
GrFragmentProcessor
>
shaderFP
GrPaint
*
grPaint
)
;
bool
SkPaintToGrPaintWithXfermode
(
GrContext
*
context
GrDrawContext
*
dc
const
SkPaint
&
skPaint
const
SkMatrix
&
viewM
SkXfermode
:
:
Mode
primColorMode
bool
primitiveIsSrc
GrPaint
*
grPaint
)
;
inline
bool
SkPaintToGrPaintWithPrimitiveColor
(
GrContext
*
context
GrDrawContext
*
dc
const
SkPaint
&
skPaint
GrPaint
*
grPaint
)
{
return
SkPaintToGrPaintWithXfermode
(
context
dc
skPaint
SkMatrix
:
:
I
(
)
SkXfermode
:
:
kDst_Mode
false
grPaint
)
;
}
bool
SkPaintToGrPaintWithTexture
(
GrContext
*
context
GrDrawContext
*
dc
const
SkPaint
&
paint
const
SkMatrix
&
viewM
sk_sp
<
GrFragmentProcessor
>
fp
bool
textureIsAlphaOnly
GrPaint
*
grPaint
)
;
GrSurfaceDesc
GrImageInfoToSurfaceDesc
(
const
SkImageInfo
&
const
GrCaps
&
)
;
bool
GrPixelConfigToColorType
(
GrPixelConfig
SkColorType
*
)
;
GrPixelConfig
GrRenderableConfigForColorSpace
(
const
SkColorSpace
*
)
;
GrPixelConfig
GrIsCompressedTextureDataSupported
(
GrContext
*
ctx
SkData
*
data
int
expectedW
int
expectedH
const
void
*
*
outStartOfDataToUpload
)
;
GrTexture
*
GrUploadBitmapToTexture
(
GrContext
*
const
SkBitmap
&
)
;
GrTexture
*
GrGenerateMipMapsAndUploadToTexture
(
GrContext
*
const
SkBitmap
&
SkSourceGammaTreatment
)
;
GrTexture
*
GrUploadPixmapToTexture
(
GrContext
*
const
SkPixmap
&
SkBudgeted
budgeted
)
;
GrTexture
*
GrUploadMipMapToTexture
(
GrContext
*
const
SkImageInfo
&
const
GrMipLevel
*
texels
int
mipLevelCount
)
;
GR_STATIC_ASSERT
(
(
int
)
kZero_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kZero_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kOne_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kOne_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kSC_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kSC_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kISC_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kISC_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kDC_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kDC_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kIDC_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kIDC_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kSA_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kSA_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kISA_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kISA_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kDA_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kDA_Coeff
)
;
GR_STATIC_ASSERT
(
(
int
)
kIDA_GrBlendCoeff
=
=
(
int
)
SkXfermode
:
:
kIDA_Coeff
)
;
GR_STATIC_ASSERT
(
SkXfermode
:
:
kCoeffCount
=
=
10
)
;
#
define
SkXfermodeCoeffToGrBlendCoeff
(
X
)
(
(
GrBlendCoeff
)
(
X
)
)
#
endif

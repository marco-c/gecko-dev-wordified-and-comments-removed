#
ifndef
GrD3DPipeline_DEFINED
#
define
GrD3DPipeline_DEFINED
#
include
"
include
/
gpu
/
d3d
/
GrD3DTypes
.
h
"
#
include
"
src
/
gpu
/
ganesh
/
GrManagedResource
.
h
"
class
GrD3DPipeline
:
public
GrManagedResource
{
public
:
static
sk_sp
<
GrD3DPipeline
>
Make
(
gr_cp
<
ID3D12PipelineState
>
pipelineState
)
{
return
sk_sp
<
GrD3DPipeline
>
(
new
GrD3DPipeline
(
std
:
:
move
(
pipelineState
)
)
)
;
}
#
ifdef
SK_TRACE_MANAGED_RESOURCES
void
dumpInfo
(
)
const
override
{
SkDebugf
(
"
GrD3DPipeline
:
%
p
(
%
d
refs
)
\
n
"
fPipelineState
.
get
(
)
this
-
>
getRefCnt
(
)
)
;
}
#
endif
void
freeGPUData
(
)
const
override
{
}
ID3D12PipelineState
*
d3dPipelineState
(
)
const
{
return
fPipelineState
.
get
(
)
;
}
private
:
GrD3DPipeline
(
gr_cp
<
ID3D12PipelineState
>
pipelineState
)
:
fPipelineState
(
std
:
:
move
(
pipelineState
)
)
{
}
gr_cp
<
ID3D12PipelineState
>
fPipelineState
;
using
INHERITED
=
GrManagedResource
;
}
;
#
endif

#
ifndef
GrSWMaskHelper_DEFINED
#
define
GrSWMaskHelper_DEFINED
#
include
"
include
/
core
/
SkMatrix
.
h
"
#
include
"
include
/
core
/
SkRegion
.
h
"
#
include
"
include
/
core
/
SkTypes
.
h
"
#
include
"
include
/
private
/
gpu
/
ganesh
/
GrTypesPriv
.
h
"
#
include
"
src
/
core
/
SkAutoPixmapStorage
.
h
"
#
include
"
src
/
core
/
SkDrawBase
.
h
"
#
include
"
src
/
core
/
SkRasterClip
.
h
"
#
include
"
src
/
gpu
/
ganesh
/
GrSurfaceProxyView
.
h
"
class
GrShape
;
class
GrStyledShape
;
class
GrRecordingContext
;
class
GrTextureProxy
;
class
GrSWMaskHelper
:
SkNoncopyable
{
public
:
GrSWMaskHelper
(
SkAutoPixmapStorage
*
pixels
=
nullptr
)
:
fPixels
(
pixels
?
pixels
:
&
fPixelsStorage
)
{
}
bool
init
(
const
SkIRect
&
resultBounds
)
;
void
drawRect
(
const
SkRect
&
rect
const
SkMatrix
&
matrix
GrAA
uint8_t
alpha
)
;
void
drawRRect
(
const
SkRRect
&
rrect
const
SkMatrix
&
matrix
GrAA
uint8_t
alpha
)
;
void
drawShape
(
const
GrStyledShape
&
const
SkMatrix
&
matrix
GrAA
uint8_t
alpha
)
;
void
drawShape
(
const
GrShape
&
const
SkMatrix
&
matrix
GrAA
uint8_t
alpha
)
;
GrSurfaceProxyView
toTextureView
(
GrRecordingContext
*
SkBackingFit
fit
)
;
void
clear
(
uint8_t
alpha
)
{
fPixels
-
>
erase
(
SkColorSetARGB
(
alpha
0xFF
0xFF
0xFF
)
)
;
}
private
:
SkVector
fTranslate
;
SkAutoPixmapStorage
*
fPixels
;
SkAutoPixmapStorage
fPixelsStorage
;
SkDrawBase
fDraw
;
SkRasterClip
fRasterClip
;
using
INHERITED
=
SkNoncopyable
;
}
;
#
endif

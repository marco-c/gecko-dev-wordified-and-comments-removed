#
ifndef
GrDawnAsyncWait_DEFINED
#
define
GrDawnAsyncWait_DEFINED
#
include
"
webgpu
/
webgpu_cpp
.
h
"
#
include
<
atomic
>
#
include
<
functional
>
class
GrDawnAsyncWait
final
{
public
:
explicit
GrDawnAsyncWait
(
const
wgpu
:
:
Device
&
device
)
;
bool
yieldAndCheck
(
)
const
;
void
busyWait
(
)
const
;
void
signal
(
)
{
fSignaled
.
store
(
true
)
;
}
void
reset
(
)
{
fSignaled
.
store
(
false
)
;
}
private
:
wgpu
:
:
Device
fDevice
;
std
:
:
atomic_bool
fSignaled
;
}
;
#
endif

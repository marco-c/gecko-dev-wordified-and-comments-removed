#
ifndef
GrGradientShader_DEFINE
#
define
GrGradientShader_DEFINE
#
include
"
src
/
gpu
/
ganesh
/
GrFPArgs
.
h
"
#
include
"
src
/
gpu
/
ganesh
/
GrFragmentProcessor
.
h
"
#
include
"
src
/
shaders
/
gradients
/
SkGradientShaderBase
.
h
"
#
include
"
src
/
shaders
/
gradients
/
SkLinearGradient
.
h
"
#
if
GR_TEST_UTILS
#
include
"
src
/
base
/
SkRandom
.
h
"
#
endif
namespace
GrGradientShader
{
std
:
:
unique_ptr
<
GrFragmentProcessor
>
MakeGradientFP
(
const
SkGradientShaderBase
&
shader
const
GrFPArgs
&
args
const
SkShaderBase
:
:
MatrixRec
&
std
:
:
unique_ptr
<
GrFragmentProcessor
>
layout
const
SkMatrix
*
overrideMatrix
=
nullptr
)
;
std
:
:
unique_ptr
<
GrFragmentProcessor
>
MakeLinear
(
const
SkLinearGradient
&
shader
const
GrFPArgs
&
args
const
SkShaderBase
:
:
MatrixRec
&
)
;
#
if
GR_TEST_UTILS
struct
RandomParams
{
inline
static
constexpr
int
kMaxRandomGradientColors
=
5
;
inline
static
constexpr
SkScalar
kGradientScale
=
256
.
0f
;
RandomParams
(
SkRandom
*
r
)
;
bool
fUseColors4f
;
SkColor
fColors
[
kMaxRandomGradientColors
]
;
SkColor4f
fColors4f
[
kMaxRandomGradientColors
]
;
sk_sp
<
SkColorSpace
>
fColorSpace
;
SkScalar
fStopStorage
[
kMaxRandomGradientColors
]
;
SkTileMode
fTileMode
;
int
fColorCount
;
SkScalar
*
fStops
;
}
;
#
endif
}
#
endif

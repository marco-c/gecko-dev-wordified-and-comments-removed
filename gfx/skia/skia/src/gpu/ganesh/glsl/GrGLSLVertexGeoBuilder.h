#
ifndef
GrGLSLVertexGeoBuilder_DEFINED
#
define
GrGLSLVertexGeoBuilder_DEFINED
#
include
"
src
/
gpu
/
ganesh
/
GrGeometryProcessor
.
h
"
#
include
"
src
/
gpu
/
ganesh
/
glsl
/
GrGLSLShaderBuilder
.
h
"
class
GrGLSLVertexGeoBuilder
:
public
GrGLSLShaderBuilder
{
public
:
void
insertFunction
(
const
char
*
functionDefinition
)
{
this
-
>
functions
(
)
.
append
(
functionDefinition
)
;
}
using
GrGLSLShaderBuilder
:
:
functions
;
using
GrGLSLShaderBuilder
:
:
code
;
protected
:
GrGLSLVertexGeoBuilder
(
GrGLSLProgramBuilder
*
program
)
:
INHERITED
(
program
)
{
}
void
emitNormalizedSkPosition
(
const
char
*
devPos
SkSLType
devPosType
=
SkSLType
:
:
kFloat2
)
{
this
-
>
emitNormalizedSkPosition
(
&
this
-
>
code
(
)
devPos
devPosType
)
;
}
void
emitNormalizedSkPosition
(
SkString
*
out
const
char
*
devPos
SkSLType
devPosType
=
SkSLType
:
:
kFloat2
)
;
friend
class
GrGeometryProcessor
:
:
ProgramImpl
;
using
INHERITED
=
GrGLSLShaderBuilder
;
}
;
class
GrGLSLVertexBuilder
:
public
GrGLSLVertexGeoBuilder
{
public
:
GrGLSLVertexBuilder
(
GrGLSLProgramBuilder
*
program
)
:
INHERITED
(
program
)
{
}
private
:
void
onFinalize
(
)
override
;
friend
class
GrGLProgramBuilder
;
using
INHERITED
=
GrGLSLVertexGeoBuilder
;
}
;
#
endif

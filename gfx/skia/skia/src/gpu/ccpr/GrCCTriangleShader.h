#
ifndef
GrCCTriangleShader_DEFINED
#
define
GrCCTriangleShader_DEFINED
#
include
"
ccpr
/
GrCCCoverageProcessor
.
h
"
class
GrCCTriangleShader
:
public
GrCCCoverageProcessor
:
:
Shader
{
void
onEmitVaryings
(
GrGLSLVaryingHandler
*
GrGLSLVarying
:
:
Scope
SkString
*
code
const
char
*
position
const
char
*
inputCoverage
const
char
*
wind
)
override
;
void
onEmitFragmentCode
(
GrGLSLFPFragmentBuilder
*
const
char
*
outputCoverage
)
const
override
;
GrGLSLVarying
fCoverageTimesWind
;
}
;
class
GrCCTriangleCornerShader
:
public
GrCCCoverageProcessor
:
:
Shader
{
void
emitSetupCode
(
GrGLSLVertexGeoBuilder
*
const
char
*
pts
const
char
*
repetitionID
const
char
*
wind
GeometryVars
*
)
const
override
;
void
onEmitVaryings
(
GrGLSLVaryingHandler
*
GrGLSLVarying
:
:
Scope
SkString
*
code
const
char
*
position
const
char
*
inputCoverage
const
char
*
wind
)
override
;
void
onEmitFragmentCode
(
GrGLSLFPFragmentBuilder
*
f
const
char
*
outputCoverage
)
const
override
;
GrShaderVar
fAABoxMatrices
{
"
aa_box_matrices
"
kFloat2x2_GrSLType
2
}
;
GrShaderVar
fAABoxTranslates
{
"
aa_box_translates
"
kFloat2_GrSLType
2
}
;
GrShaderVar
fGeoShaderBisects
{
"
bisects
"
kFloat2_GrSLType
2
}
;
GrGLSLVarying
fCornerLocationInAABoxes
;
GrGLSLVarying
fBisectInAABoxes
;
GrGLSLVarying
fWindTimesHalf
;
}
;
#
endif

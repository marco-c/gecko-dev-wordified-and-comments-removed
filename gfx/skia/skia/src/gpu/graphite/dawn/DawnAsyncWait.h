#
ifndef
skgpu_graphite_DawnAsyncWait_DEFINED
#
define
skgpu_graphite_DawnAsyncWait_DEFINED
#
include
"
webgpu
/
webgpu_cpp
.
h
"
#
include
<
atomic
>
#
include
<
functional
>
namespace
skgpu
:
:
graphite
{
class
DawnAsyncWait
{
public
:
explicit
DawnAsyncWait
(
const
wgpu
:
:
Device
&
device
)
;
bool
yieldAndCheck
(
)
const
;
void
busyWait
(
)
const
;
void
signal
(
)
{
fSignaled
.
store
(
true
)
;
}
void
reset
(
)
{
fSignaled
.
store
(
false
)
;
}
private
:
wgpu
:
:
Device
fDevice
;
std
:
:
atomic_bool
fSignaled
;
}
;
}
#
endif

#
ifndef
skgpu_graphite_UploadBufferManager_DEFINED
#
define
skgpu_graphite_UploadBufferManager_DEFINED
#
include
<
vector
>
#
include
"
include
/
core
/
SkRefCnt
.
h
"
#
include
"
src
/
gpu
/
BufferWriter
.
h
"
#
include
"
src
/
gpu
/
graphite
/
DrawTypes
.
h
"
namespace
skgpu
:
:
graphite
{
class
Buffer
;
class
Caps
;
class
Recording
;
class
ResourceProvider
;
class
UploadBufferManager
{
public
:
UploadBufferManager
(
ResourceProvider
*
const
Caps
*
)
;
~
UploadBufferManager
(
)
;
std
:
:
tuple
<
UploadWriter
BindBufferInfo
>
getUploadWriter
(
size_t
requiredBytes
size_t
requiredAlignment
)
;
void
transferToRecording
(
Recording
*
)
;
private
:
ResourceProvider
*
fResourceProvider
;
sk_sp
<
Buffer
>
fReusedBuffer
;
size_t
fMinAlignment
;
size_t
fReusedBufferOffset
=
0
;
std
:
:
vector
<
sk_sp
<
Buffer
>
>
fUsedBuffers
;
}
;
}
#
endif

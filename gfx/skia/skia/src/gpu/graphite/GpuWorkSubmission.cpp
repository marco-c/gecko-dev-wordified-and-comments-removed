#
include
"
src
/
gpu
/
graphite
/
GpuWorkSubmission
.
h
"
#
include
"
src
/
gpu
/
graphite
/
CommandBuffer
.
h
"
#
include
"
src
/
gpu
/
graphite
/
QueueManager
.
h
"
namespace
skgpu
:
:
graphite
{
GpuWorkSubmission
:
:
GpuWorkSubmission
(
std
:
:
unique_ptr
<
CommandBuffer
>
cmdBuffer
QueueManager
*
queueManager
)
:
fCommandBuffer
(
std
:
:
move
(
cmdBuffer
)
)
fQueueManager
(
queueManager
)
{
}
GpuWorkSubmission
:
:
~
GpuWorkSubmission
(
)
{
fCommandBuffer
-
>
callFinishedProcs
(
true
)
;
fCommandBuffer
-
>
resetCommandBuffer
(
)
;
fQueueManager
-
>
returnCommandBuffer
(
std
:
:
move
(
fCommandBuffer
)
)
;
}
}

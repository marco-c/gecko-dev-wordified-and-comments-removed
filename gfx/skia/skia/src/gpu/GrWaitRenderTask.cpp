#
include
"
src
/
gpu
/
GrWaitRenderTask
.
h
"
#
include
"
src
/
gpu
/
GrGpu
.
h
"
#
include
"
src
/
gpu
/
GrOpFlushState
.
h
"
#
include
"
src
/
gpu
/
GrResourceAllocator
.
h
"
void
GrWaitRenderTask
:
:
gatherProxyIntervals
(
GrResourceAllocator
*
alloc
)
const
{
alloc
-
>
addInterval
(
fTarget
.
get
(
)
alloc
-
>
curOp
(
)
alloc
-
>
curOp
(
)
GrResourceAllocator
:
:
ActualUse
:
:
kYes
)
;
alloc
-
>
incOps
(
)
;
}
bool
GrWaitRenderTask
:
:
onExecute
(
GrOpFlushState
*
flushState
)
{
for
(
int
i
=
0
;
i
<
fNumSemaphores
;
+
+
i
)
{
flushState
-
>
gpu
(
)
-
>
waitSemaphore
(
fSemaphores
[
i
]
)
;
}
return
true
;
}

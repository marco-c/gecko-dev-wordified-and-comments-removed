#
ifndef
GrRecordingContextPriv_DEFINED
#
define
GrRecordingContextPriv_DEFINED
#
include
"
include
/
private
/
GrRecordingContext
.
h
"
class
GrRecordingContextPriv
{
public
:
uint32_t
contextID
(
)
const
{
return
fContext
-
>
contextID
(
)
;
}
bool
matches
(
GrContext_Base
*
candidate
)
const
{
return
fContext
-
>
matches
(
candidate
)
;
}
const
GrContextOptions
&
options
(
)
const
{
return
fContext
-
>
options
(
)
;
}
const
GrCaps
*
caps
(
)
const
{
return
fContext
-
>
caps
(
)
;
}
sk_sp
<
const
GrCaps
>
refCaps
(
)
const
;
sk_sp
<
GrSkSLFPFactoryCache
>
fpFactoryCache
(
)
;
GrImageContext
*
asImageContext
(
)
{
return
fContext
-
>
asImageContext
(
)
;
}
GrRecordingContext
*
asRecordingContext
(
)
{
return
fContext
-
>
asRecordingContext
(
)
;
}
GrContext
*
asDirectContext
(
)
{
return
fContext
-
>
asDirectContext
(
)
;
}
GrProxyProvider
*
proxyProvider
(
)
{
return
fContext
-
>
proxyProvider
(
)
;
}
const
GrProxyProvider
*
proxyProvider
(
)
const
{
return
fContext
-
>
proxyProvider
(
)
;
}
bool
abandoned
(
)
const
{
return
fContext
-
>
abandoned
(
)
;
}
SkDEBUGCODE
(
GrSingleOwner
*
singleOwner
(
)
const
{
return
fContext
-
>
singleOwner
(
)
;
}
)
GrDrawingManager
*
drawingManager
(
)
{
return
fContext
-
>
drawingManager
(
)
;
}
sk_sp
<
GrOpMemoryPool
>
refOpMemoryPool
(
)
;
GrOpMemoryPool
*
opMemoryPool
(
)
{
return
fContext
-
>
opMemoryPool
(
)
;
}
GrStrikeCache
*
getGrStrikeCache
(
)
{
return
fContext
-
>
getGrStrikeCache
(
)
;
}
GrTextBlobCache
*
getTextBlobCache
(
)
{
return
fContext
-
>
getTextBlobCache
(
)
;
}
void
addOnFlushCallbackObject
(
GrOnFlushCallbackObject
*
)
;
std
:
:
unique_ptr
<
GrSurfaceContext
>
makeWrappedSurfaceContext
(
sk_sp
<
GrSurfaceProxy
>
GrColorType
SkAlphaType
sk_sp
<
SkColorSpace
>
=
nullptr
const
SkSurfaceProps
*
=
nullptr
)
;
std
:
:
unique_ptr
<
GrTextureContext
>
makeDeferredTextureContext
(
SkBackingFit
int
width
int
height
GrColorType
SkAlphaType
sk_sp
<
SkColorSpace
>
GrMipMapped
=
GrMipMapped
:
:
kNo
GrSurfaceOrigin
=
kTopLeft_GrSurfaceOrigin
SkBudgeted
=
SkBudgeted
:
:
kYes
GrProtected
=
GrProtected
:
:
kNo
)
;
std
:
:
unique_ptr
<
GrRenderTargetContext
>
makeDeferredRenderTargetContext
(
SkBackingFit
fit
int
width
int
height
GrColorType
sk_sp
<
SkColorSpace
>
colorSpace
int
sampleCnt
=
1
GrMipMapped
=
GrMipMapped
:
:
kNo
GrSurfaceOrigin
origin
=
kBottomLeft_GrSurfaceOrigin
const
SkSurfaceProps
*
surfaceProps
=
nullptr
SkBudgeted
=
SkBudgeted
:
:
kYes
GrProtected
isProtected
=
GrProtected
:
:
kNo
)
;
std
:
:
unique_ptr
<
GrRenderTargetContext
>
makeDeferredRenderTargetContextWithFallback
(
SkBackingFit
fit
int
width
int
height
GrColorType
sk_sp
<
SkColorSpace
>
colorSpace
int
sampleCnt
=
1
GrMipMapped
=
GrMipMapped
:
:
kNo
GrSurfaceOrigin
origin
=
kBottomLeft_GrSurfaceOrigin
const
SkSurfaceProps
*
surfaceProps
=
nullptr
SkBudgeted
budgeted
=
SkBudgeted
:
:
kYes
GrProtected
isProtected
=
GrProtected
:
:
kNo
)
;
GrAuditTrail
*
auditTrail
(
)
{
return
fContext
-
>
auditTrail
(
)
;
}
GrContext
*
backdoor
(
)
;
private
:
explicit
GrRecordingContextPriv
(
GrRecordingContext
*
context
)
:
fContext
(
context
)
{
}
GrRecordingContextPriv
(
const
GrRecordingContextPriv
&
)
;
GrRecordingContextPriv
&
operator
=
(
const
GrRecordingContextPriv
&
)
;
const
GrRecordingContextPriv
*
operator
&
(
)
const
;
GrRecordingContextPriv
*
operator
&
(
)
;
GrRecordingContext
*
fContext
;
friend
class
GrRecordingContext
;
}
;
inline
GrRecordingContextPriv
GrRecordingContext
:
:
priv
(
)
{
return
GrRecordingContextPriv
(
this
)
;
}
inline
const
GrRecordingContextPriv
GrRecordingContext
:
:
priv
(
)
const
{
return
GrRecordingContextPriv
(
const_cast
<
GrRecordingContext
*
>
(
this
)
)
;
}
#
endif

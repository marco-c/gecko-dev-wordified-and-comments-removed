#
include
"
src
/
gpu
/
dawn
/
DawnUtilsPriv
.
h
"
#
include
"
include
/
core
/
SkColor
.
h
"
#
include
"
include
/
core
/
SkTypes
.
h
"
namespace
skgpu
{
size_t
DawnFormatBytesPerBlock
(
wgpu
:
:
TextureFormat
format
)
{
switch
(
format
)
{
case
wgpu
:
:
TextureFormat
:
:
RGBA8Unorm
:
return
4
;
case
wgpu
:
:
TextureFormat
:
:
BGRA8Unorm
:
return
4
;
case
wgpu
:
:
TextureFormat
:
:
R8Unorm
:
return
1
;
case
wgpu
:
:
TextureFormat
:
:
RGBA16Float
:
return
8
;
case
wgpu
:
:
TextureFormat
:
:
Stencil8
:
return
4
;
case
wgpu
:
:
TextureFormat
:
:
Depth32Float
:
return
4
;
case
wgpu
:
:
TextureFormat
:
:
Depth32FloatStencil8
:
return
5
;
case
wgpu
:
:
TextureFormat
:
:
Depth24PlusStencil8
:
return
5
;
default
:
SkUNREACHABLE
;
}
}
uint32_t
DawnFormatChannels
(
wgpu
:
:
TextureFormat
format
)
{
switch
(
format
)
{
case
wgpu
:
:
TextureFormat
:
:
RGBA8Unorm
:
return
kRGBA_SkColorChannelFlags
;
case
wgpu
:
:
TextureFormat
:
:
BGRA8Unorm
:
return
kRGBA_SkColorChannelFlags
;
case
wgpu
:
:
TextureFormat
:
:
R8Unorm
:
return
kRed_SkColorChannelFlag
;
case
wgpu
:
:
TextureFormat
:
:
RGBA16Float
:
return
kRGBA_SkColorChannelFlags
;
default
:
return
0
;
}
SkUNREACHABLE
;
}
}

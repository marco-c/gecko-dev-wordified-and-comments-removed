#
ifndef
GrTextureMaker_DEFINED
#
define
GrTextureMaker_DEFINED
#
include
"
GrTextureProducer
.
h
"
class
GrTextureMaker
:
public
GrTextureProducer
{
public
:
enum
class
AllowedTexGenType
:
bool
{
kCheap
kAny
}
;
sk_sp
<
GrTextureProxy
>
refTextureProxyForParams
(
const
GrSamplerState
&
SkColorSpace
*
dstColorSpace
sk_sp
<
SkColorSpace
>
*
texColorSpace
SkScalar
scaleAdjust
[
2
]
)
;
std
:
:
unique_ptr
<
GrFragmentProcessor
>
createFragmentProcessor
(
const
SkMatrix
&
textureMatrix
const
SkRect
&
constraintRect
FilterConstraint
filterConstraint
bool
coordsLimitedToConstraintRect
const
GrSamplerState
:
:
Filter
*
filterOrNullForBicubic
SkColorSpace
*
dstColorSpace
)
override
;
protected
:
GrTextureMaker
(
GrContext
*
context
int
width
int
height
bool
isAlphaOnly
)
:
INHERITED
(
width
height
isAlphaOnly
)
fContext
(
context
)
{
}
virtual
sk_sp
<
GrTextureProxy
>
refOriginalTextureProxy
(
bool
willBeMipped
SkColorSpace
*
dstColorSpace
AllowedTexGenType
genType
)
=
0
;
virtual
sk_sp
<
SkColorSpace
>
getColorSpace
(
SkColorSpace
*
dstColorSpace
)
=
0
;
virtual
sk_sp
<
GrTextureProxy
>
generateTextureProxyForParams
(
const
CopyParams
&
bool
willBeMipped
SkColorSpace
*
dstColorSpace
)
;
GrContext
*
context
(
)
const
{
return
fContext
;
}
private
:
GrContext
*
fContext
;
typedef
GrTextureProducer
INHERITED
;
}
;
#
endif

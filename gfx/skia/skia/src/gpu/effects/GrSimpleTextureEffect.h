#
ifndef
GrSimpleTextureEffect_DEFINED
#
define
GrSimpleTextureEffect_DEFINED
#
include
"
GrSingleTextureEffect
.
h
"
class
GrInvariantOutput
;
class
GrSimpleTextureEffect
:
public
GrSingleTextureEffect
{
public
:
static
const
GrFragmentProcessor
*
Create
(
GrTexture
*
tex
const
SkMatrix
&
matrix
GrCoordSet
coordSet
=
kLocal_GrCoordSet
)
{
return
new
GrSimpleTextureEffect
(
tex
matrix
GrTextureParams
:
:
kNone_FilterMode
coordSet
)
;
}
static
GrFragmentProcessor
*
Create
(
GrTexture
*
tex
const
SkMatrix
&
matrix
GrTextureParams
:
:
FilterMode
filterMode
GrCoordSet
coordSet
=
kLocal_GrCoordSet
)
{
return
new
GrSimpleTextureEffect
(
tex
matrix
filterMode
coordSet
)
;
}
static
GrFragmentProcessor
*
Create
(
GrTexture
*
tex
const
SkMatrix
&
matrix
const
GrTextureParams
&
p
GrCoordSet
coordSet
=
kLocal_GrCoordSet
)
{
return
new
GrSimpleTextureEffect
(
tex
matrix
p
coordSet
)
;
}
virtual
~
GrSimpleTextureEffect
(
)
{
}
const
char
*
name
(
)
const
override
{
return
"
SimpleTexture
"
;
}
private
:
GrSimpleTextureEffect
(
GrTexture
*
texture
const
SkMatrix
&
matrix
GrTextureParams
:
:
FilterMode
filterMode
GrCoordSet
coordSet
)
:
GrSingleTextureEffect
(
texture
matrix
filterMode
coordSet
)
{
this
-
>
initClassID
<
GrSimpleTextureEffect
>
(
)
;
}
GrSimpleTextureEffect
(
GrTexture
*
texture
const
SkMatrix
&
matrix
const
GrTextureParams
&
params
GrCoordSet
coordSet
)
:
GrSingleTextureEffect
(
texture
matrix
params
coordSet
)
{
this
-
>
initClassID
<
GrSimpleTextureEffect
>
(
)
;
}
GrGLSLFragmentProcessor
*
onCreateGLSLInstance
(
)
const
override
;
void
onGetGLSLProcessorKey
(
const
GrGLSLCaps
&
GrProcessorKeyBuilder
*
)
const
override
;
bool
onIsEqual
(
const
GrFragmentProcessor
&
other
)
const
override
{
return
true
;
}
void
onComputeInvariantOutput
(
GrInvariantOutput
*
inout
)
const
override
;
GR_DECLARE_FRAGMENT_PROCESSOR_TEST
;
typedef
GrSingleTextureEffect
INHERITED
;
}
;
#
endif

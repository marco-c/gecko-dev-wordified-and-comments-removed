#
ifndef
Gr1DKernelEffect_DEFINED
#
define
Gr1DKernelEffect_DEFINED
#
include
"
GrSingleTextureEffect
.
h
"
#
include
"
SkMatrix
.
h
"
class
Gr1DKernelEffect
:
public
GrSingleTextureEffect
{
public
:
enum
Direction
{
kX_Direction
kY_Direction
}
;
Gr1DKernelEffect
(
GrTexture
*
texture
Direction
direction
int
radius
)
:
INHERITED
(
texture
nullptr
GrCoordTransform
:
:
MakeDivByTextureWHMatrix
(
texture
)
)
fDirection
(
direction
)
fRadius
(
radius
)
{
}
virtual
~
Gr1DKernelEffect
(
)
{
}
static
int
WidthFromRadius
(
int
radius
)
{
return
2
*
radius
+
1
;
}
int
radius
(
)
const
{
return
fRadius
;
}
int
width
(
)
const
{
return
WidthFromRadius
(
fRadius
)
;
}
Direction
direction
(
)
const
{
return
fDirection
;
}
SkString
dumpInfo
(
)
const
override
{
SkString
str
;
str
.
appendf
(
"
Direction
:
%
s
Radius
:
%
d
"
kX_Direction
=
=
fDirection
?
"
X
"
:
"
Y
"
fRadius
)
;
str
.
append
(
INHERITED
:
:
dumpInfo
(
)
)
;
return
str
;
}
private
:
Direction
fDirection
;
int
fRadius
;
typedef
GrSingleTextureEffect
INHERITED
;
}
;
#
endif

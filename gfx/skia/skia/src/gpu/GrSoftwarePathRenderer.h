#
ifndef
GrSoftwarePathRenderer_DEFINED
#
define
GrSoftwarePathRenderer_DEFINED
#
include
"
src
/
gpu
/
GrPathRenderer
.
h
"
class
GrProxyProvider
;
class
GrTextureProxy
;
class
GrSoftwarePathRenderer
:
public
GrPathRenderer
{
public
:
GrSoftwarePathRenderer
(
GrProxyProvider
*
proxyProvider
bool
allowCaching
)
:
fProxyProvider
(
proxyProvider
)
fAllowCaching
(
allowCaching
)
{
}
static
bool
GetShapeAndClipBounds
(
GrRenderTargetContext
*
const
GrClip
&
clip
const
GrShape
&
shape
const
SkMatrix
&
matrix
SkIRect
*
unclippedDevShapeBounds
SkIRect
*
clippedDevShapeBounds
SkIRect
*
devClipBounds
)
;
private
:
static
void
DrawNonAARect
(
GrRenderTargetContext
*
renderTargetContext
GrPaint
&
&
paint
const
GrUserStencilSettings
&
userStencilSettings
const
GrClip
&
clip
const
SkMatrix
&
viewMatrix
const
SkRect
&
rect
const
SkMatrix
&
localMatrix
)
;
static
void
DrawAroundInvPath
(
GrRenderTargetContext
*
renderTargetContext
GrPaint
&
&
paint
const
GrUserStencilSettings
&
userStencilSettings
const
GrClip
&
clip
const
SkMatrix
&
viewMatrix
const
SkIRect
&
devClipBounds
const
SkIRect
&
devPathBounds
)
;
static
void
DrawToTargetWithShapeMask
(
sk_sp
<
GrTextureProxy
>
proxy
GrColorType
srcColorType
GrRenderTargetContext
*
renderTargetContext
GrPaint
&
&
paint
const
GrUserStencilSettings
&
userStencilSettings
const
GrClip
&
clip
const
SkMatrix
&
viewMatrix
const
SkIPoint
&
textureOriginInDeviceSpace
const
SkIRect
&
deviceSpaceRectToDraw
)
;
StencilSupport
onGetStencilSupport
(
const
GrShape
&
)
const
override
{
return
GrPathRenderer
:
:
kNoSupport_StencilSupport
;
}
CanDrawPath
onCanDrawPath
(
const
CanDrawPathArgs
&
)
const
override
;
bool
onDrawPath
(
const
DrawPathArgs
&
)
override
;
private
:
GrProxyProvider
*
fProxyProvider
;
bool
fAllowCaching
;
typedef
GrPathRenderer
INHERITED
;
}
;
#
endif

#
ifndef
GrVkUtil_DEFINED
#
define
GrVkUtil_DEFINED
#
include
"
GrColor
.
h
"
#
include
"
GrTypes
.
h
"
#
include
"
vk
/
GrVkDefines
.
h
"
#
include
"
vk
/
GrVkInterface
.
h
"
class
GrVkGpu
;
#
define
GR_VK_CALL
(
IFACE
X
)
(
IFACE
)
-
>
fFunctions
.
f
#
#
X
;
#
ifdef
SK_DEBUG
#
define
GR_VK_CALL_ERRCHECK
(
IFACE
X
)
\
VkResult
SK_MACRO_APPEND_LINE
(
ret
)
=
GR_VK_CALL
(
IFACE
X
)
;
\
SkASSERT
(
VK_SUCCESS
=
=
SK_MACRO_APPEND_LINE
(
ret
)
)
;
#
else
#
define
GR_VK_CALL_ERRCHECK
(
IFACE
X
)
(
void
)
GR_VK_CALL
(
IFACE
X
)
;
#
endif
bool
GrPixelConfigToVkFormat
(
GrPixelConfig
config
VkFormat
*
format
)
;
bool
GrVkFormatToPixelConfig
(
VkFormat
format
GrPixelConfig
*
config
)
;
bool
GrVkFormatIsSRGB
(
VkFormat
format
VkFormat
*
linearFormat
)
;
bool
GrSampleCountToVkSampleCount
(
uint32_t
samples
VkSampleCountFlagBits
*
vkSamples
)
;
bool
GrCompileVkShaderModule
(
const
GrVkGpu
*
gpu
const
char
*
shaderString
VkShaderStageFlagBits
stage
VkShaderModule
*
shaderModule
VkPipelineShaderStageCreateInfo
*
stageInfo
)
;
#
endif

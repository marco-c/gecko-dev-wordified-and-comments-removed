#
ifndef
GrYUVProvider_DEFINED
#
define
GrYUVProvider_DEFINED
#
include
"
GrTypes
.
h
"
#
include
"
SkImageInfo
.
h
"
#
include
"
SkYUVAIndex
.
h
"
#
include
"
SkYUVASizeInfo
.
h
"
class
GrBackendFormat
;
class
GrRecordingContext
;
struct
GrSurfaceDesc
;
class
GrTexture
;
class
GrTextureProxy
;
class
SkCachedData
;
class
GrYUVProvider
{
public
:
virtual
~
GrYUVProvider
(
)
{
}
sk_sp
<
GrTextureProxy
>
refAsTextureProxy
(
GrRecordingContext
*
const
GrBackendFormat
&
const
GrSurfaceDesc
&
SkColorSpace
*
srcColorSpace
SkColorSpace
*
dstColorSpace
)
;
sk_sp
<
SkCachedData
>
getPlanes
(
SkYUVASizeInfo
*
SkYUVAIndex
[
SkYUVAIndex
:
:
kIndexCount
]
SkYUVColorSpace
*
const
void
*
planes
[
SkYUVASizeInfo
:
:
kMaxCount
]
)
;
private
:
virtual
uint32_t
onGetID
(
)
const
=
0
;
virtual
bool
onQueryYUVA8
(
SkYUVASizeInfo
*
sizeInfo
SkYUVAIndex
yuvaIndices
[
SkYUVAIndex
:
:
kIndexCount
]
SkYUVColorSpace
*
colorSpace
)
const
=
0
;
virtual
bool
onGetYUVA8Planes
(
const
SkYUVASizeInfo
&
sizeInfo
const
SkYUVAIndex
yuvaIndices
[
SkYUVAIndex
:
:
kIndexCount
]
void
*
planes
[
]
)
=
0
;
static
void
YUVGen_DataReleaseProc
(
const
void
*
void
*
data
)
;
}
;
#
endif

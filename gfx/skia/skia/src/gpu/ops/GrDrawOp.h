#
ifndef
GrDrawOp_DEFINED
#
define
GrDrawOp_DEFINED
#
include
<
functional
>
#
include
"
GrDeferredUpload
.
h
"
#
include
"
GrOp
.
h
"
#
include
"
GrPipeline
.
h
"
class
GrAppliedClip
;
class
GrDrawOp
:
public
GrOp
{
public
:
GrDrawOp
(
uint32_t
classID
)
:
INHERITED
(
classID
)
{
}
enum
class
FixedFunctionFlags
:
uint32_t
{
kNone
=
0x0
kUsesHWAA
=
0x1
kUsesStencil
=
0x2
}
;
GR_DECL_BITFIELD_CLASS_OPS_FRIENDS
(
FixedFunctionFlags
)
;
virtual
FixedFunctionFlags
fixedFunctionFlags
(
)
const
=
0
;
virtual
GrProcessorSet
:
:
Analysis
finalize
(
const
GrCaps
&
const
GrAppliedClip
*
GrFSAAType
)
=
0
;
#
ifdef
SK_DEBUG
bool
fAddDrawOpCalled
=
false
;
void
validate
(
)
const
override
{
SkASSERT
(
fAddDrawOpCalled
)
;
}
#
endif
private
:
typedef
GrOp
INHERITED
;
}
;
GR_MAKE_BITFIELD_CLASS_OPS
(
GrDrawOp
:
:
FixedFunctionFlags
)
;
#
endif

#
ifndef
GrSWMaskHelper_DEFINED
#
define
GrSWMaskHelper_DEFINED
#
include
"
GrTypesPriv
.
h
"
#
include
"
SkAutoPixmapStorage
.
h
"
#
include
"
SkDraw
.
h
"
#
include
"
SkMatrix
.
h
"
#
include
"
SkRasterClip
.
h
"
#
include
"
SkRegion
.
h
"
#
include
"
SkTypes
.
h
"
class
GrShape
;
class
GrRecordingContext
;
class
GrTextureProxy
;
class
GrSWMaskHelper
:
SkNoncopyable
{
public
:
GrSWMaskHelper
(
SkAutoPixmapStorage
*
pixels
=
nullptr
)
:
fPixels
(
pixels
?
pixels
:
&
fPixelsStorage
)
{
}
bool
init
(
const
SkIRect
&
resultBounds
)
;
void
drawRect
(
const
SkRect
&
rect
const
SkMatrix
&
matrix
SkRegion
:
:
Op
op
GrAA
uint8_t
alpha
)
;
void
drawShape
(
const
GrShape
&
const
SkMatrix
&
matrix
SkRegion
:
:
Op
op
GrAA
uint8_t
alpha
)
;
sk_sp
<
GrTextureProxy
>
toTextureProxy
(
GrRecordingContext
*
SkBackingFit
fit
)
;
void
clear
(
uint8_t
alpha
)
{
fPixels
-
>
erase
(
SkColorSetARGB
(
alpha
0xFF
0xFF
0xFF
)
)
;
}
private
:
SkVector
fTranslate
;
SkAutoPixmapStorage
*
fPixels
;
SkAutoPixmapStorage
fPixelsStorage
;
SkDraw
fDraw
;
SkRasterClip
fRasterClip
;
typedef
SkNoncopyable
INHERITED
;
}
;
#
endif

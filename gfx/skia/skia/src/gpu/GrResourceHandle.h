#
ifndef
GrResourceHandle_DEFINED
#
define
GrResourceHandle_DEFINED
#
include
"
include
/
core
/
SkTypes
.
h
"
template
<
typename
kind
>
class
GrResourceHandle
{
public
:
GrResourceHandle
(
int
value
)
:
fValue
(
value
)
{
SkASSERT
(
this
-
>
isValid
(
)
)
;
}
GrResourceHandle
(
)
:
fValue
(
kInvalid_ResourceHandle
)
{
}
bool
operator
=
=
(
const
GrResourceHandle
&
other
)
const
{
return
other
.
fValue
=
=
fValue
;
}
bool
isValid
(
)
const
{
return
kInvalid_ResourceHandle
!
=
fValue
;
}
int
toIndex
(
)
const
{
SkASSERT
(
this
-
>
isValid
(
)
)
;
return
fValue
;
}
private
:
static
const
int
kInvalid_ResourceHandle
=
-
1
;
int
fValue
;
}
;
#
define
GR_DEFINE_RESOURCE_HANDLE_CLASS
(
name
)
\
struct
name
#
#
Kind
{
}
;
\
using
name
=
GrResourceHandle
<
name
#
#
Kind
>
;
#
endif

#
ifndef
GrImageIDTextureAdjuster_DEFINED
#
define
GrImageIDTextureAdjuster_DEFINED
#
include
"
GrTextureParamsAdjuster
.
h
"
#
include
"
SkImage
.
h
"
class
SkBitmap
;
class
SkImage_Base
;
class
SkImageCacherator
;
class
GrBitmapTextureAdjuster
:
public
GrTextureAdjuster
{
public
:
explicit
GrBitmapTextureAdjuster
(
const
SkBitmap
*
bmp
)
;
private
:
void
makeCopyKey
(
const
CopyParams
&
params
GrUniqueKey
*
copyKey
)
override
;
void
didCacheCopy
(
const
GrUniqueKey
&
copyKey
)
override
;
const
SkBitmap
*
fBmp
;
typedef
GrTextureAdjuster
INHERITED
;
}
;
class
GrImageTextureAdjuster
:
public
GrTextureAdjuster
{
public
:
explicit
GrImageTextureAdjuster
(
const
SkImage_Base
*
img
)
;
private
:
void
makeCopyKey
(
const
CopyParams
&
params
GrUniqueKey
*
copyKey
)
override
;
void
didCacheCopy
(
const
GrUniqueKey
&
copyKey
)
override
;
const
SkImage_Base
*
fImageBase
;
typedef
GrTextureAdjuster
INHERITED
;
}
;
class
GrBitmapTextureMaker
:
public
GrTextureMaker
{
public
:
GrBitmapTextureMaker
(
GrContext
*
context
const
SkBitmap
&
bitmap
)
;
protected
:
GrTexture
*
refOriginalTexture
(
)
override
;
void
makeCopyKey
(
const
CopyParams
&
copyParams
GrUniqueKey
*
copyKey
)
override
;
void
didCacheCopy
(
const
GrUniqueKey
&
copyKey
)
override
;
private
:
const
SkBitmap
fBitmap
;
GrUniqueKey
fOriginalKey
;
typedef
GrTextureMaker
INHERITED
;
}
;
class
GrImageTextureMaker
:
public
GrTextureMaker
{
public
:
GrImageTextureMaker
(
GrContext
*
context
SkImageCacherator
*
cacher
const
SkImage
*
client
SkImage
:
:
CachingHint
chint
)
;
protected
:
GrTexture
*
refOriginalTexture
(
)
override
;
void
makeCopyKey
(
const
CopyParams
&
stretch
GrUniqueKey
*
paramsCopyKey
)
override
;
void
didCacheCopy
(
const
GrUniqueKey
&
copyKey
)
override
;
private
:
SkImageCacherator
*
fCacher
;
const
SkImage
*
fClient
;
GrUniqueKey
fOriginalKey
;
SkImage
:
:
CachingHint
fCachingHint
;
typedef
GrTextureMaker
INHERITED
;
}
;
#
endif

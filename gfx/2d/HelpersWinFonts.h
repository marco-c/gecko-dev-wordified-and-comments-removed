#
include
"
mozilla
/
StaticPrefs
.
h
"
namespace
mozilla
{
namespace
gfx
{
extern
BYTE
sSystemTextQuality
;
static
BYTE
GetSystemTextQuality
(
)
{
return
sSystemTextQuality
;
}
static
AntialiasMode
GetSystemDefaultAAMode
(
)
{
AntialiasMode
defaultMode
=
AntialiasMode
:
:
SUBPIXEL
;
if
(
StaticPrefs
:
:
gfx_text_disable_aa
(
)
)
{
return
AntialiasMode
:
:
NONE
;
}
switch
(
GetSystemTextQuality
(
)
)
{
case
CLEARTYPE_QUALITY
:
defaultMode
=
AntialiasMode
:
:
SUBPIXEL
;
break
;
case
ANTIALIASED_QUALITY
:
defaultMode
=
AntialiasMode
:
:
GRAY
;
break
;
case
DEFAULT_QUALITY
:
defaultMode
=
AntialiasMode
:
:
NONE
;
break
;
}
return
defaultMode
;
}
}
}

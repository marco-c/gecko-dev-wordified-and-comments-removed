#
ifndef
mozilla_gfx_NativeFontResourceMac_h
#
define
mozilla_gfx_NativeFontResourceMac_h
#
include
"
2D
.
h
"
#
include
"
mozilla
/
AlreadyAddRefed
.
h
"
#
include
"
ScaledFontMac
.
h
"
namespace
mozilla
{
namespace
gfx
{
class
NativeFontResourceMac
final
:
public
NativeFontResource
{
public
:
MOZ_DECLARE_REFCOUNTED_VIRTUAL_TYPENAME
(
NativeFontResourceMac
override
)
static
already_AddRefed
<
NativeFontResourceMac
>
Create
(
const
uint8_t
*
aFontData
uint32_t
aDataLength
)
;
already_AddRefed
<
UnscaledFont
>
CreateUnscaledFont
(
uint32_t
aIndex
const
uint8_t
*
aInstanceData
uint32_t
aInstanceDataLength
)
final
;
~
NativeFontResourceMac
(
)
{
CFRelease
(
mFontDescRef
)
;
CFRelease
(
mFontRef
)
;
}
static
void
RegisterMemoryReporter
(
)
;
private
:
explicit
NativeFontResourceMac
(
CTFontDescriptorRef
aFontDescRef
CGFontRef
aFontRef
size_t
aDataLength
)
:
NativeFontResource
(
aDataLength
)
mFontDescRef
(
aFontDescRef
)
mFontRef
(
aFontRef
)
{
}
CTFontDescriptorRef
mFontDescRef
;
CGFontRef
mFontRef
;
}
;
}
}
#
endif

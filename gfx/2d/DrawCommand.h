#
ifndef
MOZILLA_GFX_DRAWCOMMAND_H_
#
define
MOZILLA_GFX_DRAWCOMMAND_H_
#
include
<
math
.
h
>
#
include
"
2D
.
h
"
#
include
"
Blur
.
h
"
#
include
"
Filters
.
h
"
#
include
<
vector
>
#
include
"
FilterNodeCapture
.
h
"
#
include
"
Logging
.
h
"
namespace
mozilla
{
namespace
gfx
{
class
CaptureCommandList
;
enum
class
CommandType
:
int8_t
{
DRAWSURFACE
=
0
DRAWFILTER
DRAWSURFACEWITHSHADOW
CLEARRECT
COPYSURFACE
COPYRECT
FILLRECT
STROKERECT
STROKELINE
STROKE
FILL
FILLGLYPHS
STROKEGLYPHS
MASK
MASKSURFACE
PUSHCLIP
PUSHCLIPRECT
PUSHLAYER
POPCLIP
POPLAYER
SETTRANSFORM
SETPERMITSUBPIXELAA
FLUSH
BLUR
}
;
class
DrawingCommand
{
public
:
virtual
~
DrawingCommand
(
)
{
}
virtual
void
ExecuteOnDT
(
DrawTarget
*
aDT
const
Matrix
*
aTransform
=
nullptr
)
const
=
0
;
virtual
void
CloneInto
(
CaptureCommandList
*
aList
)
=
0
;
virtual
void
Log
(
TreeLog
&
aLog
)
const
=
0
;
CommandType
GetType
(
)
{
return
mType
;
}
protected
:
explicit
DrawingCommand
(
CommandType
aType
)
:
mType
(
aType
)
{
}
private
:
CommandType
mType
;
}
;
}
}
#
endif

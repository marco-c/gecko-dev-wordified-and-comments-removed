#
ifndef
MOZILLA_GFX_STACKARRAY_H_
#
define
MOZILLA_GFX_STACKARRAY_H_
template
<
class
T
size_t
size
>
class
StackArray
final
{
public
:
explicit
StackArray
(
size_t
count
)
{
if
(
count
>
size
)
{
mData
=
new
T
[
count
]
;
}
else
{
mData
=
mStackData
;
}
}
~
StackArray
(
)
{
if
(
mData
!
=
mStackData
)
{
delete
[
]
mData
;
}
}
T
&
operator
[
]
(
size_t
n
)
{
return
mData
[
n
]
;
}
const
T
&
operator
[
]
(
size_t
n
)
const
{
return
mData
[
n
]
;
}
T
*
data
(
)
{
return
mData
;
}
;
private
:
T
mStackData
[
size
]
;
T
*
mData
;
}
;
#
endif

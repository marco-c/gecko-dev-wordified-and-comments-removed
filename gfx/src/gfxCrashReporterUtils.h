#
ifndef
gfxCrashReporterUtils_h__
#
define
gfxCrashReporterUtils_h__
#
include
"
nsString
.
h
"
namespace
mozilla
{
class
ScopedGfxFeatureReporter
{
public
:
explicit
ScopedGfxFeatureReporter
(
const
char
*
aFeature
bool
aForce
=
false
)
:
mFeature
(
aFeature
)
mStatusChar
(
'
-
'
)
{
WriteAppNote
(
aForce
?
'
!
'
:
'
?
'
)
;
}
~
ScopedGfxFeatureReporter
(
)
{
WriteAppNote
(
mStatusChar
)
;
}
void
SetSuccessful
(
)
{
mStatusChar
=
'
+
'
;
}
static
void
AppNote
(
const
nsACString
&
aMessage
)
;
class
AppNoteWritingRunnable
;
protected
:
const
char
*
mFeature
;
char
mStatusChar
;
private
:
void
WriteAppNote
(
char
statusChar
)
;
}
;
}
#
endif

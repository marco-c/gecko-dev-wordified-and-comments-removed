#
ifndef
MOZILLA_GFX_DCLAYER_TREE_H
#
define
MOZILLA_GFX_DCLAYER_TREE_H
#
include
<
windows
.
h
>
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
struct
IDCompositionDevice
;
struct
IDCompositionTarget
;
struct
IDCompositionVisual
;
struct
IDXGISwapChain1
;
namespace
mozilla
{
namespace
wr
{
class
DCLayerTree
{
public
:
static
UniquePtr
<
DCLayerTree
>
Create
(
HWND
aHwnd
)
;
explicit
DCLayerTree
(
IDCompositionDevice
*
aCompositionDevice
)
;
~
DCLayerTree
(
)
;
void
SetDefaultSwapChain
(
IDXGISwapChain1
*
aSwapChain
)
;
protected
:
bool
Initialize
(
HWND
aHwnd
)
;
RefPtr
<
IDCompositionDevice
>
mCompositionDevice
;
RefPtr
<
IDCompositionTarget
>
mCompositionTarget
;
RefPtr
<
IDCompositionVisual
>
mRootVisual
;
RefPtr
<
IDCompositionVisual
>
mDefaultSwapChainVisual
;
}
;
}
}
#
endif

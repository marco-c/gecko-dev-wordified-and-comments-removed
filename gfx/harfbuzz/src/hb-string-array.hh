#
ifndef
HB_STRING_ARRAY_HH
#
if
0
#
define
HB_STRING_ARRAY_HH
#
endif
#
include
"
hb
.
hh
"
#
define
HB_STRING_ARRAY_TYPE_NAME
HB_PASTE
(
HB_STRING_ARRAY_NAME
_msgstr_t
)
#
define
HB_STRING_ARRAY_POOL_NAME
HB_PASTE
(
HB_STRING_ARRAY_NAME
_msgstr
)
#
define
HB_STRING_ARRAY_OFFS_NAME
HB_PASTE
(
HB_STRING_ARRAY_NAME
_msgidx
)
static
const
union
HB_STRING_ARRAY_TYPE_NAME
{
struct
{
#
define
_S
(
s
)
char
HB_PASTE
(
str
__LINE__
)
[
sizeof
(
s
)
]
;
#
include
HB_STRING_ARRAY_LIST
#
undef
_S
}
st
;
char
str
[
HB_VAR_ARRAY
]
;
}
HB_STRING_ARRAY_POOL_NAME
=
{
{
#
define
_S
(
s
)
s
#
include
HB_STRING_ARRAY_LIST
#
undef
_S
}
}
;
static
const
unsigned
int
HB_STRING_ARRAY_OFFS_NAME
[
]
=
{
#
define
_S
(
s
)
offsetof
(
union
HB_STRING_ARRAY_TYPE_NAME
st
.
HB_PASTE
(
str
__LINE__
)
)
#
include
HB_STRING_ARRAY_LIST
#
undef
_S
sizeof
(
HB_STRING_ARRAY_TYPE_NAME
)
}
;
static
inline
hb_bytes_t
HB_STRING_ARRAY_NAME
(
unsigned
int
i
)
{
assert
(
i
<
ARRAY_LENGTH
(
HB_STRING_ARRAY_OFFS_NAME
)
-
1
)
;
return
hb_bytes_t
(
HB_STRING_ARRAY_POOL_NAME
.
str
+
HB_STRING_ARRAY_OFFS_NAME
[
i
]
HB_STRING_ARRAY_OFFS_NAME
[
i
+
1
]
-
HB_STRING_ARRAY_OFFS_NAME
[
i
]
-
1
)
;
}
#
undef
HB_STRING_ARRAY_TYPE_NAME
#
undef
HB_STRING_ARRAY_POOL_NAME
#
undef
HB_STRING_ARRAY_OFFS_NAME
#
endif

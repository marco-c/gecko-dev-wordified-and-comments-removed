#
include
"
hb
.
hh
"
#
include
"
hb
-
subset
-
serialize
.
h
"
#
include
"
hb
-
repacker
.
hh
"
HB_EXTERN
hb_blob_t
*
hb_subset_serialize_or_fail
(
hb_tag_t
table_tag
hb_subset_serialize_object_t
*
hb_objects
unsigned
num_hb_objs
)
{
hb_vector_t
<
const
hb_subset_serialize_object_t
*
>
packed
;
packed
.
alloc
(
num_hb_objs
+
1
)
;
packed
.
push
(
nullptr
)
;
for
(
unsigned
i
=
0
;
i
<
num_hb_objs
;
i
+
+
)
packed
.
push
(
&
(
hb_objects
[
i
]
)
)
;
return
hb_resolve_overflows
(
packed
table_tag
20
true
)
;
}

.
text
.
align
16
.
global
_PR_ia64_AtomicIncrement
#
.
proc
_PR_ia64_AtomicIncrement
#
_PR_ia64_AtomicIncrement
:
fetchadd4
.
acq
r8
=
[
r32
]
1
;
;
adds
r8
=
1
r8
br
.
ret
.
sptk
.
many
b0
.
endp
_PR_ia64_AtomicIncrement
#
.
align
16
.
global
_PR_ia64_AtomicDecrement
#
.
proc
_PR_ia64_AtomicDecrement
#
_PR_ia64_AtomicDecrement
:
fetchadd4
.
rel
r8
=
[
r32
]
-
1
;
;
adds
r8
=
-
1
r8
br
.
ret
.
sptk
.
many
b0
.
endp
_PR_ia64_AtomicDecrement
#
.
align
16
.
global
_PR_ia64_AtomicAdd
#
.
proc
_PR_ia64_AtomicAdd
#
_PR_ia64_AtomicAdd
:
ld4
r15
=
[
r32
]
;
;
.
L3
:
mov
r14
=
r15
mov
ar
.
ccv
=
r15
add
r8
=
r15
r33
;
;
cmpxchg4
.
acq
r15
=
[
r32
]
r8
ar
.
ccv
;
;
cmp4
.
ne
p6
p7
=
r15
r14
(
p6
)
br
.
cond
.
dptk
.
L3
br
.
ret
.
sptk
.
many
b0
.
endp
_PR_ia64_AtomicAdd
#
.
align
16
.
global
_PR_ia64_AtomicSet
#
.
proc
_PR_ia64_AtomicSet
#
_PR_ia64_AtomicSet
:
xchg4
r8
=
[
r32
]
r33
br
.
ret
.
sptk
.
many
b0
.
endp
_PR_ia64_AtomicSet
#
.
section
.
note
.
GNU
-
stack
"
"
progbits

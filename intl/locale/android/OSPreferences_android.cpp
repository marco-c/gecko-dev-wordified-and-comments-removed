#
include
"
OSPreferences
.
h
"
#
include
"
mozilla
/
Preferences
.
h
"
#
include
"
FennecJNIWrappers
.
h
"
#
include
"
GeneratedJNIWrappers
.
h
"
using
namespace
mozilla
:
:
intl
;
OSPreferences
:
:
OSPreferences
(
)
{
}
OSPreferences
:
:
~
OSPreferences
(
)
{
}
bool
OSPreferences
:
:
ReadSystemLocales
(
nsTArray
<
nsCString
>
&
aLocaleList
)
{
if
(
!
mozilla
:
:
jni
:
:
IsAvailable
(
)
)
{
return
false
;
}
auto
locale
=
mozilla
:
:
jni
:
:
IsFennec
(
)
?
java
:
:
BrowserLocaleManager
:
:
GetLocale
(
)
:
java
:
:
GeckoAppShell
:
:
GetDefaultLocale
(
)
;
if
(
locale
)
{
aLocaleList
.
AppendElement
(
locale
-
>
ToCString
(
)
)
;
return
true
;
}
return
false
;
}
bool
OSPreferences
:
:
ReadRegionalPrefsLocales
(
nsTArray
<
nsCString
>
&
aLocaleList
)
{
return
ReadSystemLocales
(
aLocaleList
)
;
}
bool
OSPreferences
:
:
ReadDateTimePattern
(
DateTimeFormatStyle
aDateStyle
DateTimeFormatStyle
aTimeStyle
const
nsACString
&
aLocale
nsAString
&
aRetVal
)
{
return
false
;
}

#
ifndef
mozilla_DateTimeFormat_h
#
define
mozilla_DateTimeFormat_h
#
include
<
time
.
h
>
#
include
"
gtest
/
MozGtestFriend
.
h
"
#
include
"
nsStringGlue
.
h
"
#
include
"
prtime
.
h
"
#
ifdef
ENABLE_INTL_API
#
include
"
unicode
/
udat
.
h
"
#
endif
namespace
mozilla
{
enum
nsDateFormatSelector
:
long
{
kDateFormatNone
=
0
kDateFormatLong
kDateFormatShort
kDateFormatYearMonth
kDateFormatWeekday
kDateFormatYearMonthLong
kDateFormatMonthLong
}
;
enum
nsTimeFormatSelector
:
long
{
kTimeFormatNone
=
0
kTimeFormatSeconds
kTimeFormatNoSeconds
}
;
class
DateTimeFormat
{
public
:
static
nsresult
FormatTime
(
const
nsDateFormatSelector
aDateFormatSelector
const
nsTimeFormatSelector
aTimeFormatSelector
const
time_t
aTimetTime
nsAString
&
aStringOut
)
;
static
nsresult
FormatPRTime
(
const
nsDateFormatSelector
aDateFormatSelector
const
nsTimeFormatSelector
aTimeFormatSelector
const
PRTime
aPrTime
nsAString
&
aStringOut
)
;
static
nsresult
FormatPRExplodedTime
(
const
nsDateFormatSelector
aDateFormatSelector
const
nsTimeFormatSelector
aTimeFormatSelector
const
PRExplodedTime
*
aExplodedTime
nsAString
&
aStringOut
)
;
static
void
Shutdown
(
)
;
private
:
DateTimeFormat
(
)
=
delete
;
static
nsresult
Initialize
(
)
;
FRIEND_TEST
(
DateTimeFormat
FormatPRExplodedTime
)
;
FRIEND_TEST
(
DateTimeFormat
DateFormatSelectors
)
;
FRIEND_TEST
(
DateTimeFormat
FormatPRExplodedTimeForeign
)
;
FRIEND_TEST
(
DateTimeFormat
DateFormatSelectorsForeign
)
;
#
ifdef
ENABLE_INTL_API
static
nsresult
FormatUDateTime
(
const
nsDateFormatSelector
aDateFormatSelector
const
nsTimeFormatSelector
aTimeFormatSelector
const
UDate
aUDateTime
const
PRTimeParameters
*
aTimeParameters
nsAString
&
aStringOut
)
;
#
endif
static
nsCString
*
mLocale
;
}
;
}
#
endif

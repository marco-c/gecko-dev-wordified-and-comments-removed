#
ifndef
mozilla_intl_MozLocale_h__
#
define
mozilla_intl_MozLocale_h__
#
include
"
nsString
.
h
"
#
include
"
nsTArray
.
h
"
#
include
"
MozLocaleBindings
.
h
"
namespace
mozilla
{
namespace
intl
{
class
Locale
{
public
:
explicit
Locale
(
const
nsACString
&
aLocale
)
;
explicit
Locale
(
const
char
*
aLocale
)
:
Locale
(
nsDependentCString
(
aLocale
)
)
{
}
;
const
nsDependentCSubstring
GetLanguage
(
)
const
;
const
nsDependentCSubstring
GetScript
(
)
const
;
const
nsDependentCSubstring
GetRegion
(
)
const
;
void
GetVariants
(
nsTArray
<
nsCString
>
&
aRetVal
)
const
;
bool
IsWellFormed
(
)
const
{
return
mIsWellFormed
;
}
const
nsCString
AsString
(
)
const
;
bool
Matches
(
const
Locale
&
aOther
bool
aThisRange
bool
aOtherRange
)
const
;
bool
AddLikelySubtags
(
)
;
void
ClearVariants
(
)
;
void
ClearRegion
(
)
;
void
Invalidate
(
)
{
mIsWellFormed
=
false
;
}
bool
operator
=
=
(
const
Locale
&
aOther
)
{
return
Matches
(
aOther
false
false
)
;
}
Locale
(
Locale
&
&
aOther
)
:
mIsWellFormed
(
aOther
.
mIsWellFormed
)
mRaw
(
std
:
:
move
(
aOther
.
mRaw
)
)
{
}
ffi
:
:
LanguageIdentifier
*
Raw
(
)
{
return
mRaw
.
get
(
)
;
}
const
ffi
:
:
LanguageIdentifier
*
Raw
(
)
const
{
return
mRaw
.
get
(
)
;
}
private
:
bool
mIsWellFormed
;
UniquePtr
<
ffi
:
:
LanguageIdentifier
>
mRaw
;
}
;
}
}
DECLARE_USE_COPY_CONSTRUCTORS
(
mozilla
:
:
intl
:
:
Locale
)
#
endif

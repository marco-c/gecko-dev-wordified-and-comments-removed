#
ifndef
nsLanguageAtomService_h_
#
define
nsLanguageAtomService_h_
#
include
"
mozilla
/
NotNull
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsAtom
.
h
"
#
include
"
nsRefPtrHashtable
.
h
"
namespace
mozilla
{
class
Encoding
;
}
class
nsLanguageAtomService
final
{
using
Encoding
=
mozilla
:
:
Encoding
;
template
<
typename
T
>
using
NotNull
=
mozilla
:
:
NotNull
<
T
>
;
public
:
static
nsLanguageAtomService
*
GetService
(
)
;
nsAtom
*
LookupLanguage
(
const
nsACString
&
aLanguage
)
;
already_AddRefed
<
nsAtom
>
LookupCharSet
(
NotNull
<
const
Encoding
*
>
aCharSet
)
;
nsAtom
*
GetLocaleLanguage
(
)
;
nsAtom
*
GetLanguageGroup
(
nsAtom
*
aLanguage
bool
*
aNeedsToCache
=
nullptr
)
;
already_AddRefed
<
nsAtom
>
GetUncachedLanguageGroup
(
nsAtom
*
aLanguage
)
const
;
private
:
nsRefPtrHashtable
<
nsRefPtrHashKey
<
nsAtom
>
nsAtom
>
mLangToGroup
;
RefPtr
<
nsAtom
>
mLocaleLanguage
;
}
;
#
endif

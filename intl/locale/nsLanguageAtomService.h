#
ifndef
nsLanguageAtomService_h_
#
define
nsLanguageAtomService_h_
#
include
"
mozilla
/
NotNull
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIAtom
.
h
"
#
include
"
nsRefPtrHashtable
.
h
"
namespace
mozilla
{
class
Encoding
;
}
class
nsLanguageAtomService
final
{
using
Encoding
=
mozilla
:
:
Encoding
;
template
<
typename
T
>
using
NotNull
=
mozilla
:
:
NotNull
<
T
>
;
public
:
static
nsLanguageAtomService
*
GetService
(
)
;
nsIAtom
*
LookupLanguage
(
const
nsACString
&
aLanguage
)
;
already_AddRefed
<
nsIAtom
>
LookupCharSet
(
NotNull
<
const
Encoding
*
>
aCharSet
)
;
nsIAtom
*
GetLocaleLanguage
(
)
;
nsIAtom
*
GetLanguageGroup
(
nsIAtom
*
aLanguage
bool
*
aNeedsToCache
=
nullptr
)
;
already_AddRefed
<
nsIAtom
>
GetUncachedLanguageGroup
(
nsIAtom
*
aLanguage
)
const
;
private
:
nsRefPtrHashtable
<
nsRefPtrHashKey
<
nsIAtom
>
nsIAtom
>
mLangToGroup
;
RefPtr
<
nsIAtom
>
mLocaleLanguage
;
}
;
#
endif

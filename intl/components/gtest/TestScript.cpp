#
include
"
gtest
/
gtest
.
h
"
#
include
"
mozilla
/
intl
/
UnicodeProperties
.
h
"
#
include
"
mozilla
/
intl
/
UnicodeScriptCodes
.
h
"
namespace
mozilla
:
:
intl
{
TEST
(
IntlScript
GetExtensions
)
{
UnicodeProperties
:
:
ScriptExtensionVector
extensions
;
for
(
char32_t
ch
=
0
;
ch
<
0x0041
;
ch
+
+
)
{
ASSERT_TRUE
(
UnicodeProperties
:
:
GetExtensions
(
ch
extensions
)
.
isOk
(
)
)
;
ASSERT_EQ
(
extensions
.
length
(
)
1u
)
;
ASSERT_EQ
(
Script
(
extensions
[
0
]
)
Script
:
:
COMMON
)
;
}
for
(
char32_t
ch
=
0x300
;
ch
<
0x0341
;
ch
+
+
)
{
ASSERT_TRUE
(
UnicodeProperties
:
:
GetExtensions
(
ch
extensions
)
.
isOk
(
)
)
;
ASSERT_EQ
(
extensions
.
length
(
)
1u
)
;
ASSERT_EQ
(
Script
(
extensions
[
0
]
)
Script
:
:
INHERITED
)
;
}
ASSERT_TRUE
(
UnicodeProperties
:
:
GetExtensions
(
0x1cf7
extensions
)
.
isOk
(
)
)
;
ASSERT_EQ
(
extensions
.
length
(
)
1u
)
;
ASSERT_EQ
(
Script
(
extensions
[
0
]
)
Script
:
:
BENGALI
)
;
ASSERT_TRUE
(
UnicodeProperties
:
:
GetExtensions
(
0x063f
extensions
)
.
isOk
(
)
)
;
ASSERT_EQ
(
extensions
.
length
(
)
1u
)
;
ASSERT_EQ
(
Script
(
extensions
[
0
]
)
Script
:
:
ARABIC
)
;
ASSERT_TRUE
(
UnicodeProperties
:
:
GetExtensions
(
0xff65
extensions
)
.
isOk
(
)
)
;
ASSERT_EQ
(
extensions
.
length
(
)
6u
)
;
ASSERT_EQ
(
Script
(
extensions
[
0
]
)
Script
:
:
BOPOMOFO
)
;
ASSERT_EQ
(
Script
(
extensions
[
1
]
)
Script
:
:
HAN
)
;
ASSERT_EQ
(
Script
(
extensions
[
2
]
)
Script
:
:
HANGUL
)
;
ASSERT_EQ
(
Script
(
extensions
[
3
]
)
Script
:
:
HIRAGANA
)
;
ASSERT_EQ
(
Script
(
extensions
[
4
]
)
Script
:
:
KATAKANA
)
;
ASSERT_EQ
(
Script
(
extensions
[
5
]
)
Script
:
:
YI
)
;
ASSERT_TRUE
(
UnicodeProperties
:
:
GetExtensions
(
0x110000
extensions
)
.
isOk
(
)
)
;
ASSERT_EQ
(
extensions
.
length
(
)
1u
)
;
ASSERT_EQ
(
Script
(
extensions
[
0
]
)
Script
:
:
UNKNOWN
)
;
}
}

#
include
"
mozilla
/
intl
/
DateTimePatternGenerator
.
h
"
namespace
mozilla
:
:
intl
{
DateTimePatternGenerator
:
:
~
DateTimePatternGenerator
(
)
{
if
(
mGenerator
)
{
udatpg_close
(
mGenerator
)
;
}
}
Result
<
UniquePtr
<
DateTimePatternGenerator
>
DateTimePatternGenerator
:
:
Error
>
DateTimePatternGenerator
:
:
TryCreate
(
const
char
*
aLocale
)
{
UErrorCode
status
=
U_ZERO_ERROR
;
UDateTimePatternGenerator
*
generator
=
udatpg_open
(
aLocale
&
status
)
;
if
(
U_FAILURE
(
status
)
)
{
return
Err
(
Error
:
:
InternalError
)
;
}
return
MakeUnique
<
DateTimePatternGenerator
>
(
generator
)
;
}
;
}

function
run_test
(
)
{
const
tests
=
[
{
input
:
"
http
:
/
/
example
.
com
/
?
p
=
%
E3
%
80
%
82
"
expected
:
"
http
:
/
/
example
.
com
/
?
p
=
%
u3002
"
}
{
input
:
"
http
:
/
/
example
.
com
/
?
name
=
%
E3
%
80
%
82
"
dontEscape
:
true
expected
:
"
http
:
/
/
example
.
com
/
?
name
=
\
u3002
"
}
]
;
for
(
const
t
of
tests
)
{
Assert
.
equal
(
Services
.
textToSubURI
.
unEscapeURIForUI
(
t
.
input
t
.
dontEscape
)
t
.
expected
)
;
}
}

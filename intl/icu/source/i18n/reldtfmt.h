#
ifndef
RELDTFMT_H
#
define
RELDTFMT_H
#
include
"
unicode
/
utypes
.
h
"
#
if
!
UCONFIG_NO_FORMATTING
#
include
"
unicode
/
datefmt
.
h
"
#
include
"
unicode
/
smpdtfmt
.
h
"
#
include
"
unicode
/
brkiter
.
h
"
U_NAMESPACE_BEGIN
class
DateFormatSymbols
;
class
SimpleFormatter
;
struct
URelativeString
;
class
RelativeDateFormat
:
public
DateFormat
{
public
:
RelativeDateFormat
(
UDateFormatStyle
timeStyle
UDateFormatStyle
dateStyle
const
Locale
&
locale
UErrorCode
&
status
)
;
RelativeDateFormat
(
const
RelativeDateFormat
&
)
;
RelativeDateFormat
&
operator
=
(
const
RelativeDateFormat
&
)
;
virtual
~
RelativeDateFormat
(
)
;
virtual
RelativeDateFormat
*
clone
(
)
const
override
;
virtual
bool
operator
=
=
(
const
Format
&
other
)
const
override
;
using
DateFormat
:
:
format
;
virtual
UnicodeString
&
format
(
Calendar
&
cal
UnicodeString
&
appendTo
FieldPosition
&
pos
)
const
override
;
virtual
UnicodeString
&
format
(
const
Formattable
&
obj
UnicodeString
&
appendTo
FieldPosition
&
pos
UErrorCode
&
status
)
const
override
;
virtual
void
parse
(
const
UnicodeString
&
text
Calendar
&
cal
ParsePosition
&
pos
)
const
override
;
UDate
parse
(
const
UnicodeString
&
text
ParsePosition
&
pos
)
const
;
virtual
UDate
parse
(
const
UnicodeString
&
text
UErrorCode
&
status
)
const
override
;
virtual
UnicodeString
&
toPattern
(
UnicodeString
&
result
UErrorCode
&
status
)
const
;
virtual
UnicodeString
&
toPatternDate
(
UnicodeString
&
result
UErrorCode
&
status
)
const
;
virtual
UnicodeString
&
toPatternTime
(
UnicodeString
&
result
UErrorCode
&
status
)
const
;
virtual
void
applyPatterns
(
const
UnicodeString
&
datePattern
const
UnicodeString
&
timePattern
UErrorCode
&
status
)
;
virtual
const
DateFormatSymbols
*
getDateFormatSymbols
(
)
const
;
virtual
void
setContext
(
UDisplayContext
value
UErrorCode
&
status
)
override
;
private
:
SimpleDateFormat
*
fDateTimeFormatter
;
UnicodeString
fDatePattern
;
UnicodeString
fTimePattern
;
SimpleFormatter
*
fCombinedFormat
;
UDateFormatStyle
fDateStyle
;
Locale
fLocale
;
int32_t
fDatesLen
;
URelativeString
*
fDates
;
UBool
fCombinedHasDateAtStart
;
UBool
fCapitalizationInfoSet
;
UBool
fCapitalizationOfRelativeUnitsForUIListMenu
;
UBool
fCapitalizationOfRelativeUnitsForStandAlone
;
#
if
!
UCONFIG_NO_BREAK_ITERATION
BreakIterator
*
fCapitalizationBrkIter
;
#
else
UObject
*
fCapitalizationBrkIter
;
#
endif
const
char16_t
*
getStringForDay
(
int32_t
day
int32_t
&
len
UErrorCode
&
status
)
const
;
void
loadDates
(
UErrorCode
&
status
)
;
void
initCapitalizationContextInfo
(
const
Locale
&
thelocale
)
;
static
int32_t
dayDifference
(
Calendar
&
until
UErrorCode
&
status
)
;
Calendar
*
initializeCalendar
(
TimeZone
*
adoptZone
const
Locale
&
locale
UErrorCode
&
status
)
;
public
:
U_I18N_API
static
UClassID
U_EXPORT2
getStaticClassID
(
)
;
virtual
UClassID
getDynamicClassID
(
)
const
override
;
}
;
U_NAMESPACE_END
#
endif
#
endif

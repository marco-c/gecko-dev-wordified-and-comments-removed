#
include
"
unicode
/
utypes
.
h
"
#
if
!
UCONFIG_NO_FORMATTING
#
ifndef
__NUMBER_FORMATIMPL_H__
#
define
__NUMBER_FORMATIMPL_H__
#
include
"
number_types
.
h
"
#
include
"
number_stringbuilder
.
h
"
#
include
"
number_patternstring
.
h
"
#
include
"
number_utils
.
h
"
#
include
"
number_patternmodifier
.
h
"
#
include
"
number_longnames
.
h
"
#
include
"
number_compact
.
h
"
#
include
"
number_microprops
.
h
"
U_NAMESPACE_BEGIN
namespace
number
{
namespace
impl
{
class
NumberFormatterImpl
:
public
UMemory
{
public
:
NumberFormatterImpl
(
const
MacroProps
&
macros
UErrorCode
&
status
)
;
static
int32_t
formatStatic
(
const
MacroProps
&
macros
DecimalQuantity
&
inValue
NumberStringBuilder
&
outString
UErrorCode
&
status
)
;
static
int32_t
getPrefixSuffixStatic
(
const
MacroProps
&
macros
int8_t
signum
StandardPlural
:
:
Form
plural
NumberStringBuilder
&
outString
UErrorCode
&
status
)
;
int32_t
format
(
DecimalQuantity
&
inValue
NumberStringBuilder
&
outString
UErrorCode
&
status
)
const
;
void
preProcess
(
DecimalQuantity
&
inValue
MicroProps
&
microsOut
UErrorCode
&
status
)
const
;
int32_t
getPrefixSuffix
(
int8_t
signum
StandardPlural
:
:
Form
plural
NumberStringBuilder
&
outString
UErrorCode
&
status
)
const
;
const
MicroProps
&
getRawMicroProps
(
)
const
{
return
fMicros
;
}
static
int32_t
writeNumber
(
const
MicroProps
&
micros
DecimalQuantity
&
quantity
NumberStringBuilder
&
string
int32_t
index
UErrorCode
&
status
)
;
static
int32_t
writeAffixes
(
const
MicroProps
&
micros
NumberStringBuilder
&
string
int32_t
start
int32_t
end
UErrorCode
&
status
)
;
private
:
const
MicroPropsGenerator
*
fMicroPropsGenerator
=
nullptr
;
MicroProps
fMicros
;
LocalPointer
<
const
DecimalFormatSymbols
>
fSymbols
;
LocalPointer
<
const
PluralRules
>
fRules
;
LocalPointer
<
const
ParsedPatternInfo
>
fPatternInfo
;
LocalPointer
<
const
ScientificHandler
>
fScientificHandler
;
LocalPointer
<
MutablePatternModifier
>
fPatternModifier
;
LocalPointer
<
const
ImmutablePatternModifier
>
fImmutablePatternModifier
;
LocalPointer
<
const
LongNameHandler
>
fLongNameHandler
;
LocalPointer
<
const
CompactHandler
>
fCompactHandler
;
struct
Warehouse
{
CurrencySymbols
fCurrencySymbols
;
}
fWarehouse
;
NumberFormatterImpl
(
const
MacroProps
&
macros
bool
safe
UErrorCode
&
status
)
;
MicroProps
&
preProcessUnsafe
(
DecimalQuantity
&
inValue
UErrorCode
&
status
)
;
int32_t
getPrefixSuffixUnsafe
(
int8_t
signum
StandardPlural
:
:
Form
plural
NumberStringBuilder
&
outString
UErrorCode
&
status
)
;
const
PluralRules
*
resolvePluralRules
(
const
PluralRules
*
rulesPtr
const
Locale
&
locale
UErrorCode
&
status
)
;
const
MicroPropsGenerator
*
macrosToMicroGenerator
(
const
MacroProps
&
macros
bool
safe
UErrorCode
&
status
)
;
static
int32_t
writeIntegerDigits
(
const
MicroProps
&
micros
DecimalQuantity
&
quantity
NumberStringBuilder
&
string
int32_t
index
UErrorCode
&
status
)
;
static
int32_t
writeFractionDigits
(
const
MicroProps
&
micros
DecimalQuantity
&
quantity
NumberStringBuilder
&
string
int32_t
index
UErrorCode
&
status
)
;
}
;
}
}
U_NAMESPACE_END
#
endif
#
endif

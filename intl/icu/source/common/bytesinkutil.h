#
include
"
unicode
/
utypes
.
h
"
#
include
"
unicode
/
bytestream
.
h
"
#
include
"
unicode
/
edits
.
h
"
#
include
"
cmemory
.
h
"
#
include
"
uassert
.
h
"
U_NAMESPACE_BEGIN
class
ByteSink
;
class
Edits
;
class
U_COMMON_API
ByteSinkUtil
{
public
:
ByteSinkUtil
(
)
=
delete
;
static
UBool
appendChange
(
int32_t
length
const
char16_t
*
s16
int32_t
s16Length
ByteSink
&
sink
Edits
*
edits
UErrorCode
&
errorCode
)
;
static
UBool
appendChange
(
const
uint8_t
*
s
const
uint8_t
*
limit
const
char16_t
*
s16
int32_t
s16Length
ByteSink
&
sink
Edits
*
edits
UErrorCode
&
errorCode
)
;
static
void
appendCodePoint
(
int32_t
length
UChar32
c
ByteSink
&
sink
Edits
*
edits
=
nullptr
)
;
static
inline
void
appendCodePoint
(
const
uint8_t
*
src
const
uint8_t
*
nextSrc
UChar32
c
ByteSink
&
sink
Edits
*
edits
=
nullptr
)
{
appendCodePoint
(
(
int32_t
)
(
nextSrc
-
src
)
c
sink
edits
)
;
}
static
void
appendTwoBytes
(
UChar32
c
ByteSink
&
sink
)
;
static
UBool
appendUnchanged
(
const
uint8_t
*
s
int32_t
length
ByteSink
&
sink
uint32_t
options
Edits
*
edits
UErrorCode
&
errorCode
)
{
if
(
U_FAILURE
(
errorCode
)
)
{
return
FALSE
;
}
if
(
length
>
0
)
{
appendNonEmptyUnchanged
(
s
length
sink
options
edits
)
;
}
return
TRUE
;
}
static
UBool
appendUnchanged
(
const
uint8_t
*
s
const
uint8_t
*
limit
ByteSink
&
sink
uint32_t
options
Edits
*
edits
UErrorCode
&
errorCode
)
;
private
:
static
void
appendNonEmptyUnchanged
(
const
uint8_t
*
s
int32_t
length
ByteSink
&
sink
uint32_t
options
Edits
*
edits
)
;
}
;
U_NAMESPACE_END

#
ifndef
nsTreeSelection_h__
#
define
nsTreeSelection_h__
#
include
"
nsITreeSelection
.
h
"
#
include
"
nsITimer
.
h
"
#
include
"
nsCycleCollectionParticipant
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
XULTreeElement
.
h
"
class
nsTreeColumn
;
struct
nsTreeRange
;
class
nsTreeSelection
final
:
public
nsINativeTreeSelection
{
public
:
explicit
nsTreeSelection
(
mozilla
:
:
dom
:
:
XULTreeElement
*
aTree
)
;
NS_DECL_CYCLE_COLLECTING_ISUPPORTS
NS_DECL_CYCLE_COLLECTION_CLASS
(
nsTreeSelection
)
NS_DECL_NSITREESELECTION
NS_IMETHOD
EnsureNative
(
)
override
{
return
NS_OK
;
}
friend
struct
nsTreeRange
;
protected
:
~
nsTreeSelection
(
)
;
nsresult
FireOnSelectHandler
(
)
;
static
void
SelectCallback
(
nsITimer
*
aTimer
void
*
aClosure
)
;
protected
:
RefPtr
<
mozilla
:
:
dom
:
:
XULTreeElement
>
mTree
;
bool
mSuppressed
;
int32_t
mCurrentIndex
;
int32_t
mShiftSelectPivot
;
nsTreeRange
*
mFirstRange
;
nsCOMPtr
<
nsITimer
>
mSelectTimer
;
}
;
nsresult
NS_NewTreeSelection
(
mozilla
:
:
dom
:
:
XULTreeElement
*
aTree
nsITreeSelection
*
*
aResult
)
;
#
endif

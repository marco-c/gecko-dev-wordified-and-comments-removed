#
ifndef
NSFRAMETRAVERSAL_H
#
define
NSFRAMETRAVERSAL_H
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
nsISupportsImpl
.
h
"
class
nsIFrame
;
class
nsPresContext
;
class
nsFrameIterator
{
NS_INLINE_DECL_REFCOUNTING
(
nsFrameIterator
)
public
:
void
First
(
)
;
void
Next
(
)
;
nsIFrame
*
CurrentItem
(
)
;
bool
IsDone
(
)
;
void
Last
(
)
;
void
Prev
(
)
;
inline
nsIFrame
*
Traverse
(
bool
aForward
)
{
if
(
aForward
)
{
Next
(
)
;
}
else
{
Prev
(
)
;
}
return
CurrentItem
(
)
;
}
;
enum
class
Type
:
uint8_t
{
Leaf
PreOrder
PostOrder
}
;
static
already_AddRefed
<
nsFrameIterator
>
Create
(
nsPresContext
*
aPresContext
nsIFrame
*
aStart
Type
aType
bool
aVisual
bool
aLockInScrollView
bool
aFollowOOFs
bool
aSkipPopupChecks
nsIFrame
*
aLimiter
=
nullptr
)
;
protected
:
nsFrameIterator
(
nsPresContext
*
aPresContext
nsIFrame
*
aStart
Type
aType
bool
aLockInScrollView
bool
aFollowOOFs
bool
aSkipPopupChecks
nsIFrame
*
aLimiter
)
;
virtual
~
nsFrameIterator
(
)
=
default
;
void
SetCurrent
(
nsIFrame
*
aFrame
)
{
mCurrent
=
aFrame
;
}
nsIFrame
*
GetCurrent
(
)
{
return
mCurrent
;
}
nsIFrame
*
GetStart
(
)
{
return
mStart
;
}
nsIFrame
*
GetLast
(
)
{
return
mLast
;
}
void
SetLast
(
nsIFrame
*
aFrame
)
{
mLast
=
aFrame
;
}
int8_t
GetOffEdge
(
)
{
return
mOffEdge
;
}
void
SetOffEdge
(
int8_t
aOffEdge
)
{
mOffEdge
=
aOffEdge
;
}
nsIFrame
*
GetParentFrame
(
nsIFrame
*
aFrame
)
;
nsIFrame
*
GetParentFrameNotPopup
(
nsIFrame
*
aFrame
)
;
nsIFrame
*
GetFirstChild
(
nsIFrame
*
aFrame
)
;
nsIFrame
*
GetLastChild
(
nsIFrame
*
aFrame
)
;
nsIFrame
*
GetNextSibling
(
nsIFrame
*
aFrame
)
;
nsIFrame
*
GetPrevSibling
(
nsIFrame
*
aFrame
)
;
virtual
nsIFrame
*
GetFirstChildInner
(
nsIFrame
*
aFrame
)
;
virtual
nsIFrame
*
GetLastChildInner
(
nsIFrame
*
aFrame
)
;
virtual
nsIFrame
*
GetNextSiblingInner
(
nsIFrame
*
aFrame
)
;
virtual
nsIFrame
*
GetPrevSiblingInner
(
nsIFrame
*
aFrame
)
;
nsIFrame
*
GetPlaceholderFrame
(
nsIFrame
*
aFrame
)
;
bool
IsPopupFrame
(
nsIFrame
*
aFrame
)
;
bool
IsInvokerOpenPopoverFrame
(
nsIFrame
*
aFrame
)
;
nsPresContext
*
const
mPresContext
;
const
bool
mLockScroll
;
const
bool
mFollowOOFs
;
const
bool
mSkipPopupChecks
;
const
Type
mType
;
private
:
nsIFrame
*
const
mStart
;
nsIFrame
*
mCurrent
;
nsIFrame
*
mLast
;
nsIFrame
*
mLimiter
;
int8_t
mOffEdge
;
}
;
#
endif

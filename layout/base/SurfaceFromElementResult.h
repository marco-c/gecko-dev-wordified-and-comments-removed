#
ifndef
mozilla_SurfaceFromElementResult_h
#
define
mozilla_SurfaceFromElementResult_h
#
include
"
ImageContainer
.
h
"
#
include
"
gfxTypes
.
h
"
#
include
"
mozilla
/
gfx
/
Point
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
<
cstdint
>
class
imgIContainer
;
class
imgIRequest
;
class
nsIPrincipal
;
class
nsLayoutUtils
;
namespace
mozilla
{
namespace
dom
{
class
CanvasRenderingContext2D
;
}
namespace
gfx
{
class
SourceSurface
;
}
struct
DirectDrawInfo
{
nsCOMPtr
<
imgIContainer
>
mImgContainer
;
uint32_t
mWhichFrame
;
uint32_t
mDrawingFlags
;
}
;
struct
SurfaceFromElementResult
{
friend
class
mozilla
:
:
dom
:
:
CanvasRenderingContext2D
;
friend
class
:
:
nsLayoutUtils
;
RefPtr
<
mozilla
:
:
layers
:
:
Image
>
mLayersImage
;
protected
:
RefPtr
<
mozilla
:
:
gfx
:
:
SourceSurface
>
mSourceSurface
;
public
:
DirectDrawInfo
mDrawInfo
;
mozilla
:
:
gfx
:
:
IntSize
mSize
;
mozilla
:
:
gfx
:
:
IntSize
mIntrinsicSize
;
nsCOMPtr
<
nsIPrincipal
>
mPrincipal
;
nsCOMPtr
<
imgIRequest
>
mImageRequest
;
bool
mHadCrossOriginRedirects
;
bool
mIsWriteOnly
;
bool
mIsStillLoading
;
bool
mHasSize
;
bool
mCORSUsed
;
gfxAlphaType
mAlphaType
;
SurfaceFromElementResult
(
)
;
const
RefPtr
<
mozilla
:
:
gfx
:
:
SourceSurface
>
&
GetSourceSurface
(
)
;
}
;
}
#
endif

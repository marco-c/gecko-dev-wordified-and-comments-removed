#
ifndef
nsStyleChangeList_h___
#
define
nsStyleChangeList_h___
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
StyleBackendType
.
h
"
#
include
"
nsChangeHint
.
h
"
#
include
"
nsCOMPtr
.
h
"
class
nsIFrame
;
class
nsIContent
;
struct
nsStyleChangeData
{
nsIFrame
*
mFrame
;
nsCOMPtr
<
nsIContent
>
mContent
;
nsChangeHint
mHint
;
}
;
class
nsStyleChangeList
:
private
AutoTArray
<
nsStyleChangeData
10
>
{
typedef
AutoTArray
<
nsStyleChangeData
10
>
base_type
;
nsStyleChangeList
(
const
nsStyleChangeList
&
)
=
delete
;
public
:
using
base_type
:
:
begin
;
using
base_type
:
:
end
;
using
base_type
:
:
IsEmpty
;
using
base_type
:
:
Clear
;
using
base_type
:
:
Length
;
using
base_type
:
:
operator
[
]
;
explicit
nsStyleChangeList
(
mozilla
:
:
StyleBackendType
aType
)
:
mType
(
aType
)
{
MOZ_COUNT_CTOR
(
nsStyleChangeList
)
;
}
~
nsStyleChangeList
(
)
{
MOZ_COUNT_DTOR
(
nsStyleChangeList
)
;
}
void
AppendChange
(
nsIFrame
*
aFrame
nsIContent
*
aContent
nsChangeHint
aHint
)
;
void
PopChangesForContent
(
nsIContent
*
aContent
)
{
while
(
Length
(
)
>
0
)
{
if
(
LastElement
(
)
.
mContent
=
=
aContent
)
{
RemoveElementAt
(
Length
(
)
-
1
)
;
}
else
{
break
;
}
}
}
bool
IsGecko
(
)
const
{
return
mType
=
=
mozilla
:
:
StyleBackendType
:
:
Gecko
;
}
bool
IsServo
(
)
const
{
return
mType
=
=
mozilla
:
:
StyleBackendType
:
:
Servo
;
}
private
:
mozilla
:
:
StyleBackendType
mType
;
}
;
#
endif

#
ifndef
nsIPresShellInlines_h
#
define
nsIPresShellInlines_h
#
include
"
nsIDocument
.
h
"
void
nsIPresShell
:
:
SetNeedLayoutFlush
(
)
{
mNeedLayoutFlush
=
true
;
if
(
nsIDocument
*
doc
=
mDocument
-
>
GetDisplayDocument
(
)
)
{
if
(
nsIPresShell
*
shell
=
doc
-
>
GetShell
(
)
)
{
shell
-
>
mNeedLayoutFlush
=
true
;
}
}
#
ifdef
MOZ_GECKO_PROFILER
if
(
!
mReflowCause
)
{
mReflowCause
=
profiler_get_backtrace
(
)
;
}
#
endif
}
void
nsIPresShell
:
:
SetNeedStyleFlush
(
)
{
mNeedStyleFlush
=
true
;
if
(
nsIDocument
*
doc
=
mDocument
-
>
GetDisplayDocument
(
)
)
{
if
(
nsIPresShell
*
shell
=
doc
-
>
GetShell
(
)
)
{
shell
-
>
mNeedStyleFlush
=
true
;
}
}
#
ifdef
MOZ_GECKO_PROFILER
if
(
!
mStyleCause
)
{
mStyleCause
=
profiler_get_backtrace
(
)
;
}
#
endif
}
void
nsIPresShell
:
:
EnsureStyleFlush
(
)
{
SetNeedStyleFlush
(
)
;
ObserveStyleFlushes
(
)
;
}
void
nsIPresShell
:
:
SetNeedThrottledAnimationFlush
(
)
{
mNeedThrottledAnimationFlush
=
true
;
if
(
nsIDocument
*
doc
=
mDocument
-
>
GetDisplayDocument
(
)
)
{
if
(
nsIPresShell
*
shell
=
doc
-
>
GetShell
(
)
)
{
shell
-
>
mNeedThrottledAnimationFlush
=
true
;
}
}
}
#
endif

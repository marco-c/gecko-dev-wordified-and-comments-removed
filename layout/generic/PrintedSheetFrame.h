#
ifndef
LAYOUT_GENERIC_PRINTEDSHEETFRAME_H_
#
define
LAYOUT_GENERIC_PRINTEDSHEETFRAME_H_
#
include
"
nsContainerFrame
.
h
"
#
include
"
nsHTMLParts
.
h
"
class
nsSharedPageData
;
namespace
mozilla
{
class
PrintedSheetFrame
final
:
public
nsContainerFrame
{
public
:
NS_DECL_QUERYFRAME
NS_DECL_FRAMEARENA_HELPERS
(
PrintedSheetFrame
)
friend
PrintedSheetFrame
*
:
:
NS_NewPrintedSheetFrame
(
mozilla
:
:
PresShell
*
aPresShell
ComputedStyle
*
aStyle
)
;
void
SetSharedPageData
(
nsSharedPageData
*
aPD
)
{
mPD
=
aPD
;
}
void
ClaimPageFrameFromPrevInFlow
(
)
;
void
Reflow
(
nsPresContext
*
aPresContext
ReflowOutput
&
aReflowOutput
const
ReflowInput
&
aReflowInput
nsReflowStatus
&
aStatus
)
override
;
void
BuildDisplayList
(
nsDisplayListBuilder
*
aBuilder
const
nsDisplayListSet
&
aLists
)
override
;
#
ifdef
DEBUG_FRAME_DUMP
nsresult
GetFrameName
(
nsAString
&
aResult
)
const
override
;
#
endif
uint32_t
GetNumPages
(
)
const
{
return
mNumPages
;
}
float
GetPagesPerSheetScale
(
)
const
{
return
mPagesPerSheetScale
;
}
uint32_t
GetPagesPerSheetNumCols
(
)
const
{
return
mPagesPerSheetNumCols
;
}
nsPoint
GetPagesPerSheetGridOrigin
(
)
const
{
return
mPagesPerSheetGridOrigin
;
}
float
GetGridCellWidth
(
)
const
{
return
mGridCellWidth
;
}
float
GetGridCellHeight
(
)
const
{
return
mGridCellHeight
;
}
private
:
PrintedSheetFrame
(
ComputedStyle
*
aStyle
nsPresContext
*
aPresContext
)
:
nsContainerFrame
(
aStyle
aPresContext
kClassID
)
{
}
~
PrintedSheetFrame
(
)
=
default
;
void
ComputePagesPerSheetOriginAndScale
(
)
;
nsSharedPageData
*
mPD
=
nullptr
;
uint32_t
mNumPages
=
0
;
float
mPagesPerSheetScale
=
1
.
0f
;
uint32_t
mPagesPerSheetNumCols
=
1
;
nsPoint
mPagesPerSheetGridOrigin
;
float
mGridCellWidth
=
1
.
0f
;
float
mGridCellHeight
=
1
.
0f
;
}
;
}
#
endif

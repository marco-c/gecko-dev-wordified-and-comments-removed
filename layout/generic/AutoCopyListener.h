#
ifndef
mozilla_AutoCopyListener_h
#
define
mozilla_AutoCopyListener_h
#
include
"
mozilla
/
Attributes
.
h
"
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
mozilla
/
dom
/
Selection
.
h
"
#
include
"
mozilla
/
StaticPrefs_clipboard
.
h
"
#
include
"
nsIClipboard
.
h
"
namespace
mozilla
{
class
AutoCopyListener
final
{
public
:
static
void
OnSelectionChange
(
dom
:
:
Document
*
aDocument
dom
:
:
Selection
&
aSelection
int16_t
aReason
)
;
static
bool
IsEnabled
(
)
{
#
ifdef
XP_MACOSX
return
true
;
#
else
return
StaticPrefs
:
:
clipboard_autocopy
(
)
;
#
endif
}
private
:
#
ifdef
XP_MACOSX
static
const
nsIClipboard
:
:
ClipboardType
sClipboardID
=
nsIClipboard
:
:
kSelectionCache
;
#
else
static
const
nsIClipboard
:
:
ClipboardType
sClipboardID
=
nsIClipboard
:
:
kSelectionClipboard
;
#
endif
}
;
}
#
endif

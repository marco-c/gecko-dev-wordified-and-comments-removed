#
ifndef
mozilla_ScrollPositionUpdate_h_
#
define
mozilla_ScrollPositionUpdate_h_
#
include
<
cstdint
>
#
include
<
iosfwd
>
#
include
"
nsPoint
.
h
"
#
include
"
mozilla
/
ScrollOrigin
.
h
"
#
include
"
mozilla
/
ScrollTypes
.
h
"
#
include
"
Units
.
h
"
namespace
mozilla
{
enum
class
ScrollUpdateType
{
Absolute
Relative
PureRelative
}
;
struct
ScrollGeneration
{
private
:
explicit
ScrollGeneration
(
uint64_t
aValue
)
;
public
:
ScrollGeneration
(
)
;
static
ScrollGeneration
New
(
)
;
bool
operator
<
(
const
ScrollGeneration
&
aOther
)
const
;
bool
operator
=
=
(
const
ScrollGeneration
&
aOther
)
const
;
bool
operator
!
=
(
const
ScrollGeneration
&
aOther
)
const
;
friend
std
:
:
ostream
&
operator
<
<
(
std
:
:
ostream
&
aStream
const
ScrollGeneration
&
aGen
)
;
private
:
static
uint64_t
sCounter
;
uint64_t
mValue
;
}
;
class
ScrollPositionUpdate
{
public
:
explicit
ScrollPositionUpdate
(
)
;
static
ScrollPositionUpdate
NewScrollframe
(
uint32_t
aGeneration
nsPoint
aInitialPosition
)
;
static
ScrollPositionUpdate
NewScroll
(
uint32_t
aGeneration
ScrollOrigin
aOrigin
nsPoint
aDestination
)
;
static
ScrollPositionUpdate
NewRelativeScroll
(
uint32_t
aGeneration
nsPoint
aSource
nsPoint
aDestination
)
;
static
ScrollPositionUpdate
NewSmoothScroll
(
uint32_t
aGeneration
ScrollOrigin
aOrigin
nsPoint
aDestination
)
;
static
ScrollPositionUpdate
NewPureRelativeScroll
(
uint32_t
aGeneration
ScrollOrigin
aOrigin
ScrollMode
aMode
const
nsPoint
&
aDelta
)
;
bool
operator
=
=
(
const
ScrollPositionUpdate
&
aOther
)
const
;
uint32_t
GetGeneration
(
)
const
;
ScrollUpdateType
GetType
(
)
const
;
ScrollMode
GetMode
(
)
const
;
ScrollOrigin
GetOrigin
(
)
const
;
CSSPoint
GetDestination
(
)
const
;
CSSPoint
GetSource
(
)
const
;
CSSPoint
GetDelta
(
)
const
;
friend
std
:
:
ostream
&
operator
<
<
(
std
:
:
ostream
&
aStream
const
ScrollPositionUpdate
&
aUpdate
)
;
private
:
uint32_t
mScrollGeneration
;
ScrollUpdateType
mType
;
ScrollMode
mScrollMode
;
ScrollOrigin
mScrollOrigin
;
CSSPoint
mDestination
;
CSSPoint
mSource
;
CSSPoint
mDelta
;
}
;
}
#
endif

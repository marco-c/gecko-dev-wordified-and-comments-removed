#
include
"
nsLeafFrame
.
h
"
#
include
"
mozilla
/
PresShell
.
h
"
#
include
"
nsPresContext
.
h
"
using
namespace
mozilla
;
nsLeafFrame
:
:
~
nsLeafFrame
(
)
=
default
;
void
nsLeafFrame
:
:
BuildDisplayList
(
nsDisplayListBuilder
*
aBuilder
const
nsDisplayListSet
&
aLists
)
{
DO_GLOBAL_REFLOW_COUNT_DSP
(
"
nsLeafFrame
"
)
;
DisplayBorderBackgroundOutline
(
aBuilder
aLists
)
;
}
nscoord
nsLeafFrame
:
:
IntrinsicISize
(
gfxContext
*
aContext
IntrinsicISizeType
aType
)
{
return
GetIntrinsicSize
(
)
.
ISize
(
GetWritingMode
(
)
)
.
valueOr
(
0
)
;
}
LogicalSize
nsLeafFrame
:
:
ComputeAutoSize
(
gfxContext
*
aRenderingContext
WritingMode
aWM
const
LogicalSize
&
aCBSize
nscoord
aAvailableISize
const
LogicalSize
&
aMargin
const
LogicalSize
&
aBorderPadding
const
StyleSizeOverrides
&
aSizeOverrides
ComputeSizeFlags
aFlags
)
{
const
WritingMode
wm
=
GetWritingMode
(
)
;
IntrinsicSize
intrinsicSize
=
GetIntrinsicSize
(
)
;
LogicalSize
result
(
wm
intrinsicSize
.
ISize
(
wm
)
.
valueOr
(
0
)
intrinsicSize
.
BSize
(
wm
)
.
valueOr
(
0
)
)
;
return
result
.
ConvertTo
(
aWM
wm
)
;
}

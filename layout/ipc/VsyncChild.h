#
ifndef
mozilla_layout_ipc_VsyncChild_h
#
define
mozilla_layout_ipc_VsyncChild_h
#
include
"
mozilla
/
layout
/
PVsyncChild
.
h
"
#
include
"
nsISupportsImpl
.
h
"
#
include
"
mozilla
/
RefPtr
.
h
"
namespace
mozilla
{
class
VsyncObserver
;
namespace
ipc
{
class
BackgroundChildImpl
;
}
namespace
layout
{
class
VsyncChild
final
:
public
PVsyncChild
{
NS_INLINE_DECL_REFCOUNTING
(
VsyncChild
)
friend
class
mozilla
:
:
ipc
:
:
BackgroundChildImpl
;
friend
class
PVsyncChild
;
public
:
bool
SendObserve
(
)
;
bool
SendUnobserve
(
)
;
void
SetVsyncObserver
(
VsyncObserver
*
aVsyncObserver
)
;
TimeDuration
GetVsyncRate
(
)
;
TimeDuration
VsyncRate
(
)
;
private
:
VsyncChild
(
)
;
virtual
~
VsyncChild
(
)
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvNotify
(
const
VsyncEvent
&
aVsync
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvVsyncRate
(
const
float
&
aVsyncRate
)
override
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aActorDestroyReason
)
override
;
bool
mObservingVsync
;
bool
mIsShutdown
;
RefPtr
<
VsyncObserver
>
mObserver
;
TimeDuration
mVsyncRate
;
}
;
}
}
#
endif

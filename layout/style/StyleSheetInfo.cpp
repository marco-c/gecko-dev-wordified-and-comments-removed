#
include
"
StyleSheetInfo
.
h
"
#
include
"
nsIURI
.
h
"
#
include
"
nsNullPrincipal
.
h
"
namespace
mozilla
{
using
namespace
mozilla
:
:
dom
;
StyleSheetInfo
:
:
StyleSheetInfo
(
CORSMode
aCORSMode
ReferrerPolicy
aReferrerPolicy
const
SRIMetadata
&
aIntegrity
)
:
mPrincipal
(
nsNullPrincipal
:
:
Create
(
)
)
mCORSMode
(
aCORSMode
)
mReferrerPolicy
(
aReferrerPolicy
)
mIntegrity
(
aIntegrity
)
mComplete
(
false
)
#
ifdef
DEBUG
mPrincipalSet
(
false
)
#
endif
{
if
(
!
mPrincipal
)
{
NS_RUNTIMEABORT
(
"
nsNullPrincipal
:
:
Init
failed
"
)
;
}
}
StyleSheetInfo
:
:
StyleSheetInfo
(
const
StyleSheetInfo
&
aCopy
)
:
mSheetURI
(
aCopy
.
mSheetURI
)
mOriginalSheetURI
(
aCopy
.
mOriginalSheetURI
)
mBaseURI
(
aCopy
.
mBaseURI
)
mPrincipal
(
aCopy
.
mPrincipal
)
mCORSMode
(
aCopy
.
mCORSMode
)
mReferrerPolicy
(
aCopy
.
mReferrerPolicy
)
mIntegrity
(
aCopy
.
mIntegrity
)
mComplete
(
aCopy
.
mComplete
)
#
ifdef
DEBUG
mPrincipalSet
(
aCopy
.
mPrincipalSet
)
#
endif
{
}
}

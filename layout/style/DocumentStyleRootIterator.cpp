#
include
"
DocumentStyleRootIterator
.
h
"
#
include
"
nsContentUtils
.
h
"
namespace
mozilla
{
DocumentStyleRootIterator
:
:
DocumentStyleRootIterator
(
nsIDocument
*
aDocument
)
:
mPosition
(
0
)
{
MOZ_COUNT_CTOR
(
DocumentStyleRootIterator
)
;
if
(
Element
*
root
=
aDocument
-
>
GetRootElement
(
)
)
{
mStyleRoots
.
AppendElement
(
root
)
;
}
nsContentUtils
:
:
AppendDocumentLevelNativeAnonymousContentTo
(
aDocument
mStyleRoots
)
;
}
Element
*
DocumentStyleRootIterator
:
:
GetNextStyleRoot
(
)
{
for
(
;
;
)
{
if
(
mPosition
>
=
mStyleRoots
.
Length
(
)
)
{
return
nullptr
;
}
nsIContent
*
next
=
mStyleRoots
[
mPosition
]
;
+
+
mPosition
;
if
(
next
-
>
IsElement
(
)
)
{
return
next
-
>
AsElement
(
)
;
}
}
}
}

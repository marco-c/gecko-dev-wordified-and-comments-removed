#
ifndef
mozilla_ShadowParts_h
#
define
mozilla_ShadowParts_h
#
include
"
nsAtom
.
h
"
#
include
"
nsTHashtable
.
h
"
#
include
"
nsClassHashtable
.
h
"
#
include
"
nsRefPtrHashtable
.
h
"
#
include
"
nsStringFwd
.
h
"
namespace
mozilla
{
class
ShadowParts
final
{
public
:
ShadowParts
(
ShadowParts
&
&
)
=
default
;
ShadowParts
(
const
ShadowParts
&
)
=
delete
;
static
ShadowParts
Parse
(
const
nsAString
&
)
;
using
PartList
=
AutoTArray
<
RefPtr
<
nsAtom
>
1
>
;
PartList
*
Get
(
nsAtom
*
aName
)
const
{
return
mMappings
.
Get
(
aName
)
;
}
nsAtom
*
GetReverse
(
nsAtom
*
aName
)
const
{
return
mReverseMappings
.
GetWeak
(
aName
)
;
}
#
ifdef
DEBUG
void
Dump
(
)
const
;
#
endif
private
:
ShadowParts
(
)
=
default
;
nsClassHashtable
<
nsRefPtrHashKey
<
nsAtom
>
PartList
>
mMappings
;
nsRefPtrHashtable
<
nsRefPtrHashKey
<
nsAtom
>
nsAtom
>
mReverseMappings
;
}
;
}
#
endif

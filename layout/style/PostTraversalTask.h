#
ifndef
mozilla_PostTraversalTask_h
#
define
mozilla_PostTraversalTask_h
namespace
mozilla
{
namespace
dom
{
class
FontFace
;
}
}
namespace
mozilla
{
class
PostTraversalTask
{
public
:
static
PostTraversalTask
ResolveFontFaceLoadedPromise
(
dom
:
:
FontFace
*
aFontFace
)
{
auto
task
=
PostTraversalTask
(
Type
:
:
ResolveFontFaceLoadedPromise
)
;
task
.
mTarget
=
aFontFace
;
return
task
;
}
static
PostTraversalTask
RejectFontFaceLoadedPromise
(
dom
:
:
FontFace
*
aFontFace
nsresult
aResult
)
{
auto
task
=
PostTraversalTask
(
Type
:
:
ResolveFontFaceLoadedPromise
)
;
task
.
mTarget
=
aFontFace
;
task
.
mResult
=
aResult
;
return
task
;
}
void
Run
(
)
;
private
:
enum
class
Type
{
ResolveFontFaceLoadedPromise
RejectFontFaceLoadedPromise
}
;
PostTraversalTask
(
Type
aType
)
:
mType
(
aType
)
mTarget
(
nullptr
)
mResult
(
NS_OK
)
{
}
Type
mType
;
void
*
mTarget
;
nsresult
mResult
;
}
;
}
#
endif

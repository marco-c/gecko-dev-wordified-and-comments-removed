import
runpy
def
generate
(
output
dataFile
)
:
    
output
.
write
(
"
"
"
/
*
THIS
IS
AN
AUTOGENERATED
FILE
.
DO
NOT
EDIT
*
/
/
*
processed
file
that
defines
entries
for
nsComputedDOMStyle
designed
   
to
be
#
included
in
nsComputedDOMStyle
.
cpp
*
/
static
constexpr
Entry
kEntries
[
]
=
{
"
"
"
)
    
def
exposed_on_getcs
(
p
)
:
        
return
"
ExposedOnGetCS
"
in
p
.
flags
    
def
order_key
(
p
)
:
        
order
=
p
.
name
.
startswith
(
"
-
"
)
        
return
(
order
p
.
name
)
    
def
has_cpp_getter
(
p
)
:
        
if
"
SerializedByServo
"
in
p
.
flags
:
            
return
False
        
if
p
.
type
(
)
=
=
"
longhand
"
and
"
IsLogical
"
in
p
.
flags
:
            
return
False
        
return
True
    
def
method
(
p
)
:
        
if
p
.
id
.
startswith
(
"
margin_
"
)
:
            
return
"
{
}
Width
"
.
format
(
p
.
method
)
        
if
p
.
id
.
startswith
(
"
_moz_
"
)
:
            
method
=
p
.
method
[
3
:
]
        
else
:
            
method
=
p
.
method
        
if
p
.
id
.
startswith
(
"
_moz_outline_radius_
"
)
:
            
method
=
method
.
replace
(
"
left
"
"
Left
"
)
            
method
=
method
.
replace
(
"
right
"
"
Right
"
)
        
return
method
    
def
getter_entry
(
p
)
:
        
if
has_cpp_getter
(
p
)
:
            
return
"
DoGet
"
+
method
(
p
)
        
return
"
DummyGetter
"
    
properties
=
runpy
.
run_path
(
dataFile
)
[
"
data
"
]
    
properties
=
filter
(
exposed_on_getcs
properties
)
    
TEMPLATE
=
"
{
{
eCSSProperty_
{
}
&
nsComputedDOMStyle
:
:
{
}
}
}
\
n
"
    
for
p
in
sorted
(
properties
key
=
order_key
)
:
        
output
.
write
(
TEMPLATE
.
format
(
p
.
id
getter_entry
(
p
)
)
)
    
output
.
write
(
"
}
;
\
n
"
)

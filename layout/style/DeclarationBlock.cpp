#
include
"
mozilla
/
DeclarationBlock
.
h
"
#
include
"
mozilla
/
ServoBindings
.
h
"
#
include
"
nsCSSProps
.
h
"
namespace
mozilla
{
already_AddRefed
<
DeclarationBlock
>
DeclarationBlock
:
:
FromCssText
(
const
nsAString
&
aCssText
URLExtraData
*
aExtraData
nsCompatibility
aMode
css
:
:
Loader
*
aLoader
)
{
NS_ConvertUTF16toUTF8
value
(
aCssText
)
;
RefPtr
<
RawServoDeclarationBlock
>
raw
=
Servo_ParseStyleAttribute
(
&
value
aExtraData
aMode
aLoader
)
.
Consume
(
)
;
RefPtr
<
DeclarationBlock
>
decl
=
new
DeclarationBlock
(
raw
.
forget
(
)
)
;
return
decl
.
forget
(
)
;
}
}

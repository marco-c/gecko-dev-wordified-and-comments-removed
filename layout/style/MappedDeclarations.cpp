#
include
"
MappedDeclarations
.
h
"
#
include
"
nsAttrValue
.
h
"
#
include
"
nsAttrValueInlines
.
h
"
#
include
"
nsIDocument
.
h
"
#
include
"
nsPresContext
.
h
"
namespace
mozilla
{
void
MappedDeclarations
:
:
SetIdentAtomValue
(
nsCSSPropertyID
aId
nsAtom
*
aValue
)
{
Servo_DeclarationBlock_SetIdentStringValue
(
mDecl
aId
aValue
)
;
if
(
aId
=
=
eCSSProperty__x_lang
)
{
if
(
nsPresContext
*
pc
=
mDocument
-
>
GetPresContext
(
)
)
{
pc
-
>
ForceCacheLang
(
aValue
)
;
}
}
}
void
MappedDeclarations
:
:
SetBackgroundImage
(
const
nsAttrValue
&
aValue
)
{
if
(
aValue
.
Type
(
)
!
=
nsAttrValue
:
:
eURL
)
{
return
;
}
nsAutoString
str
;
aValue
.
ToString
(
str
)
;
Servo_DeclarationBlock_SetBackgroundImage
(
mDecl
str
mDocument
-
>
DefaultStyleAttrURLData
(
)
)
;
}
}

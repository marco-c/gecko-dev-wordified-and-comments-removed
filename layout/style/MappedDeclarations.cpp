#
include
"
MappedDeclarations
.
h
"
#
include
"
nsAttrValue
.
h
"
#
include
"
nsAttrValueInlines
.
h
"
#
include
"
mozilla
/
dom
/
Document
.
h
"
#
include
"
nsPresContext
.
h
"
namespace
mozilla
{
void
MappedDeclarations
:
:
SetIdentAtomValue
(
nsCSSPropertyID
aId
nsAtom
*
aValue
)
{
Servo_DeclarationBlock_SetIdentStringValue
(
mDecl
aId
aValue
)
;
if
(
aId
=
=
eCSSProperty__x_lang
)
{
mDocument
-
>
ForceCacheLang
(
aValue
)
;
}
}
void
MappedDeclarations
:
:
SetBackgroundImage
(
const
nsAttrValue
&
aValue
)
{
if
(
aValue
.
Type
(
)
!
=
nsAttrValue
:
:
eURL
)
{
return
;
}
nsAutoString
str
;
aValue
.
ToString
(
str
)
;
nsAutoCString
utf8
;
CopyUTF16toUTF8
(
str
utf8
)
;
Servo_DeclarationBlock_SetBackgroundImage
(
mDecl
&
utf8
mDocument
-
>
DefaultStyleAttrURLData
(
)
)
;
}
}

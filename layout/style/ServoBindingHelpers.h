#
ifndef
mozilla_ServoBindingHelpers_h
#
define
mozilla_ServoBindingHelpers_h
#
include
"
mozilla
/
RefPtr
.
h
"
#
include
"
mozilla
/
ServoBindings
.
h
"
#
include
"
mozilla
/
UniquePtr
.
h
"
namespace
mozilla
{
#
define
DEFINE_REFPTR_TRAITS
(
name_
type_
)
\
template
<
>
\
struct
RefPtrTraits
<
type_
>
\
{
\
static
void
AddRef
(
type_
*
aPtr
)
\
{
\
Servo_
#
#
name_
#
#
_AddRef
(
aPtr
)
;
\
}
\
static
void
Release
(
type_
*
aPtr
)
\
{
\
Servo_
#
#
name_
#
#
_Release
(
aPtr
)
;
\
}
\
}
DEFINE_REFPTR_TRAITS
(
StyleSheet
RawServoStyleSheet
)
;
DEFINE_REFPTR_TRAITS
(
ComputedValues
ServoComputedValues
)
;
DEFINE_REFPTR_TRAITS
(
DeclarationBlock
ServoDeclarationBlock
)
;
#
undef
DEFINE_REFPTR_TRAITS
template
<
>
class
DefaultDelete
<
RawServoStyleSet
>
{
public
:
void
operator
(
)
(
RawServoStyleSet
*
aPtr
)
const
{
Servo_StyleSet_Drop
(
aPtr
)
;
}
}
;
}
#
endif

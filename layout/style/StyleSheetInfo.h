#
ifndef
mozilla_StyleSheetInfo_h
#
define
mozilla_StyleSheetInfo_h
#
include
"
mozilla
/
CORSMode
.
h
"
#
include
"
mozilla
/
css
/
SheetParsingMode
.
h
"
#
include
"
mozilla
/
dom
/
SRIMetadata
.
h
"
#
include
"
nsIReferrerInfo
.
h
"
class
nsIPrincipal
;
class
nsIURI
;
namespace
mozilla
{
class
StyleSheet
;
struct
StyleStylesheetContents
;
struct
URLExtraData
;
struct
StyleSheetInfo
final
{
using
ReferrerPolicy
=
dom
:
:
ReferrerPolicy
;
StyleSheetInfo
(
CORSMode
aCORSMode
const
dom
:
:
SRIMetadata
&
aIntegrity
css
:
:
SheetParsingMode
aParsingMode
)
;
StyleSheetInfo
(
StyleSheetInfo
&
aCopy
StyleSheet
*
aPrimarySheet
)
;
~
StyleSheetInfo
(
)
;
StyleSheetInfo
*
CloneFor
(
StyleSheet
*
aPrimarySheet
)
;
void
AddSheet
(
StyleSheet
*
aSheet
)
;
void
RemoveSheet
(
StyleSheet
*
aSheet
)
;
size_t
SizeOfIncludingThis
(
MallocSizeOf
aMallocSizeOf
)
const
;
nsCOMPtr
<
nsIURI
>
mSheetURI
;
nsCOMPtr
<
nsIURI
>
mOriginalSheetURI
;
nsCOMPtr
<
nsIURI
>
mBaseURI
;
nsCOMPtr
<
nsIPrincipal
>
mPrincipal
;
const
CORSMode
mCORSMode
;
nsCOMPtr
<
nsIReferrerInfo
>
mReferrerInfo
;
dom
:
:
SRIMetadata
mIntegrity
;
nsTArray
<
RefPtr
<
StyleSheet
>
>
mChildren
;
nsCString
mSourceMapURL
;
RefPtr
<
const
StyleStylesheetContents
>
mContents
;
RefPtr
<
URLExtraData
>
mURLData
;
AutoTArray
<
StyleSheet
*
8
>
mSheets
;
#
ifdef
DEBUG
bool
mPrincipalSet
=
false
;
#
endif
}
;
}
#
endif

#
ifndef
mozilla_StyleSheetInfo_h
#
define
mozilla_StyleSheetInfo_h
#
include
"
mozilla
/
css
/
SheetParsingMode
.
h
"
#
include
"
mozilla
/
dom
/
SRIMetadata
.
h
"
#
include
"
mozilla
/
net
/
ReferrerPolicy
.
h
"
#
include
"
mozilla
/
CORSMode
.
h
"
#
include
"
nsIURI
.
h
"
class
nsCSSRuleProcessor
;
class
nsIPrincipal
;
namespace
mozilla
{
class
StyleSheet
;
struct
StyleSheetInfo
final
{
typedef
net
:
:
ReferrerPolicy
ReferrerPolicy
;
StyleSheetInfo
(
CORSMode
aCORSMode
ReferrerPolicy
aReferrerPolicy
const
dom
:
:
SRIMetadata
&
aIntegrity
css
:
:
SheetParsingMode
aParsingMode
)
;
StyleSheetInfo
(
StyleSheetInfo
&
aCopy
StyleSheet
*
aPrimarySheet
)
;
~
StyleSheetInfo
(
)
;
StyleSheetInfo
*
CloneFor
(
StyleSheet
*
aPrimarySheet
)
;
void
AddSheet
(
StyleSheet
*
aSheet
)
;
void
RemoveSheet
(
StyleSheet
*
aSheet
)
;
size_t
SizeOfIncludingThis
(
MallocSizeOf
aMallocSizeOf
)
const
;
nsCOMPtr
<
nsIURI
>
mSheetURI
;
nsCOMPtr
<
nsIURI
>
mOriginalSheetURI
;
nsCOMPtr
<
nsIURI
>
mBaseURI
;
nsCOMPtr
<
nsIPrincipal
>
mPrincipal
;
CORSMode
mCORSMode
;
ReferrerPolicy
mReferrerPolicy
;
dom
:
:
SRIMetadata
mIntegrity
;
bool
mComplete
;
RefPtr
<
StyleSheet
>
mFirstChild
;
AutoTArray
<
StyleSheet
*
8
>
mSheets
;
nsString
mSourceMapURL
;
nsString
mSourceMapURLFromComment
;
nsString
mSourceURL
;
RefPtr
<
const
RawServoStyleSheetContents
>
mContents
;
RefPtr
<
URLExtraData
>
mURLData
;
#
ifdef
DEBUG
bool
mPrincipalSet
;
#
endif
}
;
}
#
endif

#
include
"
mozilla
/
ServoMediaList
.
h
"
#
include
"
mozilla
/
ServoBindings
.
h
"
namespace
mozilla
{
already_AddRefed
<
dom
:
:
MediaList
>
ServoMediaList
:
:
Clone
(
)
{
MOZ_ASSERT_UNREACHABLE
(
"
stylo
:
ServoMediaList
doesn
'
t
support
clone
"
)
;
return
nullptr
;
}
void
ServoMediaList
:
:
GetText
(
nsAString
&
aMediaText
)
{
Servo_MediaList_GetText
(
mRawList
&
aMediaText
)
;
}
void
ServoMediaList
:
:
SetText
(
const
nsAString
&
aMediaText
)
{
NS_ConvertUTF16toUTF8
mediaText
(
aMediaText
)
;
Servo_MediaList_SetText
(
mRawList
&
mediaText
)
;
}
uint32_t
ServoMediaList
:
:
Length
(
)
{
return
Servo_MediaList_GetLength
(
mRawList
)
;
}
void
ServoMediaList
:
:
IndexedGetter
(
uint32_t
aIndex
bool
&
aFound
nsAString
&
aReturn
)
{
aFound
=
Servo_MediaList_GetMediumAt
(
mRawList
aIndex
&
aReturn
)
;
}
nsresult
ServoMediaList
:
:
Append
(
const
nsAString
&
aNewMedium
)
{
if
(
aNewMedium
.
IsEmpty
(
)
)
{
return
NS_ERROR_DOM_NOT_FOUND_ERR
;
}
NS_ConvertUTF16toUTF8
newMedium
(
aNewMedium
)
;
Servo_MediaList_AppendMedium
(
mRawList
&
newMedium
)
;
return
NS_OK
;
}
nsresult
ServoMediaList
:
:
Delete
(
const
nsAString
&
aOldMedium
)
{
NS_ConvertUTF16toUTF8
oldMedium
(
aOldMedium
)
;
if
(
Servo_MediaList_DeleteMedium
(
mRawList
&
oldMedium
)
)
{
return
NS_OK
;
}
return
NS_ERROR_DOM_NOT_FOUND_ERR
;
}
}

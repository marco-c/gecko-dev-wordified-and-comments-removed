"
use
strict
"
;
function
test
(
)
{
waitForExplicitFinish
(
)
;
const
windowListener
=
{
onOpenWindow
(
win
)
{
info
(
"
Observed
window
open
"
)
const
domWindow
=
win
.
docShell
.
domWindow
;
waitForFocus
(
(
)
=
>
{
is
(
domWindow
.
location
"
chrome
:
/
/
layoutdebug
/
content
/
layoutdebug
.
xul
"
"
Window
location
is
correct
"
)
;
domWindow
.
close
(
)
;
}
domWindow
)
;
}
onCloseWindow
(
)
{
info
(
"
Observed
window
closed
"
)
;
Services
.
wm
.
removeListener
(
this
)
;
finish
(
)
;
}
}
;
Services
.
wm
.
addListener
(
windowListener
)
;
const
menuitem
=
document
.
getElementById
(
"
menu_layout_debugger
"
)
;
ok
(
menuitem
"
Menuitem
present
"
)
;
if
(
menuitem
)
{
menuitem
.
click
(
)
;
}
}

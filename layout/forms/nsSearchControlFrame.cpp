#
include
"
nsSearchControlFrame
.
h
"
#
include
"
mozilla
/
PresShell
.
h
"
#
include
"
nsGkAtoms
.
h
"
#
include
"
nsContentUtils
.
h
"
using
namespace
mozilla
;
nsIFrame
*
NS_NewSearchControlFrame
(
PresShell
*
aPresShell
ComputedStyle
*
aStyle
)
{
return
new
(
aPresShell
)
nsSearchControlFrame
(
aStyle
aPresShell
-
>
GetPresContext
(
)
)
;
}
NS_IMPL_FRAMEARENA_HELPERS
(
nsSearchControlFrame
)
NS_QUERYFRAME_HEAD
(
nsSearchControlFrame
)
NS_QUERYFRAME_ENTRY
(
nsSearchControlFrame
)
NS_QUERYFRAME_TAIL_INHERITING
(
nsTextControlFrame
)
nsSearchControlFrame
:
:
nsSearchControlFrame
(
ComputedStyle
*
aStyle
nsPresContext
*
aPresContext
)
:
nsTextControlFrame
(
aStyle
aPresContext
kClassID
)
{
}
nsresult
nsSearchControlFrame
:
:
CreateAnonymousContent
(
nsTArray
<
ContentInfo
>
&
aElements
)
{
nsTextControlFrame
:
:
CreateAnonymousContent
(
aElements
)
;
mButton
=
MakeAnonElement
(
PseudoStyleType
:
:
mozSearchClearButton
nullptr
nsGkAtoms
:
:
button
)
;
mButton
-
>
SetAttr
(
kNameSpaceID_None
nsGkAtoms
:
:
tabindex
u
"
-
1
"
_ns
false
)
;
mButton
-
>
SetAttr
(
kNameSpaceID_None
nsGkAtoms
:
:
aria_hidden
u
"
true
"
_ns
false
)
;
mButton
-
>
SetAttr
(
kNameSpaceID_None
nsGkAtoms
:
:
title
u
"
"
_ns
false
)
;
aElements
.
AppendElement
(
mButton
)
;
return
NS_OK
;
}

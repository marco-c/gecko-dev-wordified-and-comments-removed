#
ifndef
mozilla_net_DocumentChannelChild_h
#
define
mozilla_net_DocumentChannelChild_h
#
include
"
mozilla
/
net
/
PDocumentChannelChild
.
h
"
#
include
"
mozilla
/
net
/
DocumentChannel
.
h
"
#
include
"
nsIAsyncVerifyRedirectCallback
.
h
"
#
include
"
mozilla
/
dom
/
nsCSPContext
.
h
"
namespace
mozilla
{
namespace
net
{
class
DocumentChannelChild
final
:
public
DocumentChannel
public
nsIAsyncVerifyRedirectCallback
public
PDocumentChannelChild
{
public
:
DocumentChannelChild
(
nsDocShellLoadState
*
aLoadState
class
LoadInfo
*
aLoadInfo
nsLoadFlags
aLoadFlags
uint32_t
aCacheKey
bool
aUriModified
bool
aIsXFOError
)
;
NS_DECL_ISUPPORTS_INHERITED
NS_DECL_NSIASYNCVERIFYREDIRECTCALLBACK
NS_IMETHOD
AsyncOpen
(
nsIStreamListener
*
aListener
)
override
;
NS_IMETHOD
Cancel
(
nsresult
aStatusCode
)
override
;
NS_IMETHOD
CancelWithReason
(
nsresult
aStatusCode
const
nsACString
&
aReason
)
override
;
mozilla
:
:
ipc
:
:
IPCResult
RecvFailedAsyncOpen
(
const
nsresult
&
aStatusCode
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvDisconnectChildListeners
(
const
nsresult
&
aStatus
const
nsresult
&
aLoadGroupStatus
bool
aSwitchedProcess
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvDeleteSelf
(
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvRedirectToRealChannel
(
RedirectToRealChannelArgs
&
&
aArgs
nsTArray
<
Endpoint
<
extensions
:
:
PStreamFilterParent
>
>
&
&
aEndpoints
RedirectToRealChannelResolver
&
&
aResolve
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvUpgradeObjectLoad
(
UpgradeObjectLoadResolver
&
&
aResolve
)
;
private
:
void
DeleteIPDL
(
)
override
{
if
(
CanSend
(
)
)
{
Send__delete__
(
this
)
;
}
}
~
DocumentChannelChild
(
)
;
nsCOMPtr
<
nsIChannel
>
mRedirectChannel
;
RedirectToRealChannelResolver
mRedirectResolver
;
nsTArray
<
Endpoint
<
extensions
:
:
PStreamFilterParent
>
>
mStreamFilterEndpoints
;
BrowsingContext
*
mLoadingContext
;
}
;
}
}
#
endif

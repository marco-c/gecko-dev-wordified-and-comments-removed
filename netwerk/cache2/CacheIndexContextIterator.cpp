#
include
"
CacheLog
.
h
"
#
include
"
CacheIndexContextIterator
.
h
"
#
include
"
CacheIndex
.
h
"
#
include
"
nsString
.
h
"
namespace
mozilla
:
:
net
{
CacheIndexContextIterator
:
:
CacheIndexContextIterator
(
CacheIndex
*
aIndex
bool
aAddNew
nsILoadContextInfo
*
aInfo
)
:
CacheIndexIterator
(
aIndex
aAddNew
)
mInfo
(
aInfo
)
{
}
void
CacheIndexContextIterator
:
:
AddRecord
(
CacheIndexRecordWrapper
*
aRecord
)
{
if
(
CacheIndexEntry
:
:
RecordMatchesLoadContextInfo
(
aRecord
mInfo
)
)
{
CacheIndexIterator
:
:
AddRecord
(
aRecord
)
;
}
}
void
CacheIndexContextIterator
:
:
AddRecords
(
const
nsTArray
<
RefPtr
<
CacheIndexRecordWrapper
>
>
&
aRecords
)
{
for
(
uint32_t
i
=
0
;
i
<
aRecords
.
Length
(
)
;
+
+
i
)
{
AddRecord
(
aRecords
[
i
]
)
;
}
}
}

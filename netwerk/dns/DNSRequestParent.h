#
ifndef
mozilla_net_DNSRequestParent_h
#
define
mozilla_net_DNSRequestParent_h
#
include
"
mozilla
/
net
/
DNSRequestBase
.
h
"
#
include
"
mozilla
/
net
/
PDNSRequestParent
.
h
"
#
include
"
nsIDNSListener
.
h
"
namespace
mozilla
{
namespace
net
{
class
DNSRequestParent
:
public
DNSRequestActor
public
PDNSRequestParent
{
public
:
friend
class
PDNSRequestParent
;
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
DNSRequestParent
override
)
explicit
DNSRequestParent
(
DNSRequestBase
*
aRequest
)
;
bool
CanSend
(
)
const
override
{
return
PDNSRequestParent
:
:
CanSend
(
)
;
}
DNSRequestChild
*
AsDNSRequestChild
(
)
override
{
return
nullptr
;
}
DNSRequestParent
*
AsDNSRequestParent
(
)
override
{
return
this
;
}
private
:
virtual
~
DNSRequestParent
(
)
=
default
;
mozilla
:
:
ipc
:
:
IPCResult
RecvCancelDNSRequest
(
const
nsCString
&
hostName
const
nsCString
&
trrServer
const
int32_t
&
port
const
uint16_t
&
type
const
OriginAttributes
&
originAttributes
const
uint32_t
&
flags
const
nsresult
&
reason
)
;
mozilla
:
:
ipc
:
:
IPCResult
RecvLookupCompleted
(
const
DNSRequestResponse
&
reply
)
;
void
ActorDestroy
(
ActorDestroyReason
)
override
;
}
;
}
}
#
endif

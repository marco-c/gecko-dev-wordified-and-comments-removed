#
ifndef
mozilla_net_TRRSkippedReason_h__
#
define
mozilla_net_TRRSkippedReason_h__
namespace
mozilla
{
namespace
net
{
enum
class
TRRSkippedReason
:
uint32_t
{
TRR_UNSET
=
0
TRR_OK
=
1
TRR_NO_GSERVICE
=
2
TRR_PARENTAL_CONTROL
=
3
TRR_OFF_EXPLICIT
=
4
TRR_REQ_MODE_DISABLED
=
5
TRR_MODE_NOT_ENABLED
=
6
TRR_FAILED
=
7
TRR_MODE_UNHANDLED_DEFAULT
=
8
TRR_MODE_UNHANDLED_DISABLED
=
9
TRR_DISABLED_FLAG
=
10
TRR_TIMEOUT
=
11
TRR_CHANNEL_DNS_FAIL
=
12
TRR_IS_OFFLINE
=
13
TRR_NOT_CONFIRMED
=
14
TRR_DID_NOT_MAKE_QUERY
=
15
TRR_UNKNOWN_CHANNEL_FAILURE
=
16
TRR_HOST_BLOCKED_TEMPORARY
=
17
TRR_SEND_FAILED
=
18
TRR_NET_RESET
=
19
TRR_NET_TIMEOUT
=
20
TRR_NET_REFUSED
=
21
TRR_NET_INTERRUPT
=
22
TRR_NET_INADEQ_SEQURITY
=
23
TRR_NO_ANSWERS
=
24
TRR_DECODE_FAILED
=
25
TRR_EXCLUDED
=
26
TRR_SERVER_RESPONSE_ERR
=
27
TRR_RCODE_FAIL
=
28
TRR_NO_CONNECTIVITY
=
29
TRR_NXDOMAIN
=
30
TRR_REQ_CANCELLED
=
31
ODOH_KEY_NOT_USABLE
=
32
ODOH_UPDATE_KEY_FAILED
=
33
ODOH_KEY_NOT_AVAILABLE
=
34
ODOH_ENCRYPTION_FAILED
=
35
ODOH_DECRYPTION_FAILED
=
36
}
;
inline
bool
IsRelevantTRRSkipReason
(
TRRSkippedReason
aReason
)
{
if
(
aReason
=
=
TRRSkippedReason
:
:
TRR_REQ_MODE_DISABLED
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_DISABLED_FLAG
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_EXCLUDED
)
{
return
false
;
}
return
true
;
}
inline
bool
IsBlockedTRRRequest
(
TRRSkippedReason
aReason
)
{
return
(
aReason
=
=
TRRSkippedReason
:
:
TRR_EXCLUDED
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_MODE_NOT_ENABLED
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_HOST_BLOCKED_TEMPORARY
)
;
}
inline
bool
IsNonRecoverableTRRSkipReason
(
TRRSkippedReason
aReason
)
{
return
(
aReason
=
=
TRRSkippedReason
:
:
TRR_NXDOMAIN
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_NO_ANSWERS
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_DISABLED_FLAG
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_RCODE_FAIL
)
;
}
inline
bool
IsFailedConfirmationOrNoConnectivity
(
TRRSkippedReason
aReason
)
{
return
(
aReason
=
=
TRRSkippedReason
:
:
TRR_NOT_CONFIRMED
|
|
aReason
=
=
TRRSkippedReason
:
:
TRR_NO_CONNECTIVITY
)
;
}
}
}
#
endif

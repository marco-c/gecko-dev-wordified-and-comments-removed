"
use
strict
"
;
const
{
Services
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
add_task
(
(
)
=
>
{
for
(
let
[
suffix
isKnown
]
of
[
[
"
"
false
]
[
null
false
]
[
"
mozbacon
"
false
]
[
"
com
"
true
]
[
"
circle
"
true
]
[
"
bd
"
true
]
[
"
gov
.
bd
"
true
]
[
"
ck
"
true
]
[
"
www
.
ck
"
true
]
[
"
bs
"
true
]
[
"
com
.
bs
"
true
]
[
"
.
cn
"
true
]
[
"
vall
edaoste
.
it
"
true
]
[
"
aurskog
-
h
land
.
no
"
true
]
[
"
.
"
true
]
[
"
"
true
]
[
"
"
true
]
]
)
{
let
origin
=
"
test
.
"
+
suffix
;
Assert
.
equal
(
!
!
Services
.
eTLD
.
getKnownPublicSuffixFromHost
(
origin
)
isKnown
"
{
suffix
}
"
should
{
isKnown
?
"
"
:
"
not
"
}
be
a
known
public
suffix
)
;
Assert
.
equal
(
!
!
Services
.
eTLD
.
getKnownPublicSuffix
(
Services
.
io
.
newURI
(
"
http
:
/
/
"
+
origin
)
)
isKnown
"
{
suffix
}
"
should
{
isKnown
?
"
"
:
"
not
"
}
be
a
known
public
suffix
)
;
}
}
)
;

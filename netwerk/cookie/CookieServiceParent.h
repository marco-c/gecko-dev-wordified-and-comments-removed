#
ifndef
mozilla_net_CookieServiceParent_h
#
define
mozilla_net_CookieServiceParent_h
#
include
"
mozilla
/
net
/
PCookieServiceParent
.
h
"
class
nsCookie
;
class
nsCookieService
;
namespace
mozilla
{
class
OriginAttributes
;
}
namespace
mozilla
{
namespace
net
{
class
CookieServiceParent
:
public
PCookieServiceParent
{
public
:
CookieServiceParent
(
)
;
virtual
~
CookieServiceParent
(
)
;
void
TrackCookieLoad
(
nsIChannel
*
aChannel
)
;
protected
:
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvGetCookieString
(
const
URIParams
&
aHost
const
bool
&
aIsForeign
const
OriginAttributes
&
aAttrs
nsCString
*
aResult
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvSetCookieString
(
const
URIParams
&
aHost
const
bool
&
aIsForeign
const
nsCString
&
aCookieString
const
nsCString
&
aServerTime
const
OriginAttributes
&
aAttrs
const
bool
&
aFromHttp
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvPrepareCookieList
(
const
URIParams
&
aHost
const
bool
&
aIsForeign
const
OriginAttributes
&
aAttrs
)
override
;
void
SerialializeCookieList
(
const
nsTArray
<
nsCookie
*
>
&
aFoundCookieList
nsTArray
<
CookieStruct
>
&
aCookiesList
nsIURI
*
aHostURI
)
;
RefPtr
<
nsCookieService
>
mCookieService
;
}
;
}
}
#
endif

#
include
"
CookieStorage
.
h
"
namespace
mozilla
{
namespace
net
{
size_t
CookieEntry
:
:
SizeOfExcludingThis
(
MallocSizeOf
aMallocSizeOf
)
const
{
size_t
amount
=
CookieKey
:
:
SizeOfExcludingThis
(
aMallocSizeOf
)
;
amount
+
=
mCookies
.
ShallowSizeOfExcludingThis
(
aMallocSizeOf
)
;
for
(
uint32_t
i
=
0
;
i
<
mCookies
.
Length
(
)
;
+
+
i
)
{
amount
+
=
mCookies
[
i
]
-
>
SizeOfIncludingThis
(
aMallocSizeOf
)
;
}
return
amount
;
}
CookieStorage
:
:
CookieStorage
(
)
:
cookieCount
(
0
)
cookieOldestTime
(
INT64_MAX
)
corruptFlag
(
OK
)
{
}
CookieStorage
:
:
~
CookieStorage
(
)
=
default
;
size_t
CookieStorage
:
:
SizeOfIncludingThis
(
MallocSizeOf
aMallocSizeOf
)
const
{
size_t
amount
=
0
;
amount
+
=
aMallocSizeOf
(
this
)
;
amount
+
=
hostTable
.
SizeOfExcludingThis
(
aMallocSizeOf
)
;
return
amount
;
}
}
}

#
ifndef
nsDataChannel_h___
#
define
nsDataChannel_h___
#
include
"
nsBaseChannel
.
h
"
#
include
"
nsIChildChannel
.
h
"
#
include
"
nsIDataChannel
.
h
"
class
nsIInputStream
;
class
nsDataChannel
:
public
nsBaseChannel
public
nsIDataChannel
public
nsIIdentChannel
public
nsIChildChannel
{
public
:
NS_DECL_ISUPPORTS_INHERITED
NS_DECL_NSIDATACHANNEL
NS_FORWARD_NSIREQUEST
(
nsBaseChannel
:
:
)
NS_FORWARD_NSICHANNEL
(
nsBaseChannel
:
:
)
NS_DECL_NSIIDENTCHANNEL
NS_DECL_NSICHILDCHANNEL
explicit
nsDataChannel
(
nsIURI
*
uri
)
{
SetURI
(
uri
)
;
}
nsresult
Init
(
)
;
protected
:
virtual
~
nsDataChannel
(
)
=
default
;
[
[
nodiscard
]
]
virtual
nsresult
OpenContentStream
(
bool
async
nsIInputStream
*
*
result
nsIChannel
*
*
channel
)
override
;
uint64_t
mChannelId
=
0
;
private
:
nsresult
MaybeSendDataChannelOpenNotification
(
)
;
}
;
#
endif

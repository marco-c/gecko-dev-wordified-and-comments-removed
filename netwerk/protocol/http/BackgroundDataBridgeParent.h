#
ifndef
mozilla_net_BackgroundDataBridgeParent_h
#
define
mozilla_net_BackgroundDataBridgeParent_h
#
include
"
mozilla
/
net
/
PBackgroundDataBridgeParent
.
h
"
namespace
mozilla
{
namespace
net
{
class
BackgroundDataBridgeParent
final
:
public
PBackgroundDataBridgeParent
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
BackgroundDataBridgeParent
override
)
explicit
BackgroundDataBridgeParent
(
uint64_t
aChannelID
)
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
already_AddRefed
<
nsISerialEventTarget
>
GetBackgroundThread
(
)
;
void
Destroy
(
)
;
void
OnStopRequest
(
nsresult
aStatus
const
ResourceTimingStructArgs
&
aTiming
const
TimeStamp
&
aLastActiveTabOptHit
const
nsHttpHeaderArray
&
aResponseTrailers
const
TimeStamp
&
aOnStopRequestStart
)
;
private
:
virtual
~
BackgroundDataBridgeParent
(
)
=
default
;
uint64_t
mChannelID
;
nsCOMPtr
<
nsISerialEventTarget
>
mBackgroundThread
;
}
;
}
}
#
endif

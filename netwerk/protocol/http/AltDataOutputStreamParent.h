#
ifndef
mozilla_net_AltDataOutputStreamParent_h
#
define
mozilla_net_AltDataOutputStreamParent_h
#
include
"
mozilla
/
net
/
PAltDataOutputStreamParent
.
h
"
#
include
"
nsIOutputStream
.
h
"
namespace
mozilla
{
namespace
net
{
class
AltDataOutputStreamParent
:
public
PAltDataOutputStreamParent
public
nsISupports
{
public
:
NS_DECL_ISUPPORTS
explicit
AltDataOutputStreamParent
(
nsIOutputStream
*
aStream
)
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvWriteData
(
const
nsCString
&
data
)
override
;
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvClose
(
)
override
;
virtual
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
void
SetError
(
nsresult
status
)
{
mStatus
=
status
;
}
virtual
mozilla
:
:
ipc
:
:
IPCResult
RecvDeleteSelf
(
)
override
;
private
:
virtual
~
AltDataOutputStreamParent
(
)
;
nsCOMPtr
<
nsIOutputStream
>
mOutputStream
;
nsresult
mStatus
;
bool
mIPCOpen
;
}
;
}
}
#
endif

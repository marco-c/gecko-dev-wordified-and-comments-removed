#
ifndef
HTTPSRecordResolver_h__
#
define
HTTPSRecordResolver_h__
#
include
"
nsICancelable
.
h
"
#
include
"
nsIDNSListener
.
h
"
#
include
"
nsHttpConnectionInfo
.
h
"
namespace
mozilla
{
namespace
net
{
class
nsAHttpTransaction
;
class
HTTPSRecordResolver
:
public
nsIDNSListener
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIDNSLISTENER
explicit
HTTPSRecordResolver
(
nsAHttpTransaction
*
aTransaction
)
;
nsresult
FetchHTTPSRRInternal
(
nsIEventTarget
*
aTarget
nsICancelable
*
*
aDNSRequest
)
;
void
PrefetchAddrRecord
(
const
nsACString
&
aTargetName
bool
aRefreshDNS
)
;
void
Close
(
)
;
protected
:
virtual
~
HTTPSRecordResolver
(
)
;
private
:
RefPtr
<
nsAHttpTransaction
>
mTransaction
;
RefPtr
<
nsHttpConnectionInfo
>
mConnInfo
;
uint32_t
mCaps
;
}
;
}
}
#
endif

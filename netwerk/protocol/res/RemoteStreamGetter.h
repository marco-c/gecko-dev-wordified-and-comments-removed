#
ifndef
RemoteStreamGetter_h___
#
define
RemoteStreamGetter_h___
#
include
"
LoadInfo
.
h
"
#
include
"
nsIChannel
.
h
"
#
include
"
nsIInputStreamPump
.
h
"
#
include
"
nsIStreamListener
.
h
"
#
include
"
nsIInputStream
.
h
"
#
include
"
nsICancelable
.
h
"
namespace
mozilla
{
namespace
net
{
class
RemoteStreamGetter
final
:
public
nsICancelable
{
NS_DECL_ISUPPORTS
NS_DECL_NSICANCELABLE
public
:
RemoteStreamGetter
(
nsIURI
*
aURI
nsILoadInfo
*
aLoadInfo
)
;
RequestOrReason
GetAsync
(
nsIStreamListener
*
aListener
nsIChannel
*
aChannel
)
;
void
OnStream
(
already_AddRefed
<
nsIInputStream
>
aStream
)
;
static
void
CancelRequest
(
nsIStreamListener
*
aListener
nsIChannel
*
aChannel
nsresult
aResult
)
;
private
:
~
RemoteStreamGetter
(
)
=
default
;
nsCOMPtr
<
nsIURI
>
mURI
;
nsCOMPtr
<
nsILoadInfo
>
mLoadInfo
;
nsCOMPtr
<
nsIStreamListener
>
mListener
;
nsCOMPtr
<
nsIChannel
>
mChannel
;
nsCOMPtr
<
nsIInputStreamPump
>
mPump
;
bool
mCanceled
{
false
}
;
nsresult
mStatus
{
NS_OK
}
;
}
;
}
}
#
endif

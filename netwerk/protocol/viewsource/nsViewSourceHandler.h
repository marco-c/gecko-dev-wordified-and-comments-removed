#
ifndef
nsViewSourceHandler_h___
#
define
nsViewSourceHandler_h___
#
include
"
nsIProtocolHandler
.
h
"
#
include
"
nsNetUtil
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
class
nsILoadInfo
;
namespace
mozilla
{
namespace
net
{
class
nsViewSourceHandler
final
:
public
nsIProtocolHandlerWithDynamicFlags
public
nsIProtocolHandler
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIPROTOCOLHANDLER
NS_DECL_NSIPROTOCOLHANDLERWITHDYNAMICFLAGS
nsViewSourceHandler
(
)
;
MOZ_MUST_USE
nsresult
NewSrcdocChannel
(
nsIURI
*
aURI
nsIURI
*
aBaseURI
const
nsAString
&
aSrcdoc
nsILoadInfo
*
aLoadInfo
nsIChannel
*
*
outChannel
)
;
static
nsViewSourceHandler
*
GetInstance
(
)
;
static
nsresult
CreateNewURI
(
const
nsACString
&
aSpec
const
char
*
aCharset
nsIURI
*
aBaseURI
nsIURI
*
*
aResult
)
;
private
:
~
nsViewSourceHandler
(
)
;
static
nsViewSourceHandler
*
gInstance
;
}
;
}
}
#
endif

#
ifndef
_nsCacheUtils_h_
#
define
_nsCacheUtils_h_
#
include
"
nsThreadUtils
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
mozilla
/
Monitor
.
h
"
class
nsIThread
;
class
nsShutdownThread
:
public
mozilla
:
:
Runnable
{
public
:
explicit
nsShutdownThread
(
nsIThread
*
aThread
)
;
~
nsShutdownThread
(
)
=
default
;
NS_IMETHOD
Run
(
)
override
;
static
nsresult
Shutdown
(
nsIThread
*
aThread
)
;
static
nsresult
BlockingShutdown
(
nsIThread
*
aThread
)
;
private
:
mozilla
:
:
Monitor
mMonitor
;
bool
mShuttingDown
;
nsCOMPtr
<
nsIThread
>
mThread
;
}
;
#
endif

#
ifndef
TCPFastOpenLayer_h__
#
define
TCPFastOpenLayer_h__
#
include
"
prerror
.
h
"
namespace
mozilla
{
namespace
net
{
typedef
enum
{
TFO_NOT_SET
TFO_UNKNOWN
TFO_DISABLED
TFO_DISABLED_CONNECT
TFO_NOT_TRIED
TFO_TRIED
TFO_DATA_SENT
TFO_DATA_COOKIE_NOT_ACCEPTED
TFO_FAILED_CONNECTION_REFUSED
TFO_FAILED_NET_TIMEOUT
TFO_FAILED_UNKNOW_ERROR
TFO_FAILED_BACKUP_CONNECTION_TFO_NOT_TRIED
TFO_FAILED_BACKUP_CONNECTION_TFO_TRIED
TFO_FAILED_BACKUP_CONNECTION_TFO_DATA_SENT
TFO_FAILED_BACKUP_CONNECTION_TFO_DATA_COOKIE_NOT_ACCEPTED
TFO_FAILED_CONNECTION_REFUSED_NO_TFO_FAILED_TOO
TFO_FAILED_NET_TIMEOUT_NO_TFO_FAILED_TOO
TFO_FAILED_UNKNOW_ERROR_NO_TFO_FAILED_TOO
TFO_FAILED_BACKUP_CONNECTION_NO_TFO_FAILED_TOO
TFO_BACKUP_CONN
TFO_INIT_FAILED
TFO_FAILED
TFO_HTTP
}
TFOResult
;
nsresult
AttachTCPFastOpenIOLayer
(
PRFileDesc
*
fd
)
;
void
TCPFastOpenFinish
(
PRFileDesc
*
fd
PRErrorCode
&
err
bool
&
fastOpenNotSupported
uint8_t
&
tfoStatus
)
;
int32_t
TCPFastOpenGetBufferSizeLeft
(
PRFileDesc
*
fd
)
;
bool
TCPFastOpenGetCurrentBufferSize
(
PRFileDesc
*
fd
)
;
bool
TCPFastOpenFlushBuffer
(
PRFileDesc
*
fd
)
;
}
}
#
endif

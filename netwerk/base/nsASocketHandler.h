#
ifndef
nsASocketHandler_h__
#
define
nsASocketHandler_h__
#
include
"
nsError
.
h
"
#
include
"
nsINetAddr
.
h
"
#
include
"
nsISupports
.
h
"
#
include
"
prio
.
h
"
class
nsASocketHandler
:
public
nsISupports
{
public
:
nsASocketHandler
(
)
=
default
;
nsresult
mCondition
{
NS_OK
}
;
uint16_t
mPollFlags
{
0
}
;
uint16_t
mPollTimeout
{
UINT16_MAX
}
;
bool
mIsPrivate
{
false
}
;
virtual
void
OnSocketReady
(
PRFileDesc
*
fd
int16_t
outFlags
)
=
0
;
virtual
void
OnSocketDetached
(
PRFileDesc
*
fd
)
=
0
;
virtual
void
IsLocal
(
bool
*
aIsLocal
)
=
0
;
virtual
void
KeepWhenOffline
(
bool
*
aKeepWhenOffline
)
{
*
aKeepWhenOffline
=
false
;
}
virtual
void
OnKeepaliveEnabledPrefChange
(
bool
aEnabled
)
{
}
virtual
nsresult
GetRemoteAddr
(
mozilla
:
:
net
:
:
NetAddr
*
addr
)
{
return
NS_ERROR_NOT_IMPLEMENTED
;
}
virtual
uint64_t
ByteCountSent
(
)
=
0
;
virtual
uint64_t
ByteCountReceived
(
)
=
0
;
}
;
#
endif

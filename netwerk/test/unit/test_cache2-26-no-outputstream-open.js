function
run_test
(
)
{
do_get_profile
(
)
;
asyncOpenCacheEntry
(
"
http
:
/
/
no
-
data
/
"
"
disk
"
Ci
.
nsICacheStorage
.
OPEN_NORMALLY
null
new
OpenCallback
(
NEW
|
METAONLY
|
DONTSETVALID
|
WAITFORWRITE
"
meta
"
"
"
function
(
entry
)
{
do_execute_soon
(
(
)
=
>
{
Cu
.
forceGC
(
)
;
asyncOpenCacheEntry
(
"
http
:
/
/
no
-
data
/
"
"
disk
"
Ci
.
nsICacheStorage
.
OPEN_NORMALLY
null
new
OpenCallback
(
NORMAL
"
meta
"
"
"
function
(
entry
)
{
finish_cache2_test
(
)
;
}
)
)
;
}
)
;
}
)
)
;
do_test_pending
(
)
;
}

"
use
strict
"
;
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
NetUtil
.
jsm
"
)
;
function
standardMutator
(
)
{
return
Cc
[
'
mozilla
.
org
/
network
/
standard
-
url
-
mutator
;
1
'
]
.
createInstance
(
Ci
.
nsIURIMutator
)
;
}
add_task
(
async
function
test_simple_setter_chaining
(
)
{
let
uri
=
standardMutator
(
)
.
setSpec
(
"
http
:
/
/
example
.
com
/
"
)
.
setQuery
(
"
hello
"
)
.
setRef
(
"
bla
"
)
.
setScheme
(
"
ftp
"
)
.
finalize
(
)
;
equal
(
uri
.
spec
"
ftp
:
/
/
example
.
com
/
?
hello
#
bla
"
)
;
}
)
;

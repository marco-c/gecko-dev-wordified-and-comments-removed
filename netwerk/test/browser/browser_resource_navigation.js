"
use
strict
"
;
add_task
(
async
function
(
)
{
info
(
"
Make
sure
navigation
through
links
in
resource
:
/
/
pages
work
"
)
;
await
BrowserTestUtils
.
withNewTab
(
{
gBrowser
url
:
"
resource
:
/
/
gre
/
"
}
async
function
(
browser
)
{
await
SpecialPowers
.
spawn
(
browser
[
]
function
(
)
{
let
link
=
Array
.
prototype
.
filter
.
call
(
content
.
document
.
getElementsByClassName
(
"
dir
"
)
function
(
element
)
{
let
name
=
element
.
textContent
;
if
(
name
.
endsWith
(
"
/
"
)
)
{
name
=
name
.
slice
(
0
-
1
)
;
}
return
name
=
=
"
components
"
;
}
)
[
0
]
;
link
.
scrollIntoView
(
)
;
link
.
click
(
)
;
}
)
;
await
BrowserTestUtils
.
browserLoaded
(
browser
undefined
"
resource
:
/
/
gre
/
components
/
"
)
;
await
SpecialPowers
.
spawn
(
browser
[
]
function
(
)
{
let
link
=
content
.
document
.
getElementById
(
"
UI_goUp
"
)
.
getElementsByTagName
(
"
a
"
)
[
0
]
;
link
.
click
(
)
;
}
)
;
await
BrowserTestUtils
.
browserLoaded
(
browser
undefined
"
resource
:
/
/
gre
/
"
)
;
await
SpecialPowers
.
spawn
(
browser
[
]
function
(
)
{
let
link
=
Array
.
prototype
.
filter
.
call
(
content
.
document
.
getElementsByClassName
(
"
file
"
)
function
(
element
)
{
return
element
.
textContent
=
=
"
greprefs
.
js
"
;
}
)
[
0
]
;
link
.
scrollIntoView
(
)
;
link
.
click
(
)
;
}
)
;
await
BrowserTestUtils
.
browserLoaded
(
browser
undefined
"
resource
:
/
/
gre
/
greprefs
.
js
"
)
;
ok
(
true
"
Got
to
the
end
of
the
test
!
"
)
;
}
)
;
}
)
;

UNIFIED_SOURCES
+
=
[
"
TestBase64Stream
.
cpp
"
"
TestBind
.
cpp
"
"
TestBufferedInputStream
.
cpp
"
"
TestCommon
.
cpp
"
"
TestCookie
.
cpp
"
"
TestDNSPacket
.
cpp
"
"
TestHeaders
.
cpp
"
"
TestHttpAuthUtils
.
cpp
"
"
TestHttpChannel
.
cpp
"
"
TestHttpResponseHead
.
cpp
"
"
TestInputStreamTransport
.
cpp
"
"
TestIsValidIp
.
cpp
"
"
TestMIMEInputStream
.
cpp
"
"
TestMozURL
.
cpp
"
"
TestProtocolProxyService
.
cpp
"
"
TestReadStreamToString
.
cpp
"
"
TestServerTimingHeader
.
cpp
"
"
TestSocketTransportService
.
cpp
"
"
TestStandardURL
.
cpp
"
"
TestUDPSocket
.
cpp
"
]
if
CONFIG
[
"
OS_TARGET
"
]
=
=
"
WINNT
"
:
UNIFIED_SOURCES
+
=
[
"
TestNamedPipeService
.
cpp
"
]
if
CONFIG
[
"
CC_TYPE
"
]
in
(
"
clang
"
"
gcc
"
)
:
CXXFLAGS
+
=
[
"
-
Wno
-
shadow
"
]
if
not
(
CONFIG
[
"
OS_TARGET
"
]
=
=
"
WINNT
"
and
CONFIG
[
"
CPU_ARCH
"
]
=
=
"
aarch64
"
)
:
UNIFIED_SOURCES
+
=
[
"
TestPACMan
.
cpp
"
"
TestPartiallySeekableInputStream
.
cpp
"
"
TestURIMutator
.
cpp
"
]
if
CONFIG
[
"
OS_TARGET
"
]
=
=
"
WINNT
"
:
UNIFIED_SOURCES
+
=
[
"
TestNetworkLinkIdHashingWindows
.
cpp
"
]
if
CONFIG
[
"
OS_TARGET
"
]
=
=
"
Darwin
"
:
UNIFIED_SOURCES
+
=
[
"
TestNetworkLinkIdHashingDarwin
.
cpp
"
]
TEST_HARNESS_FILES
.
gtest
+
=
[
"
urltestdata
.
json
"
]
USE_LIBS
+
=
[
"
jsoncpp
"
]
LOCAL_INCLUDES
+
=
[
"
/
netwerk
/
base
"
"
/
netwerk
/
cookie
"
"
/
toolkit
/
components
/
jsoncpp
/
include
"
"
/
xpcom
/
tests
/
gtest
"
]
if
CONFIG
[
"
OS_TARGET
"
]
=
=
"
WINNT
"
:
LOCAL_INCLUDES
+
=
[
"
/
netwerk
/
system
/
win32
"
]
if
CONFIG
[
"
OS_TARGET
"
]
=
=
"
Darwin
"
:
LOCAL_INCLUDES
+
=
[
"
/
netwerk
/
system
/
mac
"
]
include
(
"
/
ipc
/
chromium
/
chromium
-
config
.
mozbuild
"
)
FINAL_LIBRARY
=
"
xul
-
gtest
"
LOCAL_INCLUDES
+
=
[
"
!
/
xpcom
"
"
/
xpcom
/
components
"
]
REQUIRES_UNIFIED_BUILD
=
True

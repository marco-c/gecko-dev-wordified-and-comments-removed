#
ifdef
FREEBL_NO_DEPEND
#
include
"
stubs
.
h
"
#
endif
#
include
<
stdlib
.
h
>
#
include
"
prtypes
.
h
"
#
ifndef
__has_builtin
#
define
__has_builtin
(
x
)
0
#
endif
#
if
defined
(
HAVE_LONG_LONG
)
#
if
defined
(
_MSC_VER
)
#
pragma
intrinsic
(
_rotr64
_rotl64
)
#
define
ROTR64
(
x
n
)
_rotr64
(
(
x
)
(
n
)
)
#
define
ROTL64
(
x
n
)
_rotl64
(
(
x
)
(
n
)
)
#
else
#
define
ROTR64
(
x
n
)
(
(
(
x
)
>
>
(
n
)
)
|
(
(
x
)
<
<
(
64
-
(
n
)
)
)
)
#
define
ROTL64
(
x
n
)
(
(
(
x
)
<
<
(
n
)
)
|
(
(
x
)
>
>
(
64
-
(
n
)
)
)
)
#
endif
#
if
defined
(
IS_LITTLE_ENDIAN
)
#
if
defined
(
_MSC_VER
)
#
pragma
intrinsic
(
_byteswap_uint64
)
#
define
FREEBL_HTONLL
(
x
)
_byteswap_uint64
(
x
)
#
elif
__has_builtin
(
__builtin_bswap64
)
#
define
FREEBL_HTONLL
(
x
)
__builtin_bswap64
(
x
)
#
elif
defined
(
__GNUC__
)
&
&
(
defined
(
__x86_64__
)
|
|
defined
(
__x86_64
)
)
PRUint64
swap8b
(
PRUint64
value
)
;
#
define
FREEBL_HTONLL
(
x
)
swap8b
(
x
)
#
else
#
define
SHA_MASK16
0x0000FFFF0000FFFFULL
#
define
SHA_MASK8
0x00FF00FF00FF00FFULL
PRUint64
swap8b
(
PRUint64
x
)
;
#
define
FREEBL_HTONLL
(
x
)
swap8b
(
x
)
#
endif
#
else
#
define
FREEBL_HTONLL
(
x
)
(
x
)
#
endif
#
endif

#
include
"
gtest
/
gtest
.
h
"
namespace
{
class
FailingEnvironment
final
:
public
:
:
testing
:
:
Environment
{
public
:
void
SetUp
(
)
override
{
FAIL
(
)
<
<
"
Canned
environment
setup
error
"
;
}
}
;
auto
*
const
g_environment_
=
:
:
testing
:
:
AddGlobalTestEnvironment
(
new
FailingEnvironment
)
;
TEST
(
SomeTest
DoesFoo
)
{
FAIL
(
)
<
<
"
Unexpected
call
"
;
}
}
int
main
(
int
argc
char
*
*
argv
)
{
:
:
testing
:
:
InitGoogleTest
(
&
argc
argv
)
;
return
RUN_ALL_TESTS
(
)
;
}

"
"
"
Verifies
that
Google
Test
warns
the
user
when
not
initialized
properly
.
"
"
"
import
gtest_test_utils
COMMAND
=
gtest_test_utils
.
GetTestExecutablePath
(
'
googletest
-
uninitialized
-
test_
'
)
def
Assert
(
condition
)
:
  
if
not
condition
:
    
raise
AssertionError
def
AssertEq
(
expected
actual
)
:
  
if
expected
!
=
actual
:
    
print
(
'
Expected
:
%
s
'
%
(
expected
)
)
    
print
(
'
Actual
:
%
s
'
%
(
actual
)
)
    
raise
AssertionError
def
TestExitCodeAndOutput
(
command
)
:
  
"
"
"
Runs
the
given
command
and
verifies
its
exit
code
and
output
.
"
"
"
  
p
=
gtest_test_utils
.
Subprocess
(
command
)
  
if
p
.
exited
and
p
.
exit_code
=
=
0
:
    
Assert
(
'
IMPORTANT
NOTICE
'
in
p
.
output
)
;
  
Assert
(
'
InitGoogleTest
'
in
p
.
output
)
class
GTestUninitializedTest
(
gtest_test_utils
.
TestCase
)
:
  
def
testExitCodeAndOutput
(
self
)
:
    
TestExitCodeAndOutput
(
COMMAND
)
if
__name__
=
=
'
__main__
'
:
  
gtest_test_utils
.
Main
(
)

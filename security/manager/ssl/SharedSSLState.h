#
ifndef
SharedSSLState_h
#
define
SharedSSLState_h
#
include
"
nsNSSIOLayer
.
h
"
class
nsIObserver
;
namespace
mozilla
{
namespace
psm
{
class
SharedSSLState
{
public
:
NS_INLINE_DECL_THREADSAFE_REFCOUNTING
(
SharedSSLState
)
explicit
SharedSSLState
(
uint32_t
aTlsFlags
=
0
)
;
static
void
GlobalInit
(
)
;
static
void
GlobalCleanup
(
)
;
nsSSLIOLayerHelpers
&
IOLayerHelpers
(
)
{
return
mIOLayerHelpers
;
}
void
ResetStoredData
(
)
;
void
NotePrivateBrowsingStatus
(
)
;
bool
SocketCreated
(
)
;
void
NoteSocketCreated
(
)
;
static
void
NoteCertOverrideServiceInstantiated
(
)
;
private
:
~
SharedSSLState
(
)
;
void
Cleanup
(
)
;
nsCOMPtr
<
nsIObserver
>
mObserver
;
nsSSLIOLayerHelpers
mIOLayerHelpers
;
Mutex
mMutex
MOZ_UNANNOTATED
;
bool
mSocketCreated
;
}
;
SharedSSLState
*
PublicSSLState
(
)
;
SharedSSLState
*
PrivateSSLState
(
)
;
}
}
#
endif

#
include
"
cert_storage
.
h
"
nsresult
construct_cert_storage
(
nsISupports
*
outer
REFNSIID
iid
void
*
*
result
)
{
nsCOMPtr
<
nsIThread
>
mainThread
;
nsresult
rv
=
NS_GetMainThread
(
getter_AddRefs
(
mainThread
)
)
;
if
(
NS_FAILED
(
rv
)
)
{
return
rv
;
}
mozilla
:
:
SyncRunnable
:
:
DispatchToThread
(
mainThread
new
mozilla
:
:
SyncRunnable
(
NS_NewRunnableFunction
(
"
psm
:
:
Constructor
"
[
&
]
(
)
{
rv
=
cert_storage_constructor
(
outer
iid
result
)
;
}
)
)
)
;
return
rv
;
}

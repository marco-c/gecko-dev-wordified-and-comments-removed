#
ifndef
BASE_ATOMIC_SEQUENCE_NUM_H_
#
define
BASE_ATOMIC_SEQUENCE_NUM_H_
#
include
<
atomic
>
#
include
"
base
/
macros
.
h
"
namespace
base
{
class
AtomicSequenceNumber
{
public
:
constexpr
AtomicSequenceNumber
(
)
=
default
;
inline
int
GetNext
(
)
{
return
seq_
.
fetch_add
(
1
std
:
:
memory_order_relaxed
)
;
}
private
:
std
:
:
atomic_int
seq_
{
0
}
;
DISALLOW_COPY_AND_ASSIGN
(
AtomicSequenceNumber
)
;
}
;
}
#
endif

#
ifndef
BASE_DEBUG_DUMP_WITHOUT_CRASHING_H_
#
define
BASE_DEBUG_DUMP_WITHOUT_CRASHING_H_
#
include
"
base
/
base_export
.
h
"
#
include
"
base
/
compiler_specific
.
h
"
#
include
"
base
/
location
.
h
"
#
include
"
base
/
time
/
time
.
h
"
#
include
"
build
/
build_config
.
h
"
enum
class
DumpWithoutCrashingStatus
{
kThrottled
kUploaded
kMaxValue
=
kUploaded
}
;
namespace
base
{
namespace
debug
{
NOT_TAIL_CALLED
BASE_EXPORT
bool
DumpWithoutCrashingUnthrottled
(
)
;
NOT_TAIL_CALLED
BASE_EXPORT
bool
DumpWithoutCrashing
(
const
base
:
:
Location
&
location
=
base
:
:
Location
:
:
Current
(
)
base
:
:
TimeDelta
time_between_dumps
=
base
:
:
Days
(
1
)
)
;
NOT_TAIL_CALLED
BASE_EXPORT
bool
DumpWithoutCrashingWithUniqueId
(
size_t
unique_identifier
const
base
:
:
Location
&
location
=
base
:
:
Location
:
:
Current
(
)
base
:
:
TimeDelta
time_between_dumps
=
base
:
:
Days
(
1
)
)
;
BASE_EXPORT
void
SetDumpWithoutCrashingFunction
(
void
(
CDECL
*
function
)
(
)
)
;
BASE_EXPORT
void
ClearMapsForTesting
(
)
;
}
}
#
endif

#
ifndef
BASE_TASK_RUNNER_H_
#
define
BASE_TASK_RUNNER_H_
#
include
<
stddef
.
h
>
#
include
"
base
/
base_export
.
h
"
#
include
"
base
/
callback
.
h
"
#
include
"
base
/
location
.
h
"
#
include
"
base
/
memory
/
ref_counted
.
h
"
#
include
"
base
/
time
/
time
.
h
"
namespace
base
{
struct
TaskRunnerTraits
;
class
BASE_EXPORT
TaskRunner
:
public
RefCountedThreadSafe
<
TaskRunner
TaskRunnerTraits
>
{
public
:
bool
PostTask
(
const
tracked_objects
:
:
Location
&
from_here
OnceClosure
task
)
;
virtual
bool
PostDelayedTask
(
const
tracked_objects
:
:
Location
&
from_here
OnceClosure
task
base
:
:
TimeDelta
delay
)
=
0
;
virtual
bool
RunsTasksInCurrentSequence
(
)
const
=
0
;
bool
PostTaskAndReply
(
const
tracked_objects
:
:
Location
&
from_here
OnceClosure
task
OnceClosure
reply
)
;
protected
:
friend
struct
TaskRunnerTraits
;
friend
class
RefCountedThreadSafe
<
TaskRunner
TaskRunnerTraits
>
;
TaskRunner
(
)
;
virtual
~
TaskRunner
(
)
;
virtual
void
OnDestruct
(
)
const
;
}
;
struct
BASE_EXPORT
TaskRunnerTraits
{
static
void
Destruct
(
const
TaskRunner
*
task_runner
)
;
}
;
}
#
endif

#
ifndef
RemoteSandboxBrokerParent_h_
#
define
RemoteSandboxBrokerParent_h_
#
include
"
mozilla
/
PRemoteSandboxBrokerParent
.
h
"
#
include
"
RemoteSandboxBrokerProcessParent
.
h
"
#
include
"
mozilla
/
ipc
/
CrashReporterHost
.
h
"
namespace
mozilla
{
class
RemoteSandboxBrokerParent
:
public
PRemoteSandboxBrokerParent
{
friend
class
PRemoteSandboxBrokerParent
;
public
:
bool
DuplicateFromLauncher
(
HANDLE
aLauncherHandle
LPHANDLE
aOurHandle
)
;
void
Shutdown
(
)
;
RefPtr
<
GenericPromise
>
Launch
(
const
nsTArray
<
uint64_t
>
&
aHandlesToShare
)
;
private
:
mozilla
:
:
ipc
:
:
IPCResult
RecvInitCrashReporter
(
Shmem
&
&
aShmem
const
NativeThreadId
&
aThreadId
)
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
RemoteSandboxBrokerProcessParent
*
mProcess
=
nullptr
;
bool
mOpened
=
false
;
UniquePtr
<
ipc
:
:
CrashReporterHost
>
mCrashReporter
;
}
;
}
#
endif

#
ifndef
RemoteSandboxBrokerParent_h_
#
define
RemoteSandboxBrokerParent_h_
#
include
"
mozilla
/
PRemoteSandboxBrokerParent
.
h
"
#
include
"
RemoteSandboxBrokerProcessParent
.
h
"
#
include
"
mozilla
/
ipc
/
CrashReporterHelper
.
h
"
namespace
mozilla
{
class
RemoteSandboxBrokerParent
:
public
PRemoteSandboxBrokerParent
public
ipc
:
:
CrashReporterHelper
<
GeckoProcessType_RemoteSandboxBroker
>
{
friend
class
PRemoteSandboxBrokerParent
;
public
:
NS_INLINE_DECL_REFCOUNTING
(
RemoteSandboxBrokerParent
override
)
bool
DuplicateFromLauncher
(
HANDLE
aLauncherHandle
LPHANDLE
aOurHandle
)
;
void
Shutdown
(
)
;
RefPtr
<
GenericPromise
>
Launch
(
uint32_t
aLaunchArch
const
nsTArray
<
uint64_t
>
&
aHandlesToShare
nsISerialEventTarget
*
aThread
)
;
private
:
~
RemoteSandboxBrokerParent
(
)
=
default
;
void
ActorDestroy
(
ActorDestroyReason
aWhy
)
override
;
RemoteSandboxBrokerProcessParent
*
mProcess
=
nullptr
;
bool
mOpened
=
false
;
}
;
}
#
endif

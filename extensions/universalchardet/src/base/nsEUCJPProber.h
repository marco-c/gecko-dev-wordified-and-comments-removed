#
ifndef
nsEUCJPProber_h__
#
define
nsEUCJPProber_h__
#
include
"
nsCharSetProber
.
h
"
#
include
"
nsCodingStateMachine
.
h
"
#
include
"
JpCntx
.
h
"
#
include
"
CharDistribution
.
h
"
class
nsEUCJPProber
:
public
nsCharSetProber
{
public
:
nsEUCJPProber
(
)
{
mCodingSM
=
new
nsCodingStateMachine
(
&
EUCJPSMModel
)
;
Reset
(
)
;
}
virtual
~
nsEUCJPProber
(
void
)
{
delete
mCodingSM
;
}
nsProbingState
HandleData
(
const
char
*
aBuf
uint32_t
aLen
)
override
;
const
char
*
GetCharSetName
(
)
override
{
return
"
EUC
-
JP
"
;
}
nsProbingState
GetState
(
void
)
override
{
return
mState
;
}
void
Reset
(
void
)
override
;
float
GetConfidence
(
void
)
override
;
protected
:
nsCodingStateMachine
*
mCodingSM
;
nsProbingState
mState
;
EUCJPContextAnalysis
mContextAnalyser
;
EUCJPDistributionAnalysis
mDistributionAnalyser
;
char
mLastChar
[
2
]
;
}
;
#
endif

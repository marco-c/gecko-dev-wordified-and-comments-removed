#
ifndef
nsCookiePermission_h__
#
define
nsCookiePermission_h__
#
include
"
nsICookiePermission
.
h
"
#
include
"
nsIPermissionManager
.
h
"
#
include
"
nsCOMPtr
.
h
"
#
include
"
mozIThirdPartyUtil
.
h
"
class
nsCookiePermission
final
:
public
nsICookiePermission
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSICOOKIEPERMISSION
static
already_AddRefed
<
nsICookiePermission
>
GetOrCreate
(
)
;
static
void
Shutdown
(
)
;
bool
Init
(
)
;
private
:
~
nsCookiePermission
(
)
=
default
;
bool
EnsureInitialized
(
)
{
return
(
mPermMgr
!
=
nullptr
&
&
mThirdPartyUtil
!
=
nullptr
)
|
|
Init
(
)
;
}
;
nsCOMPtr
<
nsIPermissionManager
>
mPermMgr
;
nsCOMPtr
<
mozIThirdPartyUtil
>
mThirdPartyUtil
;
}
;
#
endif

"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
ActorChild
"
]
;
class
ActorChild
{
constructor
(
dispatcher
)
{
this
.
_dispatcher
=
dispatcher
;
this
.
mm
=
dispatcher
.
mm
;
}
get
content
(
)
{
return
this
.
_dispatcher
.
window
;
}
get
docShell
(
)
{
return
this
.
mm
.
docShell
;
}
addEventListener
(
event
options
)
{
this
.
_dispatcher
.
addEventListener
(
event
this
.
constructor
.
name
options
)
;
}
addMessageListener
(
msg
)
{
this
.
_dispatcher
.
addMessageListener
(
msg
this
.
constructor
.
name
)
;
}
sendAsyncMessage
(
msg
data
=
{
}
)
{
data
.
frameId
=
this
.
_dispatcher
.
frameId
;
data
.
browsingContextId
=
this
.
_dispatcher
.
browsingContextId
;
this
.
mm
.
sendAsyncMessage
(
msg
data
)
;
}
cleanup
(
)
{
this
.
_dispatcher
=
null
;
}
}

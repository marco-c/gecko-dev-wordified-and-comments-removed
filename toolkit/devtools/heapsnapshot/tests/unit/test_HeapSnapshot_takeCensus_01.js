function
run_test
(
)
{
var
dbg
=
new
Debugger
;
function
checkProperties
(
census
)
{
equal
(
typeof
census
'
object
'
)
;
for
(
prop
of
Object
.
getOwnPropertyNames
(
census
)
)
{
var
desc
=
Object
.
getOwnPropertyDescriptor
(
census
prop
)
;
equal
(
desc
.
enumerable
true
)
;
equal
(
desc
.
configurable
true
)
;
equal
(
desc
.
writable
true
)
;
if
(
typeof
desc
.
value
=
=
=
'
object
'
)
checkProperties
(
desc
.
value
)
;
else
equal
(
typeof
desc
.
value
'
number
'
)
;
}
}
checkProperties
(
saveHeapSnapshotAndTakeCensus
(
dbg
)
)
;
var
g
=
newGlobal
(
)
;
dbg
.
addDebuggee
(
g
)
;
checkProperties
(
saveHeapSnapshotAndTakeCensus
(
dbg
)
)
;
do_test_finished
(
)
;
}

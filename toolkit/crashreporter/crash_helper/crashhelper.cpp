#
include
<
cstdlib
>
#
if
defined
(
XP_WIN
)
#
include
<
windows
.
h
>
#
endif
#
include
"
mozilla
/
crash_helper_ffi_generated
.
h
"
int
main
(
int
argc
char
*
argv
[
]
)
{
if
(
argc
<
3
)
{
exit
(
EXIT_FAILURE
)
;
}
errno
=
0
;
long
value
=
strtol
(
argv
[
1
]
nullptr
10
)
;
Pid
client_pid
=
static_cast
<
Pid
>
(
value
)
;
if
(
errno
!
=
0
)
{
exit
(
EXIT_FAILURE
)
;
}
char
*
user_app_data_dir
=
argv
[
2
]
;
crash_generator_logic
(
client_pid
user_app_data_dir
)
;
exit
(
EXIT_SUCCESS
)
;
}

#
include
"
CrashAnnotations
.
h
"
#
include
<
algorithm
>
#
include
<
cstring
>
#
include
<
iterator
>
using
std
:
:
begin
;
using
std
:
:
end
;
using
std
:
:
find_if
;
namespace
CrashReporter
{
bool
AnnotationFromString
(
Annotation
&
aResult
const
char
*
aValue
)
{
auto
elem
=
find_if
(
begin
(
kAnnotationStrings
)
end
(
kAnnotationStrings
)
[
&
aValue
]
(
const
char
*
aString
)
{
return
strcmp
(
aString
aValue
)
=
=
0
;
}
)
;
if
(
elem
=
=
end
(
kAnnotationStrings
)
)
{
return
false
;
}
aResult
=
static_cast
<
Annotation
>
(
elem
-
begin
(
kAnnotationStrings
)
)
;
return
true
;
}
bool
IsAnnotationWhitelistedForPing
(
Annotation
aAnnotation
)
{
auto
elem
=
find_if
(
begin
(
kCrashPingWhitelist
)
end
(
kCrashPingWhitelist
)
[
&
aAnnotation
]
(
Annotation
aElement
)
{
return
aElement
=
=
aAnnotation
;
}
)
;
return
elem
!
=
end
(
kCrashPingWhitelist
)
;
}
bool
IsAnnotationBlacklistedForContent
(
Annotation
aAnnotation
)
{
auto
elem
=
find_if
(
begin
(
kContentProcessBlacklist
)
end
(
kContentProcessBlacklist
)
[
&
aAnnotation
]
(
Annotation
aElement
)
{
return
aElement
=
=
aAnnotation
;
}
)
;
return
elem
!
=
end
(
kContentProcessBlacklist
)
;
}
}

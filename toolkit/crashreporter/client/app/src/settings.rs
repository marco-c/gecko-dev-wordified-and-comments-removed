#
[
derive
(
Debug
serde
:
:
Serialize
serde
:
:
Deserialize
)
]
pub
struct
Settings
{
pub
submit_report
:
bool
pub
include_url
:
bool
#
[
serde
(
default
=
"
missing_test_hardware
"
)
]
pub
test_hardware
:
bool
}
impl
Default
for
Settings
{
fn
default
(
)
-
>
Self
{
Settings
{
submit_report
:
true
include_url
:
true
test_hardware
:
true
}
}
}
impl
Settings
{
pub
fn
to_writer
<
W
:
std
:
:
io
:
:
Write
>
(
&
self
writer
:
W
)
-
>
anyhow
:
:
Result
<
(
)
>
{
Ok
(
serde_json
:
:
to_writer_pretty
(
writer
self
)
?
)
}
pub
fn
from_reader
<
R
:
std
:
:
io
:
:
Read
>
(
reader
:
R
)
-
>
anyhow
:
:
Result
<
Self
>
{
Ok
(
serde_json
:
:
from_reader
(
reader
)
?
)
}
#
[
cfg
(
test
)
]
pub
fn
to_string
(
&
self
)
-
>
String
{
serde_json
:
:
to_string_pretty
(
self
)
.
unwrap
(
)
}
}
fn
missing_test_hardware
(
)
-
>
bool
{
true
}

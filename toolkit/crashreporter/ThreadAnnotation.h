#
ifndef
ThreadAnnotation_h
#
define
ThreadAnnotation_h
#
include
<
functional
>
#
include
"
nsExceptionHandler
.
h
"
namespace
CrashReporter
{
void
InitThreadAnnotation
(
)
;
void
ShutdownThreadAnnotation
(
)
;
void
GetFlatThreadAnnotation
(
const
std
:
:
function
<
void
(
const
char
*
)
>
&
aCallback
bool
aIsHandlingException
=
false
)
;
class
InitThreadAnnotationRAII
{
public
:
InitThreadAnnotationRAII
(
)
{
if
(
GetEnabled
(
)
)
{
InitThreadAnnotation
(
)
;
}
}
~
InitThreadAnnotationRAII
(
)
{
if
(
GetEnabled
(
)
)
{
ShutdownThreadAnnotation
(
)
;
}
}
}
;
}
#
endif

#
ifndef
CLIENT_MAC_GENERATOR_MACH_VM_COMPAT_H_
#
define
CLIENT_MAC_GENERATOR_MACH_VM_COMPAT_H_
#
include
<
TargetConditionals
.
h
>
#
if
TARGET_OS_IPHONE
#
include
<
mach
/
vm_map
.
h
>
#
define
mach_vm_address_t
vm_address_t
#
define
mach_vm_deallocate
vm_deallocate
#
define
mach_vm_read
vm_read
#
define
mach_vm_region_recurse
vm_region_recurse_64
#
define
mach_vm_size_t
vm_size_t
#
else
#
include
<
mach
/
mach_vm
.
h
>
#
endif
typedef
struct
{
uint64_t
version
;
uint64_t
message
;
uint64_t
signature_string
;
uint64_t
backtrace
;
uint64_t
message2
;
uint64_t
thread
;
uint64_t
dialog_mode
;
uint64_t
abort_cause
;
}
crashreporter_annotations_t
;
#
ifdef
__LP64__
#
define
getsectdatafromheader_func
getsectdatafromheader_64
typedef
uint64_t
getsectdata_size_type
;
#
else
#
define
getsectdatafromheader_func
getsectdatafromheader
typedef
uint32_t
getsectdata_size_type
;
#
endif
#
endif

use
anyhow
:
:
Result
;
use
crash_helper_common
:
:
IPCConnector
;
use
std
:
:
os
:
:
fd
:
:
{
FromRawFd
OwnedFd
RawFd
}
;
use
crate
:
:
CrashHelperClient
;
impl
CrashHelperClient
{
pub
(
crate
)
fn
new
(
server_socket
:
RawFd
)
-
>
Result
<
CrashHelperClient
>
{
let
server_socket
=
unsafe
{
OwnedFd
:
:
from_raw_fd
(
server_socket
)
}
;
let
connector
=
IPCConnector
:
:
from_fd
(
server_socket
)
?
;
Ok
(
CrashHelperClient
{
connector
}
)
}
}

use
anyhow
:
:
Result
;
use
crash_helper_common
:
:
{
IPCConnector
Pid
}
;
use
std
:
:
os
:
:
fd
:
:
{
FromRawFd
OwnedFd
RawFd
}
;
use
crate
:
:
CrashHelperClient
;
impl
CrashHelperClient
{
pub
(
crate
)
fn
new
(
server_socket
:
RawFd
)
-
>
Result
<
CrashHelperClient
>
{
let
server_socket
=
unsafe
{
OwnedFd
:
:
from_raw_fd
(
server_socket
)
}
;
let
connector
=
IPCConnector
:
:
from_fd
(
server_socket
)
?
;
Ok
(
CrashHelperClient
{
connector
spawner_thread
:
None
}
)
}
pub
(
crate
)
fn
prepare_for_minidump
(
_crash_helper_pid
:
Pid
)
{
}
}

use
crash_helper_common
:
:
Pid
;
use
nix
:
:
libc
:
:
{
prctl
PR_SET_PTRACER
}
;
use
crate
:
:
CrashHelperClient
;
impl
CrashHelperClient
{
pub
(
crate
)
fn
prepare_for_minidump
(
crash_helper_pid
:
Pid
)
-
>
bool
{
unsafe
{
let
res
=
prctl
(
PR_SET_PTRACER
crash_helper_pid
)
;
res
>
=
0
}
}
}

"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
ControllersChild
"
]
;
class
ControllersChild
extends
JSWindowActorChild
{
receiveMessage
(
message
)
{
switch
(
message
.
name
)
{
case
"
ControllerCommands
:
Do
"
:
if
(
this
.
docShell
&
&
this
.
docShell
.
isCommandEnabled
(
message
.
data
)
)
{
this
.
docShell
.
doCommand
(
message
.
data
)
;
}
break
;
case
"
ControllerCommands
:
DoWithParams
"
:
var
data
=
message
.
data
;
if
(
this
.
docShell
&
&
this
.
docShell
.
isCommandEnabled
(
data
.
cmd
)
)
{
var
params
=
Cu
.
createCommandParams
(
)
;
for
(
var
name
in
data
.
params
)
{
var
value
=
data
.
params
[
name
]
;
if
(
value
.
type
=
=
"
long
"
)
{
params
.
setLongValue
(
name
parseInt
(
value
.
value
)
)
;
}
else
{
throw
Cr
.
NS_ERROR_NOT_IMPLEMENTED
;
}
}
this
.
docShell
.
doCommandWithParams
(
data
.
cmd
params
)
;
}
break
;
}
}
}

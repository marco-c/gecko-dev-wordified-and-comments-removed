let
gParams
;
const
{
AppConstants
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
AppConstants
.
jsm
"
)
;
function
init
(
)
{
gParams
=
window
.
arguments
[
0
]
.
QueryInterface
(
Ci
.
nsIDialogParamBlock
)
;
if
(
AppConstants
.
MOZ_SERVICES_SYNC
)
{
let
hasSync
=
gParams
.
GetInt
(
0
)
&
Ci
.
nsIToolkitProfileService
.
hasSync
;
document
.
getElementById
(
"
sync
"
)
.
hidden
=
!
hasSync
;
document
.
getElementById
(
"
nosync
"
)
.
hidden
=
hasSync
;
}
document
.
addEventListener
(
"
dialogextra1
"
createProfile
)
;
}
function
quit
(
)
{
gParams
.
SetInt
(
1
Ci
.
nsIToolkitProfileService
.
quit
)
;
}
function
createProfile
(
)
{
gParams
.
SetInt
(
1
Ci
.
nsIToolkitProfileService
.
createNewProfile
)
;
window
.
close
(
)
;
}

function
run_test
(
)
{
createAppInfo
(
"
xpcshell
tests
.
mozilla
.
org
"
"
XPCShell
"
"
1
"
"
1
.
9
.
2
"
)
;
startupManager
(
)
;
let
old
=
AddonManager
.
STATE_AVAILABLE
;
AddonManager
.
STATE_AVAILABLE
=
28
;
Assert
.
equal
(
AddonManager
.
STATE_AVAILABLE
old
)
;
AddonManager
.
isInstallEnabled
=
function
(
)
{
do_throw
(
"
Should
not
be
able
to
replace
a
function
"
)
;
}
;
AddonManager
.
isInstallEnabled
(
"
application
/
x
-
xpinstall
"
)
;
AddonManager
.
foo
=
"
bar
"
;
Assert
.
equal
(
false
"
foo
"
in
AddonManager
)
;
}

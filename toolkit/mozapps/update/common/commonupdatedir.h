#
ifndef
COMMONUPDATEDIR_H
#
define
COMMONUPDATEDIR_H
#
include
"
mozilla
/
UniquePtr
.
h
"
#
include
"
nsError
.
h
"
#
ifdef
XP_WIN
#
include
<
windows
.
h
>
typedef
WCHAR
NS_tchar
;
#
else
typedef
char
NS_tchar
;
#
endif
nsresult
GetInstallHash
(
const
char16_t
*
installPath
const
char
*
vendor
mozilla
:
:
UniquePtr
<
NS_tchar
[
]
>
&
result
bool
useCompatibilityMode
=
false
)
;
#
ifdef
XP_WIN
enum
class
SetPermissionsOf
{
BaseDirIfNotExists
AllFilesAndDirs
}
;
HRESULT
GetCommonUpdateDirectory
(
const
wchar_t
*
installPath
SetPermissionsOf
dirPermsToSet
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
&
result
)
;
HRESULT
GetUserUpdateDirectory
(
const
wchar_t
*
installPath
const
char
*
vendor
const
char
*
appName
mozilla
:
:
UniquePtr
<
wchar_t
[
]
>
&
result
)
;
#
endif
#
endif

#
ifndef
__DEFAULT_BROWSER_AGENT_DEFAULT_AGENT_H__
#
define
__DEFAULT_BROWSER_AGENT_DEFAULT_AGENT_H__
#
include
"
mozilla
/
WinHeaderOnlyUtils
.
h
"
#
include
"
nsIDefaultAgent
.
h
"
namespace
mozilla
{
class
RegistryMutex
{
private
:
nsAutoHandle
mMutex
;
bool
mLocked
=
false
;
public
:
RegistryMutex
(
)
=
default
;
~
RegistryMutex
(
)
;
bool
Acquire
(
)
;
bool
IsLocked
(
)
;
void
Release
(
)
;
}
;
class
DefaultAgent
final
:
public
nsIDefaultAgent
{
public
:
NS_DECL_ISUPPORTS
NS_DECL_NSIDEFAULTAGENT
DefaultAgent
(
)
=
default
;
private
:
~
DefaultAgent
(
)
=
default
;
RegistryMutex
mRegMutex
;
}
;
}
#
endif

#
include
"
common
.
h
"
#
include
<
windows
.
h
>
ULONGLONG
GetCurrentTimestamp
(
)
{
FILETIME
filetime
;
GetSystemTimeAsFileTime
(
&
filetime
)
;
ULARGE_INTEGER
integerTime
;
integerTime
.
u
.
LowPart
=
filetime
.
dwLowDateTime
;
integerTime
.
u
.
HighPart
=
filetime
.
dwHighDateTime
;
return
integerTime
.
QuadPart
;
}
ULONGLONG
SecondsPassedSince
(
ULONGLONG
initialTime
ULONGLONG
currentTime
)
{
if
(
currentTime
=
=
0
)
{
currentTime
=
GetCurrentTimestamp
(
)
;
}
if
(
initialTime
>
=
currentTime
)
{
return
0
;
}
return
(
currentTime
-
initialTime
)
/
10
/
1000
/
1000
;
}

add_task
(
async
function
testToggleToolbarButton
(
)
{
await
PrintHelper
.
withTestPage
(
async
helper
=
>
{
CustomizableUI
.
addWidgetToArea
(
"
print
-
button
"
CustomizableUI
.
AREA_NAVBAR
)
;
helper
.
assertDialogClosed
(
)
;
let
button
=
document
.
getElementById
(
"
print
-
button
"
)
;
EventUtils
.
synthesizeMouseAtCenter
(
button
{
}
)
;
await
helper
.
waitForDialog
(
)
;
helper
.
assertDialogOpen
(
)
;
EventUtils
.
synthesizeMouseAtCenter
(
button
{
}
)
;
helper
.
assertDialogClosed
(
)
;
}
)
;
}
)
;

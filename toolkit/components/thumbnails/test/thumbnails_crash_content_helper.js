var
Cu
=
Components
.
utils
;
Cu
.
import
(
"
resource
:
/
/
gre
/
modules
/
ctypes
.
jsm
"
)
;
var
crash
=
function
(
)
{
let
zero
=
new
ctypes
.
intptr_t
(
8
)
;
let
badptr
=
ctypes
.
cast
(
zero
ctypes
.
PointerType
(
ctypes
.
int32_t
)
)
;
badptr
.
contents
}
;
var
TestHelper
=
{
init
(
)
{
addMessageListener
(
"
thumbnails
-
test
:
crash
"
this
)
;
}
receiveMessage
(
msg
)
{
switch
(
msg
.
name
)
{
case
"
thumbnails
-
test
:
crash
"
:
privateNoteIntentionalCrash
(
)
;
crash
(
)
;
break
;
}
}
}
TestHelper
.
init
(
)
;

var
search
=
window
.
location
.
href
.
match
(
/
^
.
*
\
?
(
.
*
)
/
)
;
var
searchParams
=
new
URLSearchParams
(
search
?
search
[
1
]
:
"
"
)
;
var
storage
=
searchParams
.
get
(
"
storage
"
)
|
|
"
"
;
var
cacheContext
=
searchParams
.
get
(
"
context
"
)
;
if
(
cacheContext
)
{
var
[
context
isAnon
isInBrowser
isPrivate
]
=
cacheContext
.
match
(
/
(
a
)
?
(
b
)
?
(
p
)
?
/
)
;
}
function
(
id
)
{
return
document
.
getElementById
(
id
)
|
|
{
}
;
}
addEventListener
(
"
DOMContentLoaded
"
function
(
)
{
(
"
anon
"
)
.
checked
=
!
!
isAnon
;
(
"
inbrowser
"
)
.
checked
=
!
!
isInBrowser
;
(
"
priv
"
)
.
checked
=
!
!
isPrivate
;
}
false
)
;
function
navigate
(
)
{
context
=
"
"
;
if
(
(
"
anon
"
)
.
checked
)
{
context
+
=
"
a
"
;
}
if
(
(
"
inbrowser
"
)
.
checked
)
{
context
+
=
"
b
"
;
}
if
(
(
"
priv
"
)
.
checked
)
{
context
+
=
"
p
"
;
}
window
.
location
.
href
=
"
about
:
cache
?
storage
=
"
+
storage
+
"
&
context
=
"
+
context
;
}
let
submitButton
=
document
.
getElementById
(
"
submit
"
)
;
submitButton
.
addEventListener
(
"
click
"
navigate
)
;

"
use
strict
"
;
const
linePrototype
=
{
record
:
{
writable
:
true
}
}
;
add_task
(
function
test_dataSourceBaseRemoveLine
(
)
{
const
dataSourceBase
=
new
DataSourceBase
(
{
refreshSingleLineOnScreen
:
(
)
=
>
{
}
refreshAllLinesOnScreen
:
(
)
=
>
{
}
setLayout
:
(
)
=
>
{
}
}
)
;
const
lines
=
addLinesToDataSource
(
dataSourceBase
linePrototype
)
;
const
removedLine
=
lines
.
pop
(
)
;
mockReloadData
(
dataSourceBase
[
.
.
.
lines
]
)
;
const
found
=
dataSourceBase
.
lines
.
find
(
line
=
>
line
.
id
=
=
=
removedLine
.
id
)
;
Assert
.
ok
(
!
found
DataSourceBase
removed
line
{
removedLine
.
id
}
from
its
list
of
lines
)
;
}
)
;

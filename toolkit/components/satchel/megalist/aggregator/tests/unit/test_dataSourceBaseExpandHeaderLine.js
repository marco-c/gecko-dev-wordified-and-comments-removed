"
use
strict
"
;
add_task
(
function
test_dataSourceBaseExpandHeaderLine
(
)
{
let
didRefreshAllLinesOnScreen
=
false
;
const
dataSourceBase
=
new
DataSourceBase
(
{
refreshSingleLineOnScreen
:
(
)
=
>
{
}
refreshAllLinesOnScreen
:
(
)
=
>
{
didRefreshAllLinesOnScreen
=
true
;
}
setLayout
:
(
)
=
>
{
}
}
)
;
const
tooltip
=
{
expand
:
"
tooltip
-
expanded
"
collapse
:
"
tooltip
-
collapsed
"
}
;
const
headerLine
=
dataSourceBase
.
createHeaderLine
(
"
test
-
label
"
tooltip
)
;
const
previousTemplate
=
headerLine
.
template
;
headerLine
.
executeToggle
(
)
;
Assert
.
ok
(
didRefreshAllLinesOnScreen
"
Header
line
refreshes
all
lines
on
screen
when
expanded
"
)
;
Assert
.
equal
(
headerLine
.
toggleTooltip
tooltip
.
expand
"
Header
line
toggles
tooltip
when
expanded
"
)
;
Assert
.
notEqual
(
previousTemplate
headerLine
.
template
"
Header
line
toggles
template
when
expanded
"
)
;
}
)
;

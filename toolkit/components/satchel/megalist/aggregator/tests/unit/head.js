"
use
strict
"
;
const
{
Aggregator
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
gre
/
modules
/
megalist
/
aggregator
/
Aggregator
.
sys
.
mjs
"
)
;
const
{
LoginTestUtils
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
testing
-
common
/
LoginTestUtils
.
sys
.
mjs
"
)
;
const
testData
=
LoginTestUtils
.
testData
;
class
MockLoginDataSource
{
lines
=
[
]
;
static
match
=
(
line
searchText
)
=
>
line
.
displayOrigin
.
toUpperCase
(
)
.
includes
(
searchText
)
|
|
line
.
username
.
toUpperCase
(
)
.
includes
(
searchText
)
|
|
line
.
password
.
toUpperCase
(
)
.
includes
(
searchText
)
;
addLines
(
lines
)
{
for
(
let
line
of
lines
)
{
this
.
lines
.
push
(
line
)
;
}
}
*
enumerateLines
(
searchText
)
{
for
(
let
line
of
this
.
lines
)
{
if
(
MockLoginDataSource
.
match
(
line
searchText
)
)
{
yield
line
;
}
}
}
}

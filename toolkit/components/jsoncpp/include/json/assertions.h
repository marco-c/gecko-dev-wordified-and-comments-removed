#
ifndef
CPPTL_JSON_ASSERTIONS_H_INCLUDED
#
define
CPPTL_JSON_ASSERTIONS_H_INCLUDED
#
include
<
cstdlib
>
#
include
<
sstream
>
#
if
!
defined
(
JSON_IS_AMALGAMATION
)
#
include
"
config
.
h
"
#
endif
#
if
JSON_USE_EXCEPTION
#
define
JSON_ASSERT
(
condition
)
\
{
\
if
(
!
(
condition
)
)
{
\
Json
:
:
throwLogicError
(
"
assert
json
failed
"
)
;
\
}
\
}
#
define
JSON_FAIL_MESSAGE
(
message
)
\
{
\
OStringStream
oss
;
\
oss
<
<
message
;
\
Json
:
:
throwLogicError
(
oss
.
str
(
)
)
;
\
abort
(
)
;
\
}
#
else
#
define
JSON_ASSERT
(
condition
)
assert
(
condition
)
#
define
JSON_FAIL_MESSAGE
(
message
)
\
{
\
OStringStream
oss
;
\
oss
<
<
message
;
\
assert
(
false
&
&
oss
.
str
(
)
.
c_str
(
)
)
;
\
abort
(
)
;
\
}
#
endif
#
define
JSON_ASSERT_MESSAGE
(
condition
message
)
\
if
(
!
(
condition
)
)
{
\
JSON_FAIL_MESSAGE
(
message
)
;
\
}
#
endif

"
use
strict
"
;
add_task
(
async
function
test_about_translations_enabled
(
)
{
await
openAboutTranslations
(
{
runInPage
:
async
(
{
selectors
}
)
=
>
{
const
{
document
window
}
=
content
;
function
checkElementIsVisble
(
name
)
{
const
element
=
document
.
querySelector
(
selectors
[
name
]
)
;
ok
(
Boolean
(
element
)
Element
{
name
}
was
found
.
)
;
const
{
visibility
}
=
window
.
getComputedStyle
(
element
)
;
is
(
visibility
"
visible
"
Element
{
name
}
was
visible
.
)
;
}
checkElementIsVisble
(
"
pageHeader
"
)
;
checkElementIsVisble
(
"
fromLanguageSelect
"
)
;
checkElementIsVisble
(
"
toLanguageSelect
"
)
;
checkElementIsVisble
(
"
translationTextarea
"
)
;
checkElementIsVisble
(
"
translationResult
"
)
;
checkElementIsVisble
(
"
translationResultBlank
"
)
;
}
}
)
;
}
)
;
add_task
(
async
function
test_about_translations_disabled
(
)
{
await
openAboutTranslations
(
{
disabled
:
true
runInPage
:
async
(
{
selectors
}
)
=
>
{
const
{
document
window
}
=
content
;
function
checkElementIsInvisible
(
name
)
{
const
element
=
document
.
querySelector
(
selectors
[
name
]
)
;
ok
(
Boolean
(
element
)
Element
{
name
}
was
found
.
)
;
const
{
visibility
}
=
window
.
getComputedStyle
(
element
)
;
is
(
visibility
"
hidden
"
Element
{
name
}
was
invisible
.
)
;
}
checkElementIsInvisible
(
"
pageHeader
"
)
;
checkElementIsInvisible
(
"
fromLanguageSelect
"
)
;
checkElementIsInvisible
(
"
toLanguageSelect
"
)
;
checkElementIsInvisible
(
"
translationTextarea
"
)
;
checkElementIsInvisible
(
"
translationResult
"
)
;
checkElementIsInvisible
(
"
translationResultBlank
"
)
;
}
}
)
;
}
)
;

"
use
strict
"
;
add_task
(
async
function
setup
(
)
{
useHttpServer
(
)
;
await
AddonTestUtils
.
promiseStartupManager
(
)
;
}
)
;
add_task
(
async
function
test_rel_searchform
(
)
{
let
engineNames
=
[
"
engine
-
rel
-
searchform
.
xml
"
"
engine
-
rel
-
searchform
-
post
.
xml
"
]
;
let
items
=
engineNames
.
map
(
e
=
>
(
{
name
:
e
xmlFileName
:
e
}
)
)
;
for
(
let
engine
of
await
addTestEngines
(
items
)
)
{
Assert
.
equal
(
engine
.
searchForm
"
http
:
/
/
"
+
engine
.
name
+
"
/
?
search
"
)
;
}
}
)
;

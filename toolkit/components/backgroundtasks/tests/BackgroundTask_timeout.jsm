var
EXPORTED_SYMBOLS
=
[
"
backgroundTaskTimeoutSec
"
"
runBackgroundTask
"
]
;
const
{
EXIT_CODE
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
BackgroundTasksManager
.
jsm
"
)
.
BackgroundTasksManager
;
const
{
setTimeout
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Timer
.
jsm
"
)
;
const
backgroundTaskTimeoutSec
=
1
;
async
function
runBackgroundTask
(
)
{
await
new
Promise
(
resolve
=
>
{
const
fiveMinutesInMs
=
5
*
60
*
1000
;
setTimeout
(
resolve
fiveMinutesInMs
)
;
}
)
;
return
EXIT_CODE
.
SUCCESS
;
}

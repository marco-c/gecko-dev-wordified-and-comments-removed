var
EXPORTED_SYMBOLS
=
[
"
runBackgroundTask
"
]
;
const
{
setTimeout
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Timer
.
jsm
"
)
;
function
runBackgroundTask
(
commandLine
)
{
let
delay
=
10
;
if
(
commandLine
.
length
)
{
delay
=
Number
.
parseInt
(
commandLine
.
getArgument
(
0
)
)
;
}
console
.
error
(
runBackgroundTask
:
wait
{
delay
}
seconds
)
;
return
new
Promise
(
resolve
=
>
setTimeout
(
resolve
delay
*
1000
)
)
;
}

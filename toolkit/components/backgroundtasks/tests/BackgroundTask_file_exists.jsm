var
EXPORTED_SYMBOLS
=
[
"
runBackgroundTask
"
]
;
const
{
EXIT_CODE
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
BackgroundTasksManager
.
jsm
"
)
.
BackgroundTasksManager
;
function
runBackgroundTask
(
commandLine
)
{
let
path
=
commandLine
.
getArgument
(
0
)
;
let
file
=
Cc
[
"
mozilla
.
org
/
file
/
local
;
1
"
]
.
createInstance
(
Ci
.
nsIFile
)
;
file
.
initWithPath
(
path
)
;
let
exitCode
;
let
exists
=
file
.
exists
(
)
;
if
(
exists
)
{
exitCode
=
EXIT_CODE
.
SUCCESS
;
}
else
{
exitCode
=
11
;
}
console
.
error
(
runBackgroundTask
:
'
{
path
}
'
exists
:
{
exists
}
;
+
exiting
with
status
{
exitCode
}
)
;
return
exitCode
;
}

"
use
strict
"
;
var
EXPORTED_SYMBOLS
=
[
"
runBackgroundTask
"
]
;
Cu
.
importGlobalProperties
(
[
"
fetch
"
]
)
;
const
{
EXIT_CODE
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
BackgroundTasksManager
.
jsm
"
)
.
BackgroundTasksManager
;
async
function
runBackgroundTask
(
commandLine
)
{
console
.
error
(
"
runBackgroundTask
:
is_profile_slim
"
)
;
if
(
commandLine
.
length
!
=
1
)
{
console
.
error
(
"
Single
URL
argument
required
"
)
;
return
1
;
}
let
response
=
await
fetch
(
commandLine
.
getArgument
(
0
)
)
;
console
.
error
(
response
status
code
:
{
response
.
status
}
)
;
return
response
.
ok
?
EXIT_CODE
.
SUCCESS
:
11
;
}

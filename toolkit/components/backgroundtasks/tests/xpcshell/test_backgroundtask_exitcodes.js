add_task
(
async
function
test_success
(
)
{
let
exitCode
=
await
do_backgroundtask
(
"
success
"
)
;
Assert
.
equal
(
0
exitCode
)
;
}
)
;
add_task
(
async
function
test_failure
(
)
{
let
exitCode
=
await
do_backgroundtask
(
"
failure
"
)
;
Assert
.
equal
(
1
exitCode
)
;
}
)
;
add_task
(
async
function
test_exception
(
)
{
let
exitCode
=
await
do_backgroundtask
(
"
exception
"
)
;
Assert
.
equal
(
3
exitCode
)
;
}
)
;
add_task
(
async
function
test_not_found
(
)
{
let
exitCode
=
await
do_backgroundtask
(
"
not_found
"
)
;
Assert
.
equal
(
2
exitCode
)
;
}
)
;

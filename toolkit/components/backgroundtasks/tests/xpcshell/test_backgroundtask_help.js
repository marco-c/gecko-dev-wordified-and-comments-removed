"
use
strict
"
;
add_task
(
async
function
test_backgroundtask_help_includes_jsdebugger_options
(
)
{
let
lines
=
[
]
;
let
exitCode
=
await
do_backgroundtask
(
"
success
"
{
extraArgs
:
[
"
-
-
help
"
]
onStdoutLine
:
line
=
>
lines
.
push
(
line
)
}
)
;
Assert
.
equal
(
0
exitCode
)
;
Assert
.
ok
(
lines
.
some
(
line
=
>
line
.
includes
(
"
-
-
jsdebugger
"
)
)
)
;
Assert
.
ok
(
lines
.
some
(
line
=
>
line
.
includes
(
"
-
-
wait
-
for
-
jsdebugger
"
)
)
)
;
Assert
.
ok
(
lines
.
some
(
line
=
>
line
.
includes
(
"
-
-
start
-
debugger
-
server
"
)
)
)
;
}
)
;

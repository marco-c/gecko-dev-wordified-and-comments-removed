var
EXPORTED_SYMBOLS
=
[
"
runBackgroundTask
"
]
;
async
function
runBackgroundTask
(
commandLine
)
{
var
env
=
Cc
[
"
mozilla
.
org
/
process
/
environment
;
1
"
]
.
getService
(
Ci
.
nsIEnvironment
)
;
let
exitCode
=
env
.
get
(
"
MOZ_TEST_PROCESS_UPDATES
"
)
=
=
"
!
ShouldProcessUpdates
(
)
"
?
80
:
81
;
console
.
debug
(
runBackgroundTask
:
shouldprocessupdates
{
exists
:
env
.
exists
(
"
MOZ_TEST_PROCESS_UPDATES
"
)
get
:
env
.
get
(
"
MOZ_TEST_PROCESS_UPDATES
"
)
}
)
;
console
.
error
(
runBackgroundTask
:
shouldprocessupdates
exiting
with
exitCode
{
exitCode
}
)
;
return
exitCode
;
}

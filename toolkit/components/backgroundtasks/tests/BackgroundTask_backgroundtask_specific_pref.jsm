var
EXPORTED_SYMBOLS
=
[
"
runBackgroundTask
"
]
;
async
function
runBackgroundTask
(
commandLine
)
{
let
pref
=
commandLine
.
length
?
commandLine
.
getArgument
(
0
)
:
"
test
.
backgroundtask_specific_pref
.
exitCode
"
;
let
exitCode
=
Services
.
prefs
.
getIntPref
(
pref
4
)
;
console
.
error
(
runBackgroundTask
:
backgroundtask_specific_pref
read
pref
'
{
pref
}
'
with
value
{
exitCode
}
)
;
if
(
commandLine
.
length
>
1
)
{
let
newValue
=
Number
.
parseInt
(
commandLine
.
getArgument
(
1
)
10
)
;
console
.
error
(
runBackgroundTask
:
backgroundtask_specific_pref
wrote
pref
'
{
pref
}
'
with
value
{
newValue
}
)
;
Services
.
prefs
.
setIntPref
(
pref
newValue
)
;
}
console
.
error
(
runBackgroundTask
:
backgroundtask_specific_pref
exiting
with
exitCode
{
exitCode
}
)
;
return
exitCode
;
}

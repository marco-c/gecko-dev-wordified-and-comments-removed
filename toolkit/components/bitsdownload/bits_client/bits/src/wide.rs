use
std
:
:
ffi
:
:
OsStr
;
use
std
:
:
os
:
:
windows
:
:
ffi
:
:
OsStrExt
;
pub
trait
ToWideNull
{
fn
to_wide_null
(
&
self
)
-
>
Vec
<
u16
>
;
}
impl
<
T
:
AsRef
<
OsStr
>
>
ToWideNull
for
T
{
fn
to_wide_null
(
&
self
)
-
>
Vec
<
u16
>
{
self
.
as_ref
(
)
.
encode_wide
(
)
.
chain
(
Some
(
0
)
)
.
collect
(
)
}
}

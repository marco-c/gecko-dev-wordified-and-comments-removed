const
{
roundtripOption
roundtripVec
roundtripHashMap
roundtripComplexCompound
}
=
ChromeUtils
.
importESModule
(
"
resource
:
/
/
gre
/
modules
/
RustUniffiBindingsTests
.
sys
.
mjs
"
)
;
Assert
.
equal
(
roundtripOption
(
42
)
42
)
;
Assert
.
equal
(
roundtripOption
(
null
)
null
)
;
Assert
.
deepEqual
(
roundtripVec
(
[
1
2
3
]
)
[
1
2
3
]
)
;
Assert
.
deepEqual
(
roundtripHashMap
(
{
a
:
1
b
:
2
}
)
{
a
:
1
b
:
2
}
)
;
Assert
.
deepEqual
(
roundtripComplexCompound
(
[
{
a
:
1
}
{
b
:
2
}
]
)
[
{
a
:
1
}
{
b
:
2
}
]
)
;
Assert
.
equal
(
roundtripComplexCompound
(
null
)
null
)
;

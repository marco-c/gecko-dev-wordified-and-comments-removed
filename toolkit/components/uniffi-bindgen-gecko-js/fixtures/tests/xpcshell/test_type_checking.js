const
Arithmetic
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
components
-
utils
/
RustArithmetic
.
jsm
"
)
;
const
Geometry
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
components
-
utils
/
RustGeometry
.
jsm
"
)
;
const
{
TodoList
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
components
-
utils
/
RustTodolist
.
jsm
"
)
;
const
{
Stringifier
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
components
-
utils
/
RustRondpoint
.
jsm
"
)
;
add_task
(
async
function
(
)
{
await
Assert
.
rejects
(
Arithmetic
.
add
(
2
)
/
TypeError
/
"
add
(
)
call
missing
argument
"
)
;
Assert
.
throws
(
(
)
=
>
Geometry
.
Point
(
0
.
0
)
/
TypeError
/
"
Point
constructor
missing
argument
"
)
;
const
todo
=
await
TodoList
.
init
(
)
;
const
stringifier
=
await
Stringifier
.
init
(
)
;
await
todo
.
getEntries
(
)
;
todo
.
ptr
=
stringifier
.
ptr
;
try
{
await
todo
.
getEntries
(
)
;
Assert
.
fail
(
"
Should
have
thrown
the
pointer
was
an
incorrect
pointer
"
)
;
}
catch
(
e
)
{
}
}
)
;

"
use
strict
"
;
function
checkIfOneBit
(
bits
)
{
return
bits
&
&
!
(
bits
&
(
bits
-
1
)
)
;
}
add_task
(
function
test_clear_data_service_flags
(
)
{
let
prevAllFlags
=
0
;
let
allFlags
=
0
;
Object
.
keys
(
Ci
.
nsIClearDataService
)
.
filter
(
k
=
>
k
.
startsWith
(
"
CLEAR_
"
)
)
.
filter
(
k
=
>
k
!
=
"
CLEAR_BFCACHE
"
)
.
forEach
(
flag
=
>
{
const
FLAG_VAL
=
Services
.
clearData
[
flag
]
;
if
(
checkIfOneBit
(
FLAG_VAL
)
)
{
prevAllFlags
=
allFlags
;
allFlags
|
=
FLAG_VAL
;
Assert
.
notEqual
(
allFlags
prevAllFlags
Value
of
{
flag
}
should
be
unique
.
)
;
}
}
)
;
}
)
;

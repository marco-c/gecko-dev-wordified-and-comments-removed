"
use
strict
"
;
class
CurrencyAmount
extends
ObservedPropertiesMixin
(
HTMLElement
)
{
static
get
observedAttributes
(
)
{
return
[
"
currency
"
"
value
"
]
;
}
render
(
)
{
let
output
=
"
"
;
try
{
if
(
this
.
value
&
&
this
.
currency
)
{
let
number
=
Number
.
parseFloat
(
this
.
value
)
;
if
(
Number
.
isNaN
(
number
)
|
|
!
Number
.
isFinite
(
number
)
)
{
throw
new
RangeError
(
"
currency
-
amount
value
must
be
a
finite
number
"
)
;
}
const
formatter
=
new
Intl
.
NumberFormat
(
navigator
.
languages
{
style
:
"
currency
"
currency
:
this
.
currency
currencyDisplay
:
"
symbol
"
}
)
;
output
=
formatter
.
format
(
this
.
value
)
;
}
}
finally
{
this
.
textContent
=
output
;
}
}
}
customElements
.
define
(
"
currency
-
amount
"
CurrencyAmount
)
;

#
ifndef
GOOGLE_PROTOBUF_UTIL_INTERNAL_UTILITY_H__
#
define
GOOGLE_PROTOBUF_UTIL_INTERNAL_UTILITY_H__
#
include
<
cstdint
>
#
include
<
memory
>
#
include
<
string
>
#
include
<
utility
>
#
include
<
google
/
protobuf
/
stubs
/
common
.
h
>
#
include
<
google
/
protobuf
/
stubs
/
logging
.
h
>
#
include
<
google
/
protobuf
/
any
.
pb
.
h
>
#
include
<
google
/
protobuf
/
type
.
pb
.
h
>
#
include
<
google
/
protobuf
/
repeated_field
.
h
>
#
include
<
google
/
protobuf
/
stubs
/
strutil
.
h
>
#
include
<
google
/
protobuf
/
stubs
/
statusor
.
h
>
#
include
<
google
/
protobuf
/
stubs
/
status
.
h
>
#
include
<
google
/
protobuf
/
port_def
.
inc
>
namespace
google
{
namespace
protobuf
{
namespace
util
{
namespace
converter
{
static
const
int64_t
kTypeUrlSize
=
19
;
PROTOBUF_EXPORT
bool
GetBoolOptionOrDefault
(
const
RepeatedPtrField
<
google
:
:
protobuf
:
:
Option
>
&
options
StringPiece
option_name
bool
default_value
)
;
PROTOBUF_EXPORT
int64_t
GetInt64OptionOrDefault
(
const
RepeatedPtrField
<
google
:
:
protobuf
:
:
Option
>
&
options
StringPiece
option_name
int64_t
default_value
)
;
PROTOBUF_EXPORT
double
GetDoubleOptionOrDefault
(
const
RepeatedPtrField
<
google
:
:
protobuf
:
:
Option
>
&
options
StringPiece
option_name
double
default_value
)
;
PROTOBUF_EXPORT
std
:
:
string
GetStringOptionOrDefault
(
const
RepeatedPtrField
<
google
:
:
protobuf
:
:
Option
>
&
options
StringPiece
option_name
StringPiece
default_value
)
;
PROTOBUF_EXPORT
bool
GetBoolFromAny
(
const
google
:
:
protobuf
:
:
Any
&
any
)
;
PROTOBUF_EXPORT
int64_t
GetInt64FromAny
(
const
google
:
:
protobuf
:
:
Any
&
any
)
;
PROTOBUF_EXPORT
double
GetDoubleFromAny
(
const
google
:
:
protobuf
:
:
Any
&
any
)
;
PROTOBUF_EXPORT
std
:
:
string
GetStringFromAny
(
const
google
:
:
protobuf
:
:
Any
&
any
)
;
PROTOBUF_EXPORT
const
StringPiece
GetTypeWithoutUrl
(
StringPiece
type_url
)
;
PROTOBUF_EXPORT
const
std
:
:
string
GetFullTypeWithUrl
(
StringPiece
simple_type
)
;
const
google
:
:
protobuf
:
:
Option
*
FindOptionOrNull
(
const
RepeatedPtrField
<
google
:
:
protobuf
:
:
Option
>
&
options
StringPiece
option_name
)
;
const
google
:
:
protobuf
:
:
Field
*
FindFieldInTypeOrNull
(
const
google
:
:
protobuf
:
:
Type
*
type
StringPiece
field_name
)
;
const
google
:
:
protobuf
:
:
Field
*
FindJsonFieldInTypeOrNull
(
const
google
:
:
protobuf
:
:
Type
*
type
StringPiece
json_name
)
;
const
google
:
:
protobuf
:
:
Field
*
FindFieldInTypeByNumberOrNull
(
const
google
:
:
protobuf
:
:
Type
*
type
int32_t
number
)
;
const
google
:
:
protobuf
:
:
EnumValue
*
FindEnumValueByNameOrNull
(
const
google
:
:
protobuf
:
:
Enum
*
enum_type
StringPiece
enum_name
)
;
const
google
:
:
protobuf
:
:
EnumValue
*
FindEnumValueByNumberOrNull
(
const
google
:
:
protobuf
:
:
Enum
*
enum_type
int32_t
value
)
;
const
google
:
:
protobuf
:
:
EnumValue
*
FindEnumValueByNameWithoutUnderscoreOrNull
(
const
google
:
:
protobuf
:
:
Enum
*
enum_type
StringPiece
enum_name
)
;
PROTOBUF_EXPORT
std
:
:
string
ToCamelCase
(
const
StringPiece
input
)
;
std
:
:
string
EnumValueNameToLowerCamelCase
(
const
StringPiece
input
)
;
PROTOBUF_EXPORT
std
:
:
string
ToSnakeCase
(
StringPiece
input
)
;
PROTOBUF_EXPORT
bool
IsWellKnownType
(
const
std
:
:
string
&
type_name
)
;
PROTOBUF_EXPORT
bool
IsValidBoolString
(
StringPiece
bool_string
)
;
PROTOBUF_EXPORT
bool
IsMap
(
const
google
:
:
protobuf
:
:
Field
&
field
const
google
:
:
protobuf
:
:
Type
&
type
)
;
bool
IsMessageSetWireFormat
(
const
google
:
:
protobuf
:
:
Type
&
type
)
;
PROTOBUF_EXPORT
std
:
:
string
DoubleAsString
(
double
value
)
;
PROTOBUF_EXPORT
std
:
:
string
FloatAsString
(
float
value
)
;
template
<
typename
T
>
std
:
:
string
ValueAsString
(
T
value
)
{
return
StrCat
(
value
)
;
}
template
<
>
inline
std
:
:
string
ValueAsString
(
float
value
)
{
return
FloatAsString
(
value
)
;
}
template
<
>
inline
std
:
:
string
ValueAsString
(
double
value
)
{
return
DoubleAsString
(
value
)
;
}
PROTOBUF_EXPORT
bool
SafeStrToFloat
(
StringPiece
str
float
*
value
)
;
}
}
}
}
#
include
<
google
/
protobuf
/
port_undef
.
inc
>
#
endif

#
ifndef
Telemetry_h__
#
define
Telemetry_h__
#
include
"
mozilla
/
Maybe
.
h
"
#
include
"
mozilla
/
TelemetryEventEnums
.
h
"
#
include
"
mozilla
/
TelemetryHistogramEnums
.
h
"
#
include
"
mozilla
/
TelemetryScalarEnums
.
h
"
#
include
"
mozilla
/
TimeStamp
.
h
"
#
include
"
nsString
.
h
"
#
include
"
nsTArray
.
h
"
#
include
"
nsXULAppAPI
.
h
"
namespace
mozilla
{
namespace
Telemetry
{
struct
HistogramAccumulation
;
struct
KeyedHistogramAccumulation
;
struct
ScalarAction
;
struct
KeyedScalarAction
;
struct
ChildEventData
;
struct
EventExtraEntry
{
nsCString
key
;
nsCString
value
;
}
;
void
Init
(
)
;
void
ShutdownTelemetry
(
)
;
const
char
*
GetHistogramName
(
HistogramID
id
)
;
bool
CanRecordBase
(
)
;
bool
CanRecordExtended
(
)
;
bool
CanRecordReleaseData
(
)
;
bool
CanRecordPrereleaseData
(
)
;
void
RecordSlowSQLStatement
(
const
nsACString
&
statement
const
nsACString
&
dbName
uint32_t
delay
)
;
void
InitIOReporting
(
nsIFile
*
aXreDir
)
;
void
SetProfileDir
(
nsIFile
*
aProfD
)
;
void
LeavingStartupStage
(
)
;
void
EnteringShutdownStage
(
)
;
const
uint32_t
kSlowSQLThresholdForMainThread
=
50
;
const
uint32_t
kSlowSQLThresholdForHelperThreads
=
100
;
void
WriteFailedProfileLock
(
nsIFile
*
aProfileDir
)
;
}
}
#
endif

#
include
"
nsISupports
.
idl
"
#
include
"
nsIFile
.
idl
"
[
scriptable
function
uuid
(
3d3b9075
-
5549
-
4244
-
9c08
-
b64fefa1dd60
)
]
interface
nsIFetchTelemetryDataCallback
:
nsISupports
{
void
complete
(
)
;
}
;
[
scriptable
uuid
(
273d2dd0
-
6c63
-
475a
-
b864
-
cb65160a1909
)
]
interface
nsITelemetry
:
nsISupports
{
const
unsigned
long
HISTOGRAM_EXPONENTIAL
=
0
;
const
unsigned
long
HISTOGRAM_LINEAR
=
1
;
const
unsigned
long
HISTOGRAM_BOOLEAN
=
2
;
const
unsigned
long
HISTOGRAM_FLAG
=
3
;
const
unsigned
long
HISTOGRAM_COUNT
=
4
;
const
unsigned
long
HISTOGRAM_CATEGORICAL
=
5
;
const
unsigned
long
SCALAR_TYPE_COUNT
=
0
;
const
unsigned
long
SCALAR_TYPE_STRING
=
1
;
const
unsigned
long
SCALAR_TYPE_BOOLEAN
=
2
;
const
unsigned
long
DATASET_ALL_CHANNELS
=
0
;
const
unsigned
long
DATASET_PRERELEASE_CHANNELS
=
1
;
[
implicit_jscontext
]
jsval
getCategoricalLabels
(
)
;
[
implicit_jscontext
]
jsval
getSnapshotForHistograms
(
[
optional
]
in
ACString
aStoreName
[
optional
]
in
boolean
aClearStore
[
optional
]
in
boolean
aFilterTest
)
;
[
implicit_jscontext
]
jsval
getSnapshotForKeyedHistograms
(
[
optional
]
in
ACString
aStoreName
[
optional
]
in
boolean
aClearStore
[
optional
]
in
boolean
aFilterTest
)
;
[
implicit_jscontext
]
jsval
getSnapshotForScalars
(
[
optional
]
in
ACString
aStoreName
[
optional
]
in
boolean
aClearStore
[
optional
]
in
boolean
aFilterTest
)
;
[
implicit_jscontext
]
jsval
getSnapshotForKeyedScalars
(
[
optional
]
in
ACString
aStoreName
[
optional
]
in
boolean
aClearStore
[
optional
]
in
boolean
aFilterTest
)
;
readonly
attribute
uint32_t
lastShutdownDuration
;
readonly
attribute
uint32_t
failedProfileLockCount
;
[
implicit_jscontext
]
readonly
attribute
jsval
slowSQL
;
[
implicit_jscontext
]
readonly
attribute
jsval
debugSlowSQL
;
readonly
attribute
uint32_t
maximalNumberOfConcurrentThreads
;
const
unsigned
long
INCLUDE_OLD_LOADEVENTS
=
1
<
<
0
;
const
unsigned
long
KEEP_LOADEVENTS_NEW
=
1
<
<
1
;
[
implicit_jscontext
]
Promise
getUntrustedModuleLoadEvents
(
[
optional
]
in
unsigned
long
aFlags
)
;
[
implicit_jscontext
]
Promise
getLoadedModules
(
)
;
[
implicit_jscontext
]
readonly
attribute
jsval
lateWrites
;
[
implicit_jscontext
]
jsval
getHistogramById
(
in
ACString
id
)
;
[
implicit_jscontext
]
jsval
getKeyedHistogramById
(
in
ACString
id
)
;
attribute
boolean
canRecordBase
;
attribute
boolean
canRecordExtended
;
readonly
attribute
boolean
canRecordReleaseData
;
readonly
attribute
boolean
canRecordPrereleaseData
;
readonly
attribute
boolean
isOfficialTelemetry
;
void
setHistogramRecordingEnabled
(
in
ACString
id
in
boolean
enabled
)
;
void
asyncFetchTelemetryData
(
in
nsIFetchTelemetryDataCallback
aCallback
)
;
[
implicit_jscontext
]
readonly
attribute
jsval
fileIOReports
;
double
msSinceProcessStart
(
)
;
double
msSystemNow
(
)
;
[
implicit_jscontext
]
void
scalarAdd
(
in
ACString
aName
in
jsval
aValue
)
;
[
implicit_jscontext
]
void
scalarSet
(
in
ACString
aName
in
jsval
aValue
)
;
[
implicit_jscontext
]
void
scalarSetMaximum
(
in
ACString
aName
in
jsval
aValue
)
;
[
implicit_jscontext
]
void
keyedScalarAdd
(
in
ACString
aName
in
AString
aKey
in
jsval
aValue
)
;
[
implicit_jscontext
]
void
keyedScalarSet
(
in
ACString
aName
in
AString
aKey
in
jsval
aValue
)
;
[
implicit_jscontext
]
void
keyedScalarSetMaximum
(
in
ACString
aName
in
AString
aKey
in
jsval
aValue
)
;
void
clearScalars
(
)
;
void
flushBatchedChildTelemetry
(
)
;
[
implicit_jscontext
optional_argc
]
void
recordEvent
(
in
ACString
aCategory
in
ACString
aMethod
in
ACString
aObject
[
optional
]
in
jsval
aValue
[
optional
]
in
jsval
extra
)
;
void
setEventRecordingEnabled
(
in
ACString
aCategory
in
boolean
aEnabled
)
;
[
implicit_jscontext
optional_argc
]
jsval
snapshotEvents
(
in
uint32_t
aDataset
[
optional
]
in
boolean
aClear
[
optional
]
in
uint32_t
aEventLimit
)
;
[
implicit_jscontext
]
void
registerEvents
(
in
ACString
aCategory
in
jsval
aEventData
)
;
[
implicit_jscontext
]
void
registerBuiltinEvents
(
in
ACString
aCategory
in
jsval
aEventData
)
;
[
implicit_jscontext
]
void
registerScalars
(
in
ACString
aCategoryName
in
jsval
aScalarData
)
;
[
implicit_jscontext
]
void
registerBuiltinScalars
(
in
ACString
aCategoryName
in
jsval
aScalarData
)
;
void
clearEvents
(
)
;
[
implicit_jscontext
]
jsval
getAllStores
(
)
;
void
earlyInit
(
)
;
void
delayedInit
(
)
;
void
shutdown
(
)
;
[
implicit_jscontext
]
Promise
gatherMemory
(
)
;
[
implicit_jscontext
]
jsval
getOriginSnapshot
(
[
optional
]
in
boolean
aClear
)
;
[
implicit_jscontext
]
Promise
getEncodedOriginSnapshot
(
[
optional
]
in
boolean
aClear
)
;
void
clearOrigins
(
)
;
}
;

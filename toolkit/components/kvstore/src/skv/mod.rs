use
std
:
:
ptr
;
use
nserror
:
:
nsresult
;
use
xpcom
:
:
nsIID
;
use
crate
:
:
skv
:
:
interface
:
:
KeyValueService
;
mod
abort
;
mod
connection
;
mod
coordinator
;
mod
database
;
mod
interface
;
mod
key
;
mod
schema
;
mod
sql
;
mod
store
;
mod
value
;
#
[
no_mangle
]
pub
unsafe
extern
"
C
"
fn
nsSQLiteKeyValueServiceConstructor
(
iid
:
&
nsIID
result
:
*
mut
*
mut
libc
:
:
c_void
)
-
>
nsresult
{
*
result
=
ptr
:
:
null_mut
(
)
;
let
service
=
KeyValueService
:
:
new
(
)
;
service
.
QueryInterface
(
iid
result
)
}

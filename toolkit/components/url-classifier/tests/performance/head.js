function
measureIterations
(
metricName
)
{
let
accumulatedTime
=
0
;
let
iterations
=
0
;
let
now
=
0
;
return
{
start
(
)
{
now
=
Cu
.
now
(
)
;
}
stop
(
)
{
accumulatedTime
+
=
Cu
.
now
(
)
-
now
;
iterations
+
+
;
}
reportMetrics
(
)
{
const
metrics
=
{
}
;
metrics
[
metricName
+
"
iterations
"
]
=
iterations
;
metrics
[
metricName
+
"
accumulatedTime
"
]
=
accumulatedTime
;
metrics
[
metricName
+
"
perCallTime
"
]
=
accumulatedTime
/
iterations
;
info
(
"
perfMetrics
"
metrics
)
;
}
}
;
}

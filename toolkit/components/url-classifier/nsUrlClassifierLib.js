#
This
Source
Code
Form
is
subject
to
the
terms
of
the
Mozilla
Public
#
License
v
.
2
.
0
.
If
a
copy
of
the
MPL
was
not
distributed
with
this
#
file
You
can
obtain
one
at
http
:
/
/
mozilla
.
org
/
MPL
/
2
.
0
/
.
const
Cc
=
Components
.
classes
;
const
Ci
=
Components
.
interfaces
;
const
G_GDEBUG
=
false
;
Components
.
utils
.
import
(
"
resource
:
/
/
gre
/
modules
/
XPCOMUtils
.
jsm
"
)
;
#
include
.
/
content
/
moz
/
lang
.
js
#
include
.
/
content
/
moz
/
preferences
.
js
#
include
.
/
content
/
moz
/
debug
.
js
#
include
.
/
content
/
moz
/
alarm
.
js
#
include
.
/
content
/
moz
/
cryptohasher
.
js
#
include
.
/
content
/
moz
/
observer
.
js
#
include
.
/
content
/
moz
/
protocol4
.
js
#
include
.
/
content
/
request
-
backoff
.
js
#
include
.
/
content
/
xml
-
fetcher
.
js
function
RequestBackoffV4
(
maxRequests
requestPeriod
)
{
let
rand
=
Math
.
random
(
)
;
let
retryInterval
=
Math
.
floor
(
15
*
60
*
1000
*
(
rand
+
1
)
)
;
let
backoffInterval
=
Math
.
floor
(
30
*
60
*
1000
*
(
rand
+
1
)
)
;
return
new
RequestBackoff
(
2
retryInterval
maxRequests
requestPeriod
backoffInterval
24
*
60
*
60
*
1000
)
;
}
var
lib
=
this
;
function
UrlClassifierLib
(
)
{
this
.
wrappedJSObject
=
lib
;
}
UrlClassifierLib
.
prototype
.
classID
=
Components
.
ID
(
"
{
26a4a019
-
2827
-
4a89
-
a85c
-
5931a678823a
}
"
)
;
UrlClassifierLib
.
prototype
.
QueryInterface
=
XPCOMUtils
.
generateQI
(
[
]
)
;
this
.
NSGetFactory
=
XPCOMUtils
.
generateNSGetFactory
(
[
UrlClassifierLib
]
)
;

const
{
OS
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
gre
/
modules
/
osfile
.
jsm
"
)
;
const
{
RecipeRunner
}
=
ChromeUtils
.
import
(
"
resource
:
/
/
normandy
/
lib
/
RecipeRunner
.
jsm
"
)
;
if
(
arguments
.
length
!
=
=
1
)
{
print
(
"
Usage
:
capabilities
-
script
.
js
OUTFILE
"
)
;
quit
(
1
)
;
}
main
(
.
.
.
arguments
)
;
async
function
main
(
outPath
)
{
const
capabililitySet
=
RecipeRunner
.
getCapabilities
(
)
;
await
OS
.
File
.
writeAtomic
(
outPath
JSON
.
stringify
(
{
capabilities
:
Array
.
from
(
capabililitySet
)
}
null
4
)
)
;
}

Components
.
utils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
function
onLoadViewPartialSource
(
)
{
let
wrapLongLines
=
Services
.
prefs
.
getBoolPref
(
"
view_source
.
wrap_long_lines
"
)
;
document
.
getElementById
(
"
menu_wrapLongLines
"
)
.
setAttribute
(
"
checked
"
wrapLongLines
)
;
document
.
getElementById
(
"
menu_highlightSyntax
"
)
.
setAttribute
(
"
checked
"
Services
.
prefs
.
getBoolPref
(
"
view_source
.
syntax_highlight
"
)
)
;
let
args
=
window
.
arguments
[
0
]
;
viewSourceChrome
.
loadViewSourceFromSelection
(
args
.
URI
args
.
drawSelection
args
.
baseURI
)
;
window
.
content
.
focus
(
)
;
}

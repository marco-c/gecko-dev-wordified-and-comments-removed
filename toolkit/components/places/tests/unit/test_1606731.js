let
hs
=
PlacesUtils
.
history
;
add_task
(
async
function
test_execute
(
)
{
const
TEST_URL
=
"
http
:
/
/
example
.
net
/
El_
%
C3
%
81rea_51
"
;
const
SEARCH_TERM
=
"
area
"
;
await
PlacesTestUtils
.
addVisits
(
uri
(
TEST_URL
)
)
;
let
query
=
hs
.
getNewQuery
(
)
;
query
.
searchTerms
=
SEARCH_TERM
;
let
options
=
hs
.
getNewQueryOptions
(
)
;
let
result
=
hs
.
executeQuery
(
query
options
)
;
result
.
root
.
containerOpen
=
true
;
Assert
.
equal
(
result
.
root
.
childCount
1
)
;
}
)
;

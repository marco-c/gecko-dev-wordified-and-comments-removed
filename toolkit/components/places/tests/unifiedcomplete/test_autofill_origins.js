"
use
strict
"
;
addAutofillTasks
(
true
)
;
add_task
(
async
function
trailingSlash
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
example
.
com
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
example
.
com
/
"
autofilled
:
"
example
.
com
/
"
completed
:
"
http
:
/
/
example
.
com
/
"
matches
:
[
{
value
:
"
example
.
com
/
"
comment
:
"
example
.
com
/
"
style
:
[
"
autofill
"
"
heuristic
"
]
}
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
trailingSlashWWW
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
www
.
example
.
com
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
example
.
com
/
"
autofilled
:
"
example
.
com
/
"
completed
:
"
http
:
/
/
www
.
example
.
com
/
"
matches
:
[
{
value
:
"
example
.
com
/
"
comment
:
"
www
.
example
.
com
/
"
style
:
[
"
autofill
"
"
heuristic
"
]
}
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
port
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
example
.
com
:
8888
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
ex
"
autofilled
:
"
example
.
com
:
8888
/
"
completed
:
"
http
:
/
/
example
.
com
:
8888
/
"
matches
:
[
{
value
:
"
example
.
com
:
8888
/
"
comment
:
"
example
.
com
:
8888
"
style
:
[
"
autofill
"
"
heuristic
"
]
}
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
portPartial
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
example
.
com
:
8888
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
example
.
com
:
8
"
autofilled
:
"
example
.
com
:
8888
/
"
completed
:
"
http
:
/
/
example
.
com
:
8888
/
"
matches
:
[
{
value
:
"
example
.
com
:
8888
/
"
comment
:
"
example
.
com
:
8888
"
style
:
[
"
autofill
"
"
heuristic
"
]
}
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
portNoMatch1
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
example
.
com
:
8888
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
example
.
com
:
89
"
matches
:
[
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
portNoMatch2
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
example
.
com
:
8888
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
example
.
com
:
9
"
matches
:
[
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
trailingSlash
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
example
.
com
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
example
/
"
matches
:
[
]
}
)
;
await
cleanup
(
)
;
}
)
;
add_task
(
async
function
multidotted
(
)
{
await
PlacesTestUtils
.
addVisits
(
[
{
uri
:
"
http
:
/
/
www
.
example
.
co
.
jp
:
8888
/
"
}
]
)
;
await
check_autocomplete
(
{
search
:
"
www
.
example
.
co
.
"
completed
:
"
http
:
/
/
www
.
example
.
co
.
jp
:
8888
/
"
matches
:
[
{
value
:
"
www
.
example
.
co
.
jp
:
8888
/
"
comment
:
"
www
.
example
.
co
.
jp
:
8888
"
style
:
[
"
autofill
"
"
heuristic
"
]
}
]
}
)
;
await
cleanup
(
)
;
}
)
;

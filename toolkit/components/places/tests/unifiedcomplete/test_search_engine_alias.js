add_task
(
function
*
(
)
{
Services
.
search
.
addEngineWithDetails
(
"
AliasedMozSearch
"
"
"
"
doit
"
"
"
"
GET
"
"
http
:
/
/
s
.
example
.
com
/
search
"
)
;
yield
check_autocomplete
(
{
search
:
"
doit
"
searchParam
:
"
enable
-
actions
"
matches
:
[
makeSearchMatch
(
"
doit
"
{
engineName
:
"
AliasedMozSearch
"
searchQuery
:
"
"
alias
:
"
doit
"
heuristic
:
true
}
)
]
}
)
;
yield
check_autocomplete
(
{
search
:
"
doit
"
searchParam
:
"
enable
-
actions
"
matches
:
[
makeSearchMatch
(
"
doit
"
{
engineName
:
"
AliasedMozSearch
"
searchQuery
:
"
"
alias
:
"
doit
"
heuristic
:
true
}
)
]
}
)
;
yield
check_autocomplete
(
{
search
:
"
doit
mozilla
"
searchParam
:
"
enable
-
actions
"
matches
:
[
makeSearchMatch
(
"
doit
mozilla
"
{
engineName
:
"
AliasedMozSearch
"
searchQuery
:
"
mozilla
"
alias
:
"
doit
"
heuristic
:
true
}
)
]
}
)
;
yield
check_autocomplete
(
{
search
:
"
doit
mozzarella
mozilla
"
searchParam
:
"
enable
-
actions
"
matches
:
[
makeSearchMatch
(
"
doit
mozzarella
mozilla
"
{
engineName
:
"
AliasedMozSearch
"
searchQuery
:
"
mozzarella
mozilla
"
alias
:
"
doit
"
heuristic
:
true
}
)
]
}
)
;
yield
cleanup
(
)
;
}
)
;

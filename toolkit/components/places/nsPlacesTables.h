#
ifndef
__nsPlacesTables_h__
#
define
__nsPlacesTables_h__
#
define
CREATE_MOZ_PLACES
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_places
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
url
LONGVARCHAR
"
\
"
title
LONGVARCHAR
"
\
"
rev_host
LONGVARCHAR
"
\
"
visit_count
INTEGER
DEFAULT
0
"
\
"
hidden
INTEGER
DEFAULT
0
NOT
NULL
"
\
"
typed
INTEGER
DEFAULT
0
NOT
NULL
"
\
"
frecency
INTEGER
DEFAULT
-
1
NOT
NULL
"
\
"
last_visit_date
INTEGER
"
\
"
guid
TEXT
"
\
"
foreign_count
INTEGER
DEFAULT
0
NOT
NULL
"
\
"
url_hash
INTEGER
DEFAULT
0
NOT
NULL
"
\
"
description
TEXT
"
\
"
preview_image_url
TEXT
"
\
"
origin_id
INTEGER
REFERENCES
moz_origins
(
id
)
"
\
"
)
"
\
)
#
define
CREATE_MOZ_HISTORYVISITS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_historyvisits
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
from_visit
INTEGER
"
\
"
place_id
INTEGER
"
\
"
visit_date
INTEGER
"
\
"
visit_type
INTEGER
"
\
"
session
INTEGER
"
\
"
)
"
\
)
#
define
CREATE_MOZ_INPUTHISTORY
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_inputhistory
(
"
\
"
place_id
INTEGER
NOT
NULL
"
\
"
input
LONGVARCHAR
NOT
NULL
"
\
"
use_count
INTEGER
"
\
"
PRIMARY
KEY
(
place_id
input
)
"
\
"
)
"
\
)
#
define
CREATE_MOZ_ANNOS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_annos
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
place_id
INTEGER
NOT
NULL
"
\
"
anno_attribute_id
INTEGER
"
\
"
content
LONGVARCHAR
"
\
"
flags
INTEGER
DEFAULT
0
"
\
"
expiration
INTEGER
DEFAULT
0
"
\
"
type
INTEGER
DEFAULT
0
"
\
"
dateAdded
INTEGER
DEFAULT
0
"
\
"
lastModified
INTEGER
DEFAULT
0
"
\
"
)
"
\
)
#
define
CREATE_MOZ_ANNO_ATTRIBUTES
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_anno_attributes
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
name
VARCHAR
(
32
)
UNIQUE
NOT
NULL
"
\
"
)
"
\
)
#
define
CREATE_MOZ_ITEMS_ANNOS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_items_annos
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
item_id
INTEGER
NOT
NULL
"
\
"
anno_attribute_id
INTEGER
"
\
"
content
LONGVARCHAR
"
\
"
flags
INTEGER
DEFAULT
0
"
\
"
expiration
INTEGER
DEFAULT
0
"
\
"
type
INTEGER
DEFAULT
0
"
\
"
dateAdded
INTEGER
DEFAULT
0
"
\
"
lastModified
INTEGER
DEFAULT
0
"
\
"
)
"
\
)
#
define
CREATE_MOZ_BOOKMARKS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_bookmarks
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
type
INTEGER
"
\
"
fk
INTEGER
DEFAULT
NULL
"
/
*
place_id
*
/
\
"
parent
INTEGER
"
\
"
position
INTEGER
"
\
"
title
LONGVARCHAR
"
\
"
keyword_id
INTEGER
"
\
"
folder_type
TEXT
"
\
"
dateAdded
INTEGER
"
\
"
lastModified
INTEGER
"
\
"
guid
TEXT
"
\
/
*
The
sync
status
is
determined
from
the
change
source
.
We
set
this
to
SYNC_STATUS_NEW
=
1
for
new
local
bookmarks
and
SYNC_STATUS_NORMAL
=
2
for
bookmarks
from
other
devices
.
Uploading
a
local
bookmark
for
the
first
time
changes
its
status
to
SYNC_STATUS_NORMAL
.
For
bookmarks
restored
from
a
backup
we
set
SYNC_STATUS_UNKNOWN
=
0
indicating
that
Sync
should
reconcile
them
with
bookmarks
on
the
server
.
If
Sync
is
disconnected
or
never
set
up
all
bookmarks
will
stay
in
SYNC_STATUS_NEW
.
*
/
\
"
syncStatus
INTEGER
NOT
NULL
DEFAULT
0
"
\
\
"
syncChangeCounter
INTEGER
NOT
NULL
DEFAULT
1
"
\
"
)
"
\
)
#
define
CREATE_MOZ_BOOKMARKS_DELETED
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_bookmarks_deleted
(
"
\
"
guid
TEXT
PRIMARY
KEY
"
\
"
dateRemoved
INTEGER
NOT
NULL
DEFAULT
0
"
\
"
)
"
\
)
#
define
CREATE_MOZ_KEYWORDS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_keywords
(
"
\
"
id
INTEGER
PRIMARY
KEY
AUTOINCREMENT
"
\
"
keyword
TEXT
UNIQUE
"
\
"
place_id
INTEGER
"
\
"
post_data
TEXT
"
\
"
)
"
\
)
#
define
CREATE_MOZ_ORIGINS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_origins
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
prefix
TEXT
NOT
NULL
"
\
"
host
TEXT
NOT
NULL
"
\
"
frecency
INTEGER
NOT
NULL
"
\
"
UNIQUE
(
prefix
host
)
"
\
"
)
"
\
)
#
define
CREATE_MOZ_OPENPAGES_TEMP
NS_LITERAL_CSTRING
(
\
"
CREATE
TEMP
TABLE
moz_openpages_temp
(
"
\
"
url
TEXT
"
\
"
userContextId
INTEGER
"
\
"
open_count
INTEGER
"
\
"
PRIMARY
KEY
(
url
userContextId
)
"
\
"
)
"
\
)
#
define
CREATE_UPDATEORIGINSINSERT_TEMP
NS_LITERAL_CSTRING
(
\
"
CREATE
TEMP
TABLE
moz_updateoriginsinsert_temp
(
"
\
"
place_id
INTEGER
PRIMARY
KEY
"
\
"
prefix
TEXT
NOT
NULL
"
\
"
host
TEXT
NOT
NULL
"
\
"
frecency
INTEGER
NOT
NULL
"
\
"
)
"
\
)
#
define
CREATE_UPDATEORIGINSDELETE_TEMP
NS_LITERAL_CSTRING
(
\
"
CREATE
TEMP
TABLE
moz_updateoriginsdelete_temp
(
"
\
"
prefix
TEXT
NOT
NULL
"
\
"
host
TEXT
NOT
NULL
"
\
"
frecency_delta
INTEGER
NOT
NULL
"
\
"
PRIMARY
KEY
(
prefix
host
)
"
\
"
)
WITHOUT
ROWID
"
\
)
#
define
CREATE_UPDATEORIGINSUPDATE_TEMP
NS_LITERAL_CSTRING
(
\
"
CREATE
TEMP
TABLE
moz_updateoriginsupdate_temp
(
"
\
"
prefix
TEXT
NOT
NULL
"
\
"
host
TEXT
NOT
NULL
"
\
"
frecency_delta
INTEGER
NOT
NULL
"
\
"
PRIMARY
KEY
(
prefix
host
)
"
\
"
)
WITHOUT
ROWID
"
\
)
#
define
CREATE_MOZ_PAGES_W_ICONS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_pages_w_icons
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
page_url
TEXT
NOT
NULL
"
\
"
page_url_hash
INTEGER
NOT
NULL
"
\
"
)
"
\
)
#
define
CREATE_MOZ_ICONS
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_icons
(
"
\
"
id
INTEGER
PRIMARY
KEY
"
\
"
icon_url
TEXT
NOT
NULL
"
\
"
fixed_icon_url_hash
INTEGER
NOT
NULL
"
\
"
width
INTEGER
NOT
NULL
DEFAULT
0
"
\
"
root
INTEGER
NOT
NULL
DEFAULT
0
"
\
"
color
INTEGER
"
\
"
expire_ms
INTEGER
NOT
NULL
DEFAULT
0
"
\
"
data
BLOB
"
\
"
)
"
\
)
#
define
CREATE_MOZ_ICONS_TO_PAGES
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_icons_to_pages
(
"
\
"
page_id
INTEGER
NOT
NULL
"
\
"
icon_id
INTEGER
NOT
NULL
"
\
"
PRIMARY
KEY
(
page_id
icon_id
)
"
\
"
FOREIGN
KEY
(
page_id
)
REFERENCES
moz_pages_w_icons
ON
DELETE
CASCADE
"
\
"
FOREIGN
KEY
(
icon_id
)
REFERENCES
moz_icons
ON
DELETE
CASCADE
"
\
"
)
WITHOUT
ROWID
"
\
)
#
define
CREATE_MOZ_META
NS_LITERAL_CSTRING
(
\
"
CREATE
TABLE
moz_meta
(
"
\
"
key
TEXT
PRIMARY
KEY
"
\
"
value
NOT
NULL
"
\
"
)
WITHOUT
ROWID
"
\
)
#
define
MOZ_META_KEY_ORIGIN_FRECENCY_COUNT
"
origin_frecency_count
"
#
define
MOZ_META_KEY_ORIGIN_FRECENCY_SUM
"
origin_frecency_sum
"
#
define
MOZ_META_KEY_ORIGIN_FRECENCY_SUM_OF_SQUARES
"
origin_frecency_sum_of_squares
"
#
endif

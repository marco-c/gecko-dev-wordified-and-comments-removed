"
use
strict
"
;
add_task
(
async
function
test_private_temp
(
)
{
Services
.
prefs
.
setBoolPref
(
"
browser
.
download
.
improvements_to_download_panel
"
false
)
;
let
download
=
await
promiseStartExternalHelperAppServiceDownload
(
httpUrl
(
"
empty
.
txt
"
)
)
;
await
promiseDownloadStopped
(
download
)
;
var
targetFile
=
Cc
[
"
mozilla
.
org
/
file
/
local
;
1
"
]
.
createInstance
(
Ci
.
nsIFile
)
;
targetFile
.
initWithPath
(
download
.
target
.
path
)
;
equal
(
targetFile
.
parent
.
permissions
448
)
;
Services
.
prefs
.
setBoolPref
(
"
browser
.
download
.
improvements_to_download_panel
"
true
)
;
}
)
;

"
use
strict
"
;
function
run_test
(
)
{
do_get_profile
(
)
;
run_next_test
(
)
;
}
add_task
(
async
function
test_watching_non_existing
(
)
{
let
notExistingDir
=
OS
.
Path
.
join
(
OS
.
Constants
.
Path
.
profileDir
"
absolutelyNotExisting
"
)
;
let
watcher
=
makeWatcher
(
)
;
let
error
=
await
new
Promise
(
(
resolve
reject
)
=
>
{
watcher
.
addPath
(
notExistingDir
reject
resolve
)
;
}
)
;
Assert
.
equal
(
error
Components
.
results
.
NS_ERROR_FILE_NOT_FOUND
)
;
}
)
;

{
#
The
rendered
source
is
autogenerated
but
this
Jinja2
template
is
not
.
Please
file
bugs
!
#
}
#
ifndef
mozilla_Metrics_h
#
define
mozilla_Metrics_h
#
include
"
mozilla
/
glean
/
MetricTypes
.
h
"
namespace
mozilla
:
:
glean
{
enum
class
NoExtraKeys
{
}
;
{
%
macro
generate_extra_keys
(
obj
)
%
}
{
%
for
name
suffix
in
obj
[
"
_generate_enums
"
]
%
}
{
%
if
obj
|
attr
(
name
)
|
length
%
}
enum
class
{
{
obj
.
name
|
Camelize
}
}
{
{
suffix
}
}
:
int32_t
{
{
%
for
key
in
obj
|
attr
(
name
)
%
}
{
{
key
|
Camelize
}
}
{
%
endfor
%
}
}
;
{
%
endif
%
}
{
%
endfor
%
}
{
%
endmacro
%
}
{
%
for
category_name
objs
in
all_objs
.
items
(
)
%
}
namespace
{
{
category_name
|
snake_case
}
}
{
{
%
for
obj
in
objs
.
values
(
)
%
}
{
%
if
obj
.
type
|
is_implemented_type
%
}
{
%
if
obj
|
attr
(
"
_generate_enums
"
)
%
}
{
{
generate_extra_keys
(
obj
)
}
}
{
%
-
endif
%
}
constexpr
impl
:
:
{
{
obj
|
type_name
}
}
{
{
obj
.
name
|
snake_case
}
}
(
{
{
obj
|
metric_id
}
}
)
;
{
%
endif
%
}
{
%
endfor
%
}
}
{
%
endfor
%
}
}
#
endif

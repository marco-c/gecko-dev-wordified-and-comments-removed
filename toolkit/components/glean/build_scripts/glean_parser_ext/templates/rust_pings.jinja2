{
#
The
rendered
source
is
autogenerated
but
this
Jinja2
template
is
not
.
Please
file
bugs
!
#
}
use
crate
:
:
private
:
:
Ping
;
use
once_cell
:
:
sync
:
:
Lazy
;
{
%
for
obj
in
all_objs
[
'
pings
'
]
.
values
(
)
%
}
#
[
allow
(
non_upper_case_globals
)
]
pub
static
{
{
obj
.
name
|
snake_case
}
}
:
Lazy
<
Ping
>
=
Lazy
:
:
new
(
|
|
{
Ping
:
:
new
(
"
{
{
obj
.
name
}
}
"
{
{
obj
.
include_client_id
|
rust
}
}
{
{
obj
.
send_if_empty
|
rust
}
}
{
{
obj
.
reason_codes
|
rust
}
}
)
}
)
;
{
%
endfor
%
}
#
[
doc
(
hidden
)
]
pub
fn
register_pings
(
)
{
{
%
for
obj
in
all_objs
[
'
pings
'
]
.
values
(
)
%
}
let
_
=
&
*
{
{
obj
.
name
|
snake_case
}
}
;
{
%
endfor
%
}
}
#
[
cfg
(
feature
=
"
with_gecko
"
)
]
pub
(
crate
)
fn
submit_ping_by_id
(
id
:
u32
reason
:
Option
<
&
str
>
)
{
match
id
{
{
%
for
obj
in
all_objs
[
'
pings
'
]
.
values
(
)
%
}
{
{
obj
.
name
|
ping_id
}
}
=
>
{
{
obj
.
name
|
snake_case
}
}
.
submit
(
reason
)
{
%
endfor
%
}
_
=
>
{
log
:
:
error
!
(
"
Cannot
submit
unknown
ping
{
}
by
id
.
"
id
)
;
}
}
}

"
use
strict
"
;
do_get_profile
(
)
;
Services
.
fog
.
initializeFOG
(
)
;
add_task
(
function
test_fog_experiment_annotations
(
)
{
const
id
=
"
my
-
experiment
-
id
"
;
const
branch
=
"
my
-
branch
"
;
const
extra
=
{
extra_key
:
"
extra_value
"
}
;
Services
.
fog
.
setExperimentActive
(
id
branch
extra
)
;
let
data
=
Services
.
fog
.
testGetExperimentData
(
id
)
;
Assert
.
equal
(
data
.
branch
branch
)
;
Assert
.
deepEqual
(
data
.
extra
extra
)
;
Assert
.
equal
(
undefined
Services
.
fog
.
testGetExperimentData
(
id
+
id
)
)
;
Services
.
fog
.
setExperimentInactive
(
id
)
;
Assert
.
equal
(
undefined
Services
.
fog
.
testGetExperimentData
(
id
)
)
;
}
)
;

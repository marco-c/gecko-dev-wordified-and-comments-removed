#
ifndef
nsWebRequestListener_h__
#
define
nsWebRequestListener_h__
#
include
"
nsCOMPtr
.
h
"
#
include
"
nsIWebRequestListener
.
h
"
#
include
"
nsIRequestObserver
.
h
"
#
include
"
nsIStreamListener
.
h
"
#
include
"
nsITraceableChannel
.
h
"
#
include
"
nsIThreadRetargetableStreamListener
.
h
"
#
include
"
nsProxyRelease
.
h
"
#
include
"
mozilla
/
Attributes
.
h
"
class
nsWebRequestListener
final
:
public
nsIWebRequestListener
public
nsIStreamListener
public
nsIThreadRetargetableStreamListener
{
public
:
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIWEBREQUESTLISTENER
NS_DECL_NSIREQUESTOBSERVER
NS_DECL_NSISTREAMLISTENER
NS_DECL_NSITHREADRETARGETABLESTREAMLISTENER
nsWebRequestListener
(
)
{
}
private
:
~
nsWebRequestListener
(
)
{
NS_ReleaseOnMainThreadSystemGroup
(
"
nsWebRequestListener
:
:
mTargetStreamListener
"
mTargetStreamListener
.
forget
(
)
)
;
}
nsCOMPtr
<
nsIStreamListener
>
mOrigStreamListener
;
nsCOMPtr
<
nsIStreamListener
>
mTargetStreamListener
;
}
;
#
endif

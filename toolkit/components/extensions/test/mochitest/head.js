"
use
strict
"
;
if
(
location
.
pathname
.
includes
(
"
test
-
oop
-
extensions
"
)
)
{
SpecialPowers
.
pushPrefEnv
(
{
set
:
[
[
"
dom
.
ipc
.
processCount
.
extension
"
1
]
[
"
extensions
.
webextensions
.
remote
"
true
]
]
}
)
;
SpecialPowers
.
setIntPref
(
"
dom
.
ipc
.
keepProcessesAlive
.
extension
"
1
)
;
}
function
waitForLoad
(
win
)
{
return
new
Promise
(
resolve
=
>
{
win
.
addEventListener
(
"
load
"
function
listener
(
)
{
win
.
removeEventListener
(
"
load
"
listener
true
)
;
resolve
(
)
;
}
true
)
;
}
)
;
}

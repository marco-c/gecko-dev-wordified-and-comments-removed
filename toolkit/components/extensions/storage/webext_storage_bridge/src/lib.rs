#
!
[
allow
(
non_snake_case
)
]
#
[
macro_use
]
extern
crate
cstr
;
#
[
macro_use
]
extern
crate
xpcom
;
mod
area
;
mod
error
;
mod
punt
;
mod
store
;
use
nserror
:
:
{
nsresult
NS_OK
}
;
use
xpcom
:
:
{
interfaces
:
:
mozIExtensionStorageArea
RefPtr
}
;
use
crate
:
:
area
:
:
StorageSyncArea
;
#
[
no_mangle
]
pub
unsafe
extern
"
C
"
fn
NS_NewExtensionStorageSyncArea
(
result
:
*
mut
*
const
mozIExtensionStorageArea
)
-
>
nsresult
{
match
StorageSyncArea
:
:
new
(
)
{
Ok
(
bridge
)
=
>
{
RefPtr
:
:
new
(
bridge
.
coerce
:
:
<
mozIExtensionStorageArea
>
(
)
)
.
forget
(
&
mut
*
result
)
;
NS_OK
}
Err
(
err
)
=
>
err
.
into
(
)
}
}

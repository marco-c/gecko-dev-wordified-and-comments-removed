#
ifndef
mozilla_imageinputtypetelemetry_h
#
define
mozilla_imageinputtypetelemetry_h
#
include
"
nsStringFwd
.
h
"
class
nsIPrincipal
;
namespace
mozilla
{
class
InternalClipboardEvent
;
class
WidgetDragEvent
;
namespace
dom
{
class
Blob
;
class
DataTransfer
;
}
class
ImageInputTelemetry
{
public
:
enum
ImageInputType
{
Drop
Paste
FilePicker
}
;
static
void
MaybeRecordDropImageInputTelemetry
(
WidgetDragEvent
*
aDragEvent
nsIPrincipal
*
aContentPrincipal
)
;
static
void
MaybeRecordPasteImageInputTelemetry
(
InternalClipboardEvent
*
aClipboardEvent
nsIPrincipal
*
aContentPrincipal
)
;
static
void
MaybeRecordFilePickerImageInputTelemetry
(
dom
:
:
Blob
*
aFilePickerBlob
)
;
private
:
ImageInputTelemetry
(
)
=
default
;
~
ImageInputTelemetry
(
)
=
default
;
static
bool
IsKnownImageMIMEType
(
const
nsCString
&
aInputFileType
)
;
static
bool
IsContentPrincipal
(
nsIPrincipal
*
aContentPrincipal
)
;
static
void
MaybeRecordImageInputTelemetry
(
ImageInputType
aInputType
dom
:
:
DataTransfer
*
aDataTransfer
)
;
static
void
RecordImageInputTelemetry
(
const
nsCString
&
aImageType
ImageInputType
aInputType
)
;
}
;
}
#
endif

#
ifndef
nsUpdateSyncManager_h__
#
define
nsUpdateSyncManager_h__
#
include
"
mozilla
/
AlreadyAddRefed
.
h
"
#
include
"
nsIObserver
.
h
"
#
include
"
nsIUpdateService
.
h
"
#
include
"
GlobalSemaphore
.
h
"
class
nsUpdateSyncManager
final
:
public
nsIUpdateSyncManager
public
nsIObserver
{
public
:
nsUpdateSyncManager
(
)
;
NS_DECL_THREADSAFE_ISUPPORTS
NS_DECL_NSIUPDATESYNCMANAGER
NS_DECL_NSIOBSERVER
static
already_AddRefed
<
nsUpdateSyncManager
>
GetSingleton
(
)
;
private
:
~
nsUpdateSyncManager
(
)
;
nsUpdateSyncManager
(
nsUpdateSyncManager
&
)
=
delete
;
nsUpdateSyncManager
(
nsUpdateSyncManager
&
&
)
=
delete
;
nsUpdateSyncManager
&
operator
=
(
nsUpdateSyncManager
&
)
=
delete
;
nsUpdateSyncManager
&
operator
=
(
nsUpdateSyncManager
&
&
)
=
delete
;
nsresult
OpenSemaphore
(
)
;
void
ReleaseSemaphore
(
)
;
mozilla
:
:
GlobalSemHandle
mSemaphore
=
nullptr
;
}
;
#
endif

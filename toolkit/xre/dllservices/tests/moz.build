GeckoCppUnitTests
(
[
"
TestDllBlocklistAssumptions
"
"
TestDllInterceptor
"
"
TestIATPatcher
"
"
TestMMPolicy
"
"
TestOleAut32Initialization
"
]
linkage
=
None
)
if
CONFIG
[
"
TARGET_CPU
"
]
in
(
"
x86
"
"
x86_64
"
)
:
GeckoCppUnitTests
(
[
"
TestDllInterceptorCrossProcess
"
]
linkage
=
None
)
if
CONFIG
[
"
TARGET_CPU
"
]
=
=
"
x86_64
"
:
GeckoCppUnitTests
(
[
"
TestStackWalkInitialization
"
]
linkage
=
None
)
if
CONFIG
[
"
TARGET_CPU
"
]
=
=
"
aarch64
"
:
GeckoCppUnitTests
(
[
"
TestArm64Disassembler
"
]
linkage
=
None
)
OS_LIBS
+
=
[
"
advapi32
"
"
ntdll
"
"
ole32
"
"
shlwapi
"
"
user32
"
"
uuid
"
]
DELAYLOAD_DLLS
+
=
[
"
shlwapi
.
dll
"
]
if
CONFIG
[
"
CC_TYPE
"
]
in
(
"
gcc
"
"
clang
"
)
:
LDFLAGS
+
=
[
"
-
municode
"
]
TEST_DIRS
+
=
[
"
gtest
"
]

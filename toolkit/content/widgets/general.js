"
use
strict
"
;
{
class
MozDeck
extends
MozXULElement
{
set
selectedIndex
(
val
)
{
if
(
this
.
selectedIndex
=
=
val
)
return
val
;
this
.
setAttribute
(
"
selectedIndex
"
val
)
;
var
event
=
document
.
createEvent
(
"
Events
"
)
;
event
.
initEvent
(
"
select
"
true
true
)
;
this
.
dispatchEvent
(
event
)
;
return
val
;
}
get
selectedIndex
(
)
{
return
this
.
getAttribute
(
"
selectedIndex
"
)
|
|
"
0
"
;
}
set
selectedPanel
(
val
)
{
var
selectedIndex
=
-
1
;
for
(
var
panel
=
val
;
panel
!
=
null
;
panel
=
panel
.
previousSibling
)
+
+
selectedIndex
;
this
.
selectedIndex
=
selectedIndex
;
return
val
;
}
get
selectedPanel
(
)
{
return
this
.
childNodes
[
this
.
selectedIndex
]
;
}
}
customElements
.
define
(
"
deck
"
MozDeck
)
;
class
MozDropmarker
extends
MozXULElement
{
connectedCallback
(
)
{
if
(
!
this
.
firstChild
)
{
let
image
=
document
.
createXULElement
(
"
image
"
)
;
image
.
classList
.
add
(
"
dropmarker
-
icon
"
)
;
this
.
appendChild
(
image
)
;
}
}
}
customElements
.
define
(
"
dropmarker
"
MozDropmarker
)
;
class
MozCommandSet
extends
MozXULElement
{
connectedCallback
(
)
{
if
(
this
.
getAttribute
(
"
commandupdater
"
)
)
{
let
events
=
this
.
getAttribute
(
"
events
"
)
;
if
(
events
=
=
=
"
"
)
{
events
=
"
*
"
;
}
let
targets
=
this
.
getAttribute
(
"
targets
"
)
;
if
(
targets
=
=
=
"
"
)
{
targets
=
"
*
"
;
}
document
.
commandDispatcher
.
addCommandUpdater
(
this
events
targets
)
;
}
}
disconnectedCallback
(
)
{
if
(
this
.
getAttribute
(
"
commandupdater
"
)
)
{
document
.
commandDispatcher
.
removeCommandUpdater
(
this
)
;
}
}
}
customElements
.
define
(
"
commandset
"
MozCommandSet
)
;
}

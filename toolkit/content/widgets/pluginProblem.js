"
use
strict
"
;
this
.
PluginProblemWidget
=
class
{
constructor
(
shadowRoot
)
{
this
.
shadowRoot
=
shadowRoot
;
this
.
element
=
shadowRoot
.
host
;
this
.
window
=
this
.
element
.
ownerDocument
.
defaultView
;
}
onsetup
(
)
{
const
parser
=
new
this
.
window
.
DOMParser
(
)
;
parser
.
forceEnableDTD
(
)
;
let
parserDoc
=
parser
.
parseFromString
(
<
!
DOCTYPE
bindings
[
<
!
ENTITY
%
globalDTD
SYSTEM
"
chrome
:
/
/
global
/
locale
/
global
.
dtd
"
>
<
!
ENTITY
%
brandDTD
SYSTEM
"
chrome
:
/
/
branding
/
locale
/
brand
.
dtd
"
>
%
globalDTD
;
%
brandDTD
;
]
>
<
div
xmlns
=
"
http
:
/
/
www
.
w3
.
org
/
1999
/
xhtml
"
class
=
"
mainBox
"
id
=
"
main
"
chromedir
=
"
&
locale
.
dir
;
"
>
<
link
rel
=
"
stylesheet
"
type
=
"
text
/
css
"
href
=
"
chrome
:
/
/
pluginproblem
/
content
/
pluginProblemContent
.
css
"
/
>
<
/
div
>
"
application
/
xml
"
)
;
this
.
shadowRoot
.
importNodeAndAppendChildAt
(
this
.
shadowRoot
parserDoc
.
documentElement
true
)
;
this
.
element
.
dispatchEvent
(
new
this
.
window
.
CustomEvent
(
"
PluginBindingAttached
"
)
)
;
}
}
;

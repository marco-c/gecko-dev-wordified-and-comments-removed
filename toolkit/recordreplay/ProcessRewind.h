#
ifndef
mozilla_recordreplay_ProcessRewind_h
#
define
mozilla_recordreplay_ProcessRewind_h
#
include
"
mozilla
/
RecordReplay
.
h
"
#
include
<
functional
>
namespace
mozilla
{
namespace
recordreplay
{
static
const
size_t
InvalidCheckpointId
=
0
;
static
const
size_t
FirstCheckpointId
=
1
;
void
InitializeRewindState
(
)
;
void
SetSaveCheckpoint
(
size_t
aCheckpoint
bool
aSave
)
;
void
PauseMainThreadAndInvokeCallback
(
const
std
:
:
function
<
void
(
)
>
&
aCallback
)
;
bool
MainThreadShouldPause
(
)
;
void
PauseMainThreadAndServiceCallbacks
(
)
;
bool
HasSavedAnyCheckpoint
(
)
;
bool
HasSavedCheckpoint
(
size_t
aCheckpoint
)
;
size_t
GetLastCheckpoint
(
)
;
size_t
GetLastSavedCheckpoint
(
)
;
void
RestoreCheckpointAndResume
(
size_t
aCheckpoint
)
;
void
ResumeExecution
(
)
;
void
DivergeFromRecording
(
)
;
void
DisallowUnhandledDivergeFromRecording
(
)
;
void
EnsureNotDivergedFromRecording
(
)
;
bool
NewCheckpoint
(
)
;
}
}
#
endif

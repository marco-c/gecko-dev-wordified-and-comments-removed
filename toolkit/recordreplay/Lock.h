#
ifndef
mozilla_recordreplay_Lock_h
#
define
mozilla_recordreplay_Lock_h
#
include
"
mozilla
/
PodOperations
.
h
"
#
include
"
mozilla
/
Types
.
h
"
#
include
"
Recording
.
h
"
namespace
mozilla
{
namespace
recordreplay
{
class
Lock
{
size_t
mId
;
public
:
explicit
Lock
(
size_t
aId
)
:
mId
(
aId
)
{
MOZ_ASSERT
(
aId
)
;
}
size_t
Id
(
)
{
return
mId
;
}
void
Enter
(
NativeLock
*
aNativeLock
)
;
void
Exit
(
NativeLock
*
aNativeLock
)
;
static
void
New
(
NativeLock
*
aNativeLock
)
;
static
void
Destroy
(
NativeLock
*
aNativeLock
)
;
static
Lock
*
Find
(
NativeLock
*
aNativeLock
)
;
static
void
InitializeLocks
(
)
;
static
void
LockAcquiresUpdated
(
size_t
aLockId
)
;
}
;
}
}
#
endif

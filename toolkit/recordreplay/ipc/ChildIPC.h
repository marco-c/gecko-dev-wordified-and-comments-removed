#
ifndef
mozilla_recordreplay_ChildIPC_h
#
define
mozilla_recordreplay_ChildIPC_h
#
include
"
base
/
process
.
h
"
#
include
"
mozilla
/
gfx
/
2D
.
h
"
#
include
"
Units
.
h
"
namespace
mozilla
{
class
VsyncObserver
;
namespace
recordreplay
{
void
NewCheckpoint
(
)
;
namespace
child
{
void
InitRecordingOrReplayingProcess
(
int
*
aArgc
char
*
*
*
aArgv
)
;
base
:
:
ProcessId
MiddlemanProcessId
(
)
;
base
:
:
ProcessId
ParentProcessId
(
)
;
inline
void
CreateCheckpoint
(
)
{
if
(
IsRecordingOrReplaying
(
)
&
&
!
HasDivergedFromRecording
(
)
)
{
NewCheckpoint
(
)
;
}
}
void
SetVsyncObserver
(
VsyncObserver
*
aObserver
)
;
bool
OnVsync
(
)
;
void
NotifyPaintStart
(
)
;
void
NotifyPaintComplete
(
)
;
already_AddRefed
<
gfx
:
:
DrawTarget
>
DrawTargetForRemoteDrawing
(
LayoutDeviceIntSize
aSize
)
;
}
}
}
#
endif

EnableEngines
(
[
"
bookmarks
"
]
)
;
var
phases
=
{
"
phase1
"
:
"
profile1
"
"
phase2
"
:
"
profile2
"
"
phase3
"
:
"
profile1
"
"
phase4
"
:
"
profile2
"
}
;
var
bookmarksInitial
=
{
"
menu
"
:
[
{
folder
:
"
foldera
"
}
{
folder
:
"
folderb
"
}
{
folder
:
"
folderc
"
}
{
folder
:
"
folderd
"
}
]
"
menu
/
foldera
"
:
[
{
uri
:
"
http
:
/
/
www
.
cnn
.
com
"
title
:
"
CNN
"
}
]
"
menu
/
folderb
"
:
[
{
uri
:
"
http
:
/
/
www
.
apple
.
com
"
title
:
"
Apple
"
tags
:
[
]
}
]
"
menu
/
folderc
"
:
[
{
uri
:
"
http
:
/
/
www
.
yahoo
.
com
"
title
:
"
Yahoo
"
}
]
"
menu
/
folderd
"
:
[
]
}
;
var
bookmarksToDelete
=
{
"
menu
"
:
[
{
folder
:
"
foldera
"
}
{
folder
:
"
folderb
"
}
]
"
menu
/
folderc
"
:
[
{
uri
:
"
http
:
/
/
www
.
yahoo
.
com
"
title
:
"
Yahoo
"
}
]
}
;
var
bookmarkMods
=
{
"
menu
"
:
[
{
folder
:
"
foldera
"
}
{
folder
:
"
folderb
"
}
{
folder
:
"
folderc
"
}
{
folder
:
"
folderd
"
}
]
"
menu
/
foldera
"
:
[
{
uri
:
"
http
:
/
/
www
.
cnn
.
com
"
title
:
"
CNN
"
changes
:
{
location
:
"
menu
/
folderd
"
}
}
]
"
menu
/
folderb
"
:
[
{
uri
:
"
http
:
/
/
www
.
apple
.
com
"
title
:
"
Apple
"
tags
:
[
]
changes
:
{
title
:
"
Mac
"
}
}
]
"
menu
/
folderc
"
:
[
{
uri
:
"
http
:
/
/
www
.
yahoo
.
com
"
title
:
"
Yahoo
"
changes
:
{
location
:
"
menu
/
folderd
"
}
}
]
"
menu
/
folderd
"
:
[
]
}
;
var
bookmarksToDelete
=
{
"
menu
"
:
[
{
folder
:
"
foldera
"
}
{
folder
:
"
folderb
"
}
]
"
menu
/
folderc
"
:
[
{
uri
:
"
http
:
/
/
www
.
yahoo
.
com
"
title
:
"
Yahoo
"
}
]
}
;
var
bookmarksExpected
=
{
"
menu
"
:
[
{
folder
:
"
folderc
"
}
{
folder
:
"
folderd
"
}
{
uri
:
"
http
:
/
/
www
.
apple
.
com
"
title
:
"
Mac
"
}
]
"
menu
/
folderc
"
:
[
]
"
menu
/
folderd
"
:
[
{
uri
:
"
http
:
/
/
www
.
cnn
.
com
"
title
:
"
CNN
"
}
{
uri
:
"
http
:
/
/
www
.
yahoo
.
com
"
title
:
"
Yahoo
"
}
]
}
;
Phase
(
"
phase1
"
[
[
Bookmarks
.
add
bookmarksInitial
]
[
Bookmarks
.
verify
bookmarksInitial
]
[
Sync
]
[
Bookmarks
.
verify
bookmarksInitial
]
]
)
;
Phase
(
"
phase2
"
[
[
Sync
]
[
Bookmarks
.
verify
bookmarksInitial
]
[
Bookmarks
.
delete
bookmarksToDelete
]
[
Bookmarks
.
verifyNot
bookmarksToDelete
]
[
Sync
]
]
)
;
Phase
(
"
phase3
"
[
[
Bookmarks
.
verify
bookmarksInitial
]
[
Bookmarks
.
modify
bookmarkMods
]
[
Sync
]
[
Bookmarks
.
verify
bookmarksExpected
]
[
Bookmarks
.
verifyNot
bookmarksToDelete
]
]
)
;
Phase
(
"
phase4
"
[
[
Sync
]
[
Bookmarks
.
verify
bookmarksExpected
]
[
Bookmarks
.
verifyNot
bookmarksToDelete
]
]
)
;

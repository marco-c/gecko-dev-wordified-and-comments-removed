use
std
:
:
path
:
:
PathBuf
;
fn
main
(
)
{
let
out_dir
=
PathBuf
:
:
from
(
std
:
:
env
:
:
var_os
(
"
OUT_DIR
"
)
.
unwrap
(
)
)
;
if
let
Some
(
topobjdir
)
=
out_dir
.
ancestors
(
)
.
find
(
|
dir
|
dir
.
join
(
"
config
.
status
"
)
.
exists
(
)
)
{
println
!
(
"
cargo
:
rustc
-
env
=
BUILDCONFIG_RS
=
{
}
"
topobjdir
.
join
(
"
build
/
rust
/
mozbuild
/
buildconfig
.
rs
"
)
.
display
(
)
)
;
}
}

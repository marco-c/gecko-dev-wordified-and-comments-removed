template
def
GeneratedTestCertificate
(
name
)
:
if
not
CONFIG
[
'
COMPILE_ENVIRONMENT
'
]
:
return
GeneratedFile
(
name
script
=
'
/
security
/
manager
/
ssl
/
tests
/
unit
/
pycert
.
py
'
inputs
=
[
'
%
s
.
certspec
'
%
name
]
)
files
=
TEST_HARNESS_FILES
.
xpcshell
for
part
in
RELATIVEDIR
.
split
(
'
/
'
)
:
files
=
files
[
part
]
files
+
=
[
'
!
%
s
'
%
name
]
template
def
GeneratedTestKey
(
name
)
:
if
not
CONFIG
[
'
COMPILE_ENVIRONMENT
'
]
:
return
GeneratedFile
(
name
script
=
'
/
security
/
manager
/
ssl
/
tests
/
unit
/
pykey
.
py
'
inputs
=
[
'
%
s
.
keyspec
'
%
name
]
)
files
=
TEST_HARNESS_FILES
.
xpcshell
for
part
in
RELATIVEDIR
.
split
(
'
/
'
)
:
files
=
files
[
part
]
files
+
=
[
'
!
%
s
'
%
name
]

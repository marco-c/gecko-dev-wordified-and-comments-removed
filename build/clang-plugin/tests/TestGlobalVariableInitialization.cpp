#
define
MOZ_RUNINIT
__attribute__
(
(
annotate
(
"
moz_global_var
"
)
)
)
#
define
MOZ_CONSTINIT
[
[
clang
:
:
require_constant_initialization
]
]
#
define
MOZ_GLOBAL_CLASS
__attribute__
(
(
annotate
(
"
moz_global_class
"
)
)
)
struct
POD
{
int
i
j
k
;
}
;
POD
g0
;
struct
ConstexprGlobal
{
int
i
j
k
;
constexpr
ConstexprGlobal
(
)
:
i
(
0
)
j
(
1
)
k
(
2
)
{
}
}
;
ConstexprGlobal
g1
;
struct
Global
{
Global
(
)
;
}
;
Global
g2
;
struct
MOZ_GLOBAL_CLASS
GlobalCls
{
GlobalCls
(
)
;
}
;
GlobalCls
g3
;
struct
RuninitGlobal
{
RuninitGlobal
(
)
;
}
;
MOZ_RUNINIT
RuninitGlobal
g4
;
struct
InvalidRuninitGlobal
{
constexpr
InvalidRuninitGlobal
(
)
{
}
}
;
MOZ_RUNINIT
InvalidRuninitGlobal
g5
;
constexpr
InvalidRuninitGlobal
g5a
;
struct
InvalidRuninitGlobal2
{
int
i
;
}
;
MOZ_RUNINIT
InvalidRuninitGlobal2
g5b
;
InvalidRuninitGlobal2
g5c
;
Global
g6
;
void
foo
(
)
{
static
Global
g7
;
}
namespace
bar
{
Global
g8
;
}
class
foobar
{
static
Global
g9
;
}
;
Global
foobar
:
:
g9
;

#
include
<
stdio
.
h
>
#
include
<
io
.
h
>
#
include
<
fcntl
.
h
>
#
include
<
windows
.
h
>
void
func_fopen
(
)
{
FILE
*
f1
=
fopen
(
"
dummy
.
txt
"
"
rt
"
)
;
FILE
*
f2
;
fopen_s
(
&
f2
"
dummy
.
txt
"
"
rt
"
)
;
int
fh1
=
_open
(
"
dummy
.
txt
"
_O_RDONLY
)
;
int
fh2
=
open
(
"
dummy
.
txt
"
_O_RDONLY
)
;
int
fh3
=
_sopen
(
"
dummy
.
txt
"
_O_RDONLY
_SH_DENYRW
)
;
int
fd4
;
errno_t
err
=
_sopen_s
(
&
fd4
"
dummy
.
txt
"
_O_RDONLY
_SH_DENYRW
0
)
;
LPOFSTRUCT
buffer
;
HFILE
hFile1
=
OpenFile
(
"
dummy
.
txt
"
buffer
OF_READ
)
;
#
ifndef
UNICODE
LPCSTR
buffer2
;
HANDLE
hFile2
=
CreateFile
(
buffer2
GENERIC_WRITE
0
NULL
CREATE_NEW
FILE_ATTRIBUTE_NORMAL
NULL
)
;
#
else
LPCWSTR
buffer2
;
HANDLE
hFile2
=
CreateFile
(
buffer2
GENERIC_WRITE
0
NULL
CREATE_NEW
FILE_ATTRIBUTE_NORMAL
NULL
)
;
LPCSTR
buffer3
;
HANDLE
hFile3
=
CreateFileA
(
buffer3
GENERIC_WRITE
0
NULL
CREATE_NEW
FILE_ATTRIBUTE_NORMAL
NULL
)
;
#
endif
}

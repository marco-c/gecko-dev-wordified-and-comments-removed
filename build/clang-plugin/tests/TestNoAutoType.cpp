#
define
MOZ_NON_AUTOABLE
__attribute__
(
(
annotate
(
"
moz_non_autoable
"
)
)
)
template
<
class
T
>
struct
MOZ_NON_AUTOABLE
ExplicitTypeTemplate
{
}
;
struct
MOZ_NON_AUTOABLE
ExplicitType
{
}
;
struct
NonExplicitType
{
}
;
void
f
(
)
{
{
ExplicitType
a
;
auto
b
=
a
;
auto
&
br
=
a
;
const
auto
&
brc
=
a
;
auto
*
bp
=
&
a
;
const
auto
*
bpc
=
&
a
;
}
{
ExplicitTypeTemplate
<
int
>
a
;
auto
b
=
a
;
auto
&
br
=
a
;
const
auto
&
brc
=
a
;
auto
*
bp
=
&
a
;
const
auto
*
bpc
=
&
a
;
}
{
NonExplicitType
c
;
auto
d
=
c
;
auto
&
dr
=
c
;
const
auto
&
drc
=
c
;
auto
*
dp
=
&
c
;
const
auto
*
dpc
=
&
c
;
}
}
ExplicitType
A
;
auto
B
=
A
;
NonExplicitType
C
;
auto
D
=
C
;

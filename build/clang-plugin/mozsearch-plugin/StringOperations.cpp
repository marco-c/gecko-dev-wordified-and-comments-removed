#
include
"
StringOperations
.
h
"
static
unsigned
long
djbHash
(
const
char
*
Str
)
{
unsigned
long
Hash
=
5381
;
for
(
const
char
*
P
=
Str
;
*
P
;
P
+
+
)
{
Hash
=
(
(
Hash
<
<
5
)
+
Hash
)
+
*
P
;
}
return
Hash
;
}
static
void
hashToString
(
unsigned
long
Hash
char
*
Buffer
)
{
const
char
Table
[
]
=
{
"
0123456789abcdef
"
}
;
char
*
P
=
Buffer
;
while
(
Hash
)
{
*
P
=
Table
[
Hash
&
0xf
]
;
Hash
>
>
=
4
;
P
+
+
;
}
*
P
=
0
;
}
std
:
:
string
hash
(
const
std
:
:
string
&
Str
)
{
static
char
HashStr
[
41
]
;
unsigned
long
H
=
djbHash
(
Str
.
c_str
(
)
)
;
hashToString
(
H
HashStr
)
;
return
std
:
:
string
(
HashStr
)
;
}
std
:
:
string
toString
(
int
N
)
{
return
stringFormat
(
"
%
d
"
N
)
;
}

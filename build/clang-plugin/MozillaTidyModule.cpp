#
ifdef
CLANG_TIDY
#
include
"
.
.
/
ClangTidy
.
h
"
#
include
"
.
.
/
ClangTidyModule
.
h
"
#
include
"
.
.
/
ClangTidyModuleRegistry
.
h
"
#
include
"
ChecksIncludes
.
inc
"
#
include
"
external
/
ExternalIncludes
.
inc
"
#
ifdef
MOZ_CLANG_PLUGIN_ALPHA
#
include
"
alpha
/
AlphaIncludes
.
inc
"
#
endif
using
namespace
clang
:
:
ast_matchers
;
namespace
clang
{
namespace
tidy
{
class
MozillaModule
:
public
ClangTidyModule
{
public
:
void
addCheckFactories
(
ClangTidyCheckFactories
&
CheckFactories
)
override
{
#
define
CHECK
(
cls
name
)
CheckFactories
.
registerCheck
<
cls
>
(
"
mozilla
-
"
name
)
;
#
include
"
Checks
.
inc
"
#
include
"
external
/
ExternalChecks
.
inc
"
#
ifdef
MOZ_CLANG_PLUGIN_ALPHA
#
include
"
alpha
/
AlphaChecks
.
inc
"
#
endif
#
undef
CHECK
}
}
;
static
ClangTidyModuleRegistry
:
:
Add
<
MozillaModule
>
X
(
"
mozilla
-
module
"
"
Adds
Mozilla
lint
checks
.
"
)
;
}
}
volatile
int
MozillaModuleAnchorSource
=
0
;
#
endif
